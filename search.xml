<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ç¾åŒ–githubé¦–é¡µ</title>
      <link href="2023/01/01/%E7%BE%8E%E5%8C%96github%E9%A6%96%E9%A1%B5/"/>
      <url>2023/01/01/%E7%BE%8E%E5%8C%96github%E9%A6%96%E9%A1%B5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æ–°å¹´åˆ°äº†,æ–°å¹´æ–°æ°”è±¡.ç¾åŒ–ä¸€ä¸‹githubé¦–é¡µ.<br><span id="more"></span></p><p>åœ¨å‡ å¹´å‰Githubæ¨å‡ºäº†ç¾åŒ–profileçš„åŠŸèƒ½,åˆ°ç°åœ¨æˆ‘æ¥ä½“éªŒä¸€ä¸‹.</p><p>æœ€åæˆæœ,æ¯”è¾ƒç®€å•æ–¹ä¾¿.</p><p><img data-src="http://cdn.sekyoro.top/imgs/01/0120230101163704.png" alt="image-20230101163704294" style="zoom:50%;" /></p><p><img data-src="http://cdn.sekyoro.top/imgs/01/0120230101163735.png" alt="image-20230101163735498" style="zoom:50%;" /></p><p><img data-src="http://cdn.sekyoro.top/imgs/01/0120230101163806.png" alt="image-20230101163806235" style="zoom:50%;" /></p><h2 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h2><p>ä¸»è¦æµç¨‹æ¯”è¾ƒç®€å•,åˆ›å»ºä¸€ä¸ªä»“åº“,ä»“åº“çš„å‘½åéœ€è¦ä¸è‡ªå·±Githubç”¨æˆ·åä¸€è‡´.</p><p>è¿™é‡Œå› ä¸ºæˆ‘åˆ›å»ºè¿‡äº†æ‰€ä»¥æç¤ºé‡å‘½å.ç„¶åè¿™ä¸ªä»“åº“éœ€è¦ä¸€ä¸ªreadme.mdæ–‡ä»¶,å°±æ˜¯ç”¨è¿™ä¸ªmarkdownæ–‡ä»¶æ¥ç¾åŒ–ä¸»é¡µ.é‡è¦çš„æ˜¯å…¶ä¸­æ˜¾ç¤ºä¸ªäººæ•°æ®çš„æ¥å£.</p><p>è¿™é‡Œæ¨èä¸¤ä¸ªæ¨¡æ¿ç”Ÿæˆå™¨,å¯ä»¥çœ‹å‚è€ƒèµ„æ–™çš„å‰ä¸¤ä¸ª.</p><h3 id="github-stats"><a href="#github-stats" class="headerlink" title="github stats"></a>github stats</h3><p>æ¥ä¸‹æ¥æ˜¯github stats<a href="https://github.com/anuraghazra/github-readme-stats/blob/master/docs/readme_cn.md">github-readme-stats/readme_cn.md at master Â· anuraghazra/github-readme-stats</a></p><p><img data-src="https://camo.githubusercontent.com/8fd2570f103d1aae8a4d8970535274ae19c2ee62587d8868d618be37001263d0/68747470733a2f2f7265732e636c6f7564696e6172792e636f6d2f616e7572616768617a72612f696d6167652f75706c6f61642f76313539353137343533362f6772732d7468656d65735f6c34796e6a612e706e67" alt="GitHub Readme Stat Themes" style="zoom: 33%;" /></p><blockquote><p>ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ URL å‚æ•°çš„æ–¹å¼ï¼Œä¸ºä½ çš„ <code>Stats Card</code> æˆ– <code>Repo Card</code> è‡ªå®šä¹‰æ ·å¼ã€‚</p><p>å¸¸ç”¨é€‰é¡¹ï¼š</p><ul><li><code>title_color</code> - å¡ç‰‡æ ‡é¢˜é¢œè‰² <em>ï¼ˆåå…­è¿›åˆ¶è‰²ç ï¼‰</em></li><li><code>text_color</code> - å†…å®¹æ–‡æœ¬é¢œè‰² <em>ï¼ˆåå…­è¿›åˆ¶è‰²ç ï¼‰</em></li><li><code>icon_color</code> - å›¾æ ‡é¢œè‰²ï¼ˆå¦‚æœå¯ç”¨ï¼‰<em>ï¼ˆåå…­è¿›åˆ¶è‰²ç ï¼‰</em></li><li><code>bg_color</code> - å¡ç‰‡èƒŒæ™¯é¢œè‰² <em>ï¼ˆåå…­è¿›åˆ¶è‰²ç ï¼‰</em> <strong>æˆ–è€…</strong> ä»¥ <em>angle,start,end</em> çš„å½¢å¼æ¸å˜</li><li><code>hide_border</code> - éšè—å¡çš„è¾¹æ¡† <em>(å¸ƒå°”å€¼)</em></li><li><code>theme</code> - ä¸»é¢˜åç§°ï¼Œä»<a href="https://github.com/anuraghazra/github-readme-stats/blob/master/themes/README.md">æ‰€æœ‰å¯ç”¨ä¸»é¢˜</a>ä¸­é€‰æ‹©</li><li><code>cache_seconds</code> - æ‰‹åŠ¨è®¾ç½®ç¼“å­˜å¤´ <em>ï¼ˆæœ€å°å€¼: 1800ï¼Œæœ€å¤§å€¼: 86400ï¼‰</em></li><li><code>locale</code> - åœ¨å¡ç‰‡ä¸­è®¾ç½®è¯­è¨€ <em>(ä¾‹å¦‚ cn, de, es, ç­‰ç­‰)</em></li></ul></blockquote><p>åŒæ—¶ä¹Ÿæœ‰ä¸ªäººå¸¸ç”¨è¯­è¨€ç»Ÿè®¡</p><p>å°†æ­¤ä»£ç å¤åˆ¶ç²˜è´´åˆ°æ‚¨çš„ <code>README.md</code> æ–‡ä»¶ä¸­ï¼Œå¹¶ä¿®æ”¹é“¾æ¥ã€‚</p><p>ç«¯ç‚¹: <code>api/top-langs?username=anuraghazra</code></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">![Top Langs</span>](<span class="link">https://github-readme-stats.vercel.app/api/top-langs/?username=anuraghazra</span>)](<span class="link">https://github.com/anuraghazra/github-readme-stats</span>)</span><br></pre></td></tr></table></figure><h3 id="github-stats-1"><a href="#github-stats-1" class="headerlink" title="github stats"></a>github stats</h3><p>ç„¶åæ˜¯ä¸ªäººä¿¡æ¯ç»Ÿè®¡,å¯ä»¥åˆ©ç”¨<a href="https://metrics.lecoq.io/">Metrics (lecoq.io)</a>,åªéœ€è¦è¾“å…¥Githubç”¨æˆ·åç”Ÿæˆä¸ªäººmetrics.</p><p><img data-src="https://camo.githubusercontent.com/b9deb4987189bc5222f2b2fad0c0b461a171abfcaa31ac38006df8db466e4d2f/68747470733a2f2f6d6574726963732e6c65636f712e696f2f64726f776e696e672d696e2d636f6465733f74656d706c6174653d636c617373696326626173653d6865616465722532432532306163746976697479253243253230636f6d6d756e6974792532432532307265706f7369746f726965732532432532306d6574616461746126626173652e696e64657074683d66616c736526626173652e6869726561626c653d66616c736526626173652e736b69703d66616c736526636f6e6669672e74696d657a6f6e653d417369612532465368616e67686169" alt="img" style="zoom:50%;" /></p><h3 id="github-activity-graph"><a href="#github-activity-graph" class="headerlink" title="github activity graph"></a>github activity graph</h3><p>githubæ´»åŠ¨å›¾ ä¹Ÿå°±æ˜¯æ˜¾ç¤ºæäº¤è®°å½•çš„.<a href="https://github.com/Ashutosh00710/github-readme-activity-graph/">Ashutosh00710/github-readme-activity-graph: A dynamically generated activity graph to show your GitHub activities of last 31 days.</a></p><p><img data-src="https://github.com/Ashutosh00710/github-readme-activity-graph/raw/main/asset/default.svg" alt="graph" style="zoom: 33%;" /></p><p>ç±»ä¼¼çš„å°†ä¸‹é¢markdownä¸­usernameæ”¹ä¸ºè‡ªå·±githubç”¨æˆ·å.    </p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">![Ashutosh&#x27;s github activity graph</span>](<span class="link">https://github-readme-activity-graph.cyclic.app/graph?username=Ashutosh00710&amp;theme=dracula</span>)](<span class="link">https://github.com/ashutosh00710/github-readme-activity-graph</span>)</span><br></pre></td></tr></table></figure><h3 id="github-streak"><a href="#github-streak" class="headerlink" title="github streak"></a>github streak</h3><p>æ˜¾ç¤ºä¸ªäººgithubæˆå°±</p><p><a href="https://github.com/DenverCoder1/github-readme-streak-stats">DenverCoder1/github-readme-streak-stats: ğŸ”¥ Stay motivated and show off your contribution streak! ğŸŒŸ Display your total contributions, current streak, and longest streak on your GitHub profile README</a></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">![GitHub Streak</span>](<span class="link">https://streak-stats.demolab.com/?user=DenverCoder1</span>)](<span class="link">https://git.io/streak-stats</span>)</span><br></pre></td></tr></table></figure><h3 id="Shieldsï¼ˆGitHub-å¾½ç« ï¼‰"><a href="#Shieldsï¼ˆGitHub-å¾½ç« ï¼‰" class="headerlink" title="Shieldsï¼ˆGitHub å¾½ç« ï¼‰"></a>Shieldsï¼ˆGitHub å¾½ç« ï¼‰</h3><p><img data-src="http://cdn.sekyoro.top/imgs/01/0120230101165219.png" alt="image-20230101165219583" style="zoom:50%;" /></p><p>ä¸»è¦ä½¿ç”¨<a href="https://shields.io/è¿™ä¸ªç½‘ç«™ç”Ÿæˆå›¾æ ‡æ¯”è¾ƒç®€å•,å¯ä»¥åœ¨å¤–é¢åŒ…è£¹ä¸€ä¸ªè¶…é“¾æ¥ç”¨äºè·³è½¬">https://shields.io/è¿™ä¸ªç½‘ç«™ç”Ÿæˆå›¾æ ‡æ¯”è¾ƒç®€å•,å¯ä»¥åœ¨å¤–é¢åŒ…è£¹ä¸€ä¸ªè¶…é“¾æ¥ç”¨äºè·³è½¬</a>.</p><h3 id="Visitor-Badgeï¼ˆGitHub-è®¿å®¢å¾½ç« ï¼‰"><a href="#Visitor-Badgeï¼ˆGitHub-è®¿å®¢å¾½ç« ï¼‰" class="headerlink" title="Visitor Badgeï¼ˆGitHub è®¿å®¢å¾½ç« ï¼‰"></a>Visitor Badgeï¼ˆGitHub è®¿å®¢å¾½ç« ï¼‰</h3><p><img data-src="http://cdn.sekyoro.top/imgs/01/01image-20230101165431536.png" alt="image-20230101165431536" style="zoom: 67%;" /></p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">visitors</span>](<span class="link">https://visitor-badge.glitch.me/badge?page_id=page.id&amp;left_color=green&amp;right_color=red</span>)</span><br></pre></td></tr></table></figure><p>å°†page_idæ›¿æ¢ä¸ºç”¨æˆ·åå³å¯.</p><p>æœ€åå¯ä»¥çœ‹ä¸€ä¸‹æˆ‘çš„Githubä¸»é¡µ<a href="https://github.com/drowning-in-codes">drowning-in-codes (martyr) (github.com)</a>å‚è§‚,æ¨¡æ¿ç”Ÿæˆçš„ä¹Ÿæ¯”è¾ƒç®€ä¾¿.</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://profilinator.rishav.dev/">Github Profilinator - GitHub Profile README Generator (rishav.dev)</a> å¿«æ·çš„æ¨¡æ¿ç”Ÿæˆå™¨</li><li><a href="https://rahuldkjain.github.io/gh-profile-readme-generator/">GitHub Profile Readme Generator | GitHub Profile Readme Generator (rahuldkjain.github.io)</a> å¦ä¸€ä¸ªå¿«æ·çš„æ¨¡æ¿ç”Ÿæˆå™¨</li><li><a href="https://zhuanlan.zhihu.com/p/454597068">Github é¦–é¡µç¾åŒ–æ•™ç¨‹ï¼ˆä¸€ï¼‰ï¼šæ‰“é€ ä¸ªæ€§åŒ–çš„GitHubé¦–é¡µ</a> å…¶ä»–æ•™ç¨‹</li><li><a href="https://sumygg.com/2021/04/25/beautify-your-github-profile-readme/">ç¾åŒ–ä½ çš„Githubä¸ªäººä¿¡æ¯é¡µ | SumyBlog (sumygg.com)</a></li><li><a href="https://shields.io/">Shields.io: Quality metadata badges for open source projects</a> å›¾æ ‡</li><li><a href="https://github.com/abhisheknaiidu/awesome-github-profile-readme">abhisheknaiidu/awesome-github-profile-readme: ğŸ˜ A curated list of awesome GitHub Profile READMEs ğŸ“</a> ä¼˜ç¾çš„github profileæ¡ˆä¾‹</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> github profile </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutterå­¦ä¹ </title>
      <link href="2022/12/28/Flutter%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/12/28/Flutter%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Flutterå­¦ä¹ ,ä¸»è¦ç”¨äºç§»åŠ¨ç«¯,å±•ç¤ºçš„åº”ç”¨,è·¨å¹³å°.é•¿æœŸæ›´æ–°<br><span id="more"></span></p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Flutterä¸»è¦æ˜¯è·¨å¹³å°ç§»åŠ¨ç«¯UIæ¡†æ¶,æˆ‘ä½¿ç”¨å®ƒä¸»è¦ä¹Ÿæ˜¯ä¸é”™çš„UIè®¾è®¡ä»¥åŠè·¨å¹³å°çš„ç‰¹æ€§.è‡³äºåŸç”Ÿå¼€å‘å…¶å®ä¹Ÿæ˜¯ä¸é”™çš„,å„æœ‰æ‰€é•¿å§.</p><p>å¼€å‘å·¥å…·æ˜¯Android Studioæˆ–è€…vscode.è‡³å°‘å°±æˆ‘ç°åœ¨çš„å¼€å‘ä½“éªŒæ¥è¯´ä¸¤è€…å·®åˆ«ä¸å¤§,å‰è€…åŠŸèƒ½æ›´å¤š.</p><p><strong>Android Studioçš„ä¸€äº›é‡è¦å¿«æ·é”®</strong>     </p><p><img data-src="http://cdn.sekyoro.top/imgs/28/1220221228215414.png" alt="image-20221228215320830" style="zoom:67%;" /></p><p><img data-src="http://cdn.sekyoro.top/imgs/28/1220221228215449.png" alt="image-20221228215449009"></p><p><img data-src="http://cdn.sekyoro.top/imgs/28/1220221228215521.png" alt="image-20221228215521331" style="zoom:67%;" /></p><h3 id="ä»£ç è¾…åŠ©å’Œå¿«é€Ÿä¿®å¤"><a href="#ä»£ç è¾…åŠ©å’Œå¿«é€Ÿä¿®å¤" class="headerlink" title="ä»£ç è¾…åŠ©å’Œå¿«é€Ÿä¿®å¤"></a>ä»£ç è¾…åŠ©å’Œå¿«é€Ÿä¿®å¤</h3><p>ä»£ç è¾…åŠ©åŠŸèƒ½æ˜¯ç‰¹å®šä»£ç æ ‡è¯†ç¬¦ç›¸å…³çš„ä»£ç ä¿®æ”¹ã€‚å½“å…‰æ ‡æ”¾åœ¨ Flutter widget ä¸Šæ—¶ï¼Œé»„è‰²ç¯æ³¡å›¾æ ‡ä¼šæŒ‡ç¤ºå¯ç”¨çš„ä¿®æ”¹ï¼Œå¯ä»¥é€šè¿‡ç‚¹å‡»ç¯æ³¡è¿›è¡Œä¿®æ”¹ï¼Œæˆ–ä½¿ç”¨é”®ç›˜å¿«æ·é”®ï¼ˆåœ¨ Linux å’Œ Windows ä¸Šä½¿ç”¨ <code>Alt</code>+<code>Enter</code>ï¼Œåœ¨ macOS ä¸Šä½¿ç”¨ <code>Option</code>+<code>Return</code>ï¼‰</p><h4 id="Widget-åµŒå¥—è¾…åŠ©"><a href="#Widget-åµŒå¥—è¾…åŠ©" class="headerlink" title="Widget åµŒå¥—è¾…åŠ©"></a>Widget åµŒå¥—è¾…åŠ©</h4><p>å½“ä½ æœ‰ä¸€ä¸ª widget éœ€è¦åµŒå¥—åœ¨å…¶ä»– widget æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¯¥åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œéœ€è¦å°† widget åµŒå¥—åœ¨ <code>Row</code> æˆ– <code>Column</code> ä¸­ã€‚</p><h4 id="Widget-åˆ—è¡¨åµŒå¥—è¾…åŠ©"><a href="#Widget-åˆ—è¡¨åµŒå¥—è¾…åŠ©" class="headerlink" title="Widget åˆ—è¡¨åµŒå¥—è¾…åŠ©"></a>Widget åˆ—è¡¨åµŒå¥—è¾…åŠ©</h4><p>å’Œä¸Šé¢çš„è¾…åŠ©ç±»ä¼¼ï¼Œä½†å®ƒåµŒå¥—çš„æ˜¯ä¸€ä¸ª widget çš„åˆ—è¡¨ï¼Œè€Œä¸æ˜¯å•ä¸ªçš„ widgetã€‚</p><h4 id="child-å’Œ-children-è½¬æ¢è¾…åŠ©"><a href="#child-å’Œ-children-è½¬æ¢è¾…åŠ©" class="headerlink" title="child å’Œ children è½¬æ¢è¾…åŠ©"></a>child å’Œ children è½¬æ¢è¾…åŠ©</h4><p>å°† child è½¬æ¢æˆ childrenï¼Œå¹¶ä¸”æŠŠå‚æ•°å€¼å†™è¿›ä¸€ä¸ª listã€‚</p><p>Flutter æ’ä»¶åŒ…å«äº†ä»¥ä¸‹æ¨¡æ¿ï¼š</p><ul><li>å‰ç¼€ <code>stless</code>ï¼šåˆ›å»ºä¸€ä¸ª <code>StatelessWidget</code> çš„å­ç±»ã€‚</li><li>å‰ç¼€ <code>stful</code>ï¼šåˆ›å»ºä¸€ä¸ª <code>StatefulWidget</code> çš„å­ç±»ï¼Œå¹¶å…³è” State å­ç±»ã€‚</li><li>å‰ç¼€ <code>stanim</code>ï¼šåˆ›å»ºä¸€ä¸ª <code>StatefulWidget</code> çš„å­ç±»ï¼Œå¹¶å…³è” State å­ç±»ï¼ŒåŒ…å«ä¸€ä¸ª <code>AnimationController</code> çš„åˆå§‹åŒ–å­—æ®µ</li></ul><h3 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h3><p>ä¸åŒç³»ç»Ÿä¸åŒé…ç½®å¯èƒ½æœ‰ä¸åŒæƒ…å†µ. æˆ‘è¿™è¾¹é¦–å…ˆéœ€è¦åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ä½¿ç”¨adb devicesæˆ–è€…ç±»ä¼¼å‘½ä»¤ä½¿å¾—èƒ½è®¿é—®adb.ç„¶åé€‰æ‹©è¯¥æ¨¡æ‹Ÿå™¨,ä½¿ç”¨flutter runå¼€å¯åº”ç”¨.</p><p><img data-src="http://cdn.sekyoro.top/imgs/28/1220221228222209.png" alt="image-20221228222209219" style="zoom:50%;" /></p><h3 id="vscodeé‡è¦å¿«æ·é”®"><a href="#vscodeé‡è¦å¿«æ·é”®" class="headerlink" title="vscodeé‡è¦å¿«æ·é”®"></a>vscodeé‡è¦å¿«æ·é”®</h3><p><img data-src="http://cdn.sekyoro.top/imgs/28/1220221228223036.png" alt="image-20221228223036046"></p><p>å¦å¤–Ctrl+shift+\å¯ä»¥è·³è½¬åˆ°æ‹¬å·å¦ä¸€è¾¹.</p><h3 id="Images"><a href="#Images" class="headerlink" title="Images"></a>Images</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">body: Center(</span><br><span class="line">          <span class="comment">// ignore: prefer_const_constructors</span></span><br><span class="line">          child: Image(</span><br><span class="line">        image: <span class="keyword">const</span> AssetImage(<span class="string">&#x27;assets/4.jpg&#x27;</span>),</span><br><span class="line">              <span class="comment">//NetworkImage(&#x27;&#x27;)</span></span><br><span class="line">        <span class="comment">// fit: BoxFit.cover,</span></span><br><span class="line">      )),</span><br></pre></td></tr></table></figure><h3 id="å‘å¸ƒapp"><a href="#å‘å¸ƒapp" class="headerlink" title="å‘å¸ƒapp"></a>å‘å¸ƒapp</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">keytool -genkey -v -keystore  my-release-key.keystore -<span class="built_in">alias</span> my-key-alias -keyalg RSA -keysize 2048 -validity 10000</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Tutorial </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cssä¸­çš„flexå’Œgridå¸ƒå±€</title>
      <link href="2022/12/27/css%E4%B8%AD%E7%9A%84flex%E5%92%8Cgrid%E5%B8%83%E5%B1%80/"/>
      <url>2022/12/27/css%E4%B8%AD%E7%9A%84flex%E5%92%8Cgrid%E5%B8%83%E5%B1%80/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>cssä¸­çš„å¸ƒå±€flexå’Œgridç°åœ¨å·²ç»æ¯”è¾ƒå¸¸ç”¨äº†.è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹<br><span id="more"></span></p><h2 id="Gridå¸ƒå±€"><a href="#Gridå¸ƒå±€" class="headerlink" title="Gridå¸ƒå±€"></a>Gridå¸ƒå±€</h2><p>gridå¸ƒå±€,å³ç½‘æ ¼å¸ƒå±€.</p><p>é‡‡ç”¨ç½‘æ ¼å¸ƒå±€çš„åŒºåŸŸï¼Œç§°ä¸ºâ€å®¹å™¨â€ï¼ˆcontainerï¼‰ã€‚å®¹å™¨å†…éƒ¨é‡‡ç”¨ç½‘æ ¼å®šä½çš„å­å…ƒç´ ï¼Œç§°ä¸ºâ€é¡¹ç›®â€ï¼ˆitemï¼‰ã€‚å®¹å™¨é‡Œé¢çš„æ°´å¹³åŒºåŸŸç§°ä¸ºâ€è¡Œâ€ï¼ˆrowï¼‰ï¼Œå‚ç›´åŒºåŸŸç§°ä¸ºâ€åˆ—â€ï¼ˆcolumnï¼‰ã€‚</p><p><img data-src="https://www.wangbase.com/blogimg/asset/201903/1_bg2019032502.png" alt="img" style="zoom:50%;" /></p><p><strong>å•å…ƒæ ¼</strong>:è¡Œå’Œåˆ—çš„äº¤å‰åŒºåŸŸï¼Œç§°ä¸ºâ€å•å…ƒæ ¼â€ï¼ˆcellï¼‰ã€‚</p><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>n</code>è¡Œå’Œ<code>m</code>åˆ—ä¼šäº§ç”Ÿ<code>n x m</code>ä¸ªå•å…ƒæ ¼ã€‚æ¯”å¦‚ï¼Œ3è¡Œ3åˆ—ä¼šäº§ç”Ÿ9ä¸ªå•å…ƒæ ¼ã€‚</p><p><strong>ç½‘æ ¼çº¿</strong>:åˆ’åˆ†ç½‘æ ¼çš„çº¿ï¼Œç§°ä¸ºâ€ç½‘æ ¼çº¿â€ï¼ˆgrid lineï¼‰ã€‚æ°´å¹³ç½‘æ ¼çº¿åˆ’åˆ†å‡ºè¡Œï¼Œå‚ç›´ç½‘æ ¼çº¿åˆ’åˆ†å‡ºåˆ—ã€‚</p><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>n</code>è¡Œæœ‰<code>n + 1</code>æ ¹æ°´å¹³ç½‘æ ¼çº¿ï¼Œ<code>m</code>åˆ—æœ‰<code>m + 1</code>æ ¹å‚ç›´ç½‘æ ¼çº¿ï¼Œæ¯”å¦‚ä¸‰è¡Œå°±æœ‰å››æ ¹æ°´å¹³ç½‘æ ¼çº¿ã€‚</p><p>Grid å¸ƒå±€çš„å±æ€§åˆ†æˆä¸¤ç±»ã€‚ä¸€ç±»å®šä¹‰åœ¨å®¹å™¨ä¸Šé¢ï¼Œç§°ä¸ºå®¹å™¨å±æ€§ï¼›å¦ä¸€ç±»å®šä¹‰åœ¨é¡¹ç›®ä¸Šé¢ï¼Œç§°ä¸ºé¡¹ç›®å±æ€§ã€‚è¿™éƒ¨åˆ†å…ˆä»‹ç»å®¹å™¨å±æ€§ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">   <span class="attribute">display</span>: grid;</span><br><span class="line">   <span class="comment">/* grid-template-columns: 100px 100px 100px; */</span></span><br><span class="line">   <span class="comment">/* grid-template-columns: repeat(3,33.33%); */</span></span><br><span class="line">   <span class="comment">/* grid-template-columns: repeat(2,100px 20px 80px); */</span></span><br><span class="line">   <span class="comment">/* grid-template-columns: repeat(auto-fill,100px); */</span></span><br><span class="line">   grid-template-<span class="attribute">columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">   grid-template-rows: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">   row-gap: <span class="number">20px</span>;</span><br><span class="line">   <span class="comment">/* column-gap: 20px; */</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* grid-template-areas: ; */</span></span><br><span class="line">   <span class="comment">/* grid-auto-flow: row; */</span></span><br><span class="line"></span><br><span class="line">   justify-items: center;</span><br><span class="line">   <span class="attribute">align-items</span>: center;</span><br><span class="line"></span><br><span class="line">   <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">   <span class="attribute">align-content</span>: end;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="grid-template-columns-å±æ€§ï¼Œ-grid-template-rows-å±æ€§"><a href="#grid-template-columns-å±æ€§ï¼Œ-grid-template-rows-å±æ€§" class="headerlink" title="grid-template-columns å±æ€§ï¼Œ grid-template-rows å±æ€§"></a>grid-template-columns å±æ€§ï¼Œ grid-template-rows å±æ€§</h3><p>å®¹å™¨æŒ‡å®šäº†ç½‘æ ¼å¸ƒå±€ä»¥åï¼Œæ¥ç€å°±è¦åˆ’åˆ†è¡Œå’Œåˆ—ã€‚<code>grid-template-columns</code>å±æ€§å®šä¹‰æ¯ä¸€åˆ—çš„åˆ—å®½ï¼Œ<code>grid-template-rows</code>å±æ€§å®šä¹‰æ¯ä¸€è¡Œçš„è¡Œé«˜ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  grid-template-<span class="attribute">columns</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</span><br><span class="line">  grid-</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿è¡¨ç¤ºæ¯”ä¾‹å…³ç³»ï¼Œç½‘æ ¼å¸ƒå±€æä¾›äº†<code>fr</code>å…³é”®å­—ï¼ˆfraction çš„ç¼©å†™ï¼Œæ„ä¸ºâ€ç‰‡æ®µâ€ï¼‰ã€‚å¦‚æœä¸¤åˆ—çš„å®½åº¦åˆ†åˆ«ä¸º<code>1fr</code>å’Œ<code>2fr</code>ï¼Œå°±è¡¨ç¤ºåè€…æ˜¯å‰è€…çš„ä¸¤å€ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  grid-template-<span class="attribute">columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="grid-row-gap-å±æ€§ï¼Œ-grid-column-gap-å±æ€§ï¼Œ-grid-gap-å±æ€§"><a href="#grid-row-gap-å±æ€§ï¼Œ-grid-column-gap-å±æ€§ï¼Œ-grid-gap-å±æ€§" class="headerlink" title="grid-row-gap å±æ€§ï¼Œ grid-column-gap å±æ€§ï¼Œ grid-gap å±æ€§"></a>grid-row-gap å±æ€§ï¼Œ grid-column-gap å±æ€§ï¼Œ grid-gap å±æ€§</h3><p><code>grid-row-gap</code>å±æ€§è®¾ç½®è¡Œä¸è¡Œçš„é—´éš”ï¼ˆè¡Œé—´è·ï¼‰ï¼Œ<code>grid-column-gap</code>å±æ€§è®¾ç½®åˆ—ä¸åˆ—çš„é—´éš”ï¼ˆåˆ—é—´è·ï¼‰ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  grid-row-gap: <span class="number">20px</span>;</span><br><span class="line">  grid-<span class="attribute">column-gap</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="justify-items-å±æ€§ï¼Œ-align-items-å±æ€§ï¼Œ-place-items-å±æ€§"><a href="#justify-items-å±æ€§ï¼Œ-align-items-å±æ€§ï¼Œ-place-items-å±æ€§" class="headerlink" title="justify-items å±æ€§ï¼Œ align-items å±æ€§ï¼Œ place-items å±æ€§"></a>justify-items å±æ€§ï¼Œ align-items å±æ€§ï¼Œ place-items å±æ€§</h3><p><code>justify-items</code>å±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œ<code>align-items</code>å±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  justify-items: start | end | center | stretch;</span><br><span class="line">  <span class="attribute">align-items</span>: start | end | center | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="justify-content-å±æ€§ï¼Œ-align-content-å±æ€§ï¼Œ-place-content-å±æ€§"><a href="#justify-content-å±æ€§ï¼Œ-align-content-å±æ€§ï¼Œ-place-content-å±æ€§" class="headerlink" title="justify-content å±æ€§ï¼Œ align-content å±æ€§ï¼Œ place-content å±æ€§"></a>justify-content å±æ€§ï¼Œ align-content å±æ€§ï¼Œ place-content å±æ€§</h3><p><code>justify-content</code>å±æ€§æ˜¯æ•´ä¸ªå†…å®¹åŒºåŸŸåœ¨å®¹å™¨é‡Œé¢çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œ<code>align-content</code>å±æ€§æ˜¯æ•´ä¸ªå†…å®¹åŒºåŸŸçš„å‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">justify-content</span>: start | end | center | stretch | space-around | space-between | space-evenly;</span><br><span class="line">  <span class="attribute">align-content</span>: start | end | center | stretch | space-around | space-between | space-evenly;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå±æ€§çš„å†™æ³•å®Œå…¨ç›¸åŒï¼Œéƒ½å¯ä»¥å–ä¸‹é¢è¿™äº›å€¼ã€‚ï¼ˆä¸‹é¢çš„å›¾éƒ½ä»¥<code>justify-content</code>å±æ€§ä¸ºä¾‹ï¼Œ<code>align-content</code>å±æ€§çš„å›¾å®Œå…¨ä¸€æ ·ï¼Œåªæ˜¯å°†æ°´å¹³æ–¹å‘æ”¹æˆå‚ç›´æ–¹å‘ã€‚ï¼‰</p><h3 id="grid-column-start-å±æ€§ï¼Œ-grid-column-end-å±æ€§ï¼Œ-grid-row-start-å±æ€§ï¼Œ-grid-row-end-å±æ€§"><a href="#grid-column-start-å±æ€§ï¼Œ-grid-column-end-å±æ€§ï¼Œ-grid-row-start-å±æ€§ï¼Œ-grid-row-end-å±æ€§" class="headerlink" title="grid-column-start å±æ€§ï¼Œ grid-column-end å±æ€§ï¼Œ grid-row-start å±æ€§ï¼Œ grid-row-end å±æ€§"></a>grid-column-start å±æ€§ï¼Œ grid-column-end å±æ€§ï¼Œ grid-row-start å±æ€§ï¼Œ grid-row-end å±æ€§</h3><p>é¡¹ç›®çš„ä½ç½®æ˜¯å¯ä»¥æŒ‡å®šçš„ï¼Œå…·ä½“æ–¹æ³•å°±æ˜¯æŒ‡å®šé¡¹ç›®çš„å››ä¸ªè¾¹æ¡†ï¼Œåˆ†åˆ«å®šä½åœ¨å“ªæ ¹ç½‘æ ¼çº¿ã€‚</p><blockquote><ul><li><code>grid-column-start</code>å±æ€§ï¼šå·¦è¾¹æ¡†æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿</li><li><code>grid-column-end</code>å±æ€§ï¼šå³è¾¹æ¡†æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿</li><li><code>grid-row-start</code>å±æ€§ï¼šä¸Šè¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿</li><li><code>grid-row-end</code>å±æ€§ï¼šä¸‹è¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿</li></ul></blockquote><p><code>grid-area</code>å±æ€§æŒ‡å®šé¡¹ç›®æ”¾åœ¨å“ªä¸€ä¸ªåŒºåŸŸã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item-1</span> &#123;</span><br><span class="line">  grid-area: e;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="justify-self-å±æ€§ï¼Œ-align-self-å±æ€§ï¼Œ-place-self-å±æ€§"><a href="#justify-self-å±æ€§ï¼Œ-align-self-å±æ€§ï¼Œ-place-self-å±æ€§" class="headerlink" title="justify-self å±æ€§ï¼Œ align-self å±æ€§ï¼Œ place-self å±æ€§"></a>justify-self å±æ€§ï¼Œ align-self å±æ€§ï¼Œ place-self å±æ€§</h3><p><code>justify-self</code>å±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®ï¼ˆå·¦ä¸­å³ï¼‰ï¼Œè·Ÿ<code>justify-items</code>å±æ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ï¼Œä½†åªä½œç”¨äºå•ä¸ªé¡¹ç›®ã€‚</p><p><code>align-self</code>å±æ€§è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®ï¼ˆä¸Šä¸­ä¸‹ï¼‰ï¼Œè·Ÿ<code>align-items</code>å±æ€§çš„ç”¨æ³•å®Œå…¨ä¸€è‡´ï¼Œä¹Ÿæ˜¯åªä½œç”¨äºå•ä¸ªé¡¹ç›®ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  justify-self: start | end | center | stretch;</span><br><span class="line">  <span class="attribute">align-self</span>: start | end | center | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="flexå¸ƒå±€"><a href="#flexå¸ƒå±€" class="headerlink" title="flexå¸ƒå±€"></a>flexå¸ƒå±€</h2><p>é‡‡ç”¨ Flex å¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸º Flex å®¹å™¨ï¼ˆflex containerï¼‰ï¼Œç®€ç§°â€å®¹å™¨â€ã€‚å®ƒçš„æ‰€æœ‰å­å…ƒç´ è‡ªåŠ¨æˆä¸ºå®¹å™¨æˆå‘˜ï¼Œç§°ä¸º Flex é¡¹ç›®ï¼ˆflex itemï¼‰ï¼Œç®€ç§°â€é¡¹ç›®â€ã€‚</p><p>å®¹å™¨é»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´ï¼ˆmain axisï¼‰å’Œå‚ç›´çš„äº¤å‰è½´ï¼ˆcross axisï¼‰ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®ï¼ˆä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ï¼‰å«åš<code>main start</code>ï¼Œç»“æŸä½ç½®å«åš<code>main end</code>ï¼›äº¤å‰è½´çš„å¼€å§‹ä½ç½®å«åš<code>cross start</code>ï¼Œç»“æŸä½ç½®å«åš<code>cross end</code>ã€‚</p><p>é¡¹ç›®é»˜è®¤æ²¿ä¸»è½´æ’åˆ—ã€‚å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åš<code>main size</code>ï¼Œå æ®çš„äº¤å‰è½´ç©ºé—´å«åš<code>cross size</code>ã€‚</p><p>ä»¥ä¸‹6ä¸ªå±æ€§è®¾ç½®åœ¨å®¹å™¨ä¸Šã€‚</p><h3 id="å®¹å™¨å±æ€§"><a href="#å®¹å™¨å±æ€§" class="headerlink" title="å®¹å™¨å±æ€§"></a>å®¹å™¨å±æ€§</h3><blockquote><ul><li>flex-direction</li><li>flex-wrap</li><li>flex-flow</li><li>justify-content</li><li>align-items</li><li>align-content</li></ul></blockquote><h3 id="é¡¹ç›®å±æ€§"><a href="#é¡¹ç›®å±æ€§" class="headerlink" title="é¡¹ç›®å±æ€§"></a>é¡¹ç›®å±æ€§</h3><p>ä»¥ä¸‹6ä¸ªå±æ€§è®¾ç½®åœ¨é¡¹ç›®ä¸Šã€‚</p><blockquote><ul><li><code>order</code></li><li><code>flex-grow</code></li><li><code>flex-shrink</code></li><li><code>flex-basis</code></li><li><code>flex</code></li><li><code>align-self</code></li></ul></blockquote><p><code>order</code>å±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0</p><p><code>flex-grow</code>å±æ€§å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º<code>0</code>ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚</p><p><code>flex-shrink</code>å±æ€§å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚</p><p><code>flex-basis</code>å±æ€§å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰ã€‚æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±æ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ã€‚å®ƒçš„é»˜è®¤å€¼ä¸º<code>auto</code>ï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°</p><p><code>flex</code>å±æ€§æ˜¯<code>flex-grow</code>, <code>flex-shrink</code> å’Œ <code>flex-basis</code>çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º<code>0 1 auto</code>ã€‚åä¸¤ä¸ªå±æ€§å¯é€‰ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: none | [ &lt;<span class="string">&#x27;flex-grow&#x27;</span>&gt; &lt;<span class="string">&#x27;flex-shrink&#x27;</span>&gt;? || &lt;<span class="string">&#x27;flex-basis&#x27;</span>&gt; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥å±æ€§æœ‰ä¸¤ä¸ªå¿«æ·å€¼ï¼š<code>auto</code> (<code>1 1 auto</code>) å’Œ none (<code>0 0 auto</code>)ã€‚</p><p>å»ºè®®ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯å•ç‹¬å†™ä¸‰ä¸ªåˆ†ç¦»çš„å±æ€§ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæ¨ç®—ç›¸å…³å€¼ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://learncssgrid.com/">Learn CSS Grid - A Guide to Learning CSS Grid | Jonathan Suh</a></li><li><a href="http://ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html">CSS Grid ç½‘æ ¼å¸ƒå±€æ•™ç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— (ruanyifeng.com)</a></li><li><a href="http://ruanyifeng.com/blog/2015/07/flex-grammar.html">Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— (ruanyifeng.com)</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> flex </tag>
            
            <tag> grid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>prå‰ªè¾‘å­¦ä¹ </title>
      <link href="2022/12/26/pr%E5%89%AA%E8%BE%91%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/12/26/pr%E5%89%AA%E8%BE%91%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>çŸ­è§†é¢‘å’Œä¸€èˆ¬çš„è§†é¢‘å‰ªè¾‘æŒºç«çš„,å¦‚æœæ˜¯ç®€å•çš„çŸ­è§†é¢‘ç”¨å‰ªæ˜ æˆ–è€…å¿…å‰ªå°±è¡Œäº†.ä½†æ˜¯ä¸ºäº†ä½“ç°ä¸“ä¸š(zhuang bi)æ€§,æˆ‘è¿™é‡Œå­¦å­¦pr.å¯èƒ½è¦èŠ±å‡ å‘¨æ—¶é—´.<br><span id="more"></span></p><h2 id="ç•Œé¢å¸ƒå±€"><a href="#ç•Œé¢å¸ƒå±€" class="headerlink" title="ç•Œé¢å¸ƒå±€"></a>ç•Œé¢å¸ƒå±€</h2><h3 id="æ¦‚å¿µä»‹ç»"><a href="#æ¦‚å¿µä»‹ç»" class="headerlink" title="æ¦‚å¿µä»‹ç»"></a>æ¦‚å¿µä»‹ç»</h3><p>å·¥ä½œåŒº:ä¸‹é¢æ¯ä¸€ä¸ªéƒ½æ˜¯ä¸€ä¸ªå·¥ä½œåŒº,æ¯ä¸ªå·¥ä½œåŒºæœ‰å¾ˆå¤šé¢æ¿ç»„,æ¯ä¸ªé¢æ¿ç»„ä¸­åˆæœ‰å¾ˆå¤šé¢æ¿.</p><p>å¯ä»¥è‡ªå·±ä¿®æ”¹å·¥ä½œåŒºçš„å†…å®¹åˆå¯ä»¥è‡ªå·±åˆ›å»ºè‡ªå·±çš„å·¥ä½œåŒº.</p><p><img data-src="http://cdn.sekyoro.top/imgs/26/12image-20221226111354984.png" alt="image-20221226111354984" style="zoom:80%;" /></p><h2 id="æºæˆªå–"><a href="#æºæˆªå–" class="headerlink" title="æºæˆªå–"></a>æºæˆªå–</h2><p>ç´ æçš„æŠ“å–å’Œæ’åˆ—</p><h2 id="æ’å…¥è¦†ç›–"><a href="#æ’å…¥è¦†ç›–" class="headerlink" title="æ’å…¥è¦†ç›–"></a>æ’å…¥è¦†ç›–</h2><h2 id="ä¸‰ç‚¹ç¼–è¾‘çš„æ–¹æ³•"><a href="#ä¸‰ç‚¹ç¼–è¾‘çš„æ–¹æ³•" class="headerlink" title="ä¸‰ç‚¹ç¼–è¾‘çš„æ–¹æ³•"></a>ä¸‰ç‚¹ç¼–è¾‘çš„æ–¹æ³•</h2><h2 id="å‰ªè¾‘å·¥å…·"><a href="#å‰ªè¾‘å·¥å…·" class="headerlink" title="å‰ªè¾‘å·¥å…·"></a>å‰ªè¾‘å·¥å…·</h2><p>é•œå¤´å‰ªè¾‘ã€æ’åˆ—ä»¥åŠå„ç§è°ƒèŠ‚æ–¹æ³•</p><p><img data-src="http://cdn.sekyoro.top/imgs/26/12image-20221226210816710.png" alt="image-20221226210816710"></p>]]></content>
      
      
      
        <tags>
            
            <tag> premiere pro </tag>
            
            <tag> å‰ªè¾‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uniappç”³è¯·è·å–åœ°ç†ä½ç½®</title>
      <link href="2022/12/11/uniapp%E7%94%B3%E8%AF%B7%E8%8E%B7%E5%8F%96%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE/"/>
      <url>2022/12/11/uniapp%E7%94%B3%E8%AF%B7%E8%8E%B7%E5%8F%96%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è€æ¿è¦æ±‚åšä¸€ä¸ªå¾®ä¿¡å°ç¨‹åº,åé¢åˆå¸Œæœ›èƒ½è½¬ä¸ºapp. æ‰€ä»¥é€‰æ‹©äº†uniappå¼€å‘. æˆ‘çš„ä½“éªŒå’Œæ„Ÿæƒ³å°±æ˜¯ä»¥åä¸ç”¨uniappäº†. èµ„æºä¸å¤š,å­¦ä¹ äº†å¯èƒ½ç”¨å¤„ä¹Ÿä¸å¤§.é€‚åˆå¤–åŒ…çš„å¹².è¿™é‡Œå†™ä¸€ä¸‹ä½¿ç”¨uniappå¼€å‘å¾®ä¿¡å°ç¨‹åºè·å–åœ°ç†ä½ç½®<br><span id="more"></span></p><p>åŸºæœ¬é€»è¾‘æ˜¯ä½¿ç”¨uniappçš„apié¦–å…ˆè·å¾—åœ°ç†ç»çº¬åº¦ä½ç½®ç­‰ä¿¡æ¯(åœ¨è¿™ä¹‹å‰å¯ä»¥å…ˆè®©ç”¨æˆ·æˆæƒ,ç„¶åæ ¹æ®è·å¾—çš„åœ°ç†ä½ç½®ä¿¡æ¯åˆ©ç”¨è…¾è®¯çš„æœåŠ¡å¾—åˆ°å…·ä½“çš„ä½ç½®åå­—.</p><p>è¿™é‡Œæˆ‘ä¸»è¦åˆ©ç”¨uniappå¼€å‘å¾®ä¿¡å°ç¨‹åº.</p><h2 id="åŸºæœ¬æµç¨‹"><a href="#åŸºæœ¬æµç¨‹" class="headerlink" title="åŸºæœ¬æµç¨‹"></a>åŸºæœ¬æµç¨‹</h2><p><img data-src="http://cdn.sekyoro.top/imgs/image-20221220185902594.png" alt="æµç¨‹" style="zoom:50%;" /></p><p>getsettingä¸»è¦ç”¨äºè·å–ç”¨æˆ·å½“å‰è®¾ç½®</p><p><img data-src="http://cdn.sekyoro.top/imgs/20/1220221220210453.png" alt="settingè·å–" style="zoom:67%;" /></p><p>è¿™é‡Œé‡è¦çš„å°±æ˜¯scope.xxæŸ¥çœ‹ç”¨æˆ·çš„æˆæƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">uni.getSetting(&#123;<span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (res.authSetting &amp;&amp; res.authSetting.hasOwnProperty(<span class="string">&quot;scope.userFuzzyLocation&quot;</span>)) &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;è·å–åˆ°auth&#x27;</span>,res)</span><br><span class="line"><span class="keyword">if</span> (res.authSetting[<span class="string">&quot;scope.userFuzzyLocation&quot;</span>]) &#123;</span><br><span class="line"><span class="built_in">this</span>.getCityInfo();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">uni.showModal(&#123;</span><br><span class="line"><span class="attr">title</span>: <span class="string">&quot;æç¤º&quot;</span>,</span><br><span class="line"><span class="attr">content</span>: <span class="string">&quot;è¯·é‡æ–°æˆæƒè·å–ä½ çš„åœ°ç†ä½ç½®ï¼Œå¦åˆ™éƒ¨åˆ†åŠŸèƒ½å°†æ— æ³•ä½¿ç”¨.\r\næç¤º:ç‚¹å‡»å°ç¨‹åºå³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹åœ¨è®¾ç½®ä¸­ä¿®æ”¹æˆæƒ&quot;</span>,</span><br><span class="line"><span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (res.confirm) &#123;</span><br><span class="line">uni.openSetting(&#123;</span><br><span class="line"><span class="attr">success</span>: <span class="function">() =&gt;</span> <span class="built_in">this</span>.getCityInfo()</span><br><span class="line">&#125;);</span><br><span class="line">&#125; <span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">this</span>.getCovidData();</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;æ­£ç¡®&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line"><span class="built_in">this</span>.getCityInfo();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„scope.userFuzzyLocationå°±æ˜¯éœ€è¦ç”¨æˆ·æˆæƒçš„,res.authsettingå¦‚æœåŒ…å«è¿™ä¸ªä¸”ä¸ºtrueå°±è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ.å¦‚æœæ²¡æœ‰è¿™ä¸ªé€‰é¡¹,å³res.authSetting.hasOwnProperty(â€œscope.userFuzzyLocationâ€)è¿”å›false,è¿™æ ·å°±éœ€è¦å»æˆæƒ.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">getCityInfo</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;è°ƒç”¨getCityInfo&#x27;</span>)</span><br><span class="line">uni.authorize(&#123;</span><br><span class="line"><span class="attr">scope</span>: <span class="string">&quot;scope.userFuzzyLocation&quot;</span>,</span><br><span class="line"><span class="attr">success</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;æˆæƒ&#x27;</span>)</span><br><span class="line"><span class="comment">//åšæˆæƒä¹‹åçš„æ“ä½œ</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">fail</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">fail</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(res);</span><br><span class="line"><span class="built_in">this</span>.loadError();</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>uni.authorize æå‰å‘ç”¨æˆ·å‘èµ·æˆæƒè¯·æ±‚ã€‚è°ƒç”¨åä¼šç«‹åˆ»å¼¹çª—è¯¢é—®ç”¨æˆ·æ˜¯å¦åŒæ„æˆæƒå°ç¨‹åºä½¿ç”¨æŸé¡¹åŠŸèƒ½æˆ–è·å–ç”¨æˆ·çš„æŸäº›æ•°æ®ï¼Œä½†ä¸ä¼šå®é™…è°ƒç”¨å¯¹åº”æ¥å£.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">uni.authorize(&#123;</span><br><span class="line">    <span class="attr">scope</span>: <span class="string">&#x27;scope.userLocation&#x27;</span>,</span><br><span class="line">    <span class="function"><span class="title">success</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        uni.getLocation()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å¦‚æœç”¨æˆ·ä¹‹å‰å·²ç»åŒæ„æˆæƒï¼Œåˆ™ä¸ä¼šå‡ºç°å¼¹çª—ï¼Œç›´æ¥è¿”å›æˆåŠŸã€‚å¦‚æœç”¨æˆ·ä¹‹å‰æ‹’ç»äº†æˆæƒï¼Œæ­¤æ¥å£ä¼šç›´æ¥è¿›å…¥å¤±è´¥å›è°ƒ.</p><p>å½“è°ƒç”¨è¿™ä¸ªæ¥å£ä¹‹åå°±èƒ½æœ‰å¯¹åº”çš„scope.xxçš„å€¼äº†,è¦ä¹ˆä¸ºtrueè¦ä¹ˆä¸ºfalse. authorizeä¼šè·³å‡ºä¸€ä¸ªå¼¹çª—,è¯·æ±‚è·å–æƒé™,å¦‚æœæ¥å—äº†é‚£å°±æ²¡å¤šå¤§äº‹äº†.</p><p>å¦‚æœæ²¡æœ‰æ¥å—,å°±å¯ä»¥è°ƒå–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uni.openSetting(&#123;</span><br><span class="line"><span class="attr">success</span>: <span class="function">() =&gt;</span> <span class="built_in">this</span>.getCityInfo()</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è°ƒèµ·å®¢æˆ·ç«¯å°ç¨‹åºè®¾ç½®ç•Œé¢ï¼Œè¿”å›ç”¨æˆ·è®¾ç½®çš„æ“ä½œç»“æœ.</p><p><img data-src="http://cdn.sekyoro.top/imgs/20/1220221220220021.png" alt="è®¾ç½®ç•Œé¢" style="zoom:50%;" /></p><p>uni.openSettingä¼šæ‰“å¼€ä¸€ä¸ªè¿™æ ·çš„ç•Œé¢è®©ç”¨æˆ·è®¾ç½®.ç”¨æˆ·åœ¨è¿™é‡Œå…è®¸æˆæƒå³å¯.</p><h2 id="å…·ä½“è®¾ç½®"><a href="#å…·ä½“è®¾ç½®" class="headerlink" title="å…·ä½“è®¾ç½®"></a>å…·ä½“è®¾ç½®</h2><p>åœ¨uniappä¸­,éœ€è¦è®¾ç½®ä¸€äº›éœ€è¦ç”¨æˆ·æˆæƒçš„æƒé™.</p><p>  <img data-src="http://cdn.sekyoro.top/imgs/20/1220221220220601.png" alt="image-20221220220601255"></p><p>åœ¨uniappä¸­æ‰“å¼€manifest.jsonä¸­çš„æºç è§†å›¾,æ‰¾åˆ°permissionå¦‚ä¸Šå›¾.</p><p>æ·»åŠ éœ€è¦çš„scopeå’ŒrequirePrivateInfos.</p><p>åŒæ—¶getsettingä¸­éœ€è¦çœ‹scope.xxæ˜¯å¦å­˜åœ¨ä»¥åŠæ˜¯å¦ä¸ºtrue.</p><p><img data-src="http://cdn.sekyoro.top/imgs/20/12image-20221220220755694.png" alt="image-20221220220755694"></p><p><img data-src="http://cdn.sekyoro.top/imgs/20/1220221220221058.png" alt="image-20221220221057784"></p><p>uni.authorizeä¸­ä¹Ÿéœ€è¦è·å–éœ€è¦ç”¨æˆ·æˆæƒçš„scope</p><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>åœ¨å¾®ä¿¡å°ç¨‹åºä¸­,ä½¿ç”¨ä¸€äº›å¹³å°æä¾›çš„æ¥å£éœ€è¦æƒé™.</p><p><img data-src="http://cdn.sekyoro.top/imgs/20/1220221220221401.png" alt="image-20221220221400954" style="zoom:50%;" /></p><p>æ¯”å¦‚è·å–å½“å‰çš„åœ°ç†ä½ç½®ã€é€Ÿåº¦éœ€è¦å°ç¨‹åºçš„ç±»ç›®ç›¸ç¬¦åˆ,è€Œè·å–å½“å‰çš„æ¨¡ç³Šåœ°ç†ä½ç½®ä¹Ÿéœ€è¦ç”³è¯·æƒé™.ä¸è¿‡è¿™ä¸ªæ¥å£ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå¥½ç”³è¯·,ä½†æ˜¯è¿™ä¸ªæ¥å£æœ‰ç‚¹bug,æˆ‘ä¸€å¼€å§‹ç”³è¯·ä¹‹åå½“å¤©æ¨¡æ‹Ÿå™¨ä¸Šæœ‰ç‚¹é—®é¢˜,ä¸è¿‡åé¢å°±å¥½äº†.ç”³è¯·äº†ä¹‹åå¯ä»¥åˆ©ç”¨è…¾è®¯æä¾›çš„sdkå°†ç»çº¬åº¦è½¬ä¸ºå…·ä½“çš„ä½ç½®å.</p><p>ä»£ç åŸºæœ¬å¦‚ä¸‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">uni.getFuzzyLocation(&#123;</span><br><span class="line"><span class="attr">type</span>: <span class="string">&quot;gcj02&quot;</span>, <span class="comment">//  wgs84: è¿”å›GPSåæ ‡ï¼Œgcj02: è¿”å›å›½æµ‹å±€åæ ‡</span></span><br><span class="line"><span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;è·å–ä½ç½®&#x27;</span>, res)</span><br><span class="line"><span class="keyword">const</span> &#123;</span><br><span class="line">latitude,</span><br><span class="line">longitude</span><br><span class="line">&#125; = res;</span><br><span class="line"><span class="keyword">const</span> location = &#123;</span><br><span class="line">latitude,</span><br><span class="line">longitude</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">this</span>.qqmapsdk.reverseGeocoder(&#123;</span><br><span class="line">location,</span><br><span class="line"><span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">let</span> loginAddress = res.result.ad_info.name</span><br><span class="line"><span class="built_in">console</span>.log(loginAddress)</span><br><span class="line"><span class="built_in">this</span>.flag = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// è·å–ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">this</span>.country = loginAddress.split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="built_in">this</span>.province = loginAddress.split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">1</span>];</span><br><span class="line"><span class="built_in">this</span>.city = loginAddress.split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">2</span>];</span><br><span class="line"><span class="built_in">this</span>.district = loginAddress.split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">3</span>];</span><br><span class="line"><span class="built_in">this</span>.formvalue.location = <span class="built_in">this</span>.province + <span class="string">&#x27;&gt;&#x27;</span> +</span><br><span class="line"><span class="built_in">this</span>.city + <span class="string">&#x27;&gt;&#x27;</span> + <span class="built_in">this</span>.district;</span><br><span class="line"></span><br><span class="line"><span class="built_in">this</span>.donext();</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">fail</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">fail</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="built_in">console</span>.log(res)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><ol><li><a href="https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview">å¾®ä¿¡å°ç¨‹åºJavaScript SDK | è…¾è®¯ä½ç½®æœåŠ¡ (qq.com)</a></li><li><a href="https://blog.csdn.net/a18792627168/article/details/108962311#:~:text=uni-app,å°ç¨‹åºé¡¹ç›®æ— æ³•ç›´æ¥è·å–åˆ°åœ°ç†ä½ç½®ï¼Œåªèƒ½é€šè¿‡è·å–åˆ°çš„ç»çº¬åº¦ï¼Œè°ƒç”¨ç¬¬ä¸‰æ–¹åœ°å›¾Apiè·å–ã€‚">uni-appå¾®ä¿¡å°ç¨‹åºè·å–ç”¨æˆ·åœ°ç†ä½ç½®ä¿¡æ¯_DOMæ›¼ç æ²™åçš„åšå®¢-CSDNåšå®¢_uni.getsetting</a></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> uniapp </tag>
            
            <tag> å¾®ä¿¡å°ç¨‹åº </tag>
            
            <tag> è·å–åœ°ç†ä½ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç£åŠ›é“¾æ¥ä¸RSSè®¢é˜…</title>
      <link href="2022/11/22/%E7%A3%81%E5%8A%9B%E9%93%BE%E6%8E%A5%E4%B8%8ERSS%E8%AE%A2%E9%98%85/"/>
      <url>2022/11/22/%E7%A3%81%E5%8A%9B%E9%93%BE%E6%8E%A5%E4%B8%8ERSS%E8%AE%A2%E9%98%85/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æœ€è¿‘æ¥è§¦åˆ°äº†BTä¸‹è½½å’ŒRSSè®¢é˜…,ç¨å¾®å­¦ä¹ å­¦ä¹ ,äº†è§£ä¸‹æ¦‚å¿µ.å†…å®¹ä¸»è¦æ¥è‡ªç»´åŸºç™¾ç§‘<br><span id="more"></span></p><h2 id="BTä»‹ç»"><a href="#BTä»‹ç»" class="headerlink" title="BTä»‹ç»"></a>BTä»‹ç»</h2><p>BTå…¨ç§°BitTorrent,æ˜¯ç”¨åœ¨<a href="https://zh.wikipedia.org/wiki/å¯¹ç­‰ç½‘ç»œ">å¯¹ç­‰ç½‘ç»œ</a>ä¸­<a href="https://zh.wikipedia.org/wiki/æ–‡ä»¶åˆ†äº«">æ–‡ä»¶åˆ†äº«</a>çš„<a href="https://zh.wikipedia.org/wiki/ç½‘ç»œåè®®">ç½‘ç»œåè®®</a><a href="https://zh.wikipedia.org/wiki/è®¡ç®—æœºç¨‹åº">ç¨‹åº</a>ã€‚å’Œ<a href="https://zh.wikipedia.org/wiki/ç‚¹å¯¹ç‚¹åè®®">ç‚¹å¯¹ç‚¹</a>ï¼ˆpoint-to-pointï¼‰çš„åè®®<a href="https://zh.wikipedia.org/wiki/è®¡ç®—æœºç¨‹åº">ç¨‹åº</a>ä¸åŒï¼Œå®ƒæ˜¯ç”¨æˆ·ç¾¤å¯¹ç”¨æˆ·ç¾¤ï¼ˆpeer-to-peerï¼‰ï¼Œè€Œä¸”ç”¨æˆ·è¶Šå¤šï¼Œä¸‹è½½åŒä¸€æ–‡ä»¶çš„äººè¶Šå¤šï¼Œä¸‹è½½è¯¥æ–‡ä»¶çš„é€Ÿåº¦è¶Šå¿«ã€‚ä¸”ä¸‹è½½åï¼Œç»§ç»­ç»´æŒä¸Šä¼ çš„çŠ¶æ€ï¼Œå°±å¯ä»¥â€œåˆ†äº«â€ï¼Œæˆä¸ºå…¶ç”¨æˆ·ç«¯èŠ‚ç‚¹ä¸‹è½½çš„<a href="https://zh.wikipedia.org/wiki/ç§å­æ–‡ä»¶">ç§å­æ–‡ä»¶</a>ï¼ˆ.torrentï¼‰ï¼ŒåŒæ—¶ä¸Šä¼ åŠä¸‹è½½.</p><p>æ™®é€šçš„<a href="https://zh.wikipedia.org/wiki/HTTP">HTTP</a>ï¼<a href="https://zh.wikipedia.org/wiki/FTP">FTP</a>ä¸‹è½½ä½¿ç”¨<a href="https://zh.wikipedia.org/wiki/TCP/IPåè®®">TCP/IPåè®®</a>ï¼ŒBitTorrentåè®®æ˜¯æ¶æ„äºTCP/IPåè®®ä¹‹ä¸Šçš„ä¸€ä¸ª<a href="https://zh.wikipedia.org/wiki/å¯¹ç­‰ç½‘ç»œ">P2P</a>æ–‡ä»¶ä¼ è¾“<a href="https://zh.wikipedia.org/wiki/é€šè¨Šå”å®š">é€šä¿¡åè®®</a>ï¼Œå¤„äºTCP/IPç»“æ„çš„<a href="https://zh.wikipedia.org/wiki/åº”ç”¨å±‚">åº”ç”¨å±‚</a>ã€‚BitTorrentåè®®æœ¬èº«ä¹ŸåŒ…å«äº†å¾ˆå¤šå…·ä½“çš„å†…å®¹åè®®å’Œæ‰©å±•åè®®ï¼Œå¹¶åœ¨ä¸æ–­æ‰©å±•ä¸­</p><p>åœ¨BTä¸‹è½½çš„æµç¨‹ä¸­,æ–‡ä»¶å‘å¸ƒè€…ä¼šæ ¹æ®è¦å‘å¸ƒçš„æ–‡ä»¶ç”Ÿæˆæä¾›ä¸€ä¸ª.torrentæ–‡ä»¶,è¿™å°±æ˜¯ç§å­æ–‡ä»¶.å‘å¸ƒè¿™ä¸ªæ–‡ä»¶å°±æ˜¯åšç§(å‘å¸ƒè€…æä¾›ä¸‹è½½ä»»åŠ¡çš„å…¨éƒ¨å†…å®¹çš„è¡Œä¸ºï¼›ä¸‹è½½è€…ä¸‹è½½å®Œæˆåç»§ç»­æä¾›ç»™ä»–äººä¸‹è½½çš„è¡Œä¸º).</p><p>è¿™ä¸ªç§å­æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯<a href="https://zh.wikipedia.org/wiki/æ–‡æœ¬æ–‡ä»¶">æ–‡æœ¬æ–‡ä»¶</a>ï¼ŒåŒ…å«Trackerä¿¡æ¯å’Œæ–‡ä»¶ä¿¡æ¯ä¸¤éƒ¨åˆ†ã€‚<strong>Trackerä¿¡æ¯ä¸»è¦æ˜¯BTä¸‹è½½ä¸­éœ€è¦ç”¨åˆ°çš„TrackeræœåŠ¡å™¨çš„åœ°å€å’Œé’ˆå¯¹TrackeræœåŠ¡å™¨çš„è®¾ç½®</strong>ï¼Œ<strong>æ–‡ä»¶ä¿¡æ¯æ˜¯æ ¹æ®å¯¹ç›®æ ‡æ–‡ä»¶çš„è®¡ç®—ç”Ÿæˆçš„ï¼Œè®¡ç®—ç»“æœæ ¹æ®BitTorrentåè®®å†…çš„<a href="https://zh.wikipedia.org/wiki/Bencode">Bencode</a>è§„åˆ™è¿›è¡Œç¼–ç </strong>ã€‚å®ƒçš„ä¸»è¦åŸç†æ˜¯éœ€è¦æŠŠæä¾›ä¸‹è½½çš„æ–‡ä»¶è™šæ‹Ÿåˆ†æˆå¤§å°ç›¸ç­‰çš„å—ï¼Œå—å¤§å°å¿…é¡»ä¸º2kçš„æ•´æ•°æ¬¡æ–¹ï¼ˆç”±äºæ˜¯è™šæ‹Ÿåˆ†å—ï¼Œç¡¬ç›˜ä¸Šå¹¶ä¸äº§ç”Ÿå„ä¸ªå—æ–‡ä»¶ï¼‰ï¼Œå¹¶æŠŠæ¯ä¸ªå—çš„ç´¢å¼•ä¿¡æ¯å’Œ<a href="https://zh.wikipedia.org/wiki/Hash">Hash</a>éªŒè¯ç å†™å…¥ç§å­æ–‡ä»¶ä¸­ï¼›æ‰€ä»¥ï¼Œç§å­æ–‡ä»¶å°±æ˜¯è¢«ä¸‹è½½æ–‡ä»¶çš„â€œç´¢å¼•â€ã€‚</p><p>ä¸‹è½½è€…è¦ä¸‹è½½æ–‡ä»¶å†…å®¹ï¼Œéœ€è¦å…ˆå¾—åˆ°ç›¸åº”çš„ç§å­æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨BTå®¢æˆ·ç«¯è½¯ä»¶è¿›è¡Œä¸‹è½½ã€‚</p><p>å› ä¸ºç§å­æ–‡ä»¶ä¸­æœ‰trackeråœ°å€,è¿™ä¸ªtrackerå°±æ˜¯ä¸ªæœåŠ¡å™¨åœ°å€(ä¸‹è½½è€…çš„ä¿¡æ¯ä¹Ÿä¼šè®°å½•.æ”¶é›†ä¸‹è½½è€…ä¿¡æ¯çš„æœåŠ¡å™¨ï¼Œå¹¶å°†æ­¤ä¿¡æ¯æä¾›ç»™å…¶ä»–ä¸‹è½½è€…ï¼Œä½¿ä¸‹è½½è€…ä»¬ç›¸äº’è¿æ¥èµ·æ¥ï¼Œä¼ è¾“æ•°æ®ã€‚).ä¸‹å›¾æ˜¯åœ¨Motrixä¸­çš„ç§å­çš„trackerä¿¡æ¯<img data-src="http://cdn.sekyoro.top/imgs/image-20221122140032781.png" alt="image-20221122140032781" style="zoom:50%;" /></p><p>ä¸‹è½½æ—¶ï¼ŒBTå®¢æˆ·ç«¯é¦–å…ˆè§£æç§å­æ–‡ä»¶å¾—åˆ°Trackeråœ°å€ï¼Œç„¶åè¿æ¥TrackeræœåŠ¡å™¨ã€‚TrackeræœåŠ¡å™¨å›åº”ä¸‹è½½è€…çš„è¯·æ±‚ï¼Œæä¾›ä¸‹è½½è€…å…¶ä»–ä¸‹è½½è€…ï¼ˆåŒ…æ‹¬å‘å¸ƒè€…ï¼‰çš„IPã€‚ä¸‹è½½è€…å†è¿æ¥å…¶ä»–ä¸‹è½½è€…ï¼Œæ ¹æ®ç§å­æ–‡ä»¶ï¼Œä¸¤è€…åˆ†åˆ«å‘ŠçŸ¥å¯¹æ–¹è‡ªå·±å·²ç»æœ‰çš„å—ï¼Œç„¶åäº¤æ¢å¯¹æ–¹æ‰€æ²¡æœ‰çš„æ•°æ®ã€‚æ­¤æ—¶ä¸éœ€è¦å…¶ä»–æœåŠ¡å™¨å‚ä¸ï¼Œåˆ†æ•£äº†å•ä¸ªçº¿è·¯ä¸Šçš„æ•°æ®æµé‡ï¼Œå› æ­¤å‡è½»äº†æœåŠ¡å™¨è´Ÿæ‹…ã€‚</p><p>ä¸‹è½½è€…æ¯å¾—åˆ°ä¸€ä¸ªå—ï¼Œéœ€è¦ç®—å‡ºä¸‹è½½å—çš„HashéªŒè¯ç ä¸ç§å­æ–‡ä»¶ä¸­çš„å¯¹æ¯”ï¼Œå¦‚æœä¸€æ ·åˆ™è¯´æ˜å—æ­£ç¡®ï¼Œä¸ä¸€æ ·åˆ™éœ€è¦é‡æ–°ä¸‹è½½è¿™ä¸ªå—ã€‚è¿™ç§è§„å®šæ˜¯ä¸ºäº†è§£å†³ä¸‹è½½å†…å®¹å‡†ç¡®æ€§çš„é—®é¢˜ã€‚</p><h2 id="ç£åŠ›é“¾æ¥"><a href="#ç£åŠ›é“¾æ¥" class="headerlink" title="ç£åŠ›é“¾æ¥"></a>ç£åŠ›é“¾æ¥</h2><p><strong>ç£åŠ›é“¾æ¥</strong>ï¼ˆMagnet URI schemeï¼‰ï¼Œæ˜¯<a href="https://zh.wikipedia.org/wiki/å¯¹ç­‰ç½‘ç»œ">å¯¹ç­‰ç½‘ç»œ</a>ä¸­è¿›è¡Œä¿¡æ¯æ£€ç´¢å’Œä¸‹è½½æ–‡æ¡£çš„<a href="https://zh.wikipedia.org/wiki/ç”µè„‘ç¨‹åº">ç”µè„‘ç¨‹åº</a>ã€‚å’ŒåŸºäºâ€œä½ç½®â€è¿æ¥çš„<a href="https://zh.wikipedia.org/wiki/ç»Ÿä¸€èµ„æºå®šä½ç¬¦">ç»Ÿä¸€èµ„æºå®šä½ç¬¦</a>ä¸åŒï¼Œç£åŠ›é“¾æ¥æ˜¯åŸºäº<a href="https://zh.wikipedia.org/wiki/å…ƒæ•°æ®">å…ƒæ•°æ®</a>ï¼ˆmetadataï¼‰æ–‡ä»¶å†…å®¹ï¼Œå±äº<a href="https://zh.wikipedia.org/wiki/ç»Ÿä¸€èµ„æºåç§°">ç»Ÿä¸€èµ„æºåç§°</a>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç£åŠ›é“¾æ¥ä¸åŸºäºæ–‡æ¡£çš„<a href="https://zh.wikipedia.org/wiki/IPåœ°å€">IPåœ°å€</a>æˆ–å®šä½ç¬¦ï¼Œè€Œæ˜¯åœ¨<a href="https://zh.wikipedia.org/wiki/åˆ†å¸ƒå¼æ•°æ®åº“">åˆ†å¸ƒå¼æ•°æ®åº“</a>ä¸­ï¼Œé€šè¿‡<a href="https://zh.wikipedia.org/wiki/æ•£åˆ—å‡½æ•°">æ•£åˆ—å‡½æ•°</a>å€¼æ¥è¯†åˆ«ã€<a href="https://zh.wikipedia.org/wiki/æœç´¢">æœç´¢</a>æ¥ä¸‹è½½æ–‡æ¡£ã€‚å› ä¸ºä¸ä¾èµ–ä¸€ä¸ªå¤„äºå¯åŠ¨çŠ¶æ€çš„ä¸»æœºæ¥ä¸‹è½½æ–‡æ¡£ï¼Œæ‰€ä»¥ç‰¹åˆ«é€‚ç”¨æ²¡æœ‰ä¸­å¿ƒæœåŠ¡å™¨çš„<a href="https://zh.wikipedia.org/wiki/å¯¹ç­‰ç½‘ç»œ">å¯¹ç­‰ç½‘ç»œ</a>ã€‚å®ƒç¬¦åˆ<a href="https://zh.wikipedia.org/wiki/å¼€æºæ ‡å‡†">å¼€æºæ ‡å‡†</a>ã€‚</p><p>ç£åŠ›é“¾æ¥ç”±ä¸€ç»„å‚æ•°ç»„æˆï¼Œå‚æ•°é—´çš„é¡ºåºæ²¡æœ‰è®²ç©¶ï¼Œå…¶æ ¼å¼ä¸åœ¨HTTPé“¾æ¥æœ«å°¾çš„æŸ¥è¯¢å­—ç¬¦ä¸²ç›¸åŒã€‚æœ€å¸¸è§çš„å‚æ•°æ˜¯â€xtâ€ï¼Œæ˜¯â€exact topicâ€çš„ç¼©å†™ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªç‰¹å®šæ–‡ä»¶çš„å†…å®¹æ•£åˆ—å‡½æ•°å€¼å½¢æˆçš„<a href="https://zh.wikipedia.org/wiki/ç»Ÿä¸€èµ„æºåç§°">URN</a></p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20221122140625013.png" alt="image-20221122140625013"></p><h2 id="RSSè®¢é˜…"><a href="#RSSè®¢é˜…" class="headerlink" title="RSSè®¢é˜…"></a>RSSè®¢é˜…</h2><p><strong>RSS</strong>ï¼ˆè‹±æ–‡å…¨ç§°ï¼š<a href="https://zh.wikipedia.org/wiki/Resource_Description_Framework">RDF</a> Site Summary æˆ– Really Simple Syndication<a href="https://zh.wikipedia.org/wiki/RSS#cite_note-powers-2003-1-2">[2]</a>ï¼‰ï¼Œä¸­æ–‡è¯‘ä½œ<strong>ç®€æ˜“ä¿¡æ¯èšåˆ</strong><a href="https://zh.wikipedia.org/wiki/RSS#cite_note-3">[3]</a>ï¼Œä¹Ÿç§°<strong>èšåˆå†…å®¹</strong><a href="https://zh.wikipedia.org/wiki/RSS#cite_note-å¼ é”2015-4">[4]</a>ï¼Œæ˜¯ä¸€ç§<a href="https://zh.wikipedia.org/wiki/æ¶ˆæ¯ä¾†æº">æ¶ˆæ¯æ¥æº</a>æ ¼å¼è§„èŒƒï¼Œç”¨ä»¥èšåˆå¤šä¸ªç½‘ç«™æ›´æ–°çš„å†…å®¹å¹¶è‡ªåŠ¨é€šçŸ¥ç½‘ç«™è®¢é˜…è€…ã€‚ä½¿ç”¨ RSS åï¼Œç½‘ç«™è®¢é˜…è€…ä¾¿æ— éœ€å†æ‰‹åŠ¨æŸ¥çœ‹ç½‘ç«™æ˜¯å¦æœ‰æ–°çš„å†…å®¹ï¼ŒåŒæ—¶ RSS å¯å°†å¤šä¸ªç½‘ç«™æ›´æ–°çš„å†…å®¹è¿›è¡Œæ•´åˆï¼Œä»¥æ‘˜è¦çš„å½¢å¼å‘ˆç°ï¼Œæœ‰åŠ©äºè®¢é˜…è€…å¿«é€Ÿè·å–é‡è¦ä¿¡æ¯ï¼Œå¹¶é€‰æ‹©æ€§åœ°ç‚¹é˜…æŸ¥çœ‹ã€‚</p><p>RSS æ‘˜è¦å¯ä»¥å€Ÿç”± RSS é˜…è¯»å™¨ã€feed reader æˆ– aggregator ç­‰ç½‘é¡µæˆ–ä»¥æ¡Œé¢ä¸ºæ¶æ„çš„è½¯ä»¶æ¥é˜…è¯»ã€‚æ ‡å‡†çš„ <a href="https://zh.wikipedia.org/wiki/XML">XML</a> æ¡£å¼å¯å…è®¸ä¿¡æ¯åœ¨ä¸€æ¬¡å‘å¸ƒåé€šè¿‡ä¸åŒçš„ç¨‹åºé˜…è§ˆã€‚ç”¨æˆ·å€Ÿç”±å°†ç½‘æ‘˜è¾“å…¥ RSS é˜…è¯»å™¨ï¼Œæˆ–æ˜¯ç”¨é¼ æ ‡ç‚¹å–æµè§ˆå™¨ä¸ŠæŒ‡å‘è®¢é˜…ç¨‹åºçš„ RSS å°å›¾æ ‡ <a href="https://zh.wikipedia.org/wiki/URI">URI</a>ï¼ˆéé€šå¸¸æ‰€ç§°çš„ <a href="https://zh.wikipedia.org/wiki/URL">URL</a>ï¼‰æ¥è®¢é˜…ç½‘æ‘˜ã€‚RSS é˜…è¯»å™¨ä¼šå®šæœŸæ£€é˜…ç½‘ç«™æ˜¯å¦æœ‰æ›´æ–°ï¼Œç„¶åä¸‹è½½è‡³ç›‘çœ‹ç”¨æˆ·ç•Œé¢ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://zh.wikipedia.org/wiki/RSS">RSS - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ (wikipedia.org)</a></p><p><a href="https://zh.wikipedia.org/wiki/BitTorrent_(åè®®">BitTorrent (åè®®) - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ (wikipedia.org)</a>)</p>]]></content>
      
      
      
        <tags>
            
            <tag> RSS </tag>
            
            <tag> torrent </tag>
            
            <tag> BT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨overleafä¼˜é›…åœ°å†™æ–‡ç« </title>
      <link href="2022/11/11/%E4%BD%BF%E7%94%A8overleaf%E4%BC%98%E9%9B%85%E5%9C%B0%E5%86%99%E6%96%87%E7%AB%A0/"/>
      <url>2022/11/11/%E4%BD%BF%E7%94%A8overleaf%E4%BC%98%E9%9B%85%E5%9C%B0%E5%86%99%E6%96%87%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¹‹å‰ä¸€èˆ¬éƒ½ç”¨markdownå†™å®Œè½¬wordæˆ–è€…pdf.ä¸ºäº†æ›´æ–¹ä¾¿åœ°æ’å…¥å…¬å¼å’Œä½¿ç”¨æ¨¡æ¿,ä½¿ç”¨texæ ¼å¼æ¥å†™æ–‡ç« ,ç‰¹åˆ«æ˜¯ç§‘ç ”å¯èƒ½æ˜¯ä¸ªæ›´å¥½çš„é€‰æ‹©.<br><span id="more"></span></p><blockquote><p><strong>TeX/LaTeX</strong> æ—¢å¯ä»¥è¡¨ç¤ºæ‰€æŒ‡çš„å®è¯­è¨€/æ ¼å¼ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºå®ç°è¯¥å®è¯­è¨€çš„æ•´å¥—è½¯ä»¶ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºè½¯ä»¶ä¸­çš„ä¸€ä¸¤ä¸ªå¯æ‰§è¡Œç¨‹åºå‘½ä»¤</p></blockquote><p>æœ¬åœ°å¦‚æœè¦ä½¿ç”¨å¯èƒ½éœ€è¦è£…å¤šä¸ªè½¯ä»¶,æ¯”å¦‚texLive,texStudioç­‰.ä¸»è¦æ˜¯æ— æ³•å¾ˆå¥½çš„è·¨å¹³å°,å½“æ¢å¹³å°æ—¶ä¸€èˆ¬éœ€è¦é€šè¿‡ç½‘ç›˜ä¼ é€.å¦‚æœä½¿ç”¨overleafä»å„ä¸ªè§’åº¦æ¥çœ‹éƒ½æ–¹ä¾¿å¤šäº†,è¿˜æ–¹ä¾¿ä¸äººåˆ†äº«äº¤æµreview.ä¸markdownå·®åˆ«æ˜¯é€šè¿‡å¯¼å…¥åŒ…ä½¿å¾—åŠŸèƒ½æ›´ä¸°å¯Œ,æ›´åŠ åå‘ç§‘ç ”.</p><h2 id="LatexåŸºæœ¬è¯­æ³•"><a href="#LatexåŸºæœ¬è¯­æ³•" class="headerlink" title="LatexåŸºæœ¬è¯­æ³•"></a>LatexåŸºæœ¬è¯­æ³•</h2><p>è¿™ä¸œè¥¿åŒ…å«å†…å®¹å¾ˆå¤š,é€šè§ˆä¸€ä¸‹å³å¯.ä¸ªäººæ„Ÿè§‰æ˜¯éœ€è¦å…ˆäº†è§£ä¸€ç¯‡æ–‡ç« çš„ç»“æ„.</p><h3 id="åºè¨€-Preamble-å’Œæ­£æ–‡-Document"><a href="#åºè¨€-Preamble-å’Œæ­£æ–‡-Document" class="headerlink" title="åºè¨€(Preamble)å’Œæ­£æ–‡(Document)"></a>åºè¨€(Preamble)å’Œæ­£æ–‡(Document)</h3><p>é¦–å…ˆåŸºæœ¬æ–‡æ¡£ç»“æ„æ°›å›´åºè¨€å’Œæ­£æ–‡.</p><h4 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h4><p>ä¸»è¦ç”¨æ¥ç”³æ˜ä½ å†™çš„æ–‡æ¡£ç±»å‹ã€æ–‡æ¡£è¯­è¨€ã€æ–‡æ¡£ä½¿ç”¨çš„åŒ…(ç±»ä¼¼äºPythonä¸­çš„<code>import</code>)ç­‰ã€‚ä¸€ä¸ªå¸¸è§çš„åºè¨€å¦‚ä¸‹ï¼š</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[12pt, letterpaper]&#123;article&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[utf8]&#123;inputenc&#125;</span><br></pre></td></tr></table></figure><p>ç®€å•æ¥è¯´å°±æ˜¯å£°æ˜è¦å†™çš„æ˜¯article,reportè¿˜æ˜¯bookå¹¶è®¾ç½®å±æ€§.åŒæ—¶å¯¼åŒ…å¹¶è®¾ç½®å±æ€§.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20221111162352108.png" alt="image-20221111162352108" style="zoom:67%;" /></p><p>babelè®¾ç½®è¯­è¨€,inputencè®¾ç½®ç¼–ç ,geometryè®¾ç½®å¸ƒå±€.</p><p>amsmathæ•°å­¦å…¬å¼åŒ…,graphicxå¯¼å…¥å›¾ç‰‡,hyperrefè®¾ç½®è¶…é“¾æ¥.</p><h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><p>å¯¹äºæ­£æ–‡å†…å®¹ä½¿ç”¨<code>\begin&#123;ducument&#125;</code>å’Œ<code>\end&#123;document&#125;</code>æ ‡ç­¾è¿›è¡Œæ§åˆ¶ï¼Œåœ¨æ ‡ç­¾å†…å°±å¯ä»¥è¿›è¡Œå†™ä½œäº†ï¼Œå†™åœ¨æ ‡ç­¾å¤–çš„å†…å®¹æ˜¯ä¸ä¼šå±•ç¤ºå‡ºæ¥çš„ã€‚å’ŒMarkdownä¸€æ ·ï¼Œæ¢è¡Œéœ€è¦æŒ‰ä¸¤æ¬¡<code>Enter</code>ã€‚<code>\begin&#123;abstract&#125;</code>å’Œ<code>\end&#123;abstract&#125;</code>å¯ä»¥åœ¨æ­£æ–‡ä¸­æ·»åŠ æ‘˜è¦</p><p>æ·»åŠ å±æ€§,å³è®¾ç½®æ–‡æ¡£çš„æ ‡é¢˜ ä½œè€… æ—¶é—´ è‡´è°¢</p><ul><li><code>\title&#123;your title&#125;</code>:æ·»åŠ æ–‡æ¡£æ ‡é¢˜</li><li><code>\author&#123;your name&#125;</code>:æ·»åŠ ä½œè€…</li><li><code>\thanks&#123;funded by ...&#125;</code>:æ·»åŠ è‡´è°¢ä¿¡æ¯ï¼Œå¿…é¡»åœ¨<code>author</code>çš„èŠ±æ‹¬å·é‡Œé¢æ‰æœ‰ç”¨</li><li><code>\date&#123;your date&#125;</code>:æ·»åŠ æ—¥æœŸï¼Œ<code>\today</code>è¡¨ç¤ºè®¾ç½®æˆç¼–è¯‘æ–‡æ¡£é‚£ä¸€å¤©çš„æ—¥æœŸ</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">\documentclass&#123;article&#125;</span><br><span class="line">\title&#123;This is a title&#125;</span><br><span class="line">\author&#123;</span><br><span class="line">Zhao Xuhui\thanks&#123;thanks 1&#125;,</span><br><span class="line">Xuhui Zhao\thanks&#123;thanks 2&#125;&#125;</span><br><span class="line">\date&#123;\today&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">\maketitle</span><br><span class="line">This is test text.</span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><p>æ³¨é‡Šä½¿ç”¨%</p><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\label&#123;pic&#125;</span><br><span class="line">this is a pic\ref&#123;pic&#125;</span><br></pre></td></tr></table></figure><p>é€šå¸¸ç”¨åœ¨å›¾ç‰‡,è¡¨æ ¼çš„å¼•ç”¨ä¸­.</p><h2 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h2><ul><li>åŠ ç²—:<code>\textbf&#123;...&#125;</code></li><li>æ–œä½“:<code>\textit&#123;...&#125;</code></li><li>ä¸‹åˆ’çº¿:<code>\underline&#123;...&#125;</code></li><li>å¼ºè°ƒ:<code>\emph&#123;...&#125;</code>ï¼Œä¸ä¸Šä¸‹æ–‡å­—ä½“ç›¸åï¼Œä¸Šä¸‹æ–‡å¸¸è§„å®ƒå°±æ˜¯æ–œä½“ï¼Œä¸Šä¸‹æ–‡æ–œä½“å®ƒå°±æ˜¯å¸¸è§„</li><li>å±…ä¸­:<code>\centerline&#123;...&#125;</code>ï¼Œå±…ä¸­æ˜¾ç¤ºæ–‡æœ¬</li></ul><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">\documentclass&#123;article&#125;</span><br><span class="line">\usepackage&#123;graphicx&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">This is a test of image insertion.</span><br><span class="line"></span><br><span class="line">\begin&#123;figure&#125;[h]   % å¿…é¡»è¦æœ‰[h]å¦åˆ™æ’å…¥çš„å›¾ç‰‡éƒ½åœ¨æ–‡å­—å‰é¢</span><br><span class="line">    \centering  % å›¾åƒå±…ä¸­</span><br><span class="line">    \includegraphics[width=4cm]&#123;test/cover31.jpg&#125;   %[]é‡Œå¯ä»¥æŒ‡å®šå½±åƒå¤§å°</span><br><span class="line">    \caption&#123;Electronic&#125;    % å›¾å</span><br><span class="line">    \label&#123;fig_electronic&#125;  % ç”¨äºå†…éƒ¨å¼•ç”¨çš„å›¾å</span><br><span class="line">\end&#123;figure&#125;</span><br><span class="line"></span><br><span class="line">It is a great figure.</span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><p>æ’å…¥å›¾ç‰‡çš„åŸºæœ¬æµç¨‹ \begin{figure} å±…ä¸­ è®¾ç½®è·¯å¾„ä¸å¤§å° è®¾ç½®åå­— åœ¨åå­—ç§è®¾ç½®labelæ–¹ä¾¿å¼•ç”¨</p><h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><p>æ— åºåˆ—è¡¨ä½¿ç”¨<code>itemize</code>ï¼Œæœ‰åºåˆ—è¡¨ä½¿ç”¨<code>enumerate</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">\documentclass&#123;article&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">This is a test of list.</span><br><span class="line"></span><br><span class="line">\begin&#123;itemize&#125;</span><br><span class="line">  \item The individual entries are indicated with a black dot, a so-called bullet.</span><br><span class="line">  \item The text in the entries may be of any length.</span><br><span class="line">\end&#123;itemize&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;enumerate&#125;</span><br><span class="line">  \item This is the first entry in our list</span><br><span class="line">  \item The list numbers increase with each entry we add</span><br><span class="line">\end&#123;enumerate&#125;</span><br><span class="line"></span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><h2 id="è¡¨æ ¼"><a href="#è¡¨æ ¼" class="headerlink" title="è¡¨æ ¼"></a>è¡¨æ ¼</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;table&#125;</span><br><span class="line">\centering</span><br><span class="line">\begin&#123;tabular&#125;&#123;l|r&#125;</span><br><span class="line">Item &amp; Quantity \\\hline</span><br><span class="line">Widgets &amp; 42 \\</span><br><span class="line">Gadgets &amp; 13</span><br><span class="line">\end&#123;tabular&#125;</span><br><span class="line">\caption&#123;\label&#123;tab:widgets&#125;An example table.&#125;</span><br><span class="line">\end&#123;table&#125;</span><br></pre></td></tr></table></figure><p><code>\begin&#123;tabular&#125;&#123;l|c|r&#125;</code>è¿™é‡Œé¢çš„<code>&#123;l|c|r&#125;</code>ï¼ŒåŒ…å«äº†ä¸‰ä¸ªå­—æ¯ï¼Œä»£è¡¨äº†è¡¨æ ¼æ€»å…±æœ‰ä¸‰åˆ—ï¼Œç¬¬ä¸€åˆ—é å·¦åç§»ï¼Œç¬¬äºŒåˆ—å±…ä¸­ï¼Œç¬¬ä¸‰åˆ—é å³åç§»ã€‚ç«–çº¿ä»£è¡¨åˆ—ä¹‹é—´ç”¨çº¿åˆ†éš”å¼€æ¥ï¼Œå¦‚æœæƒ³è¦å·¦å³ä¸¤è¾¹éƒ½ç”¨çº¿åŒ…å›´èµ·æ¥ï¼Œåº”è¯¥æ”¹æˆ<code>&#123;|l|c|r|&#125;</code>ã€‚æ¥ä¸‹æ¥å°±æ˜¯æ­£å¼çš„è¡¨æ ¼ç»˜åˆ¶éƒ¨åˆ†ã€‚</p><h2 id="ç« èŠ‚"><a href="#ç« èŠ‚" class="headerlink" title="ç« èŠ‚"></a>ç« èŠ‚</h2><p>ç”¨<code>\section&#123;&#125;</code>æ¥è¡¨ç¤ºç« èŠ‚ï¼Œä»å½“å‰<code>section</code>å¼€å§‹ç›´åˆ°ä¸‹ä¸€ä¸ª<code>section</code>å‡ºç°ï¼Œè¿™æœŸé—´çš„å†…å®¹éƒ½å±äºå½“å‰<code>section</code>ï¼ŒèŠ±æ‹¬å·å†…æ˜¯ç« èŠ‚æ ‡é¢˜ã€‚ç« èŠ‚å·æ˜¯LaTeXè‡ªåŠ¨ç”Ÿæˆçš„</p><p><img data-src="https://zhaoxuhui.top/assets/images/blog/content/2019-09-04-06.png" alt="img" style="zoom:67%;" /></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\section&#123;Introduction&#125;</span><br><span class="line"></span><br><span class="line">Your introduction goes here! Simply start writing your document and use the Recompile button to view the updated PDF preview. Examples of commonly used commands and features are listed below, to help you get started.</span><br></pre></td></tr></table></figure><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><p>æ·»åŠ ç›®å½•çš„å‘½ä»¤æ˜¯<code>\tableofcontents</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">\documentclass&#123;article&#125;</span><br><span class="line"></span><br><span class="line">\title&#123;Test title&#125;</span><br><span class="line">\author&#123;Zhao Xuhui&#125;</span><br><span class="line">\date&#123;\today&#125;</span><br><span class="line"></span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line"></span><br><span class="line">\maketitle</span><br><span class="line"> </span><br><span class="line">\tableofcontents</span><br><span class="line"> </span><br><span class="line">\section&#123;Introduction&#125;</span><br><span class="line"> </span><br><span class="line">This is the first section.</span><br><span class="line"> </span><br><span class="line">Lorem  ipsum  dolor  sit  amet,  consectetuer  adipiscing  </span><br><span class="line">elit.   Etiam  lobortisfacilisis sem.  Nullam nec mi et </span><br><span class="line">neque pharetra sollicitudin.  Praesent imperdietmi nec ante. </span><br><span class="line">Donec ullamcorper, felis non sodales...</span><br><span class="line"> </span><br><span class="line">\addcontentsline&#123;toc&#125;&#123;section&#125;&#123;Unnumbered Section&#125;</span><br><span class="line">\section*&#123;Unnumbered Section&#125;</span><br><span class="line"> </span><br><span class="line">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.  </span><br><span class="line">Etiam lobortis facilisissem.  Nullam nec mi et neque pharetra </span><br><span class="line">sollicitudin.  Praesent imperdiet mi necante...</span><br><span class="line"> </span><br><span class="line">\section&#123;Second Section&#125;</span><br><span class="line"> </span><br><span class="line">Lorem ipsum dolor sit amet, consectetuer adipiscing elit.  </span><br><span class="line">Etiam lobortis facilisissem.  Nullam nec mi et neque pharetra </span><br><span class="line">sollicitudin.  Praesent imperdiet mi necante...</span><br><span class="line"></span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure><h2 id="æ•°å­¦å…¬å¼"><a href="#æ•°å­¦å…¬å¼" class="headerlink" title="æ•°å­¦å…¬å¼"></a>æ•°å­¦å…¬å¼</h2><p>LaTeXå…¬å¼åˆ†ä¸ºè¡Œå†…(inline)ä¸å±•ç¤º(display)ä¸¤ç§ç±»å‹ã€‚å‰è€…æ˜¯æ–‡æœ¬ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œåè€…æ˜¯å•ç‹¬å ä¸€è¡Œã€‚</p><p>è¡Œå†…å…¬å¼æœ‰ä¸‰ç§æ–¹å¼ï¼šåæ–œçº¿å°æ‹¬å·ã€<script type="math/tex">`å’Œ`</script>ã€<code>\begin&#123;math&#125;</code>å’Œ<code>\end&#123;math&#125;</code>ã€‚</p><p>å±•ç¤ºå‹å…¬å¼æœ‰å››ç§æ–¹å¼ï¼šåæ–œçº¿ä¸­æ‹¬å·ã€<code>\begin&#123;equation&#125;</code>å’Œ<code>\end&#123;equation&#125;</code>ã€<code>\begin&#123;displaymath&#125;</code>å’Œ<code>\end&#123;displaymath&#125;</code>ã€åŒç¾å…ƒæ ‡å¿—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\LaTeX&#123;&#125; is great at typesetting mathematics. Let $X_1, X_2, \ldots, X_n$ be a sequence of independent and identically distributed random variables with $\text&#123;E&#125;[X_i] = \mu$ and $\text&#123;Var&#125;[X_i] = \sigma^2 &lt; \infty$, and let</span><br><span class="line">\[S_n = \frac&#123;X_1 + X_2 + \cdots + X_n&#125;&#123;n&#125;</span><br><span class="line">      = \frac&#123;1&#125;&#123;n&#125;\sum_&#123;i&#125;^&#123;n&#125; X_i\]</span><br><span class="line">denote their mean. Then as $n$ approaches infinity, the random variables $\sqrt&#123;n&#125;(S_n - \mu)$ converge in distribution to a normal $\mathcal&#123;N&#125;(0, \sigma^2)$.</span><br></pre></td></tr></table></figure><h2 id="å¼•ç”¨-1"><a href="#å¼•ç”¨-1" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>ä¸Šä¼ bibæ–‡ä»¶,æ¯”å¦‚å«sample.bib,è¿›è¡Œå¼•ç”¨\cite{},ç„¶ååœ¨æœ€åæ·»åŠ å¼•ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\bibliographystyle&#123;plain&#125;</span><br><span class="line">\bibliography&#123;sample&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://www.overleaf.com/learn/latex/Learn_LaTeX_in_30_minutes">Learn LaTeX in 30 minutes - Overleaf, Online LaTeX Editor</a> overleafä¸Šçš„Latexå…¥é—¨</p><p><a href="http://zhaoxuhui.top/blog/2019/09/04/latex-overleaf-note.html">LaTeXåŸºæœ¬è¯­æ³•</a></p><p><a href="https://www.jianshu.com/p/5fe5e4d33a41">LatexåŸºæœ¬è¯­æ³•(å…¥é—¨)</a></p><p><a href="https://blog.csdn.net/ayaishere_/article/details/123332393">ã€æ’ç‰ˆã€‘ç”¨Overleafé€ŸæˆLaTeXä»£ç ï¼ˆä»å…¥é—¨åˆ°å¼€é—¨ï¼‰<em>ayaishere</em>çš„åšå®¢-CSDNåšå®¢_overleaf ç©ºæ ¼</a></p><p><a href="https://blog.csdn.net/m0_52037292/article/details/109768317"> å¿«é€Ÿä¸Šæ‰‹ç³»åˆ—â€”â€”ç”¨Overleafå†™ä¸­æ–‡æ–‡æ¡£_DeShawnPhangçš„åšå®¢-CSDNåšå®¢_overleafæ€ä¹ˆå†™ä¸­æ–‡</a></p><p><a href="https://blog.csdn.net/Canhui_WANG/article/details/87364800">å…³äºLatexçš„Figureå›¾åƒç¼–å·å…³è”æ‰€åœ¨ç« èŠ‚ç¼–å·ä¹‹é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ<em>æ—å¾®çš„åšå®¢-CSDNåšå®¢</em>\begin{figure}</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> latex </tag>
            
            <tag> tex </tag>
            
            <tag> overleaf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>leetcodeåˆ·é¢˜è®°å½•</title>
      <link href="2022/11/11/leetcode%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
      <url>2022/11/11/leetcode%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å”‰,å¾ˆä¹…æ²¡åšåšé¢˜äº†.è¿™é‡Œè®°å½•ä¸€ä¸‹æ¯å¤©åˆ·é¢˜ç»ƒä¹ .<br><span id="more"></span></p><p>ä¸»è¦åˆ·ä¸€äº›ç®€å•ä¸­ç­‰é¢˜,éš¾äº†æˆ‘ä¹Ÿä¸ä¼š.</p><p>å‰‘æŒ‡Offer å¯åŠ¨</p><p><img data-src="http://cdn.sekyoro.top/imgs/26/1220221226173618.png" alt="image-20221226173618143" style="zoom: 80%;" /></p><p>09.ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CQueue2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  Deque&lt;Integer&gt; inStack;</span><br><span class="line">  Deque&lt;Integer&gt; outStack;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">CQueue2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    inStack = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    outStack = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">appendTail</span><span class="params">(<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">    inStack.push(value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteHead</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(outStack.isEmpty())</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span>(inStack.isEmpty())</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">while</span>(!inStack.isEmpty())</span><br><span class="line">        &#123;</span><br><span class="line">          outStack.push(inStack.pop());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> outStack.pop();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> outStack.pop();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vueç½‘ä¸Šå•†åŸé¡¹ç›®</title>
      <link href="2022/10/25/vue%E7%BD%91%E4%B8%8A%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/"/>
      <url>2022/10/25/vue%E7%BD%91%E4%B8%8A%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å­¦äº†å°±è¦å†™<br><span id="more"></span></p><p>ä½¿ç”¨vue cli,è‡ªå·±é€‰ä¸€äº›feature.vuexå’Œvue-routerå¿…è¦çš„.è¿˜è¦å®‰è£…axios,vue-axios(axiosä½¿ç”¨çš„æ—¶å€™ä¸èƒ½åƒvueçš„æ’ä»¶ï¼ˆå¦‚ï¼šVue-Routerã€VueXç­‰ï¼‰é€šè¿‡Vue.use()å®‰è£…æ’ä»¶ï¼Œéœ€è¦åœ¨åŸå‹ä¸Šè¿›è¡Œç»‘å®šï¼šVue.prototype.$axios = axios).</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install axios vue-axios -S</span><br></pre></td></tr></table></figure><p>åœ¨main.jsæ–‡ä»¶ä¸­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueAxios <span class="keyword">from</span> <span class="string">&#x27;vue-axios&#x27;</span></span><br><span class="line">createApp(App).use(store).use(router).use(VueAxios,axios).mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><p>viewsç›®å½•ä¸‹å­˜æ”¾é¡µé¢çº§ç»„ä»¶,ä¸€èˆ¬çš„å°ç»„ä»¶å­˜æ”¾åœ¨componentsçš„æ–‡ä»¶å¤¹ä¸‹,è¿™äº›ç»„ä»¶ä¼šè¢«å¤ç”¨.</p><p>è¯·æ±‚åç«¯æ•°æ®å°±éœ€è¦é…ç½®ä¸€ä¸ªåå‘ä»£ç†,åœ¨vue.config.jsä¸­é…ç½®</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://blog.csdn.net/qq_43654065/article/details/121288529">axioså’Œvue-axios_åœ¨çº¿å°ç™½wwwçš„åšå®¢-CSDNåšå®¢_axios vue-axios</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>vue-element-templateå®æˆ˜</title>
      <link href="2022/10/08/vue-element-template%E5%AE%9E%E6%88%98/"/>
      <url>2022/10/08/vue-element-template%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¸€å¤§å¨ä¸œè¥¿<br><span id="more"></span></p><p>å…ˆå¤ä¹ ä¸€ä¸‹vue</p><p>è™šæ‹ŸDOM èŠ‚çœèµ„æº</p><h3 id="å£°æ˜å¼æ¸²æŸ“"><a href="#å£°æ˜å¼æ¸²æŸ“" class="headerlink" title="å£°æ˜å¼æ¸²æŸ“"></a>å£°æ˜å¼æ¸²æŸ“</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é¼ æ ‡æ‚¬æµ®çœ‹ title å±æ€§ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--v-bind v-on--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">:title</span>=<span class="string">&quot;msg&quot;</span> <span class="attr">:click</span>=<span class="string">&quot;handleClick&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">msg</span>: <span class="string">&quot;hello è“æ¡¥&quot;</span>,</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">handleClick</span>(<span class="params">event</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      alert(event.target.title);</span></span><br><span class="line"><span class="javascript">    &#125;,</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ¡ä»¶ä¸å¾ªç¯"><a href="#æ¡ä»¶ä¸å¾ªç¯" class="headerlink" title="æ¡ä»¶ä¸å¾ªç¯"></a>æ¡ä»¶ä¸å¾ªç¯</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt; --&gt;</span><br><span class="line">  &lt;!-- &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt; --&gt;</span><br><span class="line">  &lt;div v-if=&quot;seen&quot; v-bind:title=&quot;msg&quot; @click=&quot;handleClick&quot;&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt;</span><br><span class="line"> &lt;template v-for=&quot;todo in todos&quot; :key=&quot;todo&quot;&gt;</span><br><span class="line">      &lt;div&gt;&#123;&#123; todo &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;App&#x27;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    // HelloWorld</span><br><span class="line">  &#125;,</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg:&quot;Hello è“æ¡¥&quot;,</span><br><span class="line">      seen:true,</span><br><span class="line">      todos:[&quot;Vue&quot;, &quot;React&quot;, &quot;Angular&quot;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods:&#123;</span><br><span class="line">    handleClick() &#123;</span><br><span class="line">      // alert(event.target.title);</span><br><span class="line">      this.seen = false</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="ç»„ä»¶åŒ–åº”ç”¨æ„å»º"><a href="#ç»„ä»¶åŒ–åº”ç”¨æ„å»º" class="headerlink" title="ç»„ä»¶åŒ–åº”ç”¨æ„å»º"></a>ç»„ä»¶åŒ–åº”ç”¨æ„å»º</h3><p>ç»„ä»¶ç³»ç»Ÿæ˜¯ Vue çš„å¦ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§æŠ½è±¡ï¼Œå…è®¸æˆ‘ä»¬ä½¿ç”¨å°å‹ã€ç‹¬ç«‹å’Œé€šå¸¸å¯å¤ç”¨çš„ç»„ä»¶æ„å»ºå¤§å‹åº”ç”¨.</p><p>ç®€å•æ¥è¯´,ä¸€ä¸ªVueæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªç»„ä»¶,é‡Œé¢æœ‰template script style.</p><p>å»ºç«‹ä¸€ä¸ªVueæ–‡ä»¶,æ¯”å¦‚å«main-component.Vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- é¼ æ ‡æ‚¬æµ®çœ‹ title å±æ€§ --&gt;</span><br><span class="line">  &lt;div v-if=&quot;seen&quot; :title=&quot;msg&quot; v-on:click=&quot;handleClick&quot;&gt;</span><br><span class="line">    &#123;&#123; msg &#125;&#125;</span><br><span class="line">    &lt;!-- å¾ªç¯æ¸²æŸ“åˆ—è¡¨æ•°æ® --&gt;</span><br><span class="line">    &lt;template v-for=&quot;todo in todos&quot; :key=&quot;todo&quot;&gt;</span><br><span class="line">      &lt;div&gt;&#123;&#123; todo &#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;MainConcepts&quot;, // ç»„ä»¶åç§°</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      msg: &quot;hello è“æ¡¥&quot;,</span><br><span class="line">      seen: true, // æ§åˆ¶æ˜¯å¦æ˜¾ç¤º</span><br><span class="line">      todos: [&quot;Vue&quot;, &quot;React&quot;, &quot;Angular&quot;],</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleClick() &#123;</span><br><span class="line">      // alert(event.target.title);</span><br><span class="line">      this.seen = false;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- æ¸²æŸ“ MainConcepts ç»„ä»¶--&gt;</span><br><span class="line">  &lt;main-concepts /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MainConcepts from &quot;./main-concepts&quot;; // å¼•å…¥ MainConcepts ç»„ä»¶</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    MainConcepts,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>åœ¨ Vue ä¸­ï¼Œç»„ä»¶åˆ†ä¸ºï¼šâ€œæ™®é€šç»„ä»¶â€ã€â€œå‡½æ•°å¼ç»„ä»¶â€ã€â€œç±»ç»„ä»¶â€ã€‚</p><p>Propsä»£è¡¨äº†æ ¹ç»„ä»¶çš„å±æ€§å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- å£°æ˜å¼æ¸²æŸ“ msg æ•°æ® --&gt;</span><br><span class="line">  &lt;div&gt;&#123;&#123; msg &#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  props: [&quot;msg&quot;], // ç»™ App ç»„ä»¶å®šä¹‰ä¸€ä¸ª msg å±æ€§</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App&quot;</span>;</span><br><span class="line"><span class="comment">// ä¼ é€’æ ¹ç»„ä»¶ï¼Œå¹¶ä¼ é€’æ ¹ç»„ä»¶å±æ€§</span></span><br><span class="line">createApp(App, &#123; <span class="attr">msg</span>: <span class="string">&quot;æˆ‘æ˜¯æ ¹ç»„ä»¶å±æ€§ä¸­çš„ msg&quot;</span> &#125;).mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = Vue.createApp(...)</span><br><span class="line"><span class="comment">// æ³¨å†Œä¸€ä¸ªå…¨å±€ç»„ä»¶ SearchInput</span></span><br><span class="line">app.component(<span class="string">&#x27;SearchInput&#x27;</span>, SearchInputComponent)</span><br><span class="line"><span class="comment">// æ³¨å†Œä¸€ä¸ªå…¨å±€æŒ‡ä»¤ focus</span></span><br><span class="line">app.directive(<span class="string">&#x27;focus&#x27;</span>, FocusDirective)</span><br><span class="line"><span class="comment">// æ’ä»¶çš„ä½¿ç”¨</span></span><br><span class="line">app.use(LocalePlugin)</span><br></pre></td></tr></table></figure><h3 id="æ¨¡æ¿è¯­æ³•"><a href="#æ¨¡æ¿è¯­æ³•" class="headerlink" title="æ¨¡æ¿è¯­æ³•"></a>æ¨¡æ¿è¯­æ³•</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>hello: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>hello: &#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="javascript">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">msg</span>: <span class="string">&quot;è“æ¡¥&quot;</span>,</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">  &#125;,</span></span><br><span class="line"><span class="javascript">&#125;;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h3><p>ç”¨ <code>v-bind</code> æŒ‡ä»¤ç»™å…ƒç´ ç»‘å®šäº†ä¸€ä¸ªå±æ€§</p><p>ç”¨è¿‡<code>v-if</code> æ¡ä»¶æŒ‡ä»¤å»æ§åˆ¶æŸä¸ªå…ƒç´ çš„æ˜¾ç¤ºï¼Œç”¨è¿‡ <code>v-on</code> æŒ‡ä»¤ç»‘å®šè¿‡ <code>click</code> äº‹ä»¶ï¼Œç”¨è¿‡ <code>v-for</code> æŒ‡ä»¤å»å¾ªç¯æ¸²æŸ“</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é¼ æ ‡æ‚¬æµ®çœ‹ title å±æ€§ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-if</span>=<span class="string">&quot;seen&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:title</span>=<span class="string">&quot;msg&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-on:click</span>=<span class="string">&quot;handleClick&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><h3 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h3><p>ä¿®é¥°ç¬¦ (modifier) æ˜¯ä»¥åŠè§’å¥å· <code>.</code> æŒ‡æ˜çš„ç‰¹æ®Šåç¼€ï¼Œç”¨äºæŒ‡å‡ºä¸€ä¸ªæŒ‡ä»¤åº”è¯¥ä»¥ç‰¹æ®Šæ–¹å¼ç»‘å®šã€‚ä¾‹å¦‚ï¼Œ<code>.prevent</code> ä¿®é¥°ç¬¦å‘Šè¯‰ <code>v-on</code> æŒ‡ä»¤å¯¹äºè§¦å‘çš„äº‹ä»¶è°ƒç”¨ <code>event.preventDefault()</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click.prevent</span>=<span class="string">&quot;handleLinkClick&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-bind:</span>[<span class="attr">attributeName</span>]=<span class="string">&quot;msg&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">v-on:</span>[<span class="attr">eventName</span>]<span class="attr">.prevent</span>=<span class="string">&quot;handleClick&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">href</span>=<span class="string">&quot;https://www.lanqiao.cn/courses&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span></span><br><span class="line">    &#123;&#123; &quot;hello&quot; + msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="dataå±æ€§"><a href="#dataå±æ€§" class="headerlink" title="dataå±æ€§"></a>dataå±æ€§</h3><p>ç»„ä»¶çš„ <code>Data</code> å±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚Vue åœ¨åˆ›å»ºæ–°ç»„ä»¶å®ä¾‹çš„è¿‡ç¨‹ä¸­è°ƒç”¨æ­¤å‡½æ•°ã€‚å®ƒåº”è¯¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶å Vue ä¼šé€šè¿‡å“åº”æ€§ç³»ç»Ÿå°†å…¶åŒ…è£¹èµ·æ¥ï¼Œå¹¶ä»¥ <code>$data</code> çš„å½¢å¼å­˜å‚¨åœ¨ç»„ä»¶å®ä¾‹ä¸­ã€‚å¯ä»¥ç›´æ¥é€šè¿‡ç»„ä»¶å®ä¾‹è®¿é—® <code>$data</code> å¯¹è±¡ä¸­çš„å±æ€§ã€‚</p><p>ç»„ä»¶å¤–å¯ä»¥é€šè¿‡ç»„ä»¶å®ä¾‹æ¥è®¿é—®ç»„ä»¶ Data å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="comment">// åˆ›å»º app åº”ç”¨å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> app = createApp(App);</span><br><span class="line"><span class="comment">// è·å– App æ ¹ç»„ä»¶å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> rootComponent = app.mount(<span class="string">&quot;#app&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;App ç»„ä»¶ä¸­çš„ Data å±æ€§ï¼š&quot;</span>, rootComponent.$data);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;App ç»„ä»¶ä¸­çš„ msg æ•°æ®ï¼š&quot;</span>, rootComponent.msg);</span><br><span class="line"><span class="comment">// ä¿®æ”¹ç»„ä»¶çš„å“åº”å¼æ•°æ® msg</span></span><br><span class="line">rootComponent.msg = <span class="string">&quot;æˆ‘æ˜¯ msg æ•°æ®ï¼Œæˆ‘åœ¨ç»„ä»¶å¤–è¢«ä¿®æ”¹äº†&quot;</span>;</span><br></pre></td></tr></table></figure><p>åœ¨å®šä¹‰ <code>methods</code> æ—¶åº”é¿å…ä½¿ç”¨<strong>ç®­å¤´å‡½æ•°</strong>ï¼Œå› ä¸ºè¿™ä¼šé˜»æ­¢ Vue ç»‘å®šæ°å½“çš„ <code>this</code> æŒ‡å‘ã€‚</p><h3 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h3><p>è®¡ç®—å±æ€§å¯ä»¥ä¾èµ–å¤šä¸ª Vue å®ä¾‹çš„æ•°æ®ï¼Œåªè¦å…¶ä¸­ä»»ä¸€æ•°æ®å˜åŒ–ï¼Œè®¡ç®—å±æ€§å°±ä¼šé‡æ–°æ‰§è¡Œï¼Œè§†å›¾ä¹Ÿä¼šæ›´æ–°ã€‚</p><p>è®¡ç®—å±æ€§ <code>computed</code> åœ¨ä½¿ç”¨æ—¶ï¼Œä¸€å®šè¦æ³¨æ„ï¼Œå‡½æ•°é‡Œé¢çš„å˜é‡éƒ½ä¼šè¢«ç›‘å¬ï¼Œåªè¦é‡Œé¢çš„æŸä¸€ä¸ªå€¼å˜åŠ¨ï¼Œä¾¿ä¼šå°†æ•´ä¸ªå‡½æ•°æ‰§è¡Œä¸€éã€‚</p><p>è®¡ç®—å±æ€§çš„setterä¸getter</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;fieldset&gt;</span><br><span class="line">      &lt;legend&gt;å•ä»·ï¼š&lt;/legend&gt;</span><br><span class="line">      &lt;input :value=&quot;price&quot; @input=&quot;handlePriceInput&quot; /&gt;</span><br><span class="line">    &lt;/fieldset&gt;</span><br><span class="line">    &lt;fieldset&gt;</span><br><span class="line">      &lt;legend&gt;æ•°é‡ï¼š&lt;/legend&gt;</span><br><span class="line">      &lt;input :value=&quot;count&quot; @input=&quot;handleCountInput&quot; /&gt;</span><br><span class="line">    &lt;/fieldset&gt;</span><br><span class="line">    æ€»ä»·ï¼š&#123;&#123; total &#125;&#125;</span><br><span class="line">    &lt;div @click=&quot;handleTotal&quot;&gt;ç§è‡ªä¿®æ”¹ä¸€ä¸‹ total&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      count: 0, // æ•°é‡</span><br><span class="line">      price: 0, // å•ä»·</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // è®¡ç®—å±æ€§å£°æ˜</span><br><span class="line">    total: &#123;</span><br><span class="line">      // å®šä¹‰ total è®¡ç®—å±æ€§</span><br><span class="line">      // getter</span><br><span class="line">      get() &#123;</span><br><span class="line">        return parseInt(this.count) * parseFloat(this.price);</span><br><span class="line">      &#125;,</span><br><span class="line">      // setter</span><br><span class="line">      set(newValue) &#123;</span><br><span class="line">        alert(&quot;ä¸å…è®¸ç›´æ¥æ“ä½œ total çš„å€¼ï¼Œä½ è®¡ç®—çš„ï¼š&quot; + newValue + &quot;æ— æ•ˆï¼&quot;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    /**</span><br><span class="line">      å¤„ç†å•ä»·è¾“å…¥</span><br><span class="line">     */</span><br><span class="line">    handlePriceInput(event) &#123;</span><br><span class="line">      this.price = event.target.value;</span><br><span class="line">    &#125;,</span><br><span class="line">    /**</span><br><span class="line">      å¤„ç†æ•°é‡è¾“å…¥</span><br><span class="line">     */</span><br><span class="line">    handleCountInput(event) &#123;</span><br><span class="line">      this.count = event.target.value;</span><br><span class="line">    &#125;,</span><br><span class="line">    /**</span><br><span class="line">     * è‡ªå®šä¹‰å¤„ç† total</span><br><span class="line">     */</span><br><span class="line">    handleTotal() &#123;</span><br><span class="line">      this.total = 0;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="ç›‘å¬å™¨"><a href="#ç›‘å¬å™¨" class="headerlink" title="ç›‘å¬å™¨"></a>ç›‘å¬å™¨</h3><p>è™½ç„¶è®¡ç®—å±æ€§åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ›´åˆé€‚ï¼Œä½†æœ‰æ—¶ä¹Ÿéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¾¦å¬å™¨ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Vue é€šè¿‡ <code>watch</code> é€‰é¡¹æä¾›äº†ä¸€ä¸ªæ›´é€šç”¨çš„æ–¹æ³•ï¼Œæ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶<strong>æ‰§è¡Œå¼‚æ­¥</strong>æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œè¿™ä¸ªæ–¹å¼æ˜¯æœ€æœ‰ç”¨çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;fieldset&gt;</span><br><span class="line">      &lt;legend&gt;å•ä»·ï¼š&lt;/legend&gt;</span><br><span class="line">      &lt;input :value=&quot;price&quot; @input=&quot;handlePriceInput&quot; /&gt;</span><br><span class="line">    &lt;/fieldset&gt;</span><br><span class="line">    &lt;fieldset&gt;</span><br><span class="line">      &lt;legend&gt;æ•°é‡ï¼š&lt;/legend&gt;</span><br><span class="line">      &lt;input :value=&quot;count&quot; @input=&quot;handleCountInput&quot; /&gt;</span><br><span class="line">    &lt;/fieldset&gt;</span><br><span class="line">    æ€»ä»·ï¼š&#123;&#123; total &#125;&#125;</span><br><span class="line">    &lt;div @click=&quot;handleTotal&quot;&gt;ç§è‡ªä¿®æ”¹ä¸€ä¸‹ total&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;App&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      count: 0, // æ•°é‡</span><br><span class="line">      price: 0, // å•ä»·</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    // è®¡ç®—å±æ€§å£°æ˜</span><br><span class="line">    total: &#123;</span><br><span class="line">      // å®šä¹‰ total è®¡ç®—å±æ€§</span><br><span class="line">      // getter</span><br><span class="line">      get() &#123;</span><br><span class="line">        return parseInt(this.count) * parseFloat(this.price);</span><br><span class="line">      &#125;,</span><br><span class="line">      // setter</span><br><span class="line">      set(newValue) &#123;</span><br><span class="line">        alert(&quot;ä¸å…è®¸ç›´æ¥æ“ä½œ total çš„å€¼ï¼Œä½ è®¡ç®—çš„ï¼š&quot; + newValue + &quot;æ— æ•ˆï¼&quot;);</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    // ä¾¦å¬å™¨å£°æ˜</span><br><span class="line">    count(newCount, oldCount) &#123;</span><br><span class="line">      // å®šä¹‰ä¸€ä¸ªä¾¦å¬å™¨ï¼Œåç§°è·Ÿå“åº”å¼æ•°æ® count ä¸€è‡´</span><br><span class="line">      // å•†å“æ•°é‡å¿…é¡» &gt;= 0</span><br><span class="line">      if (Number.isNaN(parseFloat(newCount)) || parseFloat(newCount) &lt; 0) &#123;</span><br><span class="line">        this.count = oldCount;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    price(newPrice, oldPrice) &#123;</span><br><span class="line">      // å®šä¹‰ä¸€ä¸ªä¾¦å¬å™¨ï¼Œåç§°è·Ÿå“åº”å¼æ•°æ® price ä¸€è‡´</span><br><span class="line">      // å•ä»·å¿…é¡» &gt;= 0</span><br><span class="line">      if (Number.isNaN(parseFloat(newPrice)) || parseFloat(newPrice) &lt; 0) &#123;</span><br><span class="line">        this.price = oldPrice;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    /**</span><br><span class="line">      å¤„ç†å•ä»·è¾“å…¥</span><br><span class="line">     */</span><br><span class="line">    handlePriceInput(event) &#123;</span><br><span class="line">      this.price = event.target.value;</span><br><span class="line">    &#125;,</span><br><span class="line">    /**</span><br><span class="line">      å¤„ç†æ•°é‡è¾“å…¥</span><br><span class="line">     */</span><br><span class="line">    handleCountInput(event) &#123;</span><br><span class="line">      this.count = event.target.value;</span><br><span class="line">    &#125;,</span><br><span class="line">    /**</span><br><span class="line">     * è‡ªå®šä¹‰å¤„ç† total</span><br><span class="line">     */</span><br><span class="line">    handleTotal() &#123;</span><br><span class="line">      this.total = 0;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>é™¤äº†å¯ä»¥åœ¨ watch é€‰é¡¹ä¸­æ‰§è¡Œæ¡ä»¶åˆ¤æ–­å¤–ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥åœ¨é‡Œé¢è¿›è¡Œå¼‚æ­¥è¯·æ±‚ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„</p><p><strong>è®¡ç®—å±æ€§ä¸ä¾¦å¬å™¨çš„åŒºåˆ«ï¼š</strong></p><div class="table-container"><table><thead><tr><th>åç§°</th><th>ç‰¹æ€§</th></tr></thead><tbody><tr><td>è®¡ç®—å±æ€§ï¼ˆcomputedï¼‰</td><td>1. è®¡ç®—ä¸€ä¸ªæˆ–å¤šä¸ªå“åº”å¼æ•°æ®çš„å€¼ã€‚ 2. åº”ç”¨ï¼šç®€åŒ–æ¨¡ç‰ˆè¯­æ³•ä¸­çš„å˜é‡è®¡ç®—ã€‚ 3. å…·æœ‰ç¼“å­˜æ€§ï¼Œé¡µé¢é‡æ–°æ¸²æŸ“å€¼ä¸å˜åŒ–ï¼Œè®¡ç®—å±æ€§ä¼šç«‹å³è¿”å›ä¹‹å‰çš„è®¡ç®—ç»“æœï¼Œè€Œä¸å¿…å†æ¬¡æ‰§è¡Œå‡½æ•°ã€‚</td></tr><tr><td>ä¾¦å¬å™¨ï¼ˆwatchï¼‰</td><td>1. è§‚å¯Ÿä¸€ä¸ªå“åº”å¼æ•°æ®å˜åŒ–ã€‚ 2. åº”ç”¨ï¼šç›‘å¬å“åº”å¼æ•°æ®çš„å˜åŒ–ï¼Œåšå¯¹åº”é€»è¾‘å¤„ç†ã€‚ 3. å…·æœ‰ç¼“å­˜æ€§ï¼Œé¡µé¢é‡æ–°æ¸²æŸ“å€¼ä¸å˜åŒ–ï¼Œç›‘å¬æ–¹æ³•ä¸ä¼šæ‰§è¡Œã€‚</td></tr></tbody></table></div><h3 id="Vue-router"><a href="#Vue-router" class="headerlink" title="Vue-router"></a>Vue-router</h3><h4 id="Hashæ¨¡å¼"><a href="#Hashæ¨¡å¼" class="headerlink" title="Hashæ¨¡å¼"></a>Hashæ¨¡å¼</h4><p>hash æ¨¡å¼æ˜¯ç”¨ <code>createWebHashHistory()</code> åˆ›å»ºçš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHashHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  <span class="attr">history</span>: createWebHashHistory(),</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>å®ƒåœ¨å†…éƒ¨ä¼ é€’çš„å®é™… URL ä¹‹å‰ä½¿ç”¨äº†ä¸€ä¸ªå“ˆå¸Œå­—ç¬¦ï¼ˆ<code>#</code>ï¼‰ã€‚ç”±äºè¿™éƒ¨åˆ† URL ä»æœªè¢«å‘é€åˆ°æœåŠ¡å™¨ï¼Œæ‰€ä»¥å®ƒä¸éœ€è¦åœ¨æœåŠ¡å™¨å±‚é¢ä¸Šè¿›è¡Œä»»ä½•ç‰¹æ®Šå¤„ç†ã€‚ä¸è¿‡ï¼Œ<strong>å®ƒåœ¨ SEO ä¸­ç¡®å®æœ‰ä¸å¥½çš„å½±å“</strong>ã€‚å¦‚æœä½ æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ HTML5 æ¨¡å¼</p><h4 id="HTML5æ¨¡å¼"><a href="#HTML5æ¨¡å¼" class="headerlink" title="HTML5æ¨¡å¼"></a>HTML5æ¨¡å¼</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createRouter, createWebHistory &#125; <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = createRouter(&#123;</span><br><span class="line">  <span class="attr">history</span>: createWebHistory(),</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="Vue-element-template"><a href="#Vue-element-template" class="headerlink" title="Vue-element-template"></a>Vue-element-template</h2><p>ç›´æ¥å…ˆçœ‹ä¸€ä¸‹æ–‡æ¡£</p><p><a href="http://panjiachen.github.io/vue-element-admin">vue-element-admin</a> æ˜¯ä¸€ä¸ªåå°å‰ç«¯è§£å†³æ–¹æ¡ˆï¼Œå®ƒåŸºäº <a href="https://github.com/vuejs/vue">vue</a> å’Œ <a href="https://github.com/ElemeFE/element">element-ui</a>å®ç°ã€‚å®ƒä½¿ç”¨äº†æœ€æ–°çš„å‰ç«¯æŠ€æœ¯æ ˆï¼Œå†…ç½®äº† i18 å›½é™…åŒ–è§£å†³æ–¹æ¡ˆï¼ŒåŠ¨æ€è·¯ç”±ï¼Œæƒé™éªŒè¯ï¼Œæç‚¼äº†å…¸å‹çš„ä¸šåŠ¡æ¨¡å‹ï¼Œæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½ç»„ä»¶</p><p><strong>å»ºè®®</strong>ä½ å¯ä»¥æŠŠ <code>vue-element-admin</code>å½“åšå·¥å…·ç®±æˆ–è€…é›†æˆæ–¹æ¡ˆä»“åº“ï¼Œåœ¨ <code>vue-admin-template</code> çš„åŸºç¡€ä¸Šè¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œæƒ³è¦ä»€ä¹ˆåŠŸèƒ½æˆ–è€…ç»„ä»¶å°±å» <code>vue-element-admin</code> é‚£é‡Œå¤åˆ¶è¿‡æ¥ã€‚</p><h2 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h2><h3 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h3><p>å¯¹åº”ä»£ç @/layout</p><p><code>vue-element-admin</code> ä¸­å¤§éƒ¨åˆ†é¡µé¢éƒ½æ˜¯åŸºäºè¿™ä¸ª <code>layout</code> çš„ï¼Œé™¤äº†ä¸ªåˆ«é¡µé¢å¦‚ï¼š<code>login</code> , <code>404</code>, <code>401</code> ç­‰é¡µé¢æ²¡æœ‰ä½¿ç”¨è¯¥<code>layout</code>ã€‚å¦‚æœä½ æƒ³åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­æœ‰å¤šç§ä¸åŒçš„<code>layout</code>ä¹Ÿæ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œåªè¦åœ¨ä¸€çº§è·¯ç”±é‚£é‡Œé€‰æ‹©ä¸åŒçš„<code>layout</code>ç»„ä»¶å°±è¡Œ</p><h3 id="app-main"><a href="#app-main" class="headerlink" title="app-main"></a>app-main</h3><p>å¯¹åº”ä»£ç </p><p><a href="https://github.com/PanJiaChen/vue-element-admin/blob/master/src/layout/components/AppMain.vue">@/layout/components/AppMain</a></p><p>è¿™é‡Œåœ¨ <code>app-main</code> å¤–éƒ¨åŒ…äº†ä¸€å±‚ <code>keep-alive</code> ä¸»è¦æ˜¯ä¸ºäº†ç¼“å­˜ <code>&lt;router-view&gt;</code> çš„ï¼Œé…åˆé¡µé¢çš„ <code>tabs-view</code> æ ‡ç­¾å¯¼èˆªä½¿ç”¨ï¼Œå¦‚ä¸éœ€è¦å¯è‡ªè¡Œ<a href="https://panjiachen.gitee.io/vue-element-admin-site/zh/guide/essentials/tags-view.html">å»é™¤</a>ã€‚</p><p>å…¶ä¸­<code>transition</code> å®šä¹‰äº†é¡µé¢ä¹‹é—´åˆ‡æ¢åŠ¨ç”»ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼Œè‡ªè¡Œä¿®æ”¹è½¬åœºåŠ¨ç”»ã€‚ç›¸å…³<a href="https://cn.vuejs.org/v2/guide/transitions.html">æ–‡æ¡£</a>ã€‚é»˜è®¤æä¾›äº†<code>fade</code>å’Œ<code>fade-transform</code>ä¸¤ä¸ªè½¬åœºåŠ¨ç”»ï¼Œå…·ä½“ css å®ç°è§<a href="https://github.com/PanJiaChen/vue-element-admin/blob/master/src/styles/transition.scss">transition.scss</a>ã€‚å¦‚æœéœ€è¦è°ƒæ•´å¯åœ¨<a href="https://github.com/PanJiaChen/vue-element-admin/blob/master/src/layout/components/AppMain.vue">AppMain.vue</a>ä¸­è°ƒæ•´<code>transition</code> çš„ <code>name</code>ã€‚</p><h2 id="è·¯ç”±å’Œä¾§è¾¹æ "><a href="#è·¯ç”±å’Œä¾§è¾¹æ " class="headerlink" title="è·¯ç”±å’Œä¾§è¾¹æ "></a>è·¯ç”±å’Œä¾§è¾¹æ </h2><p>æœ¬é¡¹ç›®ä¾§è¾¹æ å’Œè·¯ç”±æ˜¯ç»‘å®šåœ¨ä¸€èµ·çš„ï¼Œæ‰€ä»¥ä½ åªæœ‰åœ¨ <code>@/router/index.js</code> ä¸‹é¢é…ç½®å¯¹åº”çš„è·¯ç”±ï¼Œä¾§è¾¹æ å°±èƒ½åŠ¨æ€çš„ç”Ÿæˆäº†ã€‚å¤§å¤§å‡è½»äº†æ‰‹åŠ¨é‡å¤ç¼–è¾‘ä¾§è¾¹æ çš„å·¥ä½œé‡ã€‚å½“ç„¶è¿™æ ·å°±éœ€è¦åœ¨é…ç½®è·¯ç”±çš„æ—¶å€™éµå¾ªä¸€äº›çº¦å®šçš„è§„åˆ™</p><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><p><a href="https://panjiachen.gitee.io/vue-element-admin-site/zh/">vue-element-admin (gitee.io)</a></p><p><a href="https://www.cnblogs.com/jyk/p/16248880.html">ä¸€ç¯‡æ–‡ç« è¯´æ¸… webpackã€viteã€vue-cliã€create-vue çš„åŒºåˆ« - é‡‘è‰²æµ·æ´‹ï¼ˆjykï¼‰ - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> vue </tag>
            
            <tag> vue-element-template </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Obsidianå­¦ä¹ ä¸Zoteroè”åŠ¨</title>
      <link href="2022/10/01/Obsidian%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/10/01/Obsidian%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æ¯”typoraå¤šä¸€ç‚¹åŠŸèƒ½,ç®¡ç†ä¸çœ‹æ–‡çŒ®æ›´æ–¹ä¾¿<br><span id="more"></span></p><p>æˆ‘çœ‹é‡Obsidiançš„ç‚¹åœ¨äºæ–‡æ¡£åŒå‘é“¾æ¥ä»¥åŠæœ‰å…³ç³»å›¾è€ŒZoteroé€‚ç”¨äºç®¡ç†æ–‡çŒ®çš„,å¯ä»¥é€šè¿‡æ’ä»¶è·å–æ›´å¤šåŠŸèƒ½.</p><h2 id="Obesidian"><a href="#Obesidian" class="headerlink" title="Obesidian"></a>Obesidian</h2><p>Markdownè¯­æ³•,åŒå‘é“¾æ¥,ç½‘ç»œè§†å›¾(å…³ç³»å›¾)æ­¤å¤–è¿˜æœ‰å¾ˆå¤šæ’ä»¶ä»¥åŠå¯ä»¥è®¾ç½®æ¨¡æ¿</p><p>Markdownä¸ç”¨å¤šè¯´äº†,å¤šåª’ä½“æ–‡ä»¶æ’å…¥ç±»ä¼¼typoraç›´æ¥æ’å…¥å³å¯.</p><p>åŒå‘é“¾æ¥,è¾“å…¥[[]]å¯ä»¥è·³å‡ºé“¾æ¥,ç”¨äºé“¾æ¥å…¶ä»–æ–‡ä»¶.è‡³äºç½‘ç»œè§†å›¾<img data-src="http://cdn.sekyoro.top/imgs/image-20221005191227303.png" alt="image-20221005191227303" style="zoom:67%;" /></p><p>â€‹           </p><p>æ‰“å¼€å±€éƒ¨å…³ç³»å›¾å³å¯</p><h2 id="Zotero"><a href="#Zotero" class="headerlink" title="Zotero"></a>Zotero</h2><p>ç”¨äºæ–‡çŒ®ç®¡ç†,å¯ä»¥ä¸‹è½½ä¸€äº›æ’ä»¶,æŒ‰ç…§æç¤ºè£…ä¸Šé‚£ä¸ªæµè§ˆå™¨çš„æ’ä»¶</p><h3 id="æ–‡çŒ®å¯¼å…¥"><a href="#æ–‡çŒ®å¯¼å…¥" class="headerlink" title="æ–‡çŒ®å¯¼å…¥"></a>æ–‡çŒ®å¯¼å…¥</h3><p>å…ˆå»ºç«‹ä¸€ä¸ªæ–‡ä»¶å¤¹, æ‰“å¼€æ–‡çŒ®ç½‘ç«™ç‚¹å‡»æ’ä»¶å°±èƒ½ç›´æ¥å¯¼å…¥äº†,æˆ–è€…ä¸‹è½½æ–‡ä»¶æ‹–æ‹½åˆ°ç›¸åº”ä½ç½®.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20221005200640214.png" alt="image-20221005200640214" style="zoom:50%;" /></p><h3 id="æ‰“æ ‡ç­¾"><a href="#æ‰“æ ‡ç­¾" class="headerlink" title="æ‰“æ ‡ç­¾"></a>æ‰“æ ‡ç­¾</h3><p>ç®€å•ä½†å¾ˆæœ‰ç”¨çš„æ“ä½œ,æ‰“ä¸Šæ ‡ç­¾å°±çŸ¥é“è®ºæ–‡æ˜¯ä»€ä¹ˆç±»å‹äº†.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20221005205211225.png" alt="image-20221005205211225" style="zoom:67%;" /></p><p>è¿˜å¯ä»¥ä¿®æ”¹æ ‡ç­¾é¢œè‰²</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20221005205915134.png" alt="image-20221005205915134" style="zoom:67%;" /></p><p>è¿˜å¯ä»¥æ·»åŠ ç¬”è®°</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20221005210030322.png" alt="image-20221005210030322" style="zoom:67%;" /></p><p>åŒå‡»æŸ¥çœ‹æ–‡ç« </p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20221005210204818.png" alt="image-20221005210204818" style="zoom:67%;" /></p><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p><img data-src="http://cdn.sekyoro.top/imgs/image-20221005211654155.png" alt="image-20221005211654155"></p><p>Zoteroæ–‡ä»¶ç”±pdfæ–‡ä»¶å’Œå¿«ç…§ç»„æˆ</p><h3 id="Zotfileæ’ä»¶"><a href="#Zotfileæ’ä»¶" class="headerlink" title="Zotfileæ’ä»¶"></a>Zotfileæ’ä»¶</h3><p>é‡å‘½åæ˜¯ ZotFile æ’ä»¶æä¾›çš„åŠŸèƒ½ï¼Œä½†å±äºæ–‡çŒ®çš„æ—¥å¸¸ç®¡ç†ï¼Œæ‰€ä»¥æ”¾åœ¨è¿™é‡Œè®²ã€‚é™¤äº†ä¼šå°† PDF æ ‡é¢˜ä¿®æ”¹ä¸ºè§„å®šæ ¼å¼ï¼Œè¯¥åŠŸèƒ½æœ€å¸¸ç”¨æ¥å°†æ–‡çŒ®è¿ç§»åˆ°è‡ªå®šä¹‰çš„ç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šæŠŠåŸæœ¬å­˜åœ¨ Zotero æ•°æ®ç›®å½•ä¸‹çš„ PDF æ–‡ä»¶è½¬æ¢ä¸ºä¸€ä¸ªæŒ‡å‘ OneDriveï¼ˆå¯¹äºæˆ‘æ¥è¯´ï¼‰ä¸­æ–‡ä»¶çš„è½¯é“¾æ¥ã€‚</p><p>è¿™ä¹Ÿæ„å‘³ç€å¯¼å…¥ä¸€ç¯‡æ–‡çŒ®éœ€è¦å®Œæˆä¸‰æ­¥æ“ä½œï¼šæ‹–å…¥ PDF æ–‡çŒ®ï¼Œç­‰å¾…å…ƒæ•°æ®æ£€ç´¢å®Œæˆå¹¶æ£€æŸ¥ï¼ˆæˆ–å…ˆå¯¼å…¥å…ƒæ•°æ®å†æ‹–å…¥ PDF æ–‡ä»¶ï¼‰ï¼Œæœ€åå³é”®é€‰æ‹© Rename Attachmentsã€‚æ¯”è¾ƒç¹çï¼Œä½†æ²¡åŠæ³•ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.bilibili.com/video/BV1Ya4y1E7Mo/?vd_source=177ef88aa6608bc3652c72d71b0aa098">è¶…å¥½ç”¨ç¬”è®°è½¯ä»¶ï¼ç¥å¥‡çš„Obsidiané»‘æ›œçŸ³Markdownæ–‡æœ¬ç¼–è¾‘çŸ¥è¯†ç®¡ç†å·¥å…·ï¼Œæˆä¸ºä½ çš„ç¬¬äºŒå¤§è„‘ã€æ–¹ä¿Šçš“åŒå­¦ã€‘_å“”å“©å“”å“©_bilibili</a></p><p><a href="https://www.bilibili.com/video/BV1up4y1i7Hr/">æˆ‘æ˜¯å¦‚ä½•ä½¿ç”¨Obsidiançš„ | é»‘æ›œçŸ³Markdownç¬”è®°è½¯ä»¶å…¥é—¨è®²è§£ | è½»æ¾è®¾ç½®æ‡’äººåŒ…ã€æ–¹ä¿Šçš“åŒå­¦ã€‘_å“”å“©å“”å“©_bilibili</a></p><p><a href="https://zhuanlan.zhihu.com/p/347493385">Zoteroï¼šç§‘ç ”å°ç™½çš„ç¬¬ä¸€æ¬¾æ–‡çŒ®ç®¡ç†è½¯ä»¶ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/349638221">Obsidianï¼šä¸€æ¬¾å®Œç¾çš„ç§‘ç ”ç¬”è®°/çŸ¥è¯†ç®¡ç†è½¯ä»¶ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/98428625?from_voters_page=true">æ–‡çŒ®ç®¡ç†å·¥å…·ï¼ˆä¸€ï¼‰ï¼šZoteroçš„æ“ä½œæŒ‡å— - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://bend1031.github.io/2021/01/10/Zotero-uses-plug-in-Mdnotes-to-link-with-Obsidian/">Zotero åˆ©ç”¨æ’ä»¶ Mdnotes ä¸ Obsidian è”åŠ¨ - Bendçš„åšå®¢ | Bendâ€™s Blog (bend1031.github.io)</a></p><p><a href="https://www.bilibili.com/video/BV1ZE411p7qT/?spm_id_from=333.337.search-card.all.click&amp;vd_source=177ef88aa6608bc3652c72d71b0aa098">ZoteroåŸºç¡€æ“ä½œï¼Œæ¯”Endnoteæ›´å¥½ç”¨çš„æ–‡çŒ®ç®¡ç†è½¯ä»¶_å“”å“©å“”å“©_bilibili</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Obsidian </tag>
            
            <tag> workflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°å½•ä¸€æ¬¡wpé‡è£…</title>
      <link href="2022/09/28/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1wp%E9%87%8D%E8%A3%85/"/>
      <url>2022/09/28/%E8%AE%B0%E5%BD%95%E4%B8%80%E6%AC%A1wp%E9%87%8D%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ç½‘ç«™å‡ºç°äº†ä¸€ç‚¹é—®é¢˜<br><span id="more"></span></p><p>ä¹‹å‰ç”¨wordpresså®‰è£…äº†ä¸»é¢˜ä½†åé¢å‡ºäº†ç‚¹é—®é¢˜,åƒæ˜¯å°‘äº†cssæ–‡ä»¶<del>ä¸æ’é™¤è¢«æ”»å‡»äº†:cry:</del>,åé¢å‘ç°è·å–ä¸åˆ°æ ·å¼æ–‡ä»¶åº”è¯¥httpsæœ‰å…³.</p><p>é‡æ–°è£…,æŠŠä¹‹å‰çš„wordpressæ–‡ä»¶éƒ½åˆ æ‰,ç„¶åå¼€å§‹é‡è£….è¿™é‡Œä¸»è¦å†™ä¸€ä¸‹æ³¨æ„ç‚¹.</p><h2 id="åˆ›å»ºç½‘ç«™"><a href="#åˆ›å»ºç½‘ç«™" class="headerlink" title="åˆ›å»ºç½‘ç«™"></a>åˆ›å»ºç½‘ç«™</h2><p>æˆ‘ç”¨çš„æ˜¯å®å¡”é¢æ¿,æ·»åŠ ç«™ç‚¹,æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„,ä½†æ˜¯æˆ‘åœ¨åˆ›å»ºåå‘ç°è¿›å…¥ç½‘é¡µè¿˜æ˜¯æ˜¾ç¤ºä¸å­˜åœ¨,è¿™æ ·åå¤å‡ æ¬¡æˆ‘éƒ½å´©æºƒäº†,ç»“æœåœ¨æ‰‹æœºä¸Šè®¿é—®ç½‘é¡µåˆå¯ä»¥.æµè§ˆå™¨é€€å‡ºå†è®¿é—®åˆè¡Œäº†,è¯´æ˜è·Ÿæµè§ˆå™¨ç¼“å­˜æœ‰å…³.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220928152210895.png" alt="image-20220928152210895"></p><p>è¿™æ˜¯ç¬¬ä¸€æ­¥,å…ˆåœ¨å®å¡”é¢æ¿ä¸Šåˆ›å»ºä¸€ä¸ªç«™ç‚¹,å…·ä½“æ–¹æ³•çœ‹å‚è€ƒç½‘å€,è¿™é‡Œæˆ‘ä¸è¯´äº†.è¿™ä¸€æ­¥ä¸»è¦è®¾ç½®åŸŸåå’Œip,ç½‘ç«™æ–‡ä»¶å¤¹</p><h2 id="wordpressæ–‡ä»¶"><a href="#wordpressæ–‡ä»¶" class="headerlink" title="wordpressæ–‡ä»¶"></a>wordpressæ–‡ä»¶</h2><p>ä¸‹è½½wordpress,æ”¾å…¥ç¬¬ä¸€æ­¥çš„æ–‡ä»¶å¤¹ä¸­,è§£å‹åè¿›å…¥ç½‘é¡µ</p><p>åˆ›å»ºæ•°æ®åº“å¹¶å¡«å…¥ä¿¡æ¯,è¿›å…¥å®‰è£…é¡µ</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220928152659012.png" alt="image-20220928152659012"></p><h2 id="æ›´æ¢ä¸»é¢˜"><a href="#æ›´æ¢ä¸»é¢˜" class="headerlink" title="æ›´æ¢ä¸»é¢˜"></a>æ›´æ¢ä¸»é¢˜</h2><p>ç„¶åæ˜¯æ¢ä¸»é¢˜,ä¸‹è½½ä¸€ä¸ªä¸»é¢˜,æ”¾å…¥wp-contentä¸­çš„themeçš„æ–‡ä»¶å¤¹ä¸­,åœ¨wpä¸­æœ‰ä¸»é¢˜æ›´æ”¹é€‰é¡¹,ç›´æ¥æ”¹å°±è¡Œ.</p><h2 id="SSLè¯ä¹¦"><a href="#SSLè¯ä¹¦" class="headerlink" title="SSLè¯ä¹¦"></a>SSLè¯ä¹¦</h2><p>æˆ‘æ˜¯åœ¨è…¾è®¯äº‘ä¹°çš„åŸŸå,ä¹Ÿæ˜¯åœ¨åŠçš„å…è´¹SSLè¯ä¹¦,ç„¶ååœ¨å®å¡”é¢æ¿å¡«ä¸Šå¯†é’¥å’Œè¯ä¹¦</p><h2 id="ä¸‹è½½æ’ä»¶"><a href="#ä¸‹è½½æ’ä»¶" class="headerlink" title="ä¸‹è½½æ’ä»¶"></a>ä¸‹è½½æ’ä»¶</h2><p>å¯ä»¥ç›´æ¥åœ¨wordpressä¸­ä¸‹è½½,ä¹Ÿå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä¸‹è½½æ”¾åˆ°æ–‡ä»¶å¤¹ä¸‹</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://zhuanlan.zhihu.com/p/47166916">wordpressæ€ä¹ˆå®‰è£…ï¼Ÿå°ç™½æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/313474705">å®å¡”é¢æ¿å®‰è£…å’Œæ­å»ºwordpresså®Œæ•´æ•™ç¨‹(æ–°æ‰‹æŒ‡å—) - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://www.vpsss.net/19231.html">å¦‚ä½•ç”³è¯·è…¾è®¯äº‘å…è´¹sslè¯ä¹¦å¹¶éƒ¨ç½²åˆ°å®å¡”é¢æ¿ï¼Ÿ-é­è‰¾æ–¯ç¬”è®° (vpsss.net)</a></p><p><a href="https://themeforwp.net/archives/wordpress-install-plugin/#:~:text=å¯¹äºå…è´¹æ’ä»¶ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡åœ¨ WordPressæ’ä»¶åº“,ä¸­æœç´¢åç§°å¯»æ‰¾ï¼Œæ‰¾åˆ°æ’ä»¶åç‚¹å¼€è¯¦æƒ…é¡µï¼Œä¼šçœ‹åˆ°ä¸€ä¸ªè“è‰²çš„DownloadæŒ‰é’®ï¼Œç‚¹å‡»å®ƒå°±ä¼šä¸‹è½½æ’ä»¶çš„å®‰è£…åŒ… å¦‚æœæ˜¯ä»˜è´¹æ’ä»¶çš„è¯ï¼Œä¸€èˆ¬éƒ½éœ€è¦åœ¨æ’ä»¶çš„ç½‘ç«™å•ç‹¬ä¸‹è½½ ä¸‹è½½ä¸‹æ¥ä¸€èˆ¬éƒ½æ˜¯zipçš„å®‰è£…åŒ…ï¼Œè¿™ä¸ªå®‰è£…åŒ…å°±æ˜¯æ’ä»¶çš„æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç›´æ¥å°†å…¶ä¸Šä¼ å³å¯">WordPresså®‰è£…æ’ä»¶çš„3ç§æ–¹æ³• - WPä¸»é¢˜ç«™ (themeforwp.net)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> wordpress </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cs224wå­¦ä¹ </title>
      <link href="2022/09/22/cs224w%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/09/22/cs224w%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>é¡ºä¾¿å­¦ä¸€ä¸‹,è¿˜å¾ˆé‡è¦çš„.ä¸»è®²äººæ˜¯æ–¯å¦ç¦å¤§ç‰›Jure Leskovecï¼Œä»–æ˜¯å›¾è¡¨ç¤ºå­¦ä¹ æ–¹æ³• node2vec å’Œ GraphSAGE ä½œè€…ä¹‹ä¸€ã€‚<br><span id="more"></span></p><blockquote><p>Complex data can be represented as a graph of relationships between objects. Such networks are a fundamental tool for modeling social, technological, and biological systems. This course focuses on the computational, algorithmic, and modeling challenges specific to the analysis of massive graphs. By means of studying the underlying graph structure and its features, students are introduced to machine learning techniques and data mining tools apt to reveal insights on a variety of networks.</p></blockquote><p>ç½‘ç»œç›¸æ¯”ä¸€èˆ¬çš„å›¾åƒ,æ–‡å­—çš„ç‰¹æ®Šæ€§.æ²¡æœ‰ç©ºé—´å±€éƒ¨æ€§</p><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><p><a href="http://web.stanford.edu/class/cs224w/">CS224W | Home (stanford.edu)</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>flaskå­¦ä¹ </title>
      <link href="2022/09/19/flask%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/09/19/flask%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>javaæœ‰ä¸€å¥—springä½†æ˜¯ç•¥æ˜¾ç¬¨é‡è€Œä¸”å¯¹äºä¸ªäººå¹³æ—¶ç©ç©æ¥è¯´æ€»æ„Ÿè§‰æ²¡å¿…è¦(å¦‚æœæŒæ¡äº†çš„è¯æ•ˆç‡è¿˜æ˜¯ä¸é”™çš„) pythonçš„webæ¡†æ¶æœ‰djangoå’Œflaskç­‰</p><span id="more"></span><p>å…ˆå®‰è£…ç¯å¢ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install flask</span><br></pre></td></tr></table></figure><p>å³å¯ å®‰è£…æœ€æ–°ç‰ˆ</p><p>æŒ‰ç…§å®˜ç½‘æ•™ç¨‹</p><h2 id="æœ€å°çš„åº”ç”¨"><a href="#æœ€å°çš„åº”ç”¨" class="headerlink" title="æœ€å°çš„åº”ç”¨"></a>æœ€å°çš„åº”ç”¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello, World!&#x27;</span></span><br></pre></td></tr></table></figure><ol><li>é¦–å…ˆæˆ‘ä»¬å¯¼å…¥äº† <a href="https://flask.net.cn/api.html#flask.Flask"><code>Flask</code></a> ç±»ã€‚ è¯¥ç±»çš„å®ä¾‹å°†ä¼šæˆä¸ºæˆ‘ä»¬çš„ WSGI åº”ç”¨ã€‚</li><li>æ¥ç€æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å®ä¾‹ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åº”ç”¨æ¨¡å—æˆ–è€…åŒ…çš„åç§°ã€‚å¦‚æœä½ ä½¿ç”¨ ä¸€ä¸ªå•ä¸€æ¨¡å—ï¼ˆå°±åƒæœ¬ä¾‹ï¼‰ï¼Œé‚£ä¹ˆåº”å½“ä½¿ç”¨ <code>__name__</code> ï¼Œå› ä¸ºåç§°ä¼šæ ¹æ®è¿™ä¸ª æ¨¡å—æ˜¯æŒ‰åº”ç”¨æ–¹å¼ä½¿ç”¨è¿˜æ˜¯ä½œä¸ºä¸€ä¸ªæ¨¡å—å¯¼å…¥è€Œå‘ç”Ÿå˜åŒ–ï¼ˆå¯èƒ½æ˜¯ â€˜<strong>main</strong>â€™ ï¼Œ ä¹Ÿå¯èƒ½æ˜¯å®é™…å¯¼å…¥çš„åç§°ï¼‰ã€‚è¿™ä¸ªå‚æ•°æ˜¯å¿…éœ€çš„ï¼Œè¿™æ · Flask æ‰èƒ½çŸ¥é“åœ¨å“ªé‡Œå¯ä»¥ æ‰¾åˆ°æ¨¡æ¿å’Œé™æ€æ–‡ä»¶ç­‰ä¸œè¥¿ã€‚æ›´å¤šå†…å®¹è¯¦è§ <a href="https://flask.net.cn/api.html#flask.Flask"><code>Flask</code></a> æ–‡æ¡£ã€‚</li><li>ç„¶åæˆ‘ä»¬ä½¿ç”¨ <a href="https://flask.net.cn/api.html#flask.Flask.route"><code>route()</code></a> è£…é¥°å™¨æ¥å‘Šè¯‰ Flask è§¦å‘å‡½æ•°çš„ URL ã€‚</li><li>å‡½æ•°åç§°è¢«ç”¨äºç”Ÿæˆç›¸å…³è”çš„ URL ã€‚å‡½æ•°æœ€åè¿”å›éœ€è¦åœ¨ç”¨æˆ·æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„ä¿¡æ¯ã€‚</li></ol><p><strong>WSGIçš„ä»‹ç»</strong>ï¼š</p><p>å…¨ç§°Python Web Server Gateway Interfaceï¼ŒæŒ‡å®šäº†webæœåŠ¡å™¨å’ŒPython webåº”ç”¨æˆ–webæ¡†æ¶ä¹‹é—´çš„æ ‡å‡†æ¥å£ï¼Œä»¥æé«˜webåº”ç”¨åœ¨ä¸€ç³»åˆ—webæœåŠ¡å™¨é—´çš„ç§»æ¤æ€§ã€‚ å…·ä½“å¯æŸ¥çœ‹ <a href="https://link.zhihu.com/?target=https%3A//www.python.org/dev/peps/pep-0333/">å®˜æ–¹æ–‡æ¡£</a></p><p>ä»ä»¥ä¸Šä»‹ç»æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š</p><ol><li>WSGIæ˜¯ä¸€å¥—æ¥å£æ ‡å‡†åè®®/è§„èŒƒï¼›</li><li>é€šä¿¡ï¼ˆä½œç”¨ï¼‰åŒºé—´æ˜¯WebæœåŠ¡å™¨å’ŒPython Webåº”ç”¨ç¨‹åºä¹‹é—´ï¼›</li><li>ç›®çš„æ˜¯åˆ¶å®šæ ‡å‡†ï¼Œä»¥ä¿è¯ä¸åŒWebæœåŠ¡å™¨å¯ä»¥å’Œä¸åŒçš„Pythonç¨‹åºä¹‹é—´ç›¸äº’é€šä¿¡</li></ol><p>è¯·ä¸è¦ä½¿ç”¨ <code>flask.py</code> ä½œä¸ºåº”ç”¨åç§°ï¼Œè¿™ä¼šä¸ Flask æœ¬èº«å‘ç”Ÿå†²çªã€‚</p><p><strong>flask</strong> å‘½ä»¤æˆ–è€… python çš„ <code>-m</code> å¼€å…³æ¥è¿è¡Œè¿™ä¸ªåº”ç”¨ã€‚åœ¨ è¿è¡Œåº”ç”¨ä¹‹å‰ï¼Œéœ€è¦åœ¨ç»ˆç«¯é‡Œå¯¼å‡º <code>FLASK_APP</code> ç¯å¢ƒå˜é‡:</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">export</span> FLASK_APP=hello.py</span><br><span class="line">$ flask run</span><br><span class="line"> * Running on http:<span class="comment">//127.0.0.1:5000/</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡flask run -h [host] -p [port]æŒ‡å®šä¸»æœºå’Œç«¯å£</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export FLASK_ENV=development</span><br></pre></td></tr></table></figure><p>æ‰“å¼€å¼€å‘ç¯å¢ƒçš„åŠŸèƒ½</p><ol><li>æ¿€æ´»è°ƒè¯•å™¨ã€‚</li><li>æ¿€æ´»è‡ªåŠ¨é‡è½½ã€‚</li><li>æ‰“å¼€ Flask åº”ç”¨çš„è°ƒè¯•æ¨¡å¼ã€‚</li></ol><p>è¿˜å¯ä»¥é€šè¿‡å¯¼å‡º <code>FLASK_DEBUG=1</code> æ¥å•ç‹¬æ§åˆ¶è°ƒè¯•æ¨¡å¼çš„å¼€å…³,<strong>ç»å¯¹ä¸èƒ½åœ¨ç”Ÿäº§ç¯å¢ƒ ä¸­ä½¿ç”¨è°ƒè¯•å™¨</strong></p><h2 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h2><p>ç°ä»£ web åº”ç”¨éƒ½ä½¿ç”¨æœ‰æ„ä¹‰çš„ URL ï¼Œè¿™æ ·æœ‰åŠ©äºç”¨æˆ·è®°å¿†ï¼Œç½‘é¡µä¼šæ›´å¾—åˆ°ç”¨æˆ·çš„é’çï¼Œ æé«˜å›å¤´ç‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line">app = Flask(__name__)</span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;index page&#x27;</span></span><br><span class="line"><span class="comment"># print(__name__)</span></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/hello&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;hello world&#x27;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥åŠ¨æ€å˜åŒ– URL çš„æŸäº›éƒ¨åˆ†ï¼Œ è¿˜å¯ä»¥ä¸ºä¸€ä¸ªå‡½æ•°æŒ‡å®šå¤šä¸ªè§„åˆ™</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/user/&lt;username&gt;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_user_profile</span>(<span class="params">username</span>):</span></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºç”¨æˆ·å</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;User &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(username)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/post/&lt;int:post_id&gt;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_post</span>(<span class="params">post_id</span>):</span></span><br><span class="line">    <span class="comment"># æ˜¾ç¤ºæäº¤æ•´å‹çš„ç”¨æˆ·&quot;id&quot;çš„ç»“æœï¼Œæ³¨æ„&quot;int&quot;æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²å½¢å¼è½¬æ¢ä¸ºæ•´å‹æ•°æ®</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Post &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(post_id)</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/path/&lt;path:subpath&gt;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_subpath</span>(<span class="params">subpath</span>):</span></span><br><span class="line">    <span class="comment"># æ˜¾ç¤º /path/ ä¹‹åçš„è·¯å¾„å</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Subpath &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(subpath)</span><br></pre></td></tr></table></figure><p>è½¬æ¢å™¨çš„ä¸»è¦ç±»å‹å¦‚ä¸‹ï¼š</p><div class="table-container"><table><thead><tr><th>ç±»å‹</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>string</td><td>é»˜è®¤çš„æ•°æ®ç±»å‹ï¼Œæ¥å—æ²¡æœ‰ä»»ä½•æ–œæ â€œ/â€çš„å­—ç¬¦ä¸²</td></tr><tr><td>int</td><td>æ¥å—æ•´å‹</td></tr><tr><td>float</td><td>æ¥å—æµ®ç‚¹ç±»å‹</td></tr><tr><td>path</td><td>å’Œ string ç±»ä¼¼ï¼Œä½†æ˜¯æ¥å—æ–œæ â€œ/â€</td></tr><tr><td>uuid</td><td>åªæ¥å— uuid å­—ç¬¦ä¸²</td></tr></tbody></table></div><h3 id="å”¯ä¸€çš„-URL-é‡å®šå‘è¡Œä¸º"><a href="#å”¯ä¸€çš„-URL-é‡å®šå‘è¡Œä¸º" class="headerlink" title="å”¯ä¸€çš„ URL / é‡å®šå‘è¡Œä¸º"></a>å”¯ä¸€çš„ URL / é‡å®šå‘è¡Œä¸º</h3><p>ä»¥ä¸‹ä¸¤æ¡è§„åˆ™çš„ä¸åŒä¹‹å¤„åœ¨äºæ˜¯å¦ä½¿ç”¨å°¾éƒ¨çš„æ–œæ ã€‚:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/projects/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">projects</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;The project page&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/about&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">about</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;The about page&#x27;</span></span><br></pre></td></tr></table></figure><p><code>projects</code> çš„ URL æ˜¯ä¸­è§„ä¸­çŸ©çš„ï¼Œå°¾éƒ¨æœ‰ä¸€ä¸ªæ–œæ ï¼Œçœ‹èµ·æ¥å°±å¦‚åŒä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚ è®¿é—®ä¸€ä¸ªæ²¡æœ‰æ–œæ ç»“å°¾çš„ URL æ—¶ Flask ä¼šè‡ªåŠ¨è¿›è¡Œé‡å®šå‘ï¼Œå¸®ä½ åœ¨å°¾éƒ¨åŠ ä¸Šä¸€ä¸ªæ–œæ ã€‚</p><p><code>about</code> çš„ URL æ²¡æœ‰å°¾éƒ¨æ–œæ ï¼Œå› æ­¤å…¶è¡Œä¸ºè¡¨ç°ä¸ä¸€ä¸ªæ–‡ä»¶ç±»ä¼¼ã€‚å¦‚æœè®¿é—®è¿™ä¸ª URL æ—¶æ·»åŠ äº†å°¾éƒ¨æ–œæ å°±ä¼šå¾—åˆ°ä¸€ä¸ª 404 é”™è¯¯ã€‚è¿™æ ·å¯ä»¥ä¿æŒ URL å”¯ä¸€ï¼Œå¹¶å¸®åŠ© æœç´¢å¼•æ“é¿å…é‡å¤ç´¢å¼•åŒä¸€é¡µé¢ã€‚</p><h3 id="æ„å»ºURL"><a href="#æ„å»ºURL" class="headerlink" title="æ„å»ºURL"></a>æ„å»ºURL</h3><p>ä½¿ç”¨url_for()å‡½æ•°</p><p><a href="https://flask.net.cn/api.html#flask.url_for"><code>url_for()</code></a> å‡½æ•°ç”¨äºæ„å»ºæŒ‡å®šå‡½æ•°çš„ URLã€‚å®ƒæŠŠå‡½æ•°åç§°ä½œä¸ºç¬¬ä¸€ä¸ª å‚æ•°ã€‚å®ƒå¯ä»¥æ¥å—ä»»æ„ä¸ªå…³é”®å­—å‚æ•°ï¼Œæ¯ä¸ªå…³é”®å­—å‚æ•°å¯¹åº” URL ä¸­çš„å˜é‡ã€‚æœªçŸ¥å˜é‡ å°†æ·»åŠ åˆ° URL ä¸­ä½œä¸ºæŸ¥è¯¢å‚æ•°ã€‚</p><p>ä¸ºä»€ä¹ˆä¸åœ¨æŠŠ URL å†™æ­»åœ¨æ¨¡æ¿ä¸­ï¼Œè€Œè¦ä½¿ç”¨åè½¬å‡½æ•° <a href="https://flask.net.cn/api.html#flask.url_for"><code>url_for()</code></a> åŠ¨æ€æ„å»ºï¼Ÿ</p><ol><li>åè½¬é€šå¸¸æ¯”ç¡¬ç¼–ç  URL çš„æè¿°æ€§æ›´å¥½ã€‚</li><li>ä½ å¯ä»¥åªåœ¨ä¸€ä¸ªåœ°æ–¹æ”¹å˜ URL ï¼Œè€Œä¸ç”¨åˆ°å¤„ä¹±æ‰¾ã€‚</li><li>URL åˆ›å»ºä¼šä¸ºä½ å¤„ç†ç‰¹æ®Šå­—ç¬¦çš„è½¬ä¹‰å’Œ Unicode æ•°æ®ï¼Œæ¯”è¾ƒç›´è§‚ã€‚</li><li>ç”Ÿäº§çš„è·¯å¾„æ€»æ˜¯ç»å¯¹è·¯å¾„ï¼Œå¯ä»¥é¿å…ç›¸å¯¹è·¯å¾„äº§ç”Ÿå‰¯ä½œç”¨ã€‚</li><li>å¦‚æœä½ çš„åº”ç”¨æ˜¯æ”¾åœ¨ URL æ ¹è·¯å¾„ä¹‹å¤–çš„åœ°æ–¹ï¼ˆå¦‚åœ¨ <code>/myapplication</code> ä¸­ï¼Œä¸åœ¨ <code>/</code> ä¸­ï¼‰ï¼Œ <a href="https://flask.net.cn/api.html#flask.url_for"><code>url_for()</code></a> ä¼šä¸ºä½ å¦¥å–„å¤„ç†ã€‚</li></ol><h3 id="HTTPæ–¹æ³•"><a href="#HTTPæ–¹æ³•" class="headerlink" title="HTTPæ–¹æ³•"></a>HTTPæ–¹æ³•</h3><p>Web åº”ç”¨ä½¿ç”¨ä¸åŒçš„ HTTP æ–¹æ³•å¤„ç† URL ã€‚å½“ä½ ä½¿ç”¨ Flask æ—¶ï¼Œåº”å½“ç†Ÿæ‚‰ HTTP æ–¹æ³•ã€‚ ç¼ºçœæƒ…å†µä¸‹ï¼Œä¸€ä¸ªè·¯ç”±åªå›åº” <code>GET</code> è¯·æ±‚ã€‚ å¯ä»¥ä½¿ç”¨ <a href="https://flask.net.cn/api.html#flask.Flask.route"><code>route()</code></a> è£…é¥°å™¨çš„ <code>methods</code> å‚æ•°æ¥å¤„ç†ä¸åŒçš„ HTTP æ–¹æ³•:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/login&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> do_the_login()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> show_the_login_form()</span><br></pre></td></tr></table></figure><p>å¦‚æœå½“å‰ä½¿ç”¨äº† GET æ–¹æ³•ï¼Œ Flask ä¼šè‡ªåŠ¨æ·»åŠ  <code>HEAD</code> æ–¹æ³•æ”¯æŒï¼Œå¹¶ä¸”åŒæ—¶è¿˜ä¼š æŒ‰ç…§ <a href="https://www.ietf.org/rfc/rfc2068.txt">HTTP RFC</a> æ¥å¤„ç† <code>HEAD</code> è¯·æ±‚ã€‚åŒæ ·ï¼Œ <code>OPTIONS</code> ä¹Ÿä¼šè‡ªåŠ¨å®ç°ã€‚</p><h2 id="é™æ€æ–‡ä»¶"><a href="#é™æ€æ–‡ä»¶" class="headerlink" title="é™æ€æ–‡ä»¶"></a>é™æ€æ–‡ä»¶</h2><p>åŠ¨æ€çš„ web åº”ç”¨ä¹Ÿéœ€è¦é™æ€æ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯ CSS å’Œ JavaScript æ–‡ä»¶ã€‚ç†æƒ³æƒ…å†µä¸‹ä½ çš„ æœåŠ¡å™¨å·²ç»é…ç½®å¥½äº†ä¸ºä½ çš„æä¾›é™æ€æ–‡ä»¶çš„æœåŠ¡ã€‚ä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œ Flask ä¹Ÿèƒ½åšå¥½ è¿™é¡¹å·¥ä½œã€‚åªè¦åœ¨ä½ çš„åŒ…æˆ–æ¨¡å—æ—è¾¹åˆ›å»ºä¸€ä¸ªåä¸º <code>static</code> çš„æ–‡ä»¶å¤¹å°±è¡Œäº†ã€‚ é™æ€æ–‡ä»¶ä½äºåº”ç”¨çš„ <code>/static</code> ä¸­ã€‚</p><p>ä½¿ç”¨ç‰¹å®šçš„ <code>&#39;static&#39;</code> ç«¯ç‚¹å°±å¯ä»¥ç”Ÿæˆç›¸åº”çš„ URL</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url_for(<span class="string">&#x27;static&#x27;</span>, filename=<span class="string">&#x27;style.css&#x27;</span>)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªé™æ€æ–‡ä»¶åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä½ç½®åº”è¯¥æ˜¯ <code>static/style.css</code> ã€‚</p><h3 id="æ¸²æŸ“æ¨¡æ¿"><a href="#æ¸²æŸ“æ¨¡æ¿" class="headerlink" title="æ¸²æŸ“æ¨¡æ¿"></a>æ¸²æŸ“æ¨¡æ¿</h3><p>åœ¨ Python å†…éƒ¨ç”Ÿæˆ HTML ä¸å¥½ç©ï¼Œä¸”ç›¸å½“ç¬¨æ‹™ã€‚å› ä¸ºä½ å¿…é¡»è‡ªå·±è´Ÿè´£ HTML è½¬ä¹‰ï¼Œ ä»¥ç¡®ä¿åº”ç”¨çš„å®‰å…¨ã€‚å› æ­¤ï¼Œ Flask è‡ªåŠ¨ä¸ºä½ é…ç½® <a href="http://jinja.pocoo.org/">Jinja2</a> æ¨¡æ¿å¼•æ“</p><p>Flask å°†ä¼šåœ¨ <code>templates</code> æ–‡ä»¶å¤¹ä¸­å¯»æ‰¾æ¨¡æ¿ã€‚å› æ­¤å¦‚æœä½ çš„åº”ç”¨æ˜¯ä¸ªæ¨¡å—ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹åœ¨æ¨¡å—çš„æ—è¾¹ï¼Œå¦‚æœå®ƒæ˜¯ä¸€ä¸ªåŒ…ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å¤¹åœ¨ä½ çš„åŒ…é‡Œé¢</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello From Flask<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;% if name %&#125;</span><br><span class="line"><span class="comment">&lt;!-- å¦‚æœ name ä¸ä¸ºç©ºåˆ™å°† name æ¸²æŸ“å‡ºæ¥ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello &#123;&#123; name &#125;&#125;!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">&#123;% else %&#125;</span><br><span class="line"><span class="comment">&lt;!-- å¦‚æœ name ä¸ºç©ºåˆ™æ‰“å° Hello World! --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ¨¡æ¿ä¸­ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <a href="http://flask.pocoo.org/docs/1.0/api/#flask.request">request</a>ã€<a href="http://flask.pocoo.org/docs/1.0/api/#flask.session">session</a> å’Œ <a href="http://flask.pocoo.org/docs/1.0/api/#flask.g">g</a> å¯¹è±¡ï¼Œä¹Ÿèƒ½ä½¿ç”¨å‡½æ•° <a href="http://flask.pocoo.org/docs/1.0/api/#flask.get_flashed_messages">get_flashed_messages()</a> ã€‚</p><p>æ¨¡æ¿ç»§æ‰¿æ˜¯ååˆ†æœ‰ç”¨çš„ã€‚å¦‚æœæƒ³è¦çŸ¥é“æ¨¡æ¿ç»§æ‰¿å¦‚ä½•å·¥ä½œçš„è¯ï¼Œè¯·é˜…è¯»æ–‡æ¡£<a href="http://flask.pocoo.org/docs/1.0/patterns/templateinheritance/#template-inheritance">æ¨¡æ¿ç»§æ‰¿</a>ã€‚åŸºæœ¬çš„æ¨¡æ¿ç»§æ‰¿ä½¿å¾—æŸäº›ç‰¹å®šå…ƒç´ ï¼ˆå¦‚æ ‡é¢˜ã€å¯¼èˆªå’Œé¡µè„šï¼‰åœ¨æ¯ä¸€é¡µæˆä¸ºå¯èƒ½</p><p>å¼•å…¥cssæ–‡ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">      <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">href</span>=<span class="string">&quot;&#123;&#123; url_for(&#x27;static&#x27;, filename=&#x27;style.css&#x27;) &#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello ShiYanLou &#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="æ¥æ”¶è¯·æ±‚æ•°æ®"><a href="#æ¥æ”¶è¯·æ±‚æ•°æ®" class="headerlink" title="æ¥æ”¶è¯·æ±‚æ•°æ®"></a>æ¥æ”¶è¯·æ±‚æ•°æ®</h2><p>åœ¨ Flask ä¸­ç”±å…¨å±€å¯¹è±¡ <code>request</code> æ¥æä¾›è¿™äº›ä¿¡æ¯ã€‚å¦‚æœä½ æœ‰ä¸€å®šçš„ Python ç»éªŒï¼Œä½ ä¼šå¥½å¥‡è¿™ä¸ªå¯¹è±¡æ€ä¹ˆå¯èƒ½æ˜¯å…¨å±€çš„ï¼Œå¹¶ä¸” Flask æ˜¯æ€ä¹ˆè¿˜èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚ç­”æ¡ˆæ˜¯ä¸Šä¸‹æ–‡ä½œç”¨åŸŸ</p><h3 id="è¯·æ±‚å¯¹è±¡"><a href="#è¯·æ±‚å¯¹è±¡" class="headerlink" title="è¯·æ±‚å¯¹è±¡"></a>è¯·æ±‚å¯¹è±¡</h3><p>é¦–å…ˆä½ éœ€è¦ä» flask æ¨¡å—ä¸­å¯¼å…¥ <code>request</code> ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br></pre></td></tr></table></figure><p>å½“å‰è¯·æ±‚çš„æ–¹æ³•å¯ä»¥ç”¨<code>method</code>å±æ€§æ¥è®¿é—®ã€‚ä½ å¯ä»¥ç”¨<code>form</code>å±æ€§æ¥è®¿é—®è¡¨å•æ•°æ® (æ•°æ®åœ¨ <code>POST</code> æˆ–è€…<code>PUT</code>ä¸­ä¼ è¾“)ã€‚</p><p>å¦‚æœåœ¨<code>form</code>å±æ€§ä¸­ä¸å­˜åœ¨ä¸Šè¿°é”®å€¼ä¼šå‘ç”Ÿäº›ä»€ä¹ˆï¼Ÿåœ¨è¿™ç§æƒ…å†µä¸‹ä¼šè§¦å‘ä¸€ä¸ªç‰¹åˆ«çš„ <code>KeyError</code>ã€‚ä½ å¯ä»¥åƒæ•è·æ ‡å‡†çš„<code>KeyError</code>ä¸€æ ·æ¥æ•è·å®ƒï¼Œå¦‚æœä½ ä¸è¿™æ ·å»åšï¼Œä¼šæ˜¾ç¤ºä¸€ä¸ª<code>HTTP 400 Bad Request</code>é”™è¯¯é¡µé¢ã€‚æ‰€ä»¥å¾ˆå¤šæƒ…å†µä¸‹ä½ ä¸éœ€è¦å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä½ å¯ä»¥ç”¨<code>args</code>å±æ€§æ¥æ¥æ”¶åœ¨<code>URL ( ?key=value )</code>ä¸­æäº¤çš„å‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchword = request.args.get(<span class="string">&#x27;key&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¨èä½¿ç”¨<code>get</code>æ¥è®¿é—® URL å‚æ•°æˆ–æ•è·<code>KeyError</code>ï¼Œå› ä¸ºç”¨æˆ·å¯èƒ½ä¼šä¿®æ”¹ URLï¼Œå‘ä»–ä»¬æ˜¾ç¤ºä¸€ä¸ª<code>400 bad request</code>é¡µé¢ä¸æ˜¯ç”¨æˆ·å‹å¥½çš„ã€‚</p><h3 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h3><p>ä½ èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°ç”¨ Flask å¤„ç†æ–‡ä»¶ä¸Šä¼ ã€‚åªè¦ç¡®ä¿åœ¨ä½ çš„ HTML è¡¨å•ä¸­ä¸è¦å¿˜è®°è®¾ç½®å±æ€§ <code>enctype=&quot;multipart/form-data&quot;</code> ï¼Œå¦åˆ™æµè§ˆå™¨å°†ä¸ä¼šä¼ é€æ–‡ä»¶ã€‚</p><p>ä¸Šä¼ çš„æ–‡ä»¶æ˜¯å­˜å‚¨åœ¨å†…å­˜æˆ–è€…æ–‡ä»¶ç³»ç»Ÿä¸Šä¸€ä¸ªä¸´æ—¶ä½ç½®ã€‚ä½ å¯ä»¥é€šè¿‡è¯·æ±‚å¯¹è±¡ä¸­<code>files</code>å±æ€§è®¿é—®è¿™äº›æ–‡ä»¶ã€‚æ¯ä¸ªä¸Šä¼ çš„æ–‡ä»¶éƒ½ä¼šå­˜å‚¨åœ¨è¿™ä¸ªå±æ€§å­—å…¸é‡Œã€‚å®ƒè¡¨ç°å¾—åƒä¸€ä¸ªæ ‡å‡†çš„ Python <code>file</code>å¯¹è±¡ï¼Œä½†æ˜¯å®ƒåŒæ ·å…·æœ‰<code>save()</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å…è®¸ä½ å­˜å‚¨æ–‡ä»¶åœ¨æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿä¸Šã€‚</p><p>å·²ä¸Šä¼ çš„æ–‡ä»¶è¢«å‚¨å­˜åœ¨å†…å­˜æˆ–æ–‡ä»¶ç³»ç»Ÿçš„ä¸´æ—¶ä½ç½®ã€‚ä½ å¯ä»¥é€šè¿‡è¯·æ±‚å¯¹è±¡ <code>files</code> å±æ€§æ¥è®¿é—®ä¸Šä¼ çš„æ–‡ä»¶ã€‚æ¯ä¸ªä¸Šä¼ çš„æ–‡ä»¶éƒ½å‚¨å­˜åœ¨è¿™ä¸ª å­—å…¸å‹å±æ€§ä¸­ã€‚è¿™ä¸ªå±æ€§åŸºæœ¬å’Œæ ‡å‡† Python <code>file</code> å¯¹è±¡ä¸€æ ·ï¼Œå¦å¤–å¤šå‡ºä¸€ä¸ª ç”¨äºæŠŠä¸Šä¼ æ–‡ä»¶ä¿å­˜åˆ°æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿä¸­çš„ <a href="https://werkzeug.palletsprojects.com/en/0.15.x/datastructures/#werkzeug.datastructures.FileStorage.save"><code>save()</code></a> æ–¹æ³•ã€‚ä¸‹ä¾‹å±•ç¤ºå…¶å¦‚ä½•è¿ä½œ:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/upload&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upload_file</span>():</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        f = request.files[<span class="string">&#x27;the_file&#x27;</span>]</span><br><span class="line">        f.save(<span class="string">&#x27;/var/www/uploads/uploaded_file.txt&#x27;</span>)</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³è¦çŸ¥é“åœ¨ä¸Šä¼ åˆ°ä½ çš„åº”ç”¨ä¹‹å‰åœ¨å®¢æˆ·ç«¯çš„æ–‡ä»¶åç§°ï¼Œä½ å¯ä»¥è®¿é—®<code>filename</code>å±æ€§ã€‚ä½†è¯·è®°ä½æ°¸è¿œä¸è¦ä¿¡ä»»è¿™ä¸ªå€¼ï¼Œå› ä¸ºè¿™ä¸ªå€¼å¯ä»¥ä¼ªé€ ã€‚å¦‚æœä½ æƒ³è¦ä½¿ç”¨å®¢æˆ·ç«¯çš„æ–‡ä»¶åæ¥åœ¨æœåŠ¡å™¨ä¸Šå­˜å‚¨æ–‡ä»¶ï¼ŒæŠŠå®ƒä¼ é€’åˆ° <code>Werkzeug</code> æä¾›ç»™ä½ çš„ <code>secure_filename()</code> å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"><span class="keyword">from</span> werkzeug <span class="keyword">import</span> secure_filename</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/upload&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upload_file</span>():</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        f = request.files[<span class="string">&#x27;the_file&#x27;</span>]</span><br><span class="line">        f.save(<span class="string">&#x27;/var/www/uploads/&#x27;</span> + secure_filename(f.filename))</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶ä¸Šä¼ æ–¹æ¡ˆ"><a href="#æ–‡ä»¶ä¸Šä¼ æ–¹æ¡ˆ" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ æ–¹æ¡ˆ"></a>æ–‡ä»¶ä¸Šä¼ æ–¹æ¡ˆ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, flash, request, redirect, url_for</span><br><span class="line"><span class="keyword">from</span> werkzeug.utils <span class="keyword">import</span> secure_filename</span><br><span class="line"></span><br><span class="line">UPLOAD_FOLDER = <span class="string">&#x27;/path/to/the/uploads&#x27;</span></span><br><span class="line">ALLOWED_EXTENSIONS = &#123;<span class="string">&#x27;txt&#x27;</span>, <span class="string">&#x27;pdf&#x27;</span>, <span class="string">&#x27;png&#x27;</span>, <span class="string">&#x27;jpg&#x27;</span>, <span class="string">&#x27;jpeg&#x27;</span>, <span class="string">&#x27;gif&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.config[<span class="string">&#x27;UPLOAD_FOLDER&#x27;</span>] = UPLOAD_FOLDER</span><br></pre></td></tr></table></figure><p>é¦–å…ˆæˆ‘ä»¬å¯¼å…¥äº†ä¸€å †ä¸œè¥¿ï¼Œå¤§å¤šæ•°æ˜¯æµ…æ˜¾æ˜“æ‡‚çš„ã€‚ <code>werkzeug.secure_filename()</code> ä¼šåœ¨ç¨åè§£é‡Šã€‚ <code>UPLOAD_FOLDER</code> æ˜¯ä¸Šä¼ æ–‡ ä»¶è¦å‚¨å­˜çš„ç›®å½•ï¼Œ <code>ALLOWED_EXTENSIONS</code> æ˜¯å…è®¸ä¸Šä¼ çš„æ–‡ä»¶æ‰©å±•åçš„é›†åˆã€‚</p><p>ä¸‹ä¸€ä¸ªå‡½æ•°æ£€æŸ¥æ‰©å±•åæ˜¯å¦åˆæ³•ï¼Œä¸Šä¼ æ–‡ä»¶ï¼ŒæŠŠç”¨æˆ·é‡å®šå‘åˆ°å·²ä¸Šä¼ æ–‡ä»¶çš„ URL:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">allowed_file</span>(<span class="params">filename</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;.&#x27;</span> <span class="keyword">in</span> filename <span class="keyword">and</span> \</span><br><span class="line">           filename.rsplit(<span class="string">&#x27;.&#x27;</span>, <span class="number">1</span>)[<span class="number">1</span>].lower() <span class="keyword">in</span> ALLOWED_EXTENSIONS</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">upload_file</span>():</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        <span class="comment"># check if the post request has the file part</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;file&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> request.files:</span><br><span class="line">            flash(<span class="string">&#x27;No file part&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> redirect(request.url)</span><br><span class="line">        file = request.files[<span class="string">&#x27;file&#x27;</span>]</span><br><span class="line">        <span class="comment"># if user does not select file, browser also</span></span><br><span class="line">        <span class="comment"># submit an empty part without filename</span></span><br><span class="line">        <span class="keyword">if</span> file.filename == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">            flash(<span class="string">&#x27;No selected file&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> redirect(request.url)</span><br><span class="line">        <span class="keyword">if</span> file <span class="keyword">and</span> allowed_file(file.filename):</span><br><span class="line">            filename = secure_filename(file.filename)</span><br><span class="line">            file.save(os.path.join(app.config[<span class="string">&#x27;UPLOAD_FOLDER&#x27;</span>], filename))</span><br><span class="line">            <span class="keyword">return</span> redirect(url_for(<span class="string">&#x27;uploaded_file&#x27;</span>,</span><br><span class="line">                                    filename=filename))</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    &lt;!doctype html&gt;</span></span><br><span class="line"><span class="string">    &lt;title&gt;Upload new File&lt;/title&gt;</span></span><br><span class="line"><span class="string">    &lt;h1&gt;Upload new File&lt;/h1&gt;</span></span><br><span class="line"><span class="string">    &lt;form method=post enctype=multipart/form-data&gt;</span></span><br><span class="line"><span class="string">      &lt;input type=file name=file&gt;</span></span><br><span class="line"><span class="string">      &lt;input type=submit value=Upload&gt;</span></span><br><span class="line"><span class="string">    &lt;/form&gt;</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆ <a href="https://werkzeug.palletsprojects.com/en/0.15.x/utils/#werkzeug.utils.secure_filename"><code>secure_filename()</code></a> å‡½æ•°åˆ°åº•æ˜¯æœ‰ä»€ä¹ˆç”¨ï¼Ÿæœ‰ä¸€æ¡åŸ åˆ™æ˜¯â€œæ°¸è¿œä¸è¦ä¿¡ä»»ç”¨æˆ·è¾“å…¥â€ã€‚è¿™æ¡åŸåˆ™åŒæ ·é€‚ç”¨äºå·²ä¸Šä¼ æ–‡ä»¶çš„æ–‡ä»¶åã€‚æ‰€æœ‰æ äº¤çš„è¡¨å•æ•°æ®å¯èƒ½æ˜¯ä¼ªé€ çš„ï¼Œæ–‡ä»¶åä¹Ÿå¯ä»¥æ˜¯å±é™©çš„ã€‚æ­¤æ—¶è¦è°¨è®°ï¼šåœ¨æŠŠæ–‡ä»¶ä¿å­˜åˆ° æ–‡ä»¶ç³»ç»Ÿä¹‹å‰æ€»æ˜¯è¦ä½¿ç”¨è¿™ä¸ªå‡½æ•°å¯¹æ–‡ä»¶åè¿›è¡Œå®‰æ£€ã€‚</p><h2 id="cookies"><a href="#cookies" class="headerlink" title="cookies"></a>cookies</h2><p>è¦è®¿é—® cookies ï¼Œå¯ä»¥ä½¿ç”¨ <a href="https://flask.net.cn/api.html#flask.Request.cookies"><code>cookies</code></a> å±æ€§ã€‚å¯ä»¥ä½¿ç”¨å“åº” å¯¹è±¡ çš„ <a href="https://flask.net.cn/api.html#flask.Response.set_cookie"><code>set_cookie</code></a> æ–¹æ³•æ¥è®¾ç½® cookies ã€‚è¯·æ±‚å¯¹è±¡çš„ <a href="https://flask.net.cn/api.html#flask.Request.cookies"><code>cookies</code></a> å±æ€§æ˜¯ä¸€ä¸ªåŒ…å«äº†å®¢æˆ·ç«¯ä¼ è¾“çš„æ‰€æœ‰ cookies çš„å­—å…¸ã€‚åœ¨ Flask ä¸­ï¼Œå¦‚æœä½¿ç”¨ <a href="https://flask.net.cn/quickstart.html#sessions">ä¼šè¯</a> ï¼Œé‚£ä¹ˆå°±ä¸è¦ç›´æ¥ä½¿ç”¨ cookies ï¼Œå› ä¸º <a href="https://flask.net.cn/quickstart.html#sessions">ä¼šè¯</a> æ¯”è¾ƒå®‰å…¨ä¸€äº›ã€‚</p><p>è¯»å– cookies:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> request</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    username = request.cookies.get(<span class="string">&#x27;username&#x27;</span>)</span><br><span class="line">    <span class="comment"># use cookies.get(key) instead of cookies[key] to not get a</span></span><br><span class="line">    <span class="comment"># KeyError if the cookie is missing.</span></span><br></pre></td></tr></table></figure><h2 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h2><p>ä½¿ç”¨ <a href="https://flask.net.cn/api.html#flask.redirect"><code>redirect()</code></a> å‡½æ•°å¯ä»¥é‡å®šå‘ã€‚ä½¿ç”¨ <a href="https://flask.net.cn/api.html#flask.abort"><code>abort()</code></a> å¯ä»¥ æ›´æ—©é€€å‡ºè¯·æ±‚ï¼Œå¹¶è¿”å›é”™è¯¯ä»£ç :</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> abort, redirect, url_for</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">return</span> redirect(url_for(<span class="string">&#x27;login&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/login&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    abort(<span class="number">401</span>)</span><br><span class="line">    this_is_never_executed()</span><br></pre></td></tr></table></figure><p>ä¸Šä¾‹å®é™…ä¸Šæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå®ƒè®©ä¸€ä¸ªç”¨æˆ·ä»ç´¢å¼•é¡µé‡å®šå‘åˆ°ä¸€ä¸ªæ— æ³•è®¿é—®çš„é¡µé¢ï¼ˆ401 è¡¨ç¤ºç¦æ­¢è®¿é—®ï¼‰ã€‚ä½†æ˜¯ä¸Šä¾‹å¯ä»¥è¯´æ˜é‡å®šå‘å’Œå‡ºé”™è·³å‡ºæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><p>ç¼ºçœæƒ…å†µä¸‹æ¯ç§å‡ºé”™ä»£ç éƒ½ä¼šå¯¹åº”æ˜¾ç¤ºä¸€ä¸ªé»‘ç™½çš„å‡ºé”™é¡µé¢ã€‚ä½¿ç”¨ <a href="https://flask.net.cn/api.html#flask.Flask.errorhandler"><code>errorhandler()</code></a> è£…é¥°å™¨å¯ä»¥å®šåˆ¶å‡ºé”™é¡µé¢:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> render_template</span><br><span class="line"></span><br><span class="line"><span class="meta">@app.errorhandler(<span class="params"><span class="number">404</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">page_not_found</span>(<span class="params">error</span>):</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">&#x27;page_not_found.html&#x27;</span>), <span class="number">404</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ <a href="https://flask.net.cn/api.html#flask.render_template"><code>render_template()</code></a> åé¢çš„ <code>404</code> ï¼Œè¿™è¡¨ç¤ºé¡µé¢å¯¹å°±çš„å‡ºé”™ ä»£ç æ˜¯ 404 ï¼Œå³é¡µé¢ä¸å­˜åœ¨ã€‚ç¼ºçœæƒ…å†µä¸‹ 200 è¡¨ç¤ºï¼šä¸€åˆ‡æ­£å¸¸</p><h2 id="å“åº”"><a href="#å“åº”" class="headerlink" title="å“åº”"></a>å“åº”</h2><p>ä¸€ä¸ªè§†å›¾å‡½æ•°çš„è¿”å›å€¼ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºä¸€ä¸ªå“åº”å¯¹è±¡ã€‚å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒè¢«è½¬æ¢æˆä¸€ä¸ªå“åº”ä¸»ä½“æ˜¯è¯¥å­—ç¬¦ä¸²ï¼Œé”™è¯¯ä»£ç ä¸º <code>200 OK</code> ï¼Œåª’ä½“ç±»å‹ä¸º<code>text/html</code>çš„å“åº”å¯¹è±¡ã€‚Flask æŠŠè¿”å›å€¼è½¬æ¢æˆå“åº”å¯¹è±¡çš„é€»è¾‘å¦‚ä¸‹ï¼š</p><ol><li>å¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªåˆæ³•çš„å“åº”å¯¹è±¡ï¼Œå®ƒä¼šç›´æ¥ä»è§†å›¾è¿”å›ã€‚</li><li>å¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå“åº”å¯¹è±¡ä¼šç”¨å­—ç¬¦ä¸²æ•°æ®å’Œé»˜è®¤å‚æ•°åˆ›å»ºã€‚</li><li>å¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç»„è€Œä¸”å…ƒç»„ä¸­å…ƒç´ èƒ½å¤Ÿæä¾›é¢å¤–çš„ä¿¡æ¯ã€‚è¿™æ ·çš„å…ƒç»„å¿…é¡»æ˜¯(<code>response, status, headers</code>) å½¢å¼ä¸”è‡³å°‘å«æœ‰å…¶ä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚<code>status</code>å€¼å°†ä¼šè¦†ç›–çŠ¶æ€ä»£ç ï¼Œ<code>headers</code>å¯ä»¥æ˜¯ä¸€ä¸ªåˆ—è¡¨æˆ–é¢å¤–çš„æ¶ˆæ¯å¤´å€¼å­—å…¸ã€‚</li><li>å¦‚æœä¸Šè¿°æ¡ä»¶å‡ä¸æ»¡è¶³ï¼ŒFlask ä¼šå‡è®¾è¿”å›å€¼æ˜¯ä¸€ä¸ªåˆæ³•çš„ WSGI åº”ç”¨ç¨‹åºï¼Œå¹¶è½¬æ¢ä¸ºä¸€ä¸ªè¯·æ±‚å¯¹è±¡</li></ol><h2 id="ä¼šè¯"><a href="#ä¼šè¯" class="headerlink" title="ä¼šè¯"></a>ä¼šè¯</h2><p>é™¤äº†è¯·æ±‚å¯¹è±¡ä¹‹å¤–è¿˜æœ‰ä¸€ç§ç§°ä¸º <a href="https://flask.net.cn/api.html#flask.session"><code>session</code></a> çš„å¯¹è±¡ï¼Œå…è®¸ä½ åœ¨ä¸åŒè¯·æ±‚ ä¹‹é—´å‚¨å­˜ä¿¡æ¯ã€‚è¿™ä¸ªå¯¹è±¡ç›¸å½“äºç”¨å¯†é’¥ç­¾ååŠ å¯†çš„ cookie ï¼Œå³ç”¨æˆ·å¯ä»¥æŸ¥çœ‹ä½ çš„ cookie ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰å¯†é’¥å°±æ— æ³•ä¿®æ”¹å®ƒã€‚</p><p>ä½¿ç”¨ä¼šè¯ä¹‹å‰ä½ å¿…é¡»è®¾ç½®ä¸€ä¸ªå¯†é’¥ã€‚ä¸¾ä¾‹è¯´æ˜:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, session, redirect, url_for, escape, request</span><br><span class="line"></span><br><span class="line">app = Flask(__name__)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the secret key to some random bytes. Keep this really secret!</span></span><br><span class="line">app.secret_key = <span class="string">b&#x27;_5#y2L&quot;F4Q8z\n\xec]/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>():</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;username&#x27;</span> <span class="keyword">in</span> session:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Logged in as %s&#x27;</span> % escape(session[<span class="string">&#x27;username&#x27;</span>])</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;You are not logged in&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/login&#x27;</span>, methods=[<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;POST&#x27;</span>]</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>():</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        session[<span class="string">&#x27;username&#x27;</span>] = request.form[<span class="string">&#x27;username&#x27;</span>]</span><br><span class="line">        <span class="keyword">return</span> redirect(url_for(<span class="string">&#x27;index&#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        &lt;form method=&quot;post&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;&lt;input type=text name=username&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;&lt;input type=submit value=Login&gt;</span></span><br><span class="line"><span class="string">        &lt;/form&gt;</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@app.route(<span class="params"><span class="string">&#x27;/logout&#x27;</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logout</span>():</span></span><br><span class="line">    <span class="comment"># remove the username from the session if it&#x27;s there</span></span><br><span class="line">    session.pop(<span class="string">&#x27;username&#x27;</span>, <span class="literal">None</span>)</span><br><span class="line">    <span class="keyword">return</span> redirect(url_for(<span class="string">&#x27;index&#x27;</span>))</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç”¨åˆ°çš„ <a href="https://flask.net.cn/api.html#flask.escape"><code>escape()</code></a> æ˜¯ç”¨æ¥è½¬ä¹‰çš„ã€‚å¦‚æœä¸ä½¿ç”¨æ¨¡æ¿å¼•æ“å°±å¯ä»¥åƒä¸Šä¾‹ ä¸€æ ·ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ¥è½¬ä¹‰</p><h2 id="æ¶ˆæ¯é—ªçƒ"><a href="#æ¶ˆæ¯é—ªçƒ" class="headerlink" title="æ¶ˆæ¯é—ªçƒ"></a>æ¶ˆæ¯é—ªçƒ</h2><p>å¥½çš„åº”ç”¨å’Œç”¨æˆ·ç•Œé¢å…¨éƒ¨æ˜¯å…³äºåé¦ˆã€‚å¦‚æœç”¨æˆ·å¾—ä¸åˆ°è¶³å¤Ÿçš„åé¦ˆï¼Œä»–ä»¬å¯èƒ½ä¼šå˜å¾—è®¨åŒè¿™ä¸ªåº”ç”¨ã€‚Flask æä¾›äº†ä¸€ä¸ªçœŸæ­£çš„ç®€å•çš„æ–¹å¼æ¥é€šè¿‡æ¶ˆæ¯é—ªç°ç³»ç»Ÿç»™ç”¨æˆ·åé¦ˆã€‚æ¶ˆæ¯é—ªç°ç³»ç»ŸåŸºæœ¬ä¸Šä½¿å¾—åœ¨è¯·æ±‚ç»“æŸæ—¶è®°å½•ä¿¡æ¯å¹¶åœ¨ä¸‹ä¸€ä¸ª ï¼ˆä¸”ä»…åœ¨ä¸‹ä¸€ä¸ªï¼‰è¯·æ±‚ä¸­è®¿é—®ã€‚é€šå¸¸ç»“åˆæ¨¡æ¿å¸ƒå±€æ¥æ˜¾ç¤ºæ¶ˆæ¯ã€‚</p><p>ä½¿ç”¨<code>flash()</code>æ–¹æ³•æ¥é—ªç°ä¸€ä¸ªæ¶ˆæ¯ï¼Œä½¿ç”¨<code>get_flashed_messages()</code>èƒ½å¤Ÿè·å–æ¶ˆæ¯ï¼Œ<code>get_flashed_messages()</code>ä¹Ÿèƒ½ç”¨äºæ¨¡æ¿ä¸­ã€‚</p><h2 id="æ—¥å¿—å’Œæ•´åˆ-WSGI-ä¸­é—´ä»¶"><a href="#æ—¥å¿—å’Œæ•´åˆ-WSGI-ä¸­é—´ä»¶" class="headerlink" title="æ—¥å¿—å’Œæ•´åˆ WSGI ä¸­é—´ä»¶"></a>æ—¥å¿—å’Œæ•´åˆ WSGI ä¸­é—´ä»¶</h2><h3 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h3><p>æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°ä¸€ç§æƒ…å†µï¼šç†è®ºä¸Šæ¥è¯´ä½ å¤„ç†çš„æ•°æ®åº”è¯¥æ˜¯æ­£ç¡®çš„ï¼Œç„¶è€Œå®é™…ä¸Šå¹¶ä¸æ­£ç¡®ã€‚æ¯”å¦‚ä½ å¯èƒ½æœ‰ä¸€äº›å®¢æˆ·ç«¯ä»£ç ï¼Œä»£ç å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œä½†æ˜¯æ˜¾ç„¶å®ƒæ˜¯é”™è¯¯çš„ã€‚è¿™å¯èƒ½æ˜¯ç”±äºç”¨æˆ·ç¯¡æ”¹æ•°æ®ï¼Œæˆ–å®¢æˆ·ç«¯ä»£ç å¤±è´¥ã€‚å¤§éƒ¨åˆ†æ—¶å€™é’ˆå¯¹è¿™ä¸€æƒ…å†µè¿”å›<code>400 Bad Request</code>å°±å¯ä»¥äº†ï¼Œä½†æ˜¯æœ‰æ—¶å€™ä¸èƒ½è¿™æ ·åšï¼Œä»£ç å¿…é¡»ç»§ç»­å·¥ä½œã€‚</p><p>ä½ ä¹Ÿæœ‰å¯èƒ½æƒ³è¦è®°å½•ä¸€äº›å‘ç”Ÿçš„ä¸æ­£å¸¸äº‹æƒ…ã€‚è¿™æ—¶å€™æ—¥å¿—å°±æ´¾ä¸Šç”¨å¤„ã€‚ä» Flask 0.3 å¼€å§‹æ—¥å¿—è®°å½•æ˜¯é¢„å…ˆé…ç½®å¥½çš„</p><h4 id="æ•´åˆ-WSGI-ä¸­é—´ä»¶"><a href="#æ•´åˆ-WSGI-ä¸­é—´ä»¶" class="headerlink" title="æ•´åˆ WSGI ä¸­é—´ä»¶"></a>æ•´åˆ WSGI ä¸­é—´ä»¶</h4><p>å¦‚æœä½ æƒ³ç»™ä½ çš„åº”ç”¨æ·»åŠ  WSGI ä¸­é—´ä»¶ï¼Œä½ å¯ä»¥å°è£…å†…éƒ¨ WSGI åº”ç”¨ã€‚ä¾‹å¦‚å¦‚æœä½ æƒ³ä½¿ç”¨ Werkzeug åŒ…ä¸­çš„æŸä¸ªä¸­é—´ä»¶æ¥åº”ä»˜ lighttpd ä¸­çš„ bugsï¼Œä½ å¯ä»¥è¿™æ ·åš:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> werkzeug.contrib.fixers <span class="keyword">import</span> LighttpdCGIRootFix</span><br><span class="line">app.wsgi_app = LighttpdCGIRootFix(app.wsgi_app)</span><br></pre></td></tr></table></figure><h3 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h3><p>åŒ…æ‹¬å››ä¸ªè§†å›¾å‡½æ•°çš„ç¼–å†™ï¼šä¸»é¡µè§†å›¾ã€æ–°å»ºåšå®¢è§†å›¾ã€ç™»å½•è§†å›¾å’Œç­‰åˆå§‹å›¾ä»¥åŠä¸‰ä¸ªæ¨¡æ¿æ–‡ä»¶ã€‚æœ€åç¼–å†™äº†é’ˆå¯¹é¡µé¢è¿›è¡Œç¾åŒ–çš„ style.css æ–‡ä»¶ã€‚å®Œæˆåï¼Œå³å¯å¯åŠ¨é¡¹ç›®å¹¶æ‰§è¡Œç™»å½•ã€ç¼–å†™åšå®¢ç­‰æ“ä½œ</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><a href="https://flask.net.cn/">Flask ä¸­æ–‡ç½‘</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> flask </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++ä¸ç®—æ³•å­¦ä¹ </title>
      <link href="2022/07/09/c-%E4%B8%8E%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/07/09/c-%E4%B8%8E%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è€ƒç ”å’¯,ç°åœ¨å¤ä¹ å¤ä¹ c++å†™ç‚¹æ•°æ®ç»“æ„å’Œç®—æ³•é¢˜.<br><span id="more"></span></p><h2 id="C-å¤ä¹ "><a href="#C-å¤ä¹ " class="headerlink" title="C++å¤ä¹ "></a>C++å¤ä¹ </h2><p>åŸºæœ¬çš„æ•°ç»„æŒ‡é’ˆå­—ç¬¦ä¸²ç»“æ„ä½“æ§åˆ¶ç»“æ„å°±ä¸è¯´äº†,ä¸»è¦å†™å†™STL.</p>]]></content>
      
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>animeGAN</title>
      <link href="2022/06/14/animeGAN/"/>
      <url>2022/06/14/animeGAN/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>acwj_01</title>
      <link href="2022/05/30/acwj-01/"/>
      <url>2022/05/30/acwj-01/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ç»§ç»­ä¹‹å‰çš„å†™ç¼–è¯‘å™¨.<br><span id="more"></span></p><p><a href="https://github.com/DoctorWkt/acwj">æ•™ç¨‹åœ°å€</a></p><p>acwjæ„æ€æ˜¯A Compiler Writing Journey.</p><p>ä¹‹å‰å†™äº†scanå’Œparser,ç®€å•çš„è¿‡äº†åŠ å‡ä¹˜é™¤çš„æ“ä½œ.</p><h3 id="æ“ä½œç¬¦ä¼˜å…ˆçº§"><a href="#æ“ä½œç¬¦ä¼˜å…ˆçº§" class="headerlink" title="æ“ä½œç¬¦ä¼˜å…ˆçº§"></a>æ“ä½œç¬¦ä¼˜å…ˆçº§</h3><p>ç°åœ¨éœ€è¦å®šä¸€ä¸‹æ“ä½œç¬¦ä¼˜å…ˆçº§.æœ‰ä¸¤ç§åŠæ³•,éƒ½æ˜¯é€’å½’ä¸‹é™æ–¹æ³•</p><ol><li><p>åœ¨è¯­è¨€è¯­æ³•ä¸­æ˜ç¡®è¿ç®—ç¬¦ä¼˜å…ˆçº§ </p></li><li><p>ä½¿ç”¨è¿ç®—ç¬¦ä¼˜å…ˆçº§è¡¨å½±å“ç°æœ‰è§£æå™¨</p></li></ol><p>è¿™é‡Œé‡‡ç”¨æ”¹å˜è¯­æ³•çš„æ–¹æ³•</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">expression: additive<span class="built_in">_</span>expression</span><br><span class="line">    ;</span><br><span class="line"></span><br><span class="line">additive<span class="built_in">_</span>expression:</span><br><span class="line">      multiplicative<span class="built_in">_</span>expression</span><br><span class="line">    | additive<span class="built_in">_</span>expression &#x27;+&#x27; multiplicative<span class="built_in">_</span>expression</span><br><span class="line">    | additive<span class="built_in">_</span>expression &#x27;-&#x27; multiplicative<span class="built_in">_</span>expression</span><br><span class="line">    ;</span><br><span class="line"></span><br><span class="line">multiplicative<span class="built_in">_</span>expression:</span><br><span class="line">      number</span><br><span class="line">    | number &#x27;*&#x27; multiplicative<span class="built_in">_</span>expression</span><br><span class="line">    | number &#x27;/&#x27; multiplicative<span class="built_in">_</span>expression</span><br><span class="line">    ;</span><br><span class="line"></span><br><span class="line">number:  T<span class="built_in">_</span>INTLIT</span><br><span class="line">         ;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å…ˆè¿›è¡Œä¹˜å†è¿›è¡ŒåŠ .</p><p>åœ¨ä»£ç ä¸­,å®šä¹‰ä¹˜é™¤å‡½æ•°ä¸åŠ å‡å‡½æ•°.</p><p>åŠ å‡æ³•ä¼˜å…ˆçº§è¾ƒä½,æ‰€ä»¥åœ¨åŠ å‡å‡½æ•°ä¸­éœ€è¦è°ƒç”¨ä¹˜é™¤å‡½æ•°.è€Œä¹˜é™¤å‡½æ•°è‡ªç„¶éœ€è¦è°ƒç”¨primary,è¿™é‡Œå°±æ˜¯å–å­—é¢é‡çš„æ„æ€.</p><p>ä¹˜é™¤å‡½æ•°æ ¸å¿ƒä»£ç .</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">left = primary(); <span class="comment">//å–å€¼ primaryä¸­ä¹Ÿæœ‰scan.</span></span><br><span class="line"></span><br><span class="line">  tokentype = Token.token; <span class="comment">//æ›´æ–°tokentype</span></span><br><span class="line">  <span class="keyword">if</span> (tokentype == _EOF) <span class="comment">//è‹¥è¯»åˆ°æœ«å°¾åˆ™ç›´æ¥è¿”å›.</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// * /</span></span><br><span class="line"><span class="comment">//å¦‚æœæœ‰ä¹˜é™¤å· è¿›å…¥å¾ªç¯</span></span><br><span class="line">  <span class="keyword">while</span> (tokentype == STAR || tokentype == SLASH)</span><br><span class="line">  &#123;</span><br><span class="line">      <span class="comment">//ç»§ç»­å¾—åˆ°å³è¾¹çš„å€¼</span></span><br><span class="line">    scan(&amp;Token);</span><br><span class="line">      </span><br><span class="line">    right = primary(); <span class="comment">//è·å–intlitnode,rightæ˜¯ä¸€ä¸ªleaf node.</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// e.g  * 2 6</span></span><br><span class="line">    left = mkastnode(tok2aop(tokentype), left, right, <span class="number">0</span>); <span class="comment">//e.g * 2 5</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update the details of the current token.</span></span><br><span class="line">    <span class="comment">// If no tokens left, return just the left node</span></span><br><span class="line">    tokentype = Token.token; <span class="comment">//æ›´æ–°</span></span><br><span class="line">    <span class="keyword">if</span> (tokentype == _EOF)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125; <span class="comment">//çœ‹æ˜¯å¦è¯»åˆ°æ–‡ä»¶æœ«å°¾ å¦åˆ™ç»§ç»­è¯» ç›´åˆ°ä¸æ˜¯ä¹˜é™¤å·</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> left;</span><br></pre></td></tr></table></figure><p>åŠ å‡å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">left = multiplicative_expr(); <span class="comment">//é¦–å…ˆéœ€è¦è°ƒç”¨ä¹˜é™¤ ä¼˜å…ˆçº§é—®é¢˜</span></span><br><span class="line">  tokentype = Token.token;</span><br><span class="line">  <span class="keyword">if</span>(tokentype == _EOF)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//åŒä¸Š</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) <span class="comment">//è¿›å…¥å¾ªç¯</span></span><br><span class="line">  &#123;</span><br><span class="line">    scan(&amp;Token);</span><br><span class="line"></span><br><span class="line">    right = multiplicative_expr();  <span class="comment">//åŒç† å…ˆè°ƒç”¨ä¹˜é™¤</span></span><br><span class="line"></span><br><span class="line">    left = mkastnode(tok2aop(tokentype),left,right,<span class="number">0</span>); <span class="comment">// left = left + right</span></span><br><span class="line">    tokentype = Token.token;</span><br><span class="line">    <span class="keyword">if</span>(tokentype == _EOF)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="keyword">return</span> left;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•ç¼ºç‚¹æ˜¯éœ€è¦ä¸ºæ¯ç§è¿ç®—è®¾ç½®è°ä¼˜å…ˆçº§é«˜,æ¯”è¾ƒéº»çƒ¦.</p><p>è¿˜å¯ä»¥ç”¨Pratt Parsing.</p><p>ä¹Ÿå°±æ˜¯ä¸ºæ¯ä¸€ç§æ“ä½œç¬¦è®¾ç½®ä¸€ä¸ªä¼˜å…ˆçº§å€¼.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">left = primary();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// If no tokens left, return just the left node</span></span><br><span class="line">  tokentype = Token.token;</span><br><span class="line">  <span class="keyword">if</span> (tokentype == T_EOF)</span><br><span class="line">    <span class="keyword">return</span> (left);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// While the precedence of this token is</span></span><br><span class="line">  <span class="comment">// more than that of the previous token precedence</span></span><br><span class="line">  <span class="keyword">while</span> (op_precedence(tokentype) &gt; ptp) &#123;</span><br><span class="line">    <span class="comment">// Fetch in the next integer literal</span></span><br><span class="line">    scan(&amp;Token);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Recursively call binexpr() with the</span></span><br><span class="line">    <span class="comment">// precedence of our token to build a sub-tree</span></span><br><span class="line">    right = binexpr(OpPrec[tokentype]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Join that sub-tree with ours. Convert the token</span></span><br><span class="line">    <span class="comment">// into an AST operation at the same time.</span></span><br><span class="line">    left = mkastnode(arithop(tokentype), left, right, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update the details of the current token.</span></span><br><span class="line">    <span class="comment">// If no tokens left, return just the left node</span></span><br><span class="line">    tokentype = Token.token;</span><br><span class="line">    <span class="keyword">if</span> (tokentype == T_EOF)</span><br><span class="line">      <span class="keyword">return</span> (left);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Return the tree we have when the precedence</span></span><br><span class="line">  <span class="comment">// is the same or lower</span></span><br><span class="line">  <span class="keyword">return</span> (left);</span><br></pre></td></tr></table></figure><h3 id="ç”Ÿæˆæ±‡ç¼–"><a href="#ç”Ÿæˆæ±‡ç¼–" class="headerlink" title="ç”Ÿæˆæ±‡ç¼–"></a>ç”Ÿæˆæ±‡ç¼–</h3><p>å°è¯•ç”Ÿæˆæ±‡ç¼–ä»£ç .</p><p>ç”Ÿæˆæ±‡ç¼–ä¹Ÿæ˜¯éå†AST.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">generatecode</span><span class="params">(struct ASTnode *n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> reg;</span><br><span class="line"></span><br><span class="line">  cgpreamble();</span><br><span class="line">  reg= genAST(n);</span><br><span class="line">  cgprintint(reg);      <span class="comment">// Print the register with the result as an int</span></span><br><span class="line">  cgpostamble();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>preå’Œpostæ˜¯æ±‡ç¼–è¿›å‡ºmainçš„ä¸€èˆ¬è¯­å¥.åŒæ—¶ä¸ºäº†æ‰“å°å¯„å­˜å™¨çš„å€¼ä½¿ç”¨äº†printintå‡½æ•°ä¹Ÿåœ¨æ±‡ç¼–preä¸­å£°æ˜äº†.</p><p>å¦å¤–æœ‰free,allocateå¯„å­˜å™¨ã€‚å…ˆfreeä½¿å¯„å­˜å™¨å€¼ä¸º1,å†allocateä½¿ç”¨,ç”±ç½®ä¸º0.allocateååˆèƒ½free.</p><p>å½“ç„¶è¿˜æœ‰ä¸€äº›è¿ç®—çš„æ±‡ç¼–ä»£ç ,æ¯”å¦‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cgmul</span><span class="params">(<span class="keyword">int</span> r1,<span class="keyword">int</span> r2)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">fprintf</span>(Outfile,<span class="string">&quot;\timulq\t%s,%s\n&quot;</span>,reglist[r1],reglist[r2]);</span><br><span class="line">  free_reg(r1);</span><br><span class="line">  <span class="keyword">return</span> r2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡æ³•,é™¤æ³•éœ€è¦æ³¨æ„é¡ºåº.</p><p>æ³¨æ„é™¤æ³•ç›¸å¯¹éº»çƒ¦</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fprintf</span>(Outfile, <span class="string">&quot;\tmovq\t%s,%%rax\n&quot;</span>, reglist[r1]);</span><br><span class="line">  <span class="built_in">fprintf</span>(Outfile, <span class="string">&quot;\tcqo\n&quot;</span>);</span><br><span class="line">  <span class="built_in">fprintf</span>(Outfile, <span class="string">&quot;\tidivq\t%s\n&quot;</span>, reglist[r2]);</span><br><span class="line">  <span class="built_in">fprintf</span>(Outfile, <span class="string">&quot;\tmovq\t%%rax,%s\n&quot;</span>, reglist[r1]);</span><br></pre></td></tr></table></figure><blockquote><p>Division is also not commutative, so the previous notes apply. On the x86-64, itâ€™s even more complicated. We need to load <code>%rax</code> with the <em>dividend</em> from <code>r1</code>. This needs to be extended to eight bytes with <code>cqo</code>. Then, <code>idivq</code> will divide <code>%rax</code> with the divisor in <code>r2</code>, leaving the <em>quotient</em> in <code>%rax</code>, so we need to copy it out to either <code>r1</code> or <code>r2</code>. Then we can free the other register.</p></blockquote><h3 id="å¢åŠ ä¸€äº›è¯­å¥"><a href="#å¢åŠ ä¸€äº›è¯­å¥" class="headerlink" title="å¢åŠ ä¸€äº›è¯­å¥"></a>å¢åŠ ä¸€äº›è¯­å¥</h3><p>ä¹‹å‰è¯æ³•è¯­æ³•åˆ†æéƒ½æ˜¯ä¸€äº›è¿ç®—ç¬¦,ç°åœ¨å¢åŠ ä¸€äº›Statement.</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">statements: statement</span><br><span class="line">     | statement statements</span><br><span class="line">     ;</span><br><span class="line"></span><br><span class="line">statement: &#x27;print&#x27; expression &#x27;;&#x27;</span><br><span class="line">     ;</span><br></pre></td></tr></table></figure><p>å…ˆåªæœ‰printè¯­å¥</p><blockquote><p>An input file consists of several statements. They are either one statement, or a statement followed by more statements. Each statement starts with the keyword <code>print</code>, then one expression, then a semicolon.</p></blockquote><p>statementè¯­å¥æ˜¯printåæ¥binexprå†æœ‰ä¸€ä¸ªåˆ†å·</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">tree</span>;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> reg;</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// match print</span></span><br><span class="line">    match(PRINT, <span class="string">&quot;print&quot;</span>);</span><br><span class="line"></span><br><span class="line">    tree = binexpr(<span class="number">0</span>);  <span class="comment">// expr ast</span></span><br><span class="line">    reg = genAST(tree); <span class="comment">// return reg num</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// print value</span></span><br><span class="line">    genprintint(reg);</span><br><span class="line">    genfreeregs();</span><br><span class="line"></span><br><span class="line">    semi();</span><br><span class="line">    <span class="comment">// ä¹‹å‰å¡åœ¨è¿™ å› ä¸º == å†™æˆäº† = :(</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­åˆ°è¾¾æ–‡ä»¶å°¾ </span></span><br><span class="line">    <span class="keyword">if</span> (Token.token == _EOF)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>ä¹‹å‰å†™äº†binexpr,æ ¹æ®è¿™ä¸ªç”ŸæˆASTå†éå†å¾—åˆ°å€¼.</p><p>æ­¤å¤–è¿˜è¦åˆ¤å®šidentifier,ä»¥å­—æ¯æˆ–_å¼€å¤´</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">isalpha</span>(c) || <span class="string">&#x27;_&#x27;</span> == c)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// read ident</span></span><br><span class="line">      scanident(c, Text, TEXTLEN);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ! focus,it&#x27;s =</span></span><br><span class="line">      <span class="keyword">if</span> (tokentype = keyword(Text))</span><br><span class="line">      &#123;</span><br><span class="line">        t-&gt;token = tokentype;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// if this is not keyword</span></span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;Unrecognised symbol %s on line %d\n&quot;</span>, Text, Line);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯å…³é”®å­—,è®¾ç½®tokeç±»å‹.</p><p>æ­¤å¤–è¿˜è¦è®¾ç½®åŒ¹é…å…³é”®å­—</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒ¹é…</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">match</span><span class="params">(<span class="keyword">int</span> t, <span class="keyword">char</span> *what)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (Token.token == t)</span><br><span class="line">  &#123;</span><br><span class="line">    scan(&amp;Token);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s expected on line %d\n&quot;</span>, what, Line);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*whatæ˜¯éœ€è¦åŒ¹é…çš„å…³é”®å­—,tæ˜¯tokençš„ç±»å‹,æ¯”å¦‚PRINT.</p><p>å½“åŒ¹é…æˆåŠŸç»§ç»­è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦.</p><p>è¯»å…¥ident</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">isalpha</span>(c) || <span class="built_in">isdigit</span>(c) || <span class="string">&#x27;_&#x27;</span> == c)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// Error if we hit the identifier length limit,</span></span><br><span class="line">    <span class="comment">// else append to buf[] and get next character</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// lim is the identifier max length that we defined</span></span><br><span class="line">    <span class="keyword">if</span> (lim - <span class="number">1</span> == i)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;identifier too long on line %d\n&quot;</span>, Line);</span><br><span class="line">      <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (i &lt; lim - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      buf[i++] = c;</span><br><span class="line">    &#125;</span><br><span class="line">    c = next();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// c is not included in this ident so we trace back</span></span><br><span class="line">  putback(c);</span><br><span class="line">  buf[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> i;</span><br></pre></td></tr></table></figure><p>å½“åŒ¹é…é¦–å­—ç¬¦å,è¯»å…¥ident,é™å®šidentå¤§å°.åŒæ—¶å½“è¯»å…¥çš„tokenä¸æ»¡è¶³æ¡ä»¶æ—¶è·³å‡º,å¹¶å°†å…¶putback.æ–¹ä¾¿ä¸‹æ¬¡è¯»å…¥.</p><p>åŒæ—¶åœ¨exprä¸­æ”¹ä¸ºé‡åˆ°åˆ†å·å°±ç»“æŸ,è€Œä¸æ˜¯æ–‡ä»¶å°¾.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">left = primary();</span><br><span class="line"></span><br><span class="line"> tokentype = Token.token;</span><br><span class="line"> <span class="keyword">if</span> (tokentype == SEMI)</span><br><span class="line"> &#123;</span><br><span class="line">   <span class="keyword">return</span> left;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// While the precedence of this token is</span></span><br><span class="line"> <span class="comment">// more than that of the previous token precedence</span></span><br><span class="line"> <span class="keyword">while</span> (op_precedence(tokentype) &gt; ptp)</span><br><span class="line"> &#123;</span><br><span class="line">   scan(&amp;Token);</span><br><span class="line"></span><br><span class="line">   right = binexpr(OpPrec[tokentype]);</span><br><span class="line"></span><br><span class="line">   left = mkastnode(tok2aop(tokentype), left, right, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// Update the details of the current token.</span></span><br><span class="line">   <span class="comment">// If no tokens left, return just the left node</span></span><br><span class="line">   tokentype = Token.token;</span><br><span class="line">   <span class="keyword">if</span> (tokentype == SEMI)</span><br><span class="line">     <span class="keyword">return</span> (left);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">return</span> left;</span><br></pre></td></tr></table></figure><h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><p>æˆ‘ä»¬éœ€è¦</p><ul><li>Declare variables</li><li>Use variables to get stored values</li><li>Assign to variables</li></ul><p>éœ€è¦ä¸€ä¸ªå…¨å±€å˜é‡è¡¨</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Symbol table structure</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">symtable</span> &#123;</span></span><br><span class="line">  <span class="keyword">char</span> *name;                   <span class="comment">// Name of a symbol</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å˜é‡è¡¨</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NSYMBOLS        1024            <span class="comment">// Number of symbol table entries æœ€å¤šå‡ ä¸ªå˜é‡</span></span></span><br><span class="line">extern_ <span class="class"><span class="keyword">struct</span> <span class="title">symtable</span> <span class="title">Gsym</span>[<span class="title">NSYMBOLS</span>];</span> <span class="comment">// Global symbol table å˜é‡è¡¨</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> Globs = <span class="number">0</span>;                   <span class="comment">// Position of next free global symbol slot å˜é‡åœ¨å˜é‡è¡¨ä¸­ä½ç½®</span></span><br></pre></td></tr></table></figure><blockquote><ul><li><code>int findglob(char *s)</code>: Determine if the symbol s is in the global symbol table. Return its slot position or -1 if not found.</li><li><code>static int newglob(void)</code>: Get the position of a new global symbol slot, or die if weâ€™ve run out of positions.</li><li><code>int addglob(char *name)</code>: Add a global symbol to the symbol table. Return the slot number in the symbol table</li></ul></blockquote><p>åŒæ—¶éœ€è¦æ–°çš„è¯­æ³•</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">statements: statement</span><br><span class="line">     |      statement statements</span><br><span class="line">     ;</span><br><span class="line"></span><br><span class="line">statement: &#x27;print&#x27; expression &#x27;;&#x27;</span><br><span class="line">     |     &#x27;int&#x27;   identifier &#x27;;&#x27;</span><br><span class="line">     |     identifier &#x27;=&#x27; expression &#x27;;&#x27;</span><br><span class="line">     ;</span><br><span class="line"></span><br><span class="line">identifier: T<span class="built_in">_</span>IDENT</span><br><span class="line">     ;</span><br></pre></td></tr></table></figure><p>statementeséœ€è¦æ›´æ”¹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Parse one or more statements</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">statements</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> (Token.token) &#123;</span><br><span class="line">    <span class="keyword">case</span> T_PRINT:</span><br><span class="line">      print_statement();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> T_INT:</span><br><span class="line">      var_declaration();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> T_IDENT:</span><br><span class="line">      assignment_statement();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> T_EOF:</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      fatald(<span class="string">&quot;Syntax error, token&quot;</span>, Token.token);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>we will make the expression the left sub-tree of the A_ASSIGN node and save the A_LVIDENT details in the right sub-tree. Why? Because we need to evaluate the expression <em>before</em> we save it into the variable.</p><p>Note that we evaluate the left-hand AST child first, and we get back a register number that holds the left-hand sub-treeâ€™s value. We now pass this register number to the right-hand sub-tree. We need to do this for A_LVIDENT nodes, so that the <code>cgstorglob()</code> function in <code>cg.c</code> knows which register holds the rvalue result of the assignment expression.</p></blockquote><p>è¿™é‡Œå·¦å³æ˜¯åçš„,ç”±äºæˆ‘ä»¬æ˜¯å…ˆåºéå†AST,ä½†åˆéœ€è¦å…ˆè®¡ç®—å³å€¼,æ‰€ä»¥åœ¨èµ‹å€¼è¯­å¥ä¸­,å…ˆè¯»å…¥identifier,åˆ›å»ºLVIDENTèŠ‚ç‚¹èµ‹å€¼ç»™rightreg,ç„¶åä¸ºleftregåˆ›å»ºexpr,æœ€åç”Ÿæˆèµ‹å€¼èŠ‚ç‚¹.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// identifier &#x27;=&#x27; expression &#x27;;&#x27;</span></span><br><span class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">left</span>, *<span class="title">right</span>, *<span class="title">tree</span>;</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// pos of reg</span></span><br><span class="line"> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line"> ident();</span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span> ((id = findglob(Text)) == <span class="number">-1</span>)</span><br><span class="line"> &#123;</span><br><span class="line">   fatals(<span class="string">&quot;Undeclared variable&quot;</span>, Text);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> right = mkastleaf(A_LVIDENT, id);</span><br><span class="line"></span><br><span class="line"> match(EQUAL, <span class="string">&quot;=&quot;</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Parse the following expression</span></span><br><span class="line"> left = binexpr(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Make an assignment AST tree</span></span><br><span class="line"> tree = mkastnode(A_ASSIGN, left, right, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// Generate the assembly code for the assignment</span></span><br><span class="line"> genAST(tree, <span class="number">-1</span>);</span><br><span class="line"> genfreeregs();</span><br><span class="line"></span><br><span class="line"> semi();</span><br></pre></td></tr></table></figure><blockquote><p>Also note that the AST leaf node that <em>retrieves</em> a variableâ€™s value is an A_IDENT node. The leaf that saves into a variable is an A_LVIDENT node. This is the difference between <em>rvalues</em> and <em>lvalues</em>.</p></blockquote><h3 id="æ¯”è¾ƒç¬¦"><a href="#æ¯”è¾ƒç¬¦" class="headerlink" title="æ¯”è¾ƒç¬¦"></a>æ¯”è¾ƒç¬¦</h3><p>å¢åŠ è¯æ³•åˆ†æ,å¢åŠ genASTæ“ä½œ.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> A_EQ:</span><br><span class="line">    <span class="keyword">return</span> cgequal(leftreg,rightreg);</span><br><span class="line">  <span class="keyword">case</span> A_NE:</span><br><span class="line">    <span class="keyword">return</span> cgnotequal(leftreg,rightreg);</span><br><span class="line">  <span class="keyword">case</span> A_LT:</span><br><span class="line">    <span class="keyword">return</span> cglessthan(leftreg,rightreg);</span><br><span class="line">  <span class="keyword">case</span> A_GT:</span><br><span class="line">    <span class="keyword">return</span> cggreaterthan(leftreg,rightreg);</span><br><span class="line">  <span class="keyword">case</span> A_LE:</span><br><span class="line">    <span class="keyword">return</span> cglessequal(leftreg,rightreg);</span><br><span class="line">  <span class="keyword">case</span> A_GE:</span><br><span class="line">    <span class="keyword">return</span> cggreaterequal(leftreg,rightreg);</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    fatald(<span class="string">&quot;Unknown AST operator&quot;</span>,n-&gt;op);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>é‡åˆ°çš„é—®é¢˜</p><blockquote><p>There are six x86-64 instructions which set a register to 1 or 0 based on the two flag values: <code>sete</code>, <code>setne</code>, <code>setg</code>, <code>setl</code>, <code>setge</code> and <code>setle</code> in the order of the above table rows.</p><p>The problem is, these instructions only set the lowest byte of a register. If the register already has bits set outside of the lowest byte, they will stay set. So we might set a variable to 1, but if it already has the value 1000 (decimal), then it will now be 1001 which is not what we want.</p></blockquote><p>The solution is to <code>andq</code> the register after the <code>setX</code> instruction to get rid of the unwanted bits. In <code>cg.c</code> there is a general comparison function to do this:</p><p>æ ¸å¿ƒä»£ç </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fprintf</span>(Outfile,<span class="string">&quot;\tcmpq\t%s,%s\n&quot;</span>,reglist[r2],reglist[r1]);</span><br><span class="line"><span class="built_in">fprintf</span>(Outfile,<span class="string">&quot;\t%s\t%s\n&quot;</span>,how,breglist[r2]);</span><br><span class="line">  <span class="comment">// ä½å­—èŠ‚ä¸1ç›¸ä¸ å…¨è®¾ç½®ä¸º1 å› ä¸ºsetxæŒ‡ä»¤åªè®¾ç½®ä½å­—èŠ‚ é«˜å­—èŠ‚ä¸å˜,æ‰€ä»¥éœ€è¦å°†é«˜å­—èŠ‚æ¸…é™¤</span></span><br><span class="line"><span class="built_in">fprintf</span>(Outfile, <span class="string">&quot;\tandq\t$255,%s\n&quot;</span>, reglist[r2]);</span><br><span class="line">  </span><br><span class="line">free_reg(r1);</span><br><span class="line"><span class="keyword">return</span> r2;</span><br></pre></td></tr></table></figure><blockquote><p>Note that we perform</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">cmpq</span> reglist[r<span class="number">2</span>], reglist[r<span class="number">1</span>]</span><br></pre></td></tr></table></figure><p>because this is actually <code>reglist[r1] - reglist[r2]</code> which is what we really want.</p></blockquote><h3 id="ifè¯­å¥"><a href="#ifè¯­å¥" class="headerlink" title="ifè¯­å¥"></a>ifè¯­å¥</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if (condition is true) </span><br><span class="line">    perform this first block of code</span><br><span class="line">  else</span><br><span class="line">    perform this other block of code</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">       perform the opposite comparison</span><br><span class="line">       jump to L1 if true</span><br><span class="line">       perform the first block of code</span><br><span class="line">       jump to L2</span><br><span class="line">L1:</span><br><span class="line">       perform the other block of code</span><br><span class="line">L2:</span><br></pre></td></tr></table></figure><p>ä¸¾ä¸€ä¸ªä¾‹å­</p><p>Right now, we output code to set a register based on a comparison, e.g.</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">int</span> x; x= <span class="number">7</span> &lt; <span class="number">9</span>;         From input<span class="number">04</span></span><br></pre></td></tr></table></figure><p>becomes</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">movq</span>    $<span class="number">7</span>, %r<span class="number">8</span></span><br><span class="line"><span class="attribute">movq</span>    $<span class="number">9</span>, %r<span class="number">9</span></span><br><span class="line"><span class="attribute">cmpq</span>    %r<span class="number">9</span>, %r<span class="number">8</span></span><br><span class="line"><span class="attribute">setl</span>    %r<span class="number">9</span>b        Set if less than </span><br><span class="line"><span class="attribute">andq</span>    $<span class="number">255</span>,%r<span class="number">9</span></span><br></pre></td></tr></table></figure><p>But for an IF statement, we need to jump on the opposite comparison:</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">if</span> (<span class="number">7</span> &lt; <span class="number">9</span>) </span><br></pre></td></tr></table></figure><p>should become:</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">        movq    <span class="variable">$7</span>, <span class="meta">%r8</span></span><br><span class="line">        movq    <span class="variable">$9</span>, <span class="meta">%r9</span></span><br><span class="line">        cmpq    <span class="meta">%r9</span>, <span class="meta">%r8</span></span><br><span class="line">        jge     L1         Jump <span class="keyword">if</span> greater <span class="keyword">then</span> <span class="keyword">or</span> equal <span class="keyword">to</span></span><br><span class="line">        ....</span><br><span class="line">L1:</span><br></pre></td></tr></table></figure><p>æ–‡æ³•</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">compound<span class="built_in">_</span>statement: &#x27;&#123;&#x27; &#x27;&#125;&#x27;          // empty, i.e. no statement</span><br><span class="line">     |      &#x27;&#123;&#x27; statement &#x27;&#125;&#x27;</span><br><span class="line">     |      &#x27;&#123;&#x27; statement statements &#x27;&#125;&#x27;</span><br><span class="line">     ;</span><br><span class="line"></span><br><span class="line">statement: print<span class="built_in">_</span>statement</span><br><span class="line">     |     declaration</span><br><span class="line">     |     assignment<span class="built_in">_</span>statement</span><br><span class="line">     |     if<span class="built_in">_</span>statement</span><br><span class="line">     ;</span><br><span class="line"></span><br><span class="line">print<span class="built_in">_</span>statement: &#x27;print&#x27; expression &#x27;;&#x27;  ;</span><br><span class="line"></span><br><span class="line">declaration: &#x27;int&#x27; identifier &#x27;;&#x27;  ;</span><br><span class="line"></span><br><span class="line">assignment<span class="built_in">_</span>statement: identifier &#x27;=&#x27; expression &#x27;;&#x27;   ;</span><br><span class="line"></span><br><span class="line">if<span class="built_in">_</span>statement: if<span class="built_in">_</span>head</span><br><span class="line">     |        if<span class="built_in">_</span>head &#x27;else&#x27; compound<span class="built_in">_</span>statement</span><br><span class="line">     ;</span><br><span class="line"></span><br><span class="line">if<span class="built_in">_</span>head: &#x27;if&#x27; &#x27;(&#x27; true<span class="built_in">_</span>false<span class="built_in">_</span>expression &#x27;)&#x27; compound<span class="built_in">_</span>statement  ;</span><br><span class="line"></span><br><span class="line">identifier: T<span class="built_in">_</span>IDENT ;</span><br></pre></td></tr></table></figure><blockquote><p>Note the grammar for the IF statement: itâ€™s either an <code>if_head</code> (with no â€˜elseâ€™ clause), or an <code>if_head</code> followed by a â€˜elseâ€™ and a <code>compound_statement</code>.</p></blockquote><p>è§£å†³æ‚¬æŒ‚elseé—®é¢˜</p><p>if ast ä¿®æ”¹astç»“æ„ä»¥é€‚åº”if</p><ul><li>the sub-tree that evaluates the condition</li><li>the compound statement immediately following</li><li>the optional compound statement after the â€˜elseâ€™ keyword</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/if_stme.png" alt="if_stme" style="zoom:67%;" /></p><h3 id="å®ç°whileå¾ªç¯"><a href="#å®ç°whileå¾ªç¯" class="headerlink" title="å®ç°whileå¾ªç¯"></a>å®ç°whileå¾ªç¯</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lstart: evaluate condition</span><br><span class="line">jump to Lend if condition false</span><br><span class="line">statements</span><br><span class="line">jump to Lstart</span><br><span class="line">Lend:</span><br></pre></td></tr></table></figure><p>whileçš„BNF</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// while<span class="built_in">_</span>statement: &#x27;while&#x27; &#x27;(&#x27; true<span class="built_in">_</span>false<span class="built_in">_</span>expression &#x27;)&#x27; compound<span class="built_in">_</span>statement  ;</span><br></pre></td></tr></table></figure><p>è¯´å®è¯åšèµ·æ¥è¦æ¯”ifç®€å•äº›,ä¸»è¦æ˜¯åœ¨ifä¸­å®ç°äº†æ·»åŠ labelå’Œè·³è½¬çš„x86æ±‡ç¼–.åé¢ç›´æ¥åšè¯æ³•è¯­æ³•åˆ†æå°±è¡Œäº†.</p><p>è¯æ³•åˆ†æ</p><p>while_stmt</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">struct ASTnode *<span class="title">while_stmt</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">condAST</span>, *<span class="title">bodyAST</span>;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// match while(</span></span><br><span class="line">  match(WHILE, <span class="string">&quot;while&quot;</span>);</span><br><span class="line">  lparen();</span><br><span class="line"></span><br><span class="line">  condAST = binexpr(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">if</span> (condAST-&gt;op &lt; A_EQ || condAST-&gt;op &gt; A_GE)</span><br><span class="line">  &#123;</span><br><span class="line">    fatal(<span class="string">&quot;Bad comparison operator&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  rparen();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get the ast for com_stmt</span></span><br><span class="line">  bodyAST = compound_stmt();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> mkastnode(A_WHILE, condAST, <span class="literal">NULL</span>, bodyAST, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>gen.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span>  <span class="title">genWHILE</span><span class="params">(struct ASTnode *n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> Lstart, Lend;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get label</span></span><br><span class="line">  Lstart = label();</span><br><span class="line">  Lend = label();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// generate label</span></span><br><span class="line">  cglabel(Lstart);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¸ifç±»ä¼¼ è®¡ç®—n-&gt;left æ»¡è¶³æ¡ä»¶è·³è½¬</span></span><br><span class="line">  genAST(n-&gt;left, Lend, n-&gt;op);</span><br><span class="line">  genfreeregs();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// compound stmt</span></span><br><span class="line">  genAST(n-&gt;right, NOREG, n-&gt;op);</span><br><span class="line">  genfreeregs();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Finally output the jump back to the condition,</span></span><br><span class="line">  <span class="comment">// and the end label</span></span><br><span class="line">  <span class="comment">// ç»§ç»­è·³å›å»è®¡ç®—</span></span><br><span class="line">  cgjump(Lstart);</span><br><span class="line"></span><br><span class="line">  cglabel(Lend);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> NOREG;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h3><p>BNFèŒƒå¼</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for<span class="built_in">_</span>statement: &#x27;for&#x27; &#x27;(&#x27; preop<span class="built_in">_</span>statement &#x27;;&#x27;</span><br><span class="line">                          true<span class="built_in">_</span>false<span class="built_in">_</span>expression &#x27;;&#x27;</span><br><span class="line">                          postop<span class="built_in">_</span>statement &#x27;)&#x27; compound<span class="built_in">_</span>statement  ;</span><br><span class="line"></span><br><span class="line"> preop<span class="built_in">_</span>statement:  statement  ;        (for now)</span><br><span class="line"> postop<span class="built_in">_</span>statement: statement  ;        (for now)</span><br></pre></td></tr></table></figure><p>é‡åˆ°çš„é—®é¢˜</p><blockquote><p>The wrinkle is that the <code>postop_statement</code> is parsed before the <code>compound_statement</code>, but we have to generate the code for the <code>postop_statement</code> <em>after</em> the code for the <code>compound_statement</code>.</p></blockquote><p>è§£å†³</p><blockquote><p>There are several ways to solve this problem. When I wrote a previous compiler, I chose to put the <code>compound_statement</code> assembly code in a temporary buffer, and â€œplay backâ€ the buffer once Iâ€™d generated the code for the <code>postop_statement</code>. In the SubC compiler, Nils makes clever use of labels and jumps to labels to â€œthreadâ€ the codeâ€™s execution to enforce the correct sequence.</p></blockquote><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">preop<span class="built_in">_</span>statement;</span><br><span class="line"> while ( true<span class="built_in">_</span>false<span class="built_in">_</span>expression ) &#123;</span><br><span class="line">   compound<span class="built_in">_</span>statement;</span><br><span class="line">   postop<span class="built_in">_</span>statement;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>astä»é‡‡ç”¨ä¸‰èŠ‚ç‚¹</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    A<span class="built_in">_</span>GLUE</span><br><span class="line">     /     <span class="keyword">\</span></span><br><span class="line"><span class="keyword"></span>preop     A<span class="built_in">_</span>WHILE</span><br><span class="line">          /    <span class="keyword">\</span></span><br><span class="line"><span class="keyword"></span>     decision  A<span class="built_in">_</span>GLUE</span><br><span class="line">               /    <span class="keyword">\</span></span><br><span class="line"><span class="keyword"></span>         compound  postop</span><br></pre></td></tr></table></figure><blockquote><p>For the FOR grammar, I only want a single statement as the <code>preop_statement</code> and the <code>postop_statement</code>. Right now, we have a <code>compound_statement()</code> function that simply loops until it hits a right curly bracket â€˜}â€™. We need to separate this out so <code>compound_statement()</code> calls <code>single_statement()</code> to get one statement</p></blockquote><p>éœ€è¦å†™ä¸€ä¸ªsingle_stmt()</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> struct ASTnode *<span class="title">single_stmt</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (Token.token)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="keyword">case</span> PRINT:</span><br><span class="line">    <span class="keyword">return</span> print_stmt();</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">  <span class="keyword">case</span> INT:</span><br><span class="line">    int_decl();</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">  <span class="keyword">case</span> IDENT:</span><br><span class="line">    <span class="keyword">return</span> assign_stmt();</span><br><span class="line">  <span class="keyword">case</span> IF:</span><br><span class="line">    <span class="keyword">return</span> if_stmt();</span><br><span class="line">  <span class="keyword">case</span> WHILE:</span><br><span class="line">    <span class="keyword">return</span> while_stmt();</span><br><span class="line">  <span class="keyword">case</span> FOR:</span><br><span class="line">    <span class="keyword">return</span> for_stmt();</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    fatald(<span class="string">&quot;Syntax error, token&quot;</span>, Token.token);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¸éœ€è¦;</p><p>å°†assignå’Œprintè¯­å¥çš„åˆ†å·éœ€æ±‚ä¹Ÿå»æ‰.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">struct ASTnode *<span class="title">compound_stmt</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">left</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">tree</span>;</span></span><br><span class="line">  <span class="comment">// match &#123;</span></span><br><span class="line">  lbrace();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">    tree = single_stmt();</span><br><span class="line">    <span class="comment">// assign,print need simicon</span></span><br><span class="line">    <span class="keyword">if</span> (tree != <span class="literal">NULL</span> &amp;&amp; (tree-&gt;op == A_PRINT || tree-&gt;op == A_ASSIGN))</span><br><span class="line">    &#123;</span><br><span class="line">      semi();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// For each new tree, either save it in left</span></span><br><span class="line">    <span class="comment">// if left is empty, or glue the left and the</span></span><br><span class="line">    <span class="comment">// new tree together</span></span><br><span class="line">    <span class="keyword">if</span> (tree != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> (left == <span class="literal">NULL</span>)</span><br><span class="line">      &#123;</span><br><span class="line">        left = tree;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        left = mkastnode(A_GLUE, left, <span class="literal">NULL</span>, tree, <span class="number">0</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line">    <span class="keyword">if</span> (Token.token == RBRACE)</span><br><span class="line">    &#123;</span><br><span class="line">      rbrace();</span><br><span class="line">      <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å¤åˆè¯­å¥ä¸­å¯¹printå’Œèµ‹å€¼è¯­å¥çš„åˆ†å·åšè¦æ±‚.</p><blockquote><p>What we need is for the single statement parser <em>not</em> to scan in the semicolon, but to leave that up to the compound statement parser. And we scan in semicolons for some statements (e.g. between assignment statements) and not for other statements (e.g. not between successive IF statements).</p></blockquote><p>åœ¨ç”Ÿæˆastæ—¶æ³¨æ„é¡ºåº</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Glue the compound statement and the postop tree</span></span><br><span class="line">tree= mkastnode(A_GLUE, bodyAST, <span class="literal">NULL</span>, postopAST, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make a WHILE loop with the condition and this new body</span></span><br><span class="line">tree= mkastnode(A_WHILE, condAST, <span class="literal">NULL</span>, tree, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// And glue the preop tree to the A_WHILE tree</span></span><br><span class="line"><span class="keyword">return</span>(mkastnode(A_GLUE, preopAST, <span class="literal">NULL</span>, tree, <span class="number">0</span>));</span><br></pre></td></tr></table></figure><h3 id="å®ç°å‡½æ•°"><a href="#å®ç°å‡½æ•°" class="headerlink" title="å®ç°å‡½æ•°"></a>å®ç°å‡½æ•°</h3><p>éœ€è¦å¤„ç†çš„éƒ¨åˆ†</p><ul><li>Types of data: <code>char</code>, <code>int</code>, <code>long</code> etc.</li><li>The return type of each function</li><li>The number of arguments to each function</li><li>Variables local to a function versus global variables</li></ul><p>é¦–å…ˆæ˜¯ç®€å•éƒ¨åˆ†</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function<span class="built_in">_</span>declaration: &#x27;void&#x27; identifier &#x27;(&#x27; &#x27;)&#x27; compound<span class="built_in">_</span>statement   ;</span><br></pre></td></tr></table></figure><p>å³å‡½æ•°å£°æ˜,ä¸å˜é‡å£°æ˜ç±»ä¼¼.</p><p>éœ€è¦å°†å‡½æ•°ååŠ å…¥globsym.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">match(T_VOID, <span class="string">&quot;void&quot;</span>);</span><br><span class="line">ident();</span><br><span class="line">nameslot= addglob(Text);</span><br><span class="line">lparen();</span><br><span class="line">rparen();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Get the AST tree for the compound statement</span></span><br><span class="line">tree= compound_statement();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Return an A_FUNCTION node which has the function&#x27;s nameslot</span></span><br><span class="line"><span class="comment">// and the compound statement sub-tree</span></span><br><span class="line"><span class="keyword">return</span>(mkastunary(A_FUNCTION, tree, nameslot));</span><br></pre></td></tr></table></figure><p>åœ¨mainä¸­ä¿®æ”¹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scan(&amp;Token);                 <span class="comment">// Get the first token from the input</span></span><br><span class="line">genpreamble();                <span class="comment">// Output the preamble</span></span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>) &#123;                   <span class="comment">// Parse a function and</span></span><br><span class="line">  tree = function_declaration();</span><br><span class="line">  genAST(tree, NOREG, <span class="number">0</span>);     <span class="comment">// generate the assembly code for it</span></span><br><span class="line">  <span class="keyword">if</span> (Token.token == T_EOF)   <span class="comment">// Stop when we have reached EOF</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆæ±‡ç¼–</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> A_FUNCTION:</span><br><span class="line">    <span class="comment">// generate code</span></span><br><span class="line">    cgfuncpreamble(Gsym[n-&gt;v.id].name);</span><br><span class="line">    genAST(n-&gt;left, NOREG, n-&gt;op);</span><br><span class="line">    cgfuncpostamble();</span><br><span class="line">    <span class="keyword">return</span> NOREG;</span><br></pre></td></tr></table></figure><h3 id="å¢åŠ ç±»å‹"><a href="#å¢åŠ ç±»å‹" class="headerlink" title="å¢åŠ ç±»å‹"></a>å¢åŠ ç±»å‹</h3><p>å¢åŠ char</p><p>every expression has a type. This includes:</p><ul><li>integer literals, e.g 56 is an <code>int</code></li><li>maths expressions, e.g. 45 - 12 is an <code>int</code></li><li>variables, e.g. if we declared <code>x</code> as a <code>char</code>, then itâ€™s <em>rvalue</em> is a <code>char</code></li></ul><p>å¢åŠ åŸå‹ç±»å‹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Primitive types</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">  P_NONE, P_VOID, P_CHAR, P_INT</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ç°é˜¶æ®µ,noneä¿®é¥°æ§åˆ¶è¯­å¥,voidæ˜¯å‡½æ•°ç¬¦å·,char,intæ˜¯å˜é‡ç¬¦å·.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> &#123;</span></span><br><span class="line">  <span class="keyword">int</span> op;                       <span class="comment">// &quot;Operation&quot; to be performed on this tree</span></span><br><span class="line">  <span class="keyword">int</span> type;                     <span class="comment">// Type of any expression this tree generates</span></span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>astä¹Ÿæœ‰type,ç°åœ¨ä¸»è¦ç”¨äºwiden.</p><p>ä¸»è¦ä¿®æ”¹ä¸€äº›è¯­å¥,æ¯”å¦‚primary</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Parse a primary factor and return an</span></span><br><span class="line"><span class="comment">// AST node representing it.</span></span><br><span class="line"><span class="function"><span class="keyword">static</span> struct ASTnode *<span class="title">primary</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">n</span>;</span></span><br><span class="line">  <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">switch</span> (Token.token) &#123;</span><br><span class="line">    <span class="keyword">case</span> T_INTLIT:</span><br><span class="line">      <span class="comment">// For an INTLIT token, make a leaf AST node for it.</span></span><br><span class="line">      <span class="comment">// Make it a P_CHAR if it&#x27;s within the P_CHAR range</span></span><br><span class="line">      <span class="keyword">if</span> ((Token.intvalue) &gt;= <span class="number">0</span> &amp;&amp; (Token.intvalue &lt; <span class="number">256</span>))</span><br><span class="line">        n = mkastleaf(A_INTLIT, P_CHAR, Token.intvalue);</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        n = mkastleaf(A_INTLIT, P_INT, Token.intvalue);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> T_IDENT:</span><br><span class="line">      <span class="comment">// Check that this identifier exists</span></span><br><span class="line">      id = findglob(Text);</span><br><span class="line">      <span class="keyword">if</span> (id == <span class="number">-1</span>)</span><br><span class="line">        fatals(<span class="string">&quot;Unknown variable&quot;</span>, Text);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Make a leaf AST node for it</span></span><br><span class="line">      n = mkastleaf(A_IDENT, Gsym[id].type, id);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      fatald(<span class="string">&quot;Syntax error, token&quot;</span>, Token.token);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Scan in the next token and return the leaf node</span></span><br><span class="line">  scan(&amp;Token);</span><br><span class="line">  <span class="keyword">return</span> (n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ ¹æ®å€¼çœ‹ç”ŸæˆCHARç±»å‹è¿˜æ˜¯INTç±»å‹èŠ‚ç‚¹.</p><p>printè¯­å¥</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> struct ASTnode *<span class="title">print_statement</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">tree</span>;</span></span><br><span class="line">  <span class="keyword">int</span> lefttype, righttype;</span><br><span class="line">  <span class="keyword">int</span> reg;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// Parse the following expression</span></span><br><span class="line">  tree = binexpr(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Ensure the two types are compatible.</span></span><br><span class="line">  lefttype = P_INT; righttype = tree-&gt;type;</span><br><span class="line">  <span class="keyword">if</span> (!type_compatible(&amp;lefttype, &amp;righttype, <span class="number">0</span>))</span><br><span class="line">    fatal(<span class="string">&quot;Incompatible types&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Widen the tree if required. </span></span><br><span class="line">  <span class="keyword">if</span> (righttype) tree = mkastunary(righttype, P_INT, tree, <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>print åé¢è¦æ±‚æ˜¯int(charå…¶å®ä¹Ÿå¯ä»¥)</p><p>å¦‚æœéœ€è¦widen,åˆ™ç”Ÿæˆä¸€ä¸ªWIDENèŠ‚ç‚¹,ç±»å‹æ˜¯int.</p><p>æœ€åç”ŸæˆprintèŠ‚ç‚¹,ç±»å‹ä¹Ÿæ˜¯None.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree = mkastunary(A_PRINT,P_NONE,tree,<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>assignè¯­å¥</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> struct ASTnode *<span class="title">assignment_statement</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">left</span>, *<span class="title">right</span>, *<span class="title">tree</span>;</span></span><br><span class="line">  <span class="keyword">int</span> lefttype, righttype;</span><br><span class="line">  <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// Make an lvalue node for the variable</span></span><br><span class="line">  right = mkastleaf(A_LVIDENT, Gsym[id].type, id);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Parse the following expression</span></span><br><span class="line">  left = binexpr(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Ensure the two types are compatible.</span></span><br><span class="line">  lefttype = left-&gt;type;</span><br><span class="line">  righttype = right-&gt;type;</span><br><span class="line">  <span class="keyword">if</span> (!type_compatible(&amp;lefttype, &amp;righttype, <span class="number">1</span>))  <span class="comment">// Note the 1</span></span><br><span class="line">    fatal(<span class="string">&quot;Incompatible types&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Widen the left if required.</span></span><br><span class="line">  <span class="keyword">if</span> (lefttype)</span><br><span class="line">    left = mkastunary(lefttype, right-&gt;type, left, <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>ä¹Ÿæ˜¯ä¸»è¦æ£€æŸ¥æ˜¯å¦å¯ä»¥widen,è€Œèµ‹å€¼è¯­å¥åªå…è®¸char widens to int.å³å€¼æ˜¯char.</p><p>æ³¨æ„èµ‹å€¼è¯­å¥ä¸­èŠ‚ç‚¹çš„rightæ˜¯å·¦å€¼,leftæ˜¯å³å€¼.æ‰€ä»¥onlyrightè®¾ç½®ä¸º1</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">i = <span class="number">6</span>;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ6å…¶å®æ˜¯charç±»å‹,å› ä¸º6å¤„åœ¨charèŒƒå›´å†…,ä½†æ˜¯èµ‹å€¼è¯­å¥ç”ŸæˆwidenèŠ‚ç‚¹,ç›¸å½“äº</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">left = mkastunary(lefttype, right-&gt;type, left, <span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>op:WIDEN,type:int</p><p>æœ€åè¿”å›èµ‹å€¼è¯­å¥èŠ‚ç‚¹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tree = mkastnode(A_ASSIGN,P_INT,left,<span class="literal">NULL</span>,right,<span class="number">0</span>);</span><br></pre></td></tr></table></figure><h3 id="æ›´å¤šå‡½æ•°"><a href="#æ›´å¤šå‡½æ•°" class="headerlink" title="æ›´å¤šå‡½æ•°"></a>æ›´å¤šå‡½æ•°</h3><ul><li>define a function, which we already have,</li><li>call a function with a single value which for now cannot be used,</li><li>return a value from a function,</li><li>use a function call as both a statement and also an expression, and</li><li>ensure that void functions never return a value and non-void functions must return a value.</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">function_call: identifier <span class="string">&#x27;(&#x27;</span> expression <span class="string">&#x27;)&#x27;</span>   ;</span><br></pre></td></tr></table></figure><p>åé¢ç§»æ¤åˆ°äº†ARMä¸‹,åœ¨Linuxä¸Šå®‰è£…äº†gccçš„armç‰ˆæœ¬,å¯ä»¥ç”Ÿæˆarmæ±‡ç¼–ç”Ÿæˆå¯æ‰§è¡Œç¨‹åº.å®‰è£…qemu,æ‰§è¡Œarmç¨‹åº.</p><h3 id="æ–°çš„è¯­æ³•"><a href="#æ–°çš„è¯­æ³•" class="headerlink" title="æ–°çš„è¯­æ³•"></a>æ–°çš„è¯­æ³•</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">global<span class="built_in">_</span>declarations : global<span class="built_in">_</span>declarations </span><br><span class="line">     | global<span class="built_in">_</span>declaration global<span class="built_in">_</span>declarations</span><br><span class="line">     ;</span><br><span class="line"></span><br><span class="line">global<span class="built_in">_</span>declaration: function<span class="built_in">_</span>declaration | var<span class="built_in">_</span>declaration ;</span><br><span class="line"></span><br><span class="line">function<span class="built_in">_</span>declaration: type identifier &#x27;(&#x27; &#x27;)&#x27; compound<span class="built_in">_</span>statement   ;</span><br><span class="line"></span><br><span class="line">var<span class="built_in">_</span>declaration: type identifier<span class="built_in">_</span>list &#x27;;&#x27;  ;</span><br><span class="line"></span><br><span class="line">type: type<span class="built_in">_</span>keyword opt<span class="built_in">_</span>pointer  ;</span><br><span class="line"></span><br><span class="line">type<span class="built_in">_</span>keyword: &#x27;void&#x27; | &#x27;char&#x27; | &#x27;int&#x27; | &#x27;long&#x27;  ;</span><br><span class="line"></span><br><span class="line">opt<span class="built_in">_</span>pointer: &lt;empty&gt; | &#x27;*&#x27; opt<span class="built_in">_</span>pointer  ;</span><br><span class="line"></span><br><span class="line">identifier<span class="built_in">_</span>list: identifier | identifier &#x27;,&#x27; identifier<span class="built_in">_</span>list ;</span><br></pre></td></tr></table></figure><p>Prefix Operators â€˜*â€™ and â€˜&amp;â€™</p><p>With declarations out of the road, letâ€™s now look at parsing expressions where â€˜*â€™ and â€˜&amp;â€™ are operators that come before an expression. The BNF grammar looks like this:</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">prefix_expression:</span> primary</span><br><span class="line">    | <span class="string">&#x27;*&#x27;</span> prefix_expression</span><br><span class="line">    | <span class="string">&#x27;&amp;&#x27;</span> prefix_expression</span><br><span class="line">    <span class="comment">;</span></span><br></pre></td></tr></table></figure><h3 id="æ›´å¤šæ“ä½œ"><a href="#æ›´å¤šæ“ä½œ" class="headerlink" title="æ›´å¤šæ“ä½œ"></a>æ›´å¤šæ“ä½œ</h3><div class="table-container"><table><thead><tr><th>`</th><th></th><th>`</th><th>T_LOGOR</th></tr></thead><tbody><tr><td><code>&amp;&amp;</code></td><td>T_LOGAND</td></tr><tr><td>`</td><td>`</td><td>T_OR</td></tr><tr><td><code>^</code></td><td>T_XOR</td></tr><tr><td><code>&lt;&lt;</code></td><td>T_LSHIFT</td></tr><tr><td><code>&gt;&gt;</code></td><td>T_RSHIFT</td></tr><tr><td><code>++</code></td><td>T_INC</td></tr><tr><td><code>--</code></td><td>T_DEC</td></tr><tr><td><code>~</code></td><td>T_INVERT</td></tr><tr><td><code>!</code></td><td>T_LOGNO</td></tr></tbody></table></div><p>å¢åŠ å…¨å±€å˜é‡ä¸å±€éƒ¨å˜é‡.</p><p>Type Checking and Pointer Offsets</p>]]></content>
      
      
      
        <tags>
            
            <tag> compiler </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>write_a_compiler_by_yourself</title>
      <link href="2022/05/06/write-a-compiler-by-yourself/"/>
      <url>2022/05/06/write-a-compiler-by-yourself/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è¿™æ˜¯ä¸€ä¸ªtough part<br><span id="more"></span><br>æœ¬äººå­¦è‰ºä¸ç²¾,è¿™é‡Œå…ˆåˆ—ä¸¾ä¸€ä¸‹ç”¨åˆ°çš„èµ„æ–™.<br><a href="https://compilers.iecc.com/">è‡ªå·±å†™ä¸€ä¸ªç¼–è¯‘å™¨</a></p><p><a href="https://lotabout.me/2015/write-a-C-interpreter-1/">æ‰‹æŠŠæ‰‹æ•™ä½ æ„å»º C è¯­è¨€ç¼–è¯‘å™¨</a></p><p>ä¸€ä¸ªè‹±æ–‡ä¸€ä¸ªä¸­æ–‡,å¯ä»¥è¯´æ˜¯æ¯”è¾ƒè¯¦ç»†äº†.</p><p>è¿˜æœ‰å›½å†…æ¸…åçš„<a href="https://decaf-lang.github.io/minidecaf-tutorial">minidecaf</a>,æœ€åæˆ‘è¿˜æ˜¯ç”¨äº†åŒ—å¤§çš„.</p><p>éœ€è¦è£…docker.è¾“å…¥docker versionæŠ¥é”™.åº”è¯¥æ˜¯Hyper-Væˆ–æ˜¯WSL2æœªå¼€å¯,å¼€äº†ä¹‹å</p><p><img data-src="https://s2.loli.net/2022/05/08/EcgFvkbuN63iV75.png" alt="image-20220508192521986"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &quot;C:\Program Files\Docker\Docker&quot;</span><br><span class="line"></span><br><span class="line">DockerCli.exe -SwitchDaemon</span><br></pre></td></tr></table></figure><p>ä¸€é¡¿æ“ä½œ,åŸºæœ¬å°±è¡Œäº†.å¦‚æœé‡åˆ°è¿™ç§é”™è¯¯<a href="https://blog.csdn.net/sunshineGGB/article/details/122838156">Containers feature is disabled. Enable it using the PowerShell script in an administrative</a></p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="ç¼–è¯‘å™¨ç»“æ„"><a href="#ç¼–è¯‘å™¨ç»“æ„" class="headerlink" title="ç¼–è¯‘å™¨ç»“æ„"></a>ç¼–è¯‘å™¨ç»“æ„</h3><p>ä¸€èˆ¬è€Œè¨€ï¼Œç¼–è¯‘å™¨çš„ç¼–å†™åˆ†ä¸º 3 ä¸ªæ­¥éª¤ï¼š</p><ol><li>è¯æ³•åˆ†æå™¨ï¼Œç”¨äºå°†å­—ç¬¦ä¸²è½¬åŒ–æˆå†…éƒ¨çš„è¡¨ç¤ºç»“æ„ã€‚</li><li>è¯­æ³•åˆ†æå™¨ï¼Œå°†è¯æ³•åˆ†æå¾—åˆ°çš„æ ‡è®°æµï¼ˆtokenï¼‰ç”Ÿæˆä¸€æ£µè¯­æ³•æ ‘ã€‚</li><li>ç›®æ ‡ä»£ç çš„ç”Ÿæˆï¼Œå°†è¯­æ³•æ ‘è½¬åŒ–æˆç›®æ ‡ä»£ç ã€‚</li></ol><p>åœ¨è¿™é‡Œæˆ‘ä»¬åªéœ€è¦è®¾è®¡ä¸€ä¸ªç¨‹åº, å°†è¾“å…¥çš„ SysY æºä»£ç , ç¼–è¯‘åˆ° RISC-V æ±‡ç¼–å³å¯. åœ¨è¿™ç§æ„ä¹‰ä¹‹ä¸‹, ç¼–è¯‘å™¨é€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆ:</p><ul><li><strong>å‰ç«¯:</strong> é€šè¿‡è¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æ, å°†æºä»£ç è§£ææˆæŠ½è±¡è¯­æ³•æ ‘ (abstract syntax tree, AST). é€šè¿‡è¯­ä¹‰åˆ†æ, æ‰«ææŠ½è±¡è¯­æ³•æ ‘, æ£€æŸ¥å…¶æ˜¯å¦å­˜åœ¨è¯­ä¹‰é”™è¯¯.</li><li><strong>ä¸­ç«¯:</strong> å°†æŠ½è±¡è¯­æ³•æ ‘è½¬æ¢ä¸ºä¸­é—´è¡¨ç¤º (intermediate representation, IR), å¹¶åœ¨æ­¤åŸºç¡€ä¸Šå®Œæˆä¸€äº›æœºå™¨æ— å…³ä¼˜åŒ–.</li><li><strong>åç«¯:</strong> å°†ä¸­é—´è¡¨ç¤ºè½¬æ¢ä¸ºç›®æ ‡å¹³å°çš„æ±‡ç¼–ä»£ç , å¹¶åœ¨æ­¤åŸºç¡€ä¸Šå®Œæˆä¸€äº›æœºå™¨ç›¸å…³ä¼˜åŒ–.</li></ul><p>åœ¨å‰ç«¯ä¸­, æˆ‘ä»¬çš„ç›®çš„æ˜¯æŠŠæ–‡æœ¬å½¢å¼çš„æºä»£ç , è½¬æ¢ä¸ºå†…å­˜ä¸­çš„ä¸€ç§æ ‘å½¢çš„æ•°æ®ç»“æ„. å› ä¸ºç›¸æ¯”äºå¤„ç†å­—ç¬¦ä¸², åœ¨æ ‘å½¢ç»“æ„ä¸Šè¿›è¡Œå¤„ç†æ˜¾ç„¶è¦æ›´æ–¹ä¾¿, ä¸”æ•ˆç‡æ›´é«˜. æŠŠæ–‡æœ¬å½¢å¼çš„æºä»£ç å˜æˆæ•°æ®ç»“æ„å½¢å¼çš„ AST æœ‰å¾ˆå¤šç§æ–¹æ³•, ä½†ç›¸å¯¹ç§‘å­¦çš„æ–¹æ³•æ˜¯å¯¹æºä»£ç è¿›è¡Œè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æ.</p><p>è€Œè¯­æ³•åˆ†æçš„ç›®çš„, æŒ‰ç…§ç¨‹åºçš„è¯­æ³•è§„åˆ™, å°†è¾“å…¥çš„ token æµå˜æˆç¨‹åºçš„ AST. ä¾‹å¦‚, å¯¹äº SysY ç¨‹åº, å…³é”®å­— <code>int</code> åè·Ÿçš„ä¸€å®šæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦, è€Œä¸å¯èƒ½æ˜¯ä¸€ä¸ªæ•´æ•°å­—é¢é‡, è¿™ä¾¿æ˜¯è¯­æ³•è§„åˆ™. Parser ä¼šé€šè¿‡æŸäº›è¯­æ³•åˆ†æç®—æ³•, ä¾‹å¦‚ LL åˆ†ææ³•æˆ– LR åˆ†ææ³•, å¯¹ token æµåšä¸€ç³»åˆ—çš„åˆ†æ, å¹¶æœ€ç»ˆå¾—åˆ° AST.</p><p>è¯­ä¹‰åˆ†æé˜¶æ®µ, ç¼–è¯‘å™¨é€šå¸¸ä¼š:</p><ul><li><strong>å»ºç«‹ç¬¦å·è¡¨</strong>, è·Ÿè¸ªç¨‹åºé‡Œå˜é‡çš„å£°æ˜å’Œä½¿ç”¨, ç¡®å®šç¨‹åºåœ¨æŸå¤„ç”¨åˆ°äº†å“ªä¸€ä¸ªå˜é‡, åŒæ—¶ä¹Ÿå¯å‘ç°å˜é‡é‡å¤å®šä¹‰/å¼•ç”¨æœªå®šä¹‰å˜é‡ä¹‹ç±»çš„é”™è¯¯.</li><li><strong>è¿›è¡Œç±»å‹æ£€æŸ¥</strong>, ç¡®å®šç¨‹åºä¸­æ˜¯å¦å­˜åœ¨è¯¸å¦‚ â€œå¯¹æ•´æ•°å˜é‡è¿›è¡Œæ•°ç»„è®¿é—®â€ è¿™ç§ç±»å‹é—®é¢˜. åŒæ—¶æ ‡æ³¨ç¨‹åºä¸­è¡¨è¾¾å¼çš„ç±»å‹, ä»¥ä¾¿è¿›è¡Œåç»­çš„ç”Ÿæˆå·¥ä½œ. å¯¹äºæŸäº›ç¼–ç¨‹è¯­è¨€ (ä¾‹å¦‚ C++11 ä¹‹åçš„ C++, Rust ç­‰ç­‰), ç¼–è¯‘å™¨è¿˜ä¼šè¿›è¡Œç±»å‹æ¨æ–­.</li><li><strong>è¿›è¡Œå¿…è¦çš„ç¼–è¯‘æœŸè®¡ç®—</strong>. SysY ä¸­æ”¯æŒä½¿ç”¨å¸¸é‡è¡¨è¾¾å¼ä½œä¸ºæ•°ç»„å®šä¹‰æ—¶çš„é•¿åº¦, è€Œæˆ‘ä»¬åœ¨ç”Ÿæˆ IR ä¹‹å‰, å¿…é¡»çŸ¥é“æ•°ç»„çš„é•¿åº¦ (SysY ä¸æ”¯æŒ <a href="https://en.wikipedia.org/wiki/Variable-length_array">VLA</a>), è¿™å°±è¦æ±‚ç¼–è¯‘å™¨å¿…é¡»èƒ½åœ¨ç¼–è¯‘çš„æ—¶å€™ç®—å‡ºå¸¸é‡è¡¨è¾¾å¼çš„å€¼, åŒæ—¶å¯¹é‚£äº›æ— æ³•è®¡ç®—çš„å¸¸é‡è¡¨è¾¾å¼æŠ¥é”™. å¯¹äºæŸäº›æ”¯æŒå…ƒç¼–ç¨‹çš„è¯­è¨€, è¿™ä¸€æ­¥å¯èƒ½ä¼šéå¸¸å¤æ‚.</li></ul><p>è‡³æ­¤, æˆ‘ä»¬å°±èƒ½å¾—åˆ°ä¸€ä¸ªè¯­æ³•æ­£ç¡®, è¯­ä¹‰æ¸…æ™°çš„ AST è¡¨ç¤ºäº†.</p><p>ç¼–è¯‘å™¨é€šå¸¸ä¸ä¼šç›´æ¥é€šè¿‡æ‰«æ AST æ¥ç”Ÿæˆç›®æ ‡ä»£ç  (æ±‡ç¼–)â€”â€”å½“ç„¶è¿™ä¹ˆåšä¹Ÿä¸æ˜¯ä¸å¯ä»¥, å› ä¸ºä»å®šä¹‰ä¸Šè®², AST ä¹Ÿæ˜¯ä¸€ç§ â€œä¸­é—´è¡¨ç¤ºâ€. åªä¸è¿‡, AST åœ¨å½¢å¼ä¸Šæ›´æ¥è¿‘æºè¯­è¨€, è€Œä¸”å…¶ä¸­å¯èƒ½ä¼šåŒ…å«ä¸€äº›æ›´ä¸ºé«˜çº§çš„è¯­ä¹‰, ä¾‹å¦‚åˆ†æ”¯/å¾ªç¯, ç”šè‡³ç»“æ„ä½“/ç±»ç­‰ç­‰, è¿™äº›å†…å®¹è¦ä¸€æ­¥åˆ°ä½å˜æˆæ±‡ç¼–è¿˜æ˜¯æ¯”è¾ƒå¤æ‚çš„.</p><p>æ‰€ä»¥, ç¼–è¯‘å™¨é€šå¸¸ä¼šå°† AST è½¬æ¢ä¸ºå¦ä¸€ç§å½¢å¼çš„æ•°æ®ç»“æ„, æˆ‘ä»¬æŠŠå®ƒç§°ä½œ IR. IR çš„æŠ½è±¡å±‚æ¬¡æ¯” AST æ›´ä½, ä½†åˆä¸è‡³äºä½åˆ°æ±‡ç¼–ä»£ç çš„ç¨‹åº¦. åœ¨æ­¤åŸºç¡€ä¸Š, æ— è®ºæ˜¯ç›´æ¥æŠŠ IR è¿›ä¸€æ­¥è½¬æ¢ä¸ºæ±‡ç¼–ä»£ç , è¿˜æ˜¯åœ¨ IR ä¹‹ä¸Šåšå‡ºä¸€äº›ä¼˜åŒ–, éƒ½ç›¸å¯¹æ›´å®¹æ˜“.</p><p>æœ‰äº† IR çš„å­˜åœ¨, æˆ‘ä»¬ä¹Ÿå¯ä»¥å¤§å¹…é™ä½ç¼–è¯‘å™¨çš„å¼€å‘æˆæœ¬: å‡è®¾æˆ‘ä»¬æƒ³å¼€å‘ MM ç§è¯­è¨€çš„ç¼–è¯‘å™¨, è¦æ±‚å®ƒä»¬èƒ½æŠŠè¾“å…¥ç¼–è¯‘æˆ NN ç§æŒ‡ä»¤ç³»ç»Ÿçš„ç›®æ ‡ä»£ç , åœ¨æ²¡æœ‰ç»Ÿä¸€çš„ IR çš„æƒ…å†µä¸‹, æˆ‘ä»¬éœ€è¦å¼€å‘ M \times NMÃ—N ä¸ªç›¸å…³æ¨¡å—. å¦‚æœæˆ‘ä»¬å…ˆæŠŠæ‰€æœ‰æºè¯­è¨€éƒ½è½¬æ¢åˆ°åŒä¸€ç§ IR, ç„¶åå†å°†è¿™ç§ IR ç¿»è¯‘ä¸ºä¸åŒçš„ç›®æ ‡ä»£ç , æˆ‘ä»¬å°±åªéœ€è¦å¼€å‘ M + NM+N ä¸ªç›¸å…³æ¨¡å—.</p><p>ç°å®ä¸–ç•Œçš„ç¡®å­˜åœ¨è¿™æ ·çš„æ“ä½œ, ä¾‹å¦‚ <a href="https://llvm.org/docs/">LLVM IR</a> å°±æ˜¯ä¸€ç§è¢«å¹¿æ³›ä½¿ç”¨çš„ IR. æœ‰å¾ˆå¤šè¯­è¨€çš„ç¼–è¯‘å™¨å®ç°, ä¾‹å¦‚ Rust, Swift, Julia, éƒ½ä¼šå°†æºè¯­è¨€ç¿»è¯‘åˆ° LLVM IR. åŒæ—¶, LLVM IR å¯è¢«ç”Ÿæˆä¸º x86, ARM, RISC-V ç­‰ä¸€ç³»åˆ—æŒ‡ä»¤ç³»ç»Ÿçš„ç›®æ ‡ä»£ç . æ­¤æ—¶, ç¼–è¯‘å™¨çš„å‰åç«¯æ˜¯å®Œå…¨è§£è€¦çš„, ä¸¤éƒ¨åˆ†å¯ä»¥å„è‡ªç»´æŠ¤, ååˆ†æ–¹ä¾¿.</p><p>æ­¤å¤–, IR ä¹Ÿå¯ä»¥æå¤§åœ°æ–¹ä¾¿å¼€å‘è€…è°ƒè¯•è‡ªå·±çš„ç¼–è¯‘å™¨. åœ¨ç¼–è¯‘å®è·µä¸­, ä½ çš„ç¼–è¯‘å™¨å¯¹äºåŒä¸€ä¸ª SysY æ–‡ä»¶çš„è¾“å…¥, æ—¢å¯ä»¥è¾“å‡º Koopa IR, ä¹Ÿå¯ä»¥è¾“å‡º RISC-V. ä½ å¯ä»¥å€ŸåŠ©ç›¸å…³æµ‹è¯•å·¥å…·æ¥æµ‹è¯•è¿™ä¸¤éƒ¨åˆ†çš„æ­£ç¡®æ€§, è¿›è€Œå®šä½ä½ çš„ç¼–è¯‘å™¨åˆ°åº•æ˜¯åœ¨å‰ç«¯/ä¸­ç«¯éƒ¨åˆ†å‡ºäº†é—®é¢˜, è¿˜æ˜¯åœ¨åç«¯çš„éƒ¨åˆ†å‡ºäº†é—®é¢˜.</p><p>ç¼–è¯‘å™¨è¿›è¡Œçš„æœ€åä¸€æ­¥æ“ä½œ, å°±æ˜¯å°† IR è½¬æ¢ä¸ºç›®æ ‡ä»£ç , ä¹Ÿå°±æ˜¯ç›®æ ‡æŒ‡ä»¤ç³»ç»Ÿçš„æ±‡ç¼–ä»£ç . é€šå¸¸æƒ…å†µä¸‹, è¿™ä¸€æ­¥é€šå¸¸è¦åšä»¥ä¸‹å‡ ä»¶äº‹:</p><ol><li><strong>æŒ‡ä»¤é€‰æ‹©:</strong> å†³å®š IR ä¸­çš„æŒ‡ä»¤åº”è¯¥è¢«ç¿»è¯‘ä¸ºå“ªäº›ç›®æ ‡æŒ‡ä»¤ç³»ç»Ÿçš„æŒ‡ä»¤. ä¾‹å¦‚å‰æ–‡çš„ Koopa IR ç¨‹åºä¸­å‡ºç°çš„ <code>lt</code> æŒ‡ä»¤å¯ä»¥è¢«ç¿»è¯‘ä¸º RISC-V ä¸­çš„ <code>slt</code>/<code>slti</code> æŒ‡ä»¤.</li><li><strong>å¯„å­˜å™¨åˆ†é…:</strong> å†³å®š IR ä¸­çš„å€¼å’ŒæŒ‡ä»¤ç³»ç»Ÿä¸­å¯„å­˜å™¨çš„å¯¹åº”å…³ç³». ä¾‹å¦‚å‰æ–‡çš„ Koopa IR ç¨‹åºä¸­çš„ <code>@x</code>, <code>%cond</code>, <code>%0</code> ç­‰ç­‰, å®ƒä»¬æœ€ç»ˆå¯èƒ½ä¼šè¢«æ”¾åœ¨ RISC-V çš„æŸäº›å¯„å­˜å™¨ä¸­. ç”±äºæŒ‡ä»¤ç³»ç»Ÿä¸­å¯„å­˜å™¨çš„æ•°é‡é€šå¸¸æ˜¯æœ‰é™çš„ (RISC-V ä¸­åªæœ‰ 32 ä¸ªæ•´æ•°é€šç”¨å¯„å­˜å™¨, ä¸”å®ƒä»¬å¹¶ä¸éƒ½èƒ½ç”¨æ¥å­˜æ”¾æ•°æ®), æŸäº›å€¼è¿˜å¯èƒ½ä¼šè¢«åˆ†é…åœ¨å†…å­˜ä¸­.</li><li><strong>æŒ‡ä»¤è°ƒåº¦:</strong> å†³å®š IR ç”Ÿæˆçš„æŒ‡ä»¤åºåˆ—æœ€ç»ˆçš„é¡ºåºå¦‚ä½•. æˆ‘ä»¬é€šå¸¸å¸Œæœ›ç¼–è¯‘å™¨èƒ½ç”Ÿæˆä¸€ä¸ªæœ€ä¼˜åŒ–çš„æŒ‡ä»¤åºåˆ—, å®ƒå¯ä»¥æœ€å¤§ç¨‹åº¦åœ°åˆ©ç”¨ç›®æ ‡å¹³å°çš„å¾®ç»“æ„ç‰¹æ€§, è¿™æ ·ç”Ÿæˆçš„ç¨‹åºçš„æ€§èƒ½å°±ä¼šå¾ˆé«˜. ä¾‹å¦‚ç¼–è¯‘å™¨å¯èƒ½ä¼šç©¿æ’è°ƒåº¦è®¿å­˜æŒ‡ä»¤å’Œå…¶ä»–æŒ‡ä»¤, ä»¥æ±‚å‡å°‘è®¿å­˜å¯¼è‡´çš„åœé¡¿.</li></ol><p>EBNF, å³ <a href="https://en.wikipedia.org/wiki/Extended_Backusâ€“Naur_form">Extended Backusâ€“Naur Form</a>, æ‰©å±•å·´ç§‘æ–¯èŒƒå¼, å¯ä»¥ç”¨æ¥æè¿°ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•. åŸºäº SysY çš„ EBNF, æˆ‘ä»¬å¯ä»¥ä»å¼€å§‹ç¬¦å·å‡ºå‘, æ¨å¯¼å‡ºä»»ä½•ä¸€ä¸ªç¬¦åˆ SysY è¯­æ³•å®šä¹‰çš„ SysY ç¨‹åº. </p><p>makefile</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># C++ æ¨¡å¼</span></span><br><span class="line">flex -o æ–‡ä»¶å.lex.cpp æ–‡ä»¶å.l</span><br><span class="line">bison -d -o æ–‡ä»¶å.tab.cpp æ–‡ä»¶å.y   <span class="comment"># æ­¤æ—¶ bison è¿˜ä¼šç”Ÿæˆ `æ–‡ä»¶å.tab.hpp`</span></span><br><span class="line"><span class="comment"># C æ¨¡å¼</span></span><br><span class="line">flex -o æ–‡ä»¶å.lex.c æ–‡ä»¶å.l</span><br><span class="line">bison -d -o æ–‡ä»¶å.tab.c æ–‡ä»¶å.y     <span class="comment"># æ­¤æ—¶ bison è¿˜ä¼šç”Ÿæˆ `æ–‡ä»¶å.tab.h`</span></span><br></pre></td></tr></table></figure><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%option noyywrap</span></span><br><span class="line"><span class="comment">%option nounput</span></span><br><span class="line"><span class="comment">%option noinput</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="params">#</span>include &lt;cstdlib&gt;</span><br><span class="line"><span class="params">#</span>include &lt;string&gt;</span><br><span class="line"></span><br><span class="line">// å› ä¸º Flex ä¼šç”¨åˆ° Bison ä¸­å…³äº token çš„å®šä¹‰</span><br><span class="line">// æ‰€ä»¥éœ€è¦ include Bison ç”Ÿæˆçš„å¤´æ–‡ä»¶</span><br><span class="line"><span class="params">#</span>include &quot;sysy.tab.hpp&quot;</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="comment">%&#125;</span></span><br><span class="line"></span><br><span class="line">/* ç©ºç™½ç¬¦å’Œæ³¨é‡Š */</span><br><span class="line">WhiteSpace    [ <span class="keyword">\t</span><span class="keyword">\n</span><span class="keyword">\r</span>]*</span><br><span class="line">LineComment   &quot;//&quot;.*<span class="built_in">$</span></span><br><span class="line"></span><br><span class="line">/* æ ‡è¯†ç¬¦ */</span><br><span class="line">Identifier    [a-zA-Z<span class="built_in">_</span>][a-zA-Z0-9<span class="built_in">_</span>]*</span><br><span class="line"></span><br><span class="line">/* æ•´æ•°å­—é¢é‡ */</span><br><span class="line">Decimal       [1-9][0-9]*</span><br><span class="line">Octal         0[0-7]*</span><br><span class="line">Hexadecimal   0[xX][0-9a-fA-F]+</span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"></span><br><span class="line">&#123;WhiteSpace&#125;    &#123; /* å¿½ç•¥, ä¸åšä»»ä½•æ“ä½œ */ &#125;</span><br><span class="line">&#123;LineComment&#125;   &#123; /* å¿½ç•¥, ä¸åšä»»ä½•æ“ä½œ */ &#125;</span><br><span class="line"></span><br><span class="line">&quot;int&quot;           &#123; return INT; &#125;</span><br><span class="line">&quot;return&quot;        &#123; return RETURN; &#125;</span><br><span class="line"></span><br><span class="line">&#123;Identifier&#125;    &#123; yylval.str<span class="built_in">_</span>val = new string(yytext); return IDENT; &#125;</span><br><span class="line"></span><br><span class="line">&#123;Decimal&#125;       &#123; yylval.int<span class="built_in">_</span>val = strtol(yytext, nullptr, 0); return INT<span class="built_in">_</span>CONST; &#125;</span><br><span class="line">&#123;Octal&#125;         &#123; yylval.int<span class="built_in">_</span>val = strtol(yytext, nullptr, 0); return INT<span class="built_in">_</span>CONST; &#125;</span><br><span class="line">&#123;Hexadecimal&#125;   &#123; yylval.int<span class="built_in">_</span>val = strtol(yytext, nullptr, 0); return INT<span class="built_in">_</span>CONST; &#125;</span><br><span class="line"></span><br><span class="line">.               &#123; return yytext[0]; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>æ–‡ä»¶æœ€å¼€å¤´æˆ‘ä»¬è®¾ç½®äº†ä¸€äº›é€‰é¡¹, ä½ å¯ä»¥ RTFM è¿™äº›é€‰é¡¹çš„å«ä¹‰. å¦‚æœä¸è®¾ç½®è¿™äº›é€‰é¡¹, Flex å°±ä¼šè¦æ±‚æˆ‘ä»¬åœ¨ä»£ç é‡Œå®šä¹‰ä¸€äº›é¢å¤–çš„ä¸œè¥¿, ä½†æˆ‘ä»¬å®é™…ä¸Šç”¨ä¸åˆ°è¿™äº›ä¸œè¥¿.</li><li>ç¬¬äºŒéƒ¨åˆ†å£°æ˜äº†å¿…è¦çš„å¤´æ–‡ä»¶, ç„¶åæ˜¯ç»å…¸çš„ <code>using namespace std</code>.</li><li>ç¬¬ä¸‰éƒ¨åˆ†å®šä¹‰äº†ä¸€äº›æ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™, æ¯”å¦‚ç©ºç™½ç¬¦, è¡Œæ³¨é‡Šç­‰ç­‰. è¿™äº›è§„åˆ™å…¶å®ç›´æ¥å†™åœ¨ç¬¬å››éƒ¨åˆ†ä¹Ÿå¯ä»¥, ä½†é‚£æ ·å¤ªä¹±äº†, è¿˜æ˜¯ç»™å®ƒä»¬èµ·ä¸ªåå­—æ¯”è¾ƒå¥½ç†è§£ä¸€äº›.</li><li>ç¬¬å››éƒ¨åˆ†å®šä¹‰äº† lexer çš„è¡Œä¸º:<ul><li>é‡åˆ°ç©ºç™½ç¬¦å’Œæ³¨é‡Šå°±è·³è¿‡.</li><li>é‡åˆ° <code>int</code>, <code>return</code> è¿™ç§å…³é”®å­—å°±è¿”å›å¯¹åº”çš„ token.</li><li>é‡åˆ°æ ‡è¯†ç¬¦å°±æŠŠæ ‡è¯†ç¬¦å­˜èµ·æ¥, ç„¶åè¿”å›å¯¹åº”çš„ token. <code>yytext</code> ä»£è¡¨ lexer å½“å‰åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²çš„å†…å®¹, å®ƒçš„ç±»å‹æ˜¯ <code>char *</code>, åœ¨æ­¤å¤„å¯¹åº”è¯»å–åˆ°çš„ä¸€ä¸ªæ ‡è¯†ç¬¦. <code>yylval</code> ç”¨æ¥å‘ parser ä¼ é€’ lexer è¯»å–åˆ°çš„å†…å®¹, <code>str_val</code> å’Œä¹‹åçš„ <code>int_val</code> æ˜¯æˆ‘ä»¬åœ¨ Bison æ–‡ä»¶ä¸­å®šä¹‰çš„å­—æ®µ, ä¹‹åå†è§£é‡Š.</li><li>é‡åˆ°æ•´æ•°å­—é¢é‡, å…ˆæŠŠè¯»å–åˆ°çš„å­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°, ç„¶åå­˜èµ·æ¥, å¹¶è¿”å›å¯¹åº”çš„ token.</li><li>é‡åˆ°å•ä¸ªå­—ç¬¦, å°±ç›´æ¥è¿”å›å•ä¸ªå­—ç¬¦ä½œä¸º token. <code>.</code> è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¼šåŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦, è€Œ <code>yytext[0]</code> å®é™…ä¸Šè¯»å–äº†ç›®å‰åŒ¹é…åˆ°çš„è¿™ä¸ªå­—ç¬¦. åœ¨ Flex/Bison ä¸­, token å®é™…å°±æ˜¯æ•´æ•°, ä¹‹å‰å‡ºç°çš„ <code>INT</code>, <code>RETURN</code>, <code>IDENT</code> ç­‰, å…¶å®æ˜¯ Bison æ ¹æ®æˆ‘ä»¬çš„å®šä¹‰ç”Ÿæˆçš„æšä¸¾ (<code>enum</code>). æ‰€ä»¥æ­¤å¤„ç›¸å½“äº, æˆ‘ä»¬å–äº†å½“å‰åŒ¹é…åˆ°çš„å­—ç¬¦, ç„¶åæŠŠå®ƒè½¬æˆäº†æ•´æ•°, äº¤ç»™ Bison ç”Ÿæˆçš„ parser å¤„ç†. åœ¨ Bison é‡Œ, æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡å†™å­—ç¬¦ (æ¯”å¦‚ <code>&#39;(&#39;</code>), æ¥è¡¨ç¤ºæˆ‘ä»¬å¸Œæœ›åŒ¹é… lexer è¿”å›çš„ä¸€ä¸ªå­—ç¬¦è½¬æ¢å¾—åˆ°çš„ token.</li></ul></li></ul><p>ç”±äºåœ¨<strong>union</strong>é‡Œä¹Ÿä¸å…è®¸å­˜æ”¾å¸¦æœ‰æ„é€ å‡½æ•°ã€ææ„å‡½æ•°å’Œå¤åˆ¶æ„é€ å‡½æ•°ç­‰çš„ç±»çš„å¯¹è±¡ï¼Œä½†æ˜¯å¯ä»¥å­˜æ”¾å¯¹åº”çš„ç±»å¯¹è±¡æŒ‡é’ˆã€‚</p><h1 id="pragma-onceä¸€èˆ¬ç”±ç¼–è¯‘å™¨æä¾›ä¿è¯ï¼šåŒä¸€ä¸ªæ–‡ä»¶ä¸ä¼šè¢«åŒ…å«å¤šæ¬¡ã€‚è¿™é‡Œæ‰€è¯´çš„â€åŒä¸€ä¸ªæ–‡ä»¶â€æ˜¯æŒ‡ç‰©ç†ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œä¸æ˜¯æŒ‡å†…å®¹ç›¸åŒçš„ä¸¤ä¸ªæ–‡ä»¶ã€‚æ— æ³•å¯¹ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­çš„ä¸€æ®µä»£ç ä½œ-pragma-onceå£°æ˜ï¼Œè€Œåªèƒ½é’ˆå¯¹æ–‡ä»¶ã€‚æ­¤æ–¹å¼ä¸ä¼šå‡ºç°å®åç¢°æ’å¼•å‘çš„å¥‡æ€ªé—®é¢˜ï¼Œå¤§å‹é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦ä¹Ÿå› æ­¤æä¾›äº†ä¸€äº›ã€‚ç¼ºç‚¹æ˜¯å¦‚æœæŸä¸ªå¤´æ–‡ä»¶æœ‰å¤šä»½æ‹·è´ï¼Œæ­¤æ–¹æ³•ä¸èƒ½ä¿è¯å®ƒä»¬ä¸è¢«é‡å¤åŒ…å«ã€‚åœ¨C-C-ä¸­ï¼Œ-pragma-onceæ˜¯ä¸€ä¸ªéæ ‡å‡†ä½†æ˜¯è¢«å¹¿æ³›æ”¯æŒçš„æ–¹å¼ã€‚"><a href="#pragma-onceä¸€èˆ¬ç”±ç¼–è¯‘å™¨æä¾›ä¿è¯ï¼šåŒä¸€ä¸ªæ–‡ä»¶ä¸ä¼šè¢«åŒ…å«å¤šæ¬¡ã€‚è¿™é‡Œæ‰€è¯´çš„â€åŒä¸€ä¸ªæ–‡ä»¶â€æ˜¯æŒ‡ç‰©ç†ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œä¸æ˜¯æŒ‡å†…å®¹ç›¸åŒçš„ä¸¤ä¸ªæ–‡ä»¶ã€‚æ— æ³•å¯¹ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­çš„ä¸€æ®µä»£ç ä½œ-pragma-onceå£°æ˜ï¼Œè€Œåªèƒ½é’ˆå¯¹æ–‡ä»¶ã€‚æ­¤æ–¹å¼ä¸ä¼šå‡ºç°å®åç¢°æ’å¼•å‘çš„å¥‡æ€ªé—®é¢˜ï¼Œå¤§å‹é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦ä¹Ÿå› æ­¤æä¾›äº†ä¸€äº›ã€‚ç¼ºç‚¹æ˜¯å¦‚æœæŸä¸ªå¤´æ–‡ä»¶æœ‰å¤šä»½æ‹·è´ï¼Œæ­¤æ–¹æ³•ä¸èƒ½ä¿è¯å®ƒä»¬ä¸è¢«é‡å¤åŒ…å«ã€‚åœ¨C-C-ä¸­ï¼Œ-pragma-onceæ˜¯ä¸€ä¸ªéæ ‡å‡†ä½†æ˜¯è¢«å¹¿æ³›æ”¯æŒçš„æ–¹å¼ã€‚" class="headerlink" title="pragma onceä¸€èˆ¬ç”±ç¼–è¯‘å™¨æä¾›ä¿è¯ï¼šåŒä¸€ä¸ªæ–‡ä»¶ä¸ä¼šè¢«åŒ…å«å¤šæ¬¡ã€‚è¿™é‡Œæ‰€è¯´çš„â€åŒä¸€ä¸ªæ–‡ä»¶â€æ˜¯æŒ‡ç‰©ç†ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œä¸æ˜¯æŒ‡å†…å®¹ç›¸åŒçš„ä¸¤ä¸ªæ–‡ä»¶ã€‚æ— æ³•å¯¹ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­çš„ä¸€æ®µä»£ç ä½œ#pragma onceå£°æ˜ï¼Œè€Œåªèƒ½é’ˆå¯¹æ–‡ä»¶ã€‚æ­¤æ–¹å¼ä¸ä¼šå‡ºç°å®åç¢°æ’å¼•å‘çš„å¥‡æ€ªé—®é¢˜ï¼Œå¤§å‹é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦ä¹Ÿå› æ­¤æä¾›äº†ä¸€äº›ã€‚ç¼ºç‚¹æ˜¯å¦‚æœæŸä¸ªå¤´æ–‡ä»¶æœ‰å¤šä»½æ‹·è´ï¼Œæ­¤æ–¹æ³•ä¸èƒ½ä¿è¯å®ƒä»¬ä¸è¢«é‡å¤åŒ…å«ã€‚åœ¨C/C++ä¸­ï¼Œ#pragma onceæ˜¯ä¸€ä¸ªéæ ‡å‡†ä½†æ˜¯è¢«å¹¿æ³›æ”¯æŒçš„æ–¹å¼ã€‚"></a>pragma onceä¸€èˆ¬ç”±ç¼–è¯‘å™¨æä¾›ä¿è¯ï¼šåŒä¸€ä¸ªæ–‡ä»¶ä¸ä¼šè¢«åŒ…å«å¤šæ¬¡ã€‚è¿™é‡Œæ‰€è¯´çš„â€åŒä¸€ä¸ªæ–‡ä»¶â€æ˜¯æŒ‡ç‰©ç†ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œä¸æ˜¯æŒ‡å†…å®¹ç›¸åŒçš„ä¸¤ä¸ªæ–‡ä»¶ã€‚æ— æ³•å¯¹ä¸€ä¸ªå¤´æ–‡ä»¶ä¸­çš„ä¸€æ®µä»£ç ä½œ#pragma onceå£°æ˜ï¼Œè€Œåªèƒ½é’ˆå¯¹æ–‡ä»¶ã€‚æ­¤æ–¹å¼ä¸ä¼šå‡ºç°å®åç¢°æ’å¼•å‘çš„å¥‡æ€ªé—®é¢˜ï¼Œå¤§å‹é¡¹ç›®çš„ç¼–è¯‘é€Ÿåº¦ä¹Ÿå› æ­¤æä¾›äº†ä¸€äº›ã€‚ç¼ºç‚¹æ˜¯å¦‚æœæŸä¸ªå¤´æ–‡ä»¶æœ‰å¤šä»½æ‹·è´ï¼Œæ­¤æ–¹æ³•ä¸èƒ½ä¿è¯å®ƒä»¬ä¸è¢«é‡å¤åŒ…å«ã€‚åœ¨C/C++ä¸­ï¼Œ#pragma onceæ˜¯ä¸€ä¸ªéæ ‡å‡†ä½†æ˜¯è¢«å¹¿æ³›æ”¯æŒçš„æ–¹å¼ã€‚</h1><pre><code>    #pragma onceæ–¹å¼äº§ç”Ÿäº#ifndefä¹‹åã€‚#ifndefæ–¹å¼å—C/C++è¯­è¨€æ ‡å‡†çš„æ”¯æŒï¼Œä¸å—ç¼–è¯‘å™¨çš„ä»»ä½•é™åˆ¶ï¼›è€Œ#pragma onceæ–¹å¼æœ‰äº›ç¼–è¯‘å™¨ä¸æ”¯æŒ(è¾ƒè€ç¼–è¯‘å™¨ä¸æ”¯æŒï¼Œå¦‚GCC 3.4ç‰ˆæœ¬ä¹‹å‰ä¸æ”¯æŒ#pragmaonce)ï¼Œå…¼å®¹æ€§ä¸å¤Ÿå¥½ã€‚#ifndefå¯ä»¥é’ˆå¯¹ä¸€ä¸ªæ–‡ä»¶ä¸­çš„éƒ¨åˆ†ä»£ç ï¼Œè€Œ#pragma onceåªèƒ½é’ˆå¯¹æ•´ä¸ªæ–‡ä»¶ã€‚ç›¸å¯¹è€Œè¨€ï¼Œ#ifndefæ›´åŠ çµæ´»ï¼Œå…¼å®¹æ€§å¥½ï¼Œ#pragma onceæ“ä½œç®€å•ï¼Œæ•ˆç‡é«˜ã€‚</code></pre><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%code requires &#123;</span></span><br><span class="line">  <span class="params">#</span>include &lt;memory&gt;</span><br><span class="line">  <span class="params">#</span>include &lt;string&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">%&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="params">#</span>include &lt;iostream&gt;</span><br><span class="line"><span class="params">#</span>include &lt;memory&gt;</span><br><span class="line"><span class="params">#</span>include &lt;string&gt;</span><br><span class="line"></span><br><span class="line">// å£°æ˜ lexer å‡½æ•°å’Œé”™è¯¯å¤„ç†å‡½æ•°</span><br><span class="line">int yylex();</span><br><span class="line">void yyerror(std::unique<span class="built_in">_</span>ptr&lt;std::string&gt; <span class="built_in">&amp;</span>ast, const char *s);</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="comment">%&#125;</span></span><br><span class="line"></span><br><span class="line">// å®šä¹‰ parser å‡½æ•°å’Œé”™è¯¯å¤„ç†å‡½æ•°çš„é™„åŠ å‚æ•°</span><br><span class="line">// æˆ‘ä»¬éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸º AST, æ‰€ä»¥æˆ‘ä»¬æŠŠé™„åŠ å‚æ•°å®šä¹‰æˆå­—ç¬¦ä¸²çš„æ™ºèƒ½æŒ‡é’ˆ</span><br><span class="line">// è§£æå®Œæˆå, æˆ‘ä»¬è¦æ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªå‚æ•°, æŠŠå®ƒè®¾ç½®æˆè§£æå¾—åˆ°çš„å­—ç¬¦ä¸²</span><br><span class="line"><span class="comment">%parse-param &#123; std::unique_ptr&lt;std::string&gt; &amp;ast &#125;</span></span><br><span class="line"></span><br><span class="line">// yylval çš„å®šä¹‰, æˆ‘ä»¬æŠŠå®ƒå®šä¹‰æˆäº†ä¸€ä¸ªè”åˆä½“ (union)</span><br><span class="line">// å› ä¸º token çš„å€¼æœ‰çš„æ˜¯å­—ç¬¦ä¸²æŒ‡é’ˆ, æœ‰çš„æ˜¯æ•´æ•°</span><br><span class="line">// ä¹‹å‰æˆ‘ä»¬åœ¨ lexer ä¸­ç”¨åˆ°çš„ str<span class="built_in">_</span>val å’Œ int<span class="built_in">_</span>val å°±æ˜¯åœ¨è¿™é‡Œè¢«å®šä¹‰çš„</span><br><span class="line">// è‡³äºä¸ºä»€ä¹ˆè¦ç”¨å­—ç¬¦ä¸²æŒ‡é’ˆè€Œä¸ç›´æ¥ç”¨ string æˆ–è€… unique<span class="built_in">_</span>ptr&lt;string&gt;?</span><br><span class="line">// è¯·è‡ªè¡Œ STFW åœ¨ union é‡Œå†™ä¸€ä¸ªå¸¦ææ„å‡½æ•°çš„ç±»ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µ</span><br><span class="line"><span class="comment">%union &#123;</span></span><br><span class="line">  std::string *str<span class="built_in">_</span>val;</span><br><span class="line">  int int<span class="built_in">_</span>val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// lexer è¿”å›çš„æ‰€æœ‰ token ç§ç±»çš„å£°æ˜</span><br><span class="line">// æ³¨æ„ IDENT å’Œ INT<span class="built_in">_</span>CONST ä¼šè¿”å› token çš„å€¼, åˆ†åˆ«å¯¹åº” str<span class="built_in">_</span>val å’Œ int<span class="built_in">_</span>val</span><br><span class="line"><span class="comment">%token INT RETURN</span></span><br><span class="line"><span class="comment">%token &lt;str_val&gt; IDENT</span></span><br><span class="line"><span class="comment">%token &lt;int_val&gt; INT_CONST</span></span><br><span class="line"></span><br><span class="line">// éç»ˆç»“ç¬¦çš„ç±»å‹å®šä¹‰</span><br><span class="line"><span class="comment">%type &lt;str_val&gt; FuncDef FuncType Block Stmt Number</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"></span><br><span class="line">// å¼€å§‹ç¬¦, CompUnit ::= FuncDef, å¤§æ‹¬å·åå£°æ˜äº†è§£æå®Œæˆå parser è¦åšçš„äº‹æƒ…</span><br><span class="line">// ä¹‹å‰æˆ‘ä»¬å®šä¹‰äº† FuncDef ä¼šè¿”å›ä¸€ä¸ª str<span class="built_in">_</span>val, ä¹Ÿå°±æ˜¯å­—ç¬¦ä¸²æŒ‡é’ˆ</span><br><span class="line">// è€Œ parser ä¸€æ—¦è§£æå®Œ CompUnit, å°±è¯´æ˜æ‰€æœ‰çš„ token éƒ½è¢«è§£æäº†, å³è§£æç»“æŸäº†</span><br><span class="line">// æ­¤æ—¶æˆ‘ä»¬åº”è¯¥æŠŠ FuncDef è¿”å›çš„ç»“æœæ”¶é›†èµ·æ¥, ä½œä¸º AST ä¼ ç»™è°ƒç”¨ parser çš„å‡½æ•°</span><br><span class="line">// <span class="built_in">$</span>1 æŒ‡ä»£è§„åˆ™é‡Œç¬¬ä¸€ä¸ªç¬¦å·çš„è¿”å›å€¼, ä¹Ÿå°±æ˜¯ FuncDef çš„è¿”å›å€¼</span><br><span class="line">CompUnit</span><br><span class="line">  : FuncDef &#123;</span><br><span class="line">    ast = unique<span class="built_in">_</span>ptr&lt;string&gt;(<span class="built_in">$</span>1);</span><br><span class="line">  &#125;</span><br><span class="line">  ;</span><br><span class="line"></span><br><span class="line">// FuncDef ::= FuncType IDENT &#x27;(&#x27; &#x27;)&#x27; Block;</span><br><span class="line">// æˆ‘ä»¬è¿™é‡Œå¯ä»¥ç›´æ¥å†™ &#x27;(&#x27; å’Œ &#x27;)&#x27;, å› ä¸ºä¹‹å‰åœ¨ lexer é‡Œå·²ç»å¤„ç†äº†å•ä¸ªå­—ç¬¦çš„æƒ…å†µ</span><br><span class="line">// è§£æå®Œæˆå, æŠŠè¿™äº›ç¬¦å·çš„ç»“æœæ”¶é›†èµ·æ¥, ç„¶åæ‹¼æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸², ä½œä¸ºç»“æœè¿”å›</span><br><span class="line">// <span class="built_in">$</span><span class="built_in">$</span> è¡¨ç¤ºéç»ˆç»“ç¬¦çš„è¿”å›å€¼, æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™è¿™ä¸ªç¬¦å·èµ‹å€¼çš„æ–¹æ³•æ¥è¿”å›ç»“æœ</span><br><span class="line">// ä½ å¯èƒ½ä¼šé—®, FuncType, IDENT ä¹‹ç±»çš„ç»“æœå·²ç»æ˜¯å­—ç¬¦ä¸²æŒ‡é’ˆäº†</span><br><span class="line">// ä¸ºä»€ä¹ˆè¿˜è¦ç”¨ unique<span class="built_in">_</span>ptr æ¥ä½å®ƒä»¬, ç„¶åå†è§£å¼•ç”¨, æŠŠå®ƒä»¬æ‹¼æˆå¦ä¸€ä¸ªå­—ç¬¦ä¸²æŒ‡é’ˆå‘¢</span><br><span class="line">// å› ä¸ºæ‰€æœ‰çš„å­—ç¬¦ä¸²æŒ‡é’ˆéƒ½æ˜¯æˆ‘ä»¬ new å‡ºæ¥çš„, new å‡ºæ¥çš„å†…å­˜ä¸€å®šè¦ delete</span><br><span class="line">// å¦åˆ™ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼, è€Œ unique<span class="built_in">_</span>ptr è¿™ç§æ™ºèƒ½æŒ‡é’ˆå¯ä»¥è‡ªåŠ¨å¸®æˆ‘ä»¬ delete</span><br><span class="line">// è™½ç„¶æ­¤å¤„ä½ çœ‹ä¸å‡ºç”¨ unique<span class="built_in">_</span>ptr å’Œæ‰‹åŠ¨ delete çš„åŒºåˆ«, ä½†å½“æˆ‘ä»¬å®šä¹‰äº† AST ä¹‹å</span><br><span class="line">// è¿™ç§å†™æ³•ä¼šçœä¸‹å¾ˆå¤šå†…å­˜ç®¡ç†çš„è´Ÿæ‹…</span><br><span class="line">FuncDef</span><br><span class="line">  : FuncType IDENT &#x27;(&#x27; &#x27;)&#x27; Block &#123;</span><br><span class="line">    auto type = unique<span class="built_in">_</span>ptr&lt;string&gt;(<span class="built_in">$</span>1);</span><br><span class="line">    auto ident = unique<span class="built_in">_</span>ptr&lt;string&gt;(<span class="built_in">$</span>2);</span><br><span class="line">    auto block = unique<span class="built_in">_</span>ptr&lt;string&gt;(<span class="built_in">$</span>5);</span><br><span class="line">    <span class="built_in">$</span><span class="built_in">$</span> = new string(*type + &quot; &quot; + *ident + &quot;() &quot; + *block);</span><br><span class="line">  &#125;</span><br><span class="line">  ;</span><br><span class="line"></span><br><span class="line">// åŒä¸Š, ä¸å†è§£é‡Š</span><br><span class="line">FuncType</span><br><span class="line">  : INT &#123;</span><br><span class="line">    <span class="built_in">$</span><span class="built_in">$</span> = new string(&quot;int&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  ;</span><br><span class="line"></span><br><span class="line">Block</span><br><span class="line">  : &#x27;&#123;&#x27; Stmt &#x27;&#125;&#x27; &#123;</span><br><span class="line">    auto stmt = unique<span class="built_in">_</span>ptr&lt;string&gt;(<span class="built_in">$</span>2);</span><br><span class="line">    <span class="built_in">$</span><span class="built_in">$</span> = new string(&quot;&#123; &quot; + *stmt + &quot; &#125;&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  ;</span><br><span class="line"></span><br><span class="line">Stmt</span><br><span class="line">  : RETURN Number &#x27;;&#x27; &#123;</span><br><span class="line">    auto number = unique<span class="built_in">_</span>ptr&lt;string&gt;(<span class="built_in">$</span>2);</span><br><span class="line">    <span class="built_in">$</span><span class="built_in">$</span> = new string(&quot;return &quot; + *number + &quot;;&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  ;</span><br><span class="line"></span><br><span class="line">Number</span><br><span class="line">  : INT<span class="built_in">_</span>CONST &#123;</span><br><span class="line">    <span class="built_in">$</span><span class="built_in">$</span> = new string(to<span class="built_in">_</span>string(<span class="built_in">$</span>1));</span><br><span class="line">  &#125;</span><br><span class="line">  ;</span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"></span><br><span class="line">// å®šä¹‰é”™è¯¯å¤„ç†å‡½æ•°, å…¶ä¸­ç¬¬äºŒä¸ªå‚æ•°æ˜¯é”™è¯¯ä¿¡æ¯</span><br><span class="line">// parser å¦‚æœå‘ç”Ÿé”™è¯¯ (ä¾‹å¦‚è¾“å…¥çš„ç¨‹åºå‡ºç°äº†è¯­æ³•é”™è¯¯), å°±ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°</span><br><span class="line">void yyerror(unique<span class="built_in">_</span>ptr&lt;string&gt; <span class="built_in">&amp;</span>ast, const char *s) &#123;</span><br><span class="line">  cerr &lt;&lt; &quot;error: &quot; &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®ä¸€äº›å¿…è¦çš„é€‰é¡¹, æ¯”å¦‚ <code>%code requires</code>.</li><li>å¼•ç”¨å¤´æ–‡ä»¶, å£°æ˜ lexer å‡½æ•°å’Œé”™è¯¯å¤„ç†å‡½æ•°. å¦‚æœä¸å£°æ˜è¿™äº›å‡½æ•°çš„è¯, parser ä¼šæ‰¾ä¸åˆ° Flex ä¸­å®šä¹‰çš„ lexer, ä¹Ÿæ²¡åŠæ³•æ­£å¸¸æŠ¥é”™.</li><li>å®šä¹‰ parser å‡½æ•°çš„å‚æ•°. Bison ç”Ÿæˆçš„ parser å‡½æ•°è¿”å›ç±»å‹ä¸€å®šæ˜¯ <code>int</code>, æ‰€ä»¥æˆ‘ä»¬æ²¡åŠæ³•é€šè¿‡è¿”å›å€¼è¿”å› AST, æ‰€ä»¥åªèƒ½é€šè¿‡å‚æ•°æ¥è¿”å› AST äº†. å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡å…¨å±€å˜é‡æ¥è¿”å› AST, ä½†, é‚£æ ·åšå¾ˆ dirty (å¦‚æœä½ æ¥è§¦è¿‡å‡½æ•°å¼ç¼–ç¨‹æˆ–äº†è§£è½¯ä»¶å·¥ç¨‹æŠ€æœ¯çš„è¯).</li><li>å®šä¹‰äº† <code>yylval</code>, token å’Œéç»ˆç»“ç¬¦çš„ç±»å‹.</li><li>å®šä¹‰äº†è¯­æ³•è§„åˆ™, åŒæ—¶å®šä¹‰äº† parser è§£æå®Œè¯­æ³•è§„åˆ™ä¹‹åæ‰§è¡Œçš„æ“ä½œ.</li><li>å®šä¹‰äº†é”™è¯¯å¤„ç†å‡½æ•°.</li></ul><p>è¿™é‡Œä¸»è¦æ¶‰åŠåˆ°flexå’Œbisonçš„çŸ¥è¯†,è¿™ä¸ªå¯èƒ½è¦çœ‹ä¸€ä¼š.</p><h3 id="è®¾è®¡AST"><a href="#è®¾è®¡AST" class="headerlink" title="è®¾è®¡AST"></a>è®¾è®¡AST</h3><p>è®¾è®¡ AST è¿™ä»¶äº‹å…¶å®å¾ˆç®€å•, ä½ é¦–å…ˆè¦çŸ¥é“:</p><ol><li>AST ä¿ç•™äº†ç¨‹åºè¯­æ³•çš„ç»“æ„.</li><li>AST æ˜¯ä¸ºäº†æ–¹ä¾¿ç¨‹åºçš„å¤„ç†è€Œå­˜åœ¨çš„, ä¸å­˜åœ¨ä»€ä¹ˆè®¾è®¡è§„èŒƒ</li></ol><p>æ³¨æ„%tokenæ˜¯ç»ˆç»“ç¬¦,è€Œå…¶ä»–çš„æ˜¯éç»ˆç»“ç¬¦</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%type &lt;str_val&gt; FuncDef FuncType Block Stmt Number</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%<span class="class"><span class="keyword">union</span> &#123;</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">string</span> *str_val;</span><br><span class="line">  <span class="keyword">int</span> int_val;</span><br><span class="line">  BaseAST *ast_val;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹yylvalç±»å‹.</p><p>ç”Ÿæˆäº†ASTå,ç»§ç»­ç”ŸæˆIR.</p><p>ä¸€æ—¦å®Œæˆäº† IR çš„ç”Ÿæˆ, ä½ çš„ç¼–è¯‘å™¨å°±å·²ç»åˆæ­¥æˆå‹äº†. å› ä¸ºæœ‰ä¸€äº›åŸºç¡€è®¾æ–½çš„å­˜åœ¨, æ¯”å¦‚ LLVM IR, ç°ä»£çš„å¾ˆå¤šç¼–è¯‘å™¨éƒ½åªä¼šè¿›è¡Œåˆ° IR ç”Ÿæˆè¿™ä¸€æ­¥, ç„¶åæŠŠåç»­çš„å·¥ä½œäº¤ç»™è¿™äº›åŸºç¡€è®¾æ–½å®Œæˆ.</p><ul><li>ç¼–è¯‘å™¨é¦–å…ˆä¼šå¯¹æºä»£ç åšè¯æ³•/è¯­æ³•åˆ†æ, ç”Ÿæˆ AST.</li><li>ç„¶ååœ¨ AST ä¸Šè¿›è¡Œè¯­ä¹‰åˆ†æ, å»ºç«‹ç¬¦å·è¡¨, åšç±»å‹æ£€æŸ¥, æŠ¥å‘Šè¯­ä¹‰é”™è¯¯, ç­‰ç­‰.</li><li>æ¥ç€, éå†è¯­ä¹‰åˆ†æåçš„ AST, ç”Ÿæˆ IR.</li></ul><p>æˆ‘ä»¬ä¼šåœ¨æ¯ç« çš„<a href="https://pku-minic.github.io/online-doc/#/lv1-main/">å¼€å¤´</a>ç»™å‡ºæœ¬ç« æ¶‰åŠå†…å®¹çš„è¯­æ³•è§„èŒƒå’Œè¯­ä¹‰è§„èŒƒ. ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„ç¼–è¯‘å™¨åº”è¯¥èƒ½å¤Ÿæ£€æŸ¥è¾“å…¥ç¨‹åºæ˜¯å¦ç¬¦åˆè¯­ä¹‰è§„èŒƒ, å¹¶åœ¨å‘ç”Ÿè¯­ä¹‰é”™è¯¯æ—¶æŠ¥é”™.</p><p>ä¸è¿‡, åœ¨è¯¾ç¨‹å®è·µä¸­, æ‰€æœ‰çš„æµ‹è¯•ç”¨ä¾‹å‡ä¸ºç¬¦åˆè¯­æ³•/è¯­ä¹‰è§„èŒƒçš„ SysY ç¨‹åº. <strong>æˆ‘ä»¬ä¸è¦æ±‚ä½ ç¼–å†™çš„ç¼–è¯‘å™¨å…·å¤‡å¤„ç†è¯­æ³•/è¯­ä¹‰é”™è¯¯çš„èƒ½åŠ›, ä¹Ÿä¸ä¼šè€ƒå¯Ÿè¿™äº›å†…å®¹.</strong> ä½†æˆ‘ä»¬å¸Œæœ›å­¦æœ‰ä½™åŠ›çš„åŒå­¦, èƒ½å¤Ÿåœ¨è‡ªå·±çš„ç¼–è¯‘å™¨ä¸­æ£€æŸ¥è¿™äº›é—®é¢˜, å¹¶å¯¹å…¶ä½œå‡ºåˆé€‚çš„å¤„ç†, æ¯”å¦‚åƒ <code>clang</code> æˆ– <code>rustc</code> ä¸€æ ·, ç»™å‡ºç²¾ç¡®åˆ°è¡Œåˆ—çš„é”™è¯¯ä¿¡æ¯, ç”šè‡³å…·å¤‡å¿½ç•¥é”™è¯¯ç»§ç»­æ‰«æ, ä»¥åŠå¯¹é”™è¯¯ç»™å‡ºä¿®æ”¹å»ºè®®çš„é«˜çº§åŠŸèƒ½.</p><p>Koopa IR ä¸­, æœ€å¤§çš„å•ä½æ˜¯ <code>Program</code>, å®ƒä»£è¡¨ä¸€ä¸ª Koopa IR ç¨‹åº. <code>Program</code> ç”±è‹¥å¹²å…¨å±€å˜é‡ (<code>Value</code>) å’Œå‡½æ•° (<code>Function</code>) æ„æˆ. <code>Function</code> åˆç”±è‹¥å¹²åŸºæœ¬å— (<code>BasicBlock</code>) æ„æˆ, åŸºæœ¬å—ä¸­æ˜¯ä¸€ç³»åˆ—æŒ‡ä»¤, æŒ‡ä»¤ä¹Ÿæ˜¯ <code>Value</code>. æ‰€ä»¥ Koopa IR ç¨‹åºçš„ç»“æ„å¦‚ä¸‹æ‰€ç¤º:</p><ul><li>```<br>Program<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">-<span class="ruby"> å…¨å±€å˜é‡åˆ—è¡¨:</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line">  -<span class="ruby"> <span class="string">`Value`</span> <span class="number">1</span>.</span></span><br><span class="line"><span class="ruby"></span>  -<span class="ruby"> <span class="string">`Value`</span> <span class="number">2</span>.</span></span><br><span class="line"><span class="ruby"></span>  -<span class="ruby"> â€¦</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line">-<span class="ruby"> å‡½æ•°åˆ—è¡¨:</span></span><br><span class="line"><span class="ruby"></span></span><br><span class="line">  -<span class="ruby"> <span class="string">``</span><span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="ruby"></span></span>    Function</span><br></pre></td></tr></table></figure></li></ul><pre><code>  1.  - åŸºæœ¬å—åˆ—è¡¨:    - ```      BasicBlock      <figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="code">           </span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="bullet">          1.</span></span><br><span class="line"></span><br><span class="line">          - æŒ‡ä»¤åˆ—è¡¨:</span><br><span class="line"><span class="bullet">            -</span> <span class="code">`Value`</span> 1.</span><br><span class="line"><span class="bullet">            -</span> <span class="code">`Value`</span> 2.</span><br><span class="line"><span class="bullet">            -</span> â€¦</span><br><span class="line"></span><br><span class="line"><span class="bullet">        -</span> <span class="code">`BasicBlock`</span> 2.</span><br><span class="line"></span><br><span class="line"><span class="bullet">        -</span> â€¦</span><br><span class="line"></span><br><span class="line"><span class="bullet">    -</span> <span class="code">`Function`</span> 2.</span><br><span class="line"></span><br><span class="line"><span class="bullet">    -</span> â€¦</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="strong">**å„ç±»å¸¸é‡:**</span> æ•´æ•°å¸¸é‡ (<span class="code">`Integer`</span>), é›¶åˆå§‹åŒ–å™¨ (<span class="code">`ZeroInit`</span>), ç­‰ç­‰.</span><br><span class="line"><span class="bullet">-</span> <span class="strong">**å‚æ•°å¼•ç”¨:**</span> å‡½æ•°å‚æ•°å¼•ç”¨ (<span class="code">`FuncArgRef`</span>) ç­‰, ç”¨æ¥æŒ‡ä»£ä¼ å…¥çš„å‚æ•°.</span><br><span class="line"><span class="bullet">-</span> <span class="strong">**å†…å­˜åˆ†é…:**</span> å…¨å±€å†…å­˜åˆ†é… (<span class="code">`GlobalAlloc`</span>, æ‰€æœ‰çš„å…¨å±€å˜é‡éƒ½æ˜¯è¿™ä¸ªç©æ„) å’Œå±€éƒ¨å†…å­˜åˆ†é… (<span class="code">`Alloc`</span>).</span><br><span class="line"><span class="bullet">-</span> <span class="strong">**è®¿å­˜æŒ‡ä»¤:**</span> åŠ è½½ (<span class="code">`Load`</span>) å’Œå­˜å‚¨ (<span class="code">`Store`</span>).</span><br><span class="line"><span class="bullet">-</span> <span class="strong">**æŒ‡é’ˆè¿ç®—:**</span> <span class="code">`GetPtr`</span> å’Œ <span class="code">`GetElemPtr`</span>.</span><br><span class="line"><span class="bullet">-</span> <span class="strong">**äºŒå…ƒè¿ç®—:**</span> <span class="code">`Binary`</span>, æ¯”å¦‚åŠ å‡ä¹˜é™¤æ¨¡/æ¯”è¾ƒä¹‹ç±»çš„è¿ç®—éƒ½å±äºæ­¤ç±».</span><br><span class="line"><span class="bullet">-</span> <span class="strong">**æ§åˆ¶è½¬ç§»:**</span> æ¡ä»¶åˆ†æ”¯ (<span class="code">`Branch`</span>) å’Œæ— æ¡ä»¶è·³è½¬ (<span class="code">`Jump`</span>).</span><br><span class="line"><span class="bullet">-</span> <span class="strong">**å‡½æ•°ç›¸å…³:**</span> å‡½æ•°è°ƒç”¨ (<span class="code">`Call`</span>) å’Œå‡½æ•°è¿”å› (<span class="code">`Return`</span>).</span><br><span class="line"></span><br><span class="line">ç›®æ ‡å¾ˆæ˜ç¡®äº†:</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> æˆ‘ä»¬åº”è¯¥ç”Ÿæˆä¸€ä¸ª Koopa IR ç¨‹åº.</span><br><span class="line"><span class="bullet">2.</span> ç¨‹åºä¸­æœ‰ä¸€ä¸ªåå­—å« <span class="code">`main`</span> çš„å‡½æ•°.</span><br><span class="line"><span class="bullet">3.</span> å‡½æ•°é‡Œæœ‰ä¸€ä¸ªå…¥å£åŸºæœ¬å—.</span><br><span class="line"><span class="bullet">4.</span> åŸºæœ¬å—é‡Œæœ‰ä¸€æ¡è¿”å›æŒ‡ä»¤.</span><br><span class="line"><span class="bullet">5.</span> è¿”å›æŒ‡ä»¤çš„è¿”å›å€¼å°±æ˜¯ SysY é‡Œ <span class="code">`return`</span> è¯­å¥åè·Ÿçš„å€¼, ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ•´æ•°å¸¸é‡.</span><br><span class="line"></span><br><span class="line"> Koopa IR ç›®å‰æœ‰ä¸¤ç§å½¢å¼:</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> <span class="strong">**æ–‡æœ¬å½¢å¼:**</span> å°±æ˜¯ä½ åœ¨å‰æ–‡è§åˆ°çš„å­—ç¬¦ä¸²å½¢å¼, æ–¹ä¾¿äººç±»é˜…è¯».</span><br><span class="line"><span class="bullet">2.</span> <span class="strong">**å†…å­˜å½¢å¼:**</span> å³æ•°æ®ç»“æ„çš„å½¢å¼, ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºå¦ä¸€ç§ â€œASTâ€, æ–¹ä¾¿ç¨‹åºå¤„ç†.</span><br><span class="line"></span><br><span class="line">ä½ çš„ç¼–è¯‘å™¨è¾“å‡ºçš„æ–‡æœ¬å½¢å¼ IR, æœ€ç»ˆä¼šè¢« Koopa IR çš„ç›¸å…³å·¥å…· (æ¯”å¦‚ <span class="code">`koopac`</span>) è¯»å–, å˜æˆå†…å­˜å½¢å¼çš„ IR, ç„¶åä½œè¿›ä¸€æ­¥å¤„ç†. Koopa IR çš„æ¡†æ¶ä¹Ÿæä¾›äº†åœ¨ä¸¤ç§å½¢å¼çš„ IR ä¹‹é—´äº’ç›¸è½¬æ¢çš„æ¥å£.</span><br><span class="line"></span><br><span class="line">æ‰€ä»¥, è€ƒè™‘åˆ°ä¸Šè¿°æƒ…å†µ, ä½ æœ‰ä»¥ä¸‹å‡ ç§ç”Ÿæˆ IR çš„æ€è·¯:</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> éå† AST, è¾“å‡ºæ–‡æœ¬å½¢å¼çš„ IR. è¿™æ ·æœ€ç®€å•, é€‚ç”¨äºä»»ä½•è¯­è¨€å®ç°çš„ç¼–è¯‘å™¨.</span><br><span class="line"><span class="bullet">-</span> è°ƒç”¨ Koopa IR æ¡†æ¶æä¾›çš„æ¥å£. ä½¿ç”¨ Rust çš„åŒå­¦å¯ä»¥å°è¯•, è¯¦è§ Koopa IR æ¡†æ¶çš„ [<span class="string">crates.io</span>](<span class="link">https://crates.io/crates/koopa</span>) ä»¥åŠ[<span class="string">æ–‡æ¡£</span>](<span class="link">https://docs.rs/koopa</span>).</span><br><span class="line"><span class="bullet">-</span> åƒå®šä¹‰ AST ä¸€æ ·å®šä¹‰è¡¨ç¤º Koopa IR çš„æ•°æ®ç»“æ„ (æ¯”å¦‚æŒ‡ä»¤/åŸºæœ¬å—/å‡½æ•°ç­‰ç­‰), ç„¶åéå† AST è¾“å‡ºè¿™ç§ç»“æ„, å†éå†è¿™ç§ç»“æ„è¾“å‡ºå­—ç¬¦ä¸².</span><br><span class="line"><span class="bullet">-</span> å¯¹äºä½¿ç”¨ C/C++ çš„åŒå­¦, åœ¨ä¸Šä¸€æ¡çš„åŸºç¡€ä¸Š, ä½ å¯ä»¥è€ƒè™‘æŠŠè¿™ç§ç»“æ„è½¬æ¢æˆ raw program, ç„¶åä½¿ç”¨ <span class="code">`libkoopa`</span> ä¸­çš„ç›¸å…³æ¥å£, å°† raw program è½¬æ¢æˆå…¶ä»–å½¢å¼çš„ Koopa IR ç¨‹åº</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç¬¬ä¸€ç§æ€è·¯å¯èƒ½æ˜¯å¤§éƒ¨åˆ†åŒå­¦ä¼šé‡‡ç”¨çš„æ€è·¯, å› ä¸ºå®ƒç›¸å½“ç®€å•ä¸”ç›´è§‚, å®ç°éš¾åº¦å¾ˆä½. ä½†å…¶ç¼ºç‚¹æ˜¯, ä½ åœ¨ç”Ÿæˆç›®æ ‡ä»£ç ä¹‹å‰, ä¸å¾—ä¸å†æ¬¡å°†æ–‡æœ¬å½¢å¼çš„ Koopa IR è½¬æ¢æˆæŸç§æ•°æ®ç»“æ„â€”â€”è¿™ç›¸å½“äºå†å†™ä¸€ä¸ªç¼–è¯‘å™¨. å¦åˆ™, ä½ çš„ç¨‹åºå‡ ä¹æ— æ³•ç›´æ¥åŸºäºæ–‡æœ¬å½¢å¼ IR ç”Ÿæˆæ±‡ç¼–.</span><br><span class="line"></span><br><span class="line">ä¸è¿‡å¥½åœ¨, æˆ‘ä»¬ä¸ºå¤§å®¶æä¾›äº†èƒ½å¤Ÿå¤„ç† Koopa IR çš„åº“, ä½ å¯ä»¥ä½¿ç”¨å…¶ä¸­çš„å®ç°, æ¥å°†æ–‡æœ¬å½¢å¼çš„ IR è½¬æ¢ä¸ºå†…å­˜å½¢å¼.</span><br><span class="line"></span><br><span class="line"><span class="code">```c</span></span><br><span class="line"><span class="code">// è§£æå­—ç¬¦ä¸² str, å¾—åˆ° Koopa IR ç¨‹åº</span></span><br><span class="line"><span class="code">koopa_program_t program;</span></span><br><span class="line"><span class="code">koopa_error_code_t ret = koopa_parse_from_string(str, &amp;program);</span></span><br><span class="line"><span class="code">assert(ret == KOOPA_EC_SUCCESS);  // ç¡®ä¿è§£ææ—¶æ²¡æœ‰å‡ºé”™</span></span><br><span class="line"><span class="code">// åˆ›å»ºä¸€ä¸ª raw program builder, ç”¨æ¥æ„å»º raw program</span></span><br><span class="line"><span class="code">koopa_raw_program_builder_t builder = koopa_new_raw_program_builder();</span></span><br><span class="line"><span class="code">// å°† Koopa IR ç¨‹åºè½¬æ¢ä¸º raw program</span></span><br><span class="line"><span class="code">koopa_raw_program_t raw = koopa_build_raw_program(builder, program);</span></span><br><span class="line"><span class="code">// é‡Šæ”¾ Koopa IR ç¨‹åºå ç”¨çš„å†…å­˜</span></span><br><span class="line"><span class="code">koopa_delete_program(program);</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">// å¤„ç† raw program</span></span><br><span class="line"><span class="code">// ...</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">// å¤„ç†å®Œæˆ, é‡Šæ”¾ raw program builder å ç”¨çš„å†…å­˜</span></span><br><span class="line"><span class="code">// æ³¨æ„, raw program ä¸­æ‰€æœ‰çš„æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜å‡ä¸º raw program builder çš„å†…å­˜</span></span><br><span class="line"><span class="code">// æ‰€ä»¥ä¸è¦åœ¨ raw program å¤„ç†å®Œæ¯•ä¹‹å‰é‡Šæ”¾ builder</span></span><br><span class="line"><span class="code">koopa_delete_raw_program_builder(builder);</span></span><br></pre></td></tr></table></figure></code></pre><ul><li>æœ€ä¸Šå±‚æ˜¯ <code>koopa_raw_program_t</code>, ä¹Ÿå°±æ˜¯ <code>Program</code>.</li><li>ä¹‹ä¸‹æ˜¯å…¨å±€å˜é‡å®šä¹‰åˆ—è¡¨å’Œå‡½æ•°å®šä¹‰åˆ—è¡¨.<ul><li>åœ¨ raw program ä¸­, åˆ—è¡¨çš„ç±»å‹æ˜¯ <code>koopa_raw_slice_t</code>.</li><li>æœ¬è´¨ä¸Šè¿™æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„, å…¶ä¸­çš„ <code>buffer</code> å­—æ®µè®°å½•äº†æŒ‡é’ˆæ•°ç»„çš„åœ°å€ (ç±»å‹æ˜¯ <code>const void **</code>), <code>len</code> å­—æ®µè®°å½•äº†æŒ‡é’ˆæ•°ç»„çš„é•¿åº¦, <code>kind</code> å­—æ®µè®°å½•äº†æ•°ç»„å…ƒç´ æ˜¯ä½•ç§ç±»å‹çš„æŒ‡é’ˆ</li><li>åœ¨è®¿é—®æ—¶, ä½ å¯ä»¥é€šè¿‡ <code>slice.buffer[i]</code> æ‹¿åˆ°åˆ—è¡¨å…ƒç´ çš„æŒ‡é’ˆ, ç„¶åé€šè¿‡åˆ¤æ–­ <code>kind</code> æ¥å†³å®šæŠŠè¿™ä¸ªæŒ‡é’ˆè½¬æ¢æˆä»€ä¹ˆç±»å‹.</li></ul></li><li><code>koopa_raw_function_t</code> ä»£è¡¨å‡½æ•°, å…¶ä¸­æ˜¯åŸºæœ¬å—åˆ—è¡¨.</li><li><code>koopa_raw_basic_block_t</code> ä»£è¡¨åŸºæœ¬å—, å…¶ä¸­æ˜¯æŒ‡ä»¤åˆ—è¡¨.</li><li><code>koopa_raw_value_t</code> ä»£è¡¨å…¨å±€å˜é‡, æˆ–è€…åŸºæœ¬å—ä¸­çš„æŒ‡ä»¤.</li></ul><p>ç°åœ¨å¡åœ¨äº†astç”ŸæˆIR,æ ¹æ®æ•™ç¨‹è²Œä¼¼éœ€è¦éå†ast.ä¹Ÿå°±æ˜¯éå†ç±»ä¼¼æ ‘çš„ç»“æ„.å½“ç„¶æ–¹æ³•ä¹Ÿä¸çŸ¥è¿™ä¸€ç§.æˆ‘ä»ç½‘ä¸Šcopyäº†ä¸€ä»½ä»£ç é˜…è¯»é˜…è¯».</p><h3 id="ä»£ç é‰´èµ"><a href="#ä»£ç é‰´èµ" class="headerlink" title="ä»£ç é‰´èµ"></a>ä»£ç é‰´èµ</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*****************************************************</span></span><br><span class="line"><span class="comment"> *  Definition of the AST nodes.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  Please read the description of each class for details.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  Keltin Leung </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __MIND_AST__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __MIND_AST__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;define.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// the prefix of an ast attribution</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ATTR(x) ast_attr_##x##_</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> mind &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MIND_AST_DEFINED</span></span><br><span class="line"><span class="keyword">namespace</span> ast &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* The base class of all AST nodes.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">NOTE:</span> Don&#x27;t instantiate this class.</span></span><br><span class="line"><span class="comment"> *       Please read the description of the subclasses.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ASTNode</span> &#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// types of the AST nodes</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">        ADD_EXPR,</span><br><span class="line">        AND_EXPR,</span><br><span class="line">        ASSIGN_EXPR,</span><br><span class="line">        BOOL_CONST,</span><br><span class="line">        BIT_NOT_EXPR,</span><br><span class="line">        BOOL_TYPE,</span><br><span class="line">        BREAK_STMT,</span><br><span class="line">        CONTINUE_STMT,</span><br><span class="line">        CALL_EXPR,</span><br><span class="line">        COMP_STMT,</span><br><span class="line">        DIV_EXPR,</span><br><span class="line">        EQU_EXPR,</span><br><span class="line">        EMPTY_STMT,</span><br><span class="line">        EXPR_STMT,</span><br><span class="line">        FUNC_DEFN,</span><br><span class="line">        GEQ_EXPR,</span><br><span class="line">        GRT_EXPR,</span><br><span class="line">        IF_STMT,</span><br><span class="line">        IF_EXPR,</span><br><span class="line">        INT_CONST,</span><br><span class="line">        INT_TYPE,</span><br><span class="line">        LEQ_EXPR,</span><br><span class="line">        LES_EXPR,</span><br><span class="line">        LVALUE_EXPR,</span><br><span class="line">        MOD_EXPR,</span><br><span class="line">        MUL_EXPR,</span><br><span class="line">        NEG_EXPR,</span><br><span class="line">        NEQ_EXPR,</span><br><span class="line">        NOT_EXPR,</span><br><span class="line">        OR_EXPR,</span><br><span class="line">        PROGRAM,</span><br><span class="line">        RETURN_STMT,</span><br><span class="line">        SUB_EXPR,</span><br><span class="line">        VAR_DECL,</span><br><span class="line">        VAR_REF,</span><br><span class="line">        WHILE_STMT,</span><br><span class="line">        FOR_STMT,</span><br><span class="line">        FOD,</span><br><span class="line">        INDEX_EXPR</span><br><span class="line">    &#125; NodeType; <span class="comment">// å®šä¹‰äº†ä¸€ä¸ªï¼Œæšä¸¾ç±»å‹  astèŠ‚ç‚¹ç±»å‹ </span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">protected</span>:</span><br><span class="line">    <span class="comment">// names of each kind of the AST nodes</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">char</span> *node_name[];  </span><br><span class="line">    <span class="comment">// kind of this node</span></span><br><span class="line">    NodeType kind;  <span class="comment">//ä¸Šé¢å£°æ˜çš„èŠ‚ç‚¹ç±»å‹</span></span><br><span class="line">    <span class="comment">// position in the source text</span></span><br><span class="line">    Location *loc; <span class="comment">//åœ¨å¦ä¸€å„æ–‡ä»¶ä¸­å£°æ˜çš„  æ˜¯ä¸€ä¸ªç»“æ„ä½“ æœ‰æ„é€ å‡½æ•°  è¡¨ç¤ºastèŠ‚ç‚¹ä½ç½®</span></span><br><span class="line">    <span class="comment">// for subclass constructors only</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">setBasicInfo</span><span class="params">(NodeType, Location *)</span></span>; <span class="comment">//she</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// gets the node kind</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> NodeType <span class="title">getKind</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="comment">// gets the location</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> Location *<span class="title">getLocation</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="comment">// prints to the specified output stream</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line">    <span class="comment">// for Visitor</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// remember: let alone the memory deallocation stuff</span></span><br><span class="line">    <span class="keyword">virtual</span> ~ASTNode(<span class="keyword">void</span>) &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a type.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">NOTE:</span></span></span><br><span class="line"><span class="comment"> *   it is purely an interface.</span></span><br><span class="line"><span class="comment"> * IMPLEMENTATION:</span></span><br><span class="line"><span class="comment"> *   IntType, BoolType, ArrayType</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Type</span> :</span> <span class="keyword">public</span> ASTNode &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="function">type::Type *<span class="title">ATTR</span><span class="params">(type)</span></span>; <span class="comment">// for semantic analysis</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a statement.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">NOTE:</span></span></span><br><span class="line"><span class="comment"> *   it is purely an interface.</span></span><br><span class="line"><span class="comment"> * IMPLEMENTATION:</span></span><br><span class="line"><span class="comment"> *   AssignStmt, ReturnStmt,</span></span><br><span class="line"><span class="comment"> *   IfStmt, WhileStmt,</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Statement</span> :</span> <span class="keyword">public</span> ASTNode &#123; <span class="comment">/* pure interface */</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing an expression.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">NOTE:</span></span></span><br><span class="line"><span class="comment"> *   it is purely an interface.</span></span><br><span class="line"><span class="comment"> * IMPLEMENTATION:</span></span><br><span class="line"><span class="comment"> *   ...</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmptyStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    EmptyStmt(Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Expr</span> :</span> <span class="keyword">public</span> ASTNode &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="function">type::Type *<span class="title">ATTR</span><span class="params">(type)</span></span>; <span class="comment">// for semantic analysis</span></span><br><span class="line">    <span class="function">tac::Temp <span class="title">ATTR</span><span class="params">(val)</span></span>;    <span class="comment">// for tac generation</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a left-value expression (lvalue).</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">NOTE:</span></span></span><br><span class="line"><span class="comment"> *   it is purely an interface.</span></span><br><span class="line"><span class="comment"> * IMPLEMENTATION:</span></span><br><span class="line"><span class="comment"> *   VarRef, ArrayRef</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lvalue</span> :</span> <span class="keyword">public</span> ASTNode &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">        SIMPLE_VAR, <span class="comment">// referencing simple variable</span></span><br><span class="line">        ARRAY_ELE   <span class="comment">// referencing array element</span></span><br><span class="line">    &#125; ATTR(lv_kind);</span><br><span class="line"></span><br><span class="line">    <span class="function">type::Type *<span class="title">ATTR</span><span class="params">(type)</span></span>; <span class="comment">// for semantic analysis</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a program.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (program [ FUNC_1 FUNC_2 ... FUNC_N ])</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Program</span> :</span> <span class="keyword">public</span> ASTNode &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Program(ASTNode *first, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//   FuncList* functions;</span></span><br><span class="line">    <span class="comment">//   VarList* globals;</span></span><br><span class="line">    FuncOrGlobalList *func_and_globals;</span><br><span class="line">    <span class="function">symb::Function *<span class="title">ATTR</span><span class="params">(main)</span></span>;       <span class="comment">// for semantic analysis</span></span><br><span class="line">    <span class="function">scope::GlobalScope *<span class="title">ATTR</span><span class="params">(gscope)</span></span>; <span class="comment">// for semantic analysis</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a variable declaration.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (var NAME TYPE)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VarDecl</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    VarDecl(<span class="built_in">std</span>::<span class="built_in">string</span> name, Type *type, Location *l);</span><br><span class="line">    VarDecl(<span class="built_in">std</span>::<span class="built_in">string</span> name, Type *type, DimList *dim, Location *l);</span><br><span class="line"></span><br><span class="line">    VarDecl(<span class="built_in">std</span>::<span class="built_in">string</span> name, Type *type, Expr *init, Location *l);</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> name;</span><br><span class="line">    Type *type;</span><br><span class="line">    Expr *init;</span><br><span class="line">    DimList *dim;</span><br><span class="line"></span><br><span class="line">    <span class="function">symb::Variable *<span class="title">ATTR</span><span class="params">(sym)</span></span>; <span class="comment">// for semantic analysis</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FuncDefn</span> :</span> <span class="keyword">public</span> ASTNode &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    FuncDefn(<span class="built_in">std</span>::<span class="built_in">string</span> name, Type *type, VarList *formals, StmtList *stmts,</span><br><span class="line">             Location *l);</span><br><span class="line">    FuncDefn(<span class="built_in">std</span>::<span class="built_in">string</span> name, Type *type, VarList *formals, EmptyStmt *empty,</span><br><span class="line">             Location *l);</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> name;</span><br><span class="line">    Type *ret_type;</span><br><span class="line">    VarList *formals;</span><br><span class="line">    StmtList *stmts;</span><br><span class="line">    <span class="keyword">bool</span> forward_decl; <span class="comment">// is this FuncDefn a forward declaration or full</span></span><br><span class="line">                       <span class="comment">// definition?</span></span><br><span class="line">    <span class="function">symb::Function *<span class="title">ATTR</span><span class="params">(sym)</span></span>; <span class="comment">// for semantic analysis</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CallExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    CallExpr(ExprList *expr_list, <span class="built_in">std</span>::<span class="built_in">string</span> func, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> func;</span><br><span class="line">    ExprList *expr_list;</span><br><span class="line">    <span class="function">symb::Function *<span class="title">ATTR</span><span class="params">(sym)</span></span>; <span class="comment">// for tac generation</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IndexExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    IndexExpr(Expr *, ExprList *, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">    ExprList *expr_list;</span><br><span class="line">    <span class="function">DimList *<span class="title">ATTR</span><span class="params">(dim)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FuncOrGlobal</span> &#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    FuncOrGlobal(FuncDefn *f, VarDecl *d) &#123;</span><br><span class="line">        func = f;</span><br><span class="line">        decl = d;</span><br><span class="line">    &#125;</span><br><span class="line">    FuncDefn *func; <span class="comment">// assert ( func == NULL xor decl == NULL)</span></span><br><span class="line">    VarDecl *decl;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FOD</span> &#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    FOD(FuncList *f, VarList *d) &#123;</span><br><span class="line">        func = f;</span><br><span class="line">        decl = d;</span><br><span class="line">    &#125;</span><br><span class="line">    FuncList *func;</span><br><span class="line">    VarList *decl;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* Node representing the integer type.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (itype)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntType</span> :</span> <span class="keyword">public</span> Type &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    IntType(Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing the Boolean type.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (btype)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BoolType</span> :</span> <span class="keyword">public</span> Type &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    BoolType(Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing an assignment statement.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (assign LEFT RIGHT)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AssignExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    AssignExpr(Lvalue *left, Expr *e, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Lvalue *left;</span><br><span class="line">    Expr *e;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a return statement.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (return EXPR)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReturnStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    ReturnStmt(Expr *e, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a while statement.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (while CONDITION LOOP_BODY) </span></span><br><span class="line"><span class="comment"> *   //(for INIT COND UPDATE LOOP_BODY)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WhileStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    WhileStmt(Expr *cond, Statement *loop_body, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *condition;</span><br><span class="line">    Statement *loop_body;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a for statement.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (while CONDITION LOOP_BODY) </span></span><br><span class="line"><span class="comment"> *   //(for INIT COND UPDATE LOOP_BODY)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ForStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    ForStmt(Statement *init, Expr *cond, Expr *update, Statement *loop_body, Location *l);</span><br><span class="line">    ForStmt(Expr *init, Expr *cond, Expr *update, Statement *loop_body, Location *l);</span><br><span class="line">    ForStmt(Expr *first_condition, Statement *loop_body, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *condition, *update, *first_condition;</span><br><span class="line">    Statement *loop_body;</span><br><span class="line">    ASTNode *init;</span><br><span class="line">    <span class="function">scope::Scope *<span class="title">ATTR</span><span class="params">(scope)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing an comp statement.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   ( &#123; StmtList &#125; )</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CompStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    CompStmt(StmtList *stmts, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    StmtList *stmts;</span><br><span class="line"></span><br><span class="line">    <span class="function">scope::Scope *<span class="title">ATTR</span><span class="params">(scope)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* Node representing an if statement.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (if CONDITION TRUE_BRANCH FALSE_BRANCH)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IfStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    IfStmt(Expr *cond, Statement *true_branch, Statement *false_branch,</span><br><span class="line">           Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *condition;</span><br><span class="line">    Statement *true_brch;</span><br><span class="line">    Statement *false_brch;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing an expression statement.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (expr EXPR)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExprStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    ExprStmt(Expr *e, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BreakStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    BreakStmt(Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ContinueStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    ContinueStmt(Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ContStmt</span> :</span> <span class="keyword">public</span> Statement &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    ContStmt(Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing the reference to a variable.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">NOTE:</span></span></span><br><span class="line"><span class="comment"> *   (object == NULL) means there is no receiver.</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (varref VAR_NAME OBJECT_EXPR)</span></span><br><span class="line"><span class="comment"> *   (varref VAR_NAME ())</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VarRef</span> :</span> <span class="keyword">public</span> Lvalue &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//  VarRef (Expr* object, SID var_name,Location* l);</span></span><br><span class="line">    VarRef(<span class="built_in">std</span>::<span class="built_in">string</span> var_name, Location *l);</span><br><span class="line">    VarRef(<span class="built_in">std</span>::<span class="built_in">string</span> var_name, IndexExpr *expr, Location* l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *owner; <span class="comment">// only to pass compilation, not used</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">string</span> var;</span><br><span class="line">    IndexExpr *expr;</span><br><span class="line"></span><br><span class="line">    <span class="function">symb::Variable *<span class="title">ATTR</span><span class="params">(sym)</span></span>; <span class="comment">// for tac generation</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PointerRef</span> :</span> <span class="keyword">public</span> Lvalue &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    PointerRef(Expr *pointer, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *pointer;</span><br><span class="line"></span><br><span class="line">    <span class="function">symb::Variable *<span class="title">ATTR</span><span class="params">(sym)</span></span>; <span class="comment">// for tac generation</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing an expression of lvalue.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (lvalue REFERENCE)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LvalueExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    LvalueExpr(Lvalue *lv, Location *l);</span><br><span class="line">    <span class="comment">//   LvalueExpr (Lvalue* lv, Expr* rv,</span></span><br><span class="line">    <span class="comment">//   Location* l);</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Lvalue *lvalue;</span><br><span class="line">    <span class="comment">// Expr*  rvalue;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* Node representing an integer constant .</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (iconst VALUE)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntConst</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    IntConst(<span class="keyword">int</span> value, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a Boolean constant .</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (bconst VALUE)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BoolConst</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    BoolConst(<span class="keyword">bool</span> value, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">bool</span> value;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing the null expression .</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (null)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NullExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    NullExpr(Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing an addition.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (add EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AddExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    AddExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a substraction.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (sub EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    SubExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a multiplcation.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (mul EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MulExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    MulExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a division.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (div EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DivExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    DivExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a modular operation.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (mod EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ModExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    ModExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* Node representing a greater-than comparision.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (grt EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GrtExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    GrtExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a greater-than-or-equal-to comparision.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (geq EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GeqExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    GeqExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a less-than comparision.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (les EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LesExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    LesExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a less-than-or-equal-to comparision.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (leq EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LeqExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    LeqExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing an equivalence comparision.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (equ EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EquExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    EquExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* Node representing an non-equivalence comparision.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (neq EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NeqExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    NeqExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a logical-and operation .</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (and EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AndExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    AndExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a logical-or operation .</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (and EXPR1 EXPR2)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OrExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    OrExpr(Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e1;</span><br><span class="line">    Expr *e2;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IfExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    IfExpr(Expr *cond, Expr *e1, Expr *e2, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *condition;</span><br><span class="line">    Expr *true_brch;</span><br><span class="line">    Expr *false_brch;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Node representing a negating operation.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (neg EXPR)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NegExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    NegExpr(Expr *e, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* Node representing a logical-not operation.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (not EXPR)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NotExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    NotExpr(Expr *e, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/* Node representing a bitwise-not operation.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * SERIALIZED FORM:</span></span><br><span class="line"><span class="comment"> *   (bitnot EXPR)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BitNotExpr</span> :</span> <span class="keyword">public</span> Expr &#123;</span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    BitNotExpr(Expr *e, Location *l);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor *)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    Expr *e;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">bool</span> print_decorated_ast;</span><br><span class="line">&#125; <span class="comment">// namespace ast</span></span><br><span class="line">&#125; <span class="comment">// namespace mind</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// __MIND_AST__</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*****************************************************</span></span><br><span class="line"><span class="comment"> *  Implementation of the &quot;ASTNode&quot; abstract class.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  Keltin Leung </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;ast/ast.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;config.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;location.hpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;options.hpp&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> mind;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> mind::ast;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Names of the AST nodes.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  <span class="doctag">NOTE:</span> The order of node_name&#x27;s must be the same with that of NodeType&#x27;s.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">char</span> *ASTNode::node_name[] = &#123;<span class="string">&quot;add&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;and&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;assign&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;bconst&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;bitnot&quot;</span>,</span><br><span class="line"></span><br><span class="line">                                    <span class="string">&quot;btype&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;break&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;continue&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;call&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;comp&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;div&quot;</span>,</span><br><span class="line"></span><br><span class="line">                                    <span class="string">&quot;equ&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;empty&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;expr&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;func&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;geq&quot;</span>,</span><br><span class="line"></span><br><span class="line">                                    <span class="string">&quot;grt&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;if&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;if&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;iconst&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;itype&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;leq&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;les&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;lvalue&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;mod&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;mul&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;neg&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;neq&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;not&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;or&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;program&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;return&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;sub&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;var&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;varref&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;while&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;for&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;FuncOrDecl&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;index&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Whether to print the decorated abstract syntax tree.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">bool</span> print_decorated_ast = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Sets the basic information of a node.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  PARAMETERS:</span></span><br><span class="line"><span class="comment"> *    k     - the node kind</span></span><br><span class="line"><span class="comment"> *    l     - position in the source text</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ASTNode::setBasicInfo</span><span class="params">(NodeType k, Location *l)</span> </span>&#123;</span><br><span class="line">    kind = k;</span><br><span class="line">    loc = l;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Gets the node kind.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  RETURNS:</span></span><br><span class="line"><span class="comment"> *    the node kind</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">ASTNode::NodeType <span class="title">ASTNode::getKind</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123; <span class="keyword">return</span> kind; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Gets the source text location of this node</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  RETURNS:</span></span><br><span class="line"><span class="comment"> *    the source text location</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function">Location *<span class="title">ASTNode::getLocation</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123; <span class="keyword">return</span> loc; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Dumps this node to an output stream.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  PARAMETERS:</span></span><br><span class="line"><span class="comment"> *    os    - the output stream</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ASTNode::dumpTo</span><span class="params">(<span class="built_in">std</span>::ostream &amp;os)</span> </span>&#123;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;(&quot;</span> &lt;&lt; node_name[kind];</span><br><span class="line">    <span class="keyword">if</span> (Option::getLevel() != Option::PARSER)</span><br><span class="line">        os &lt;&lt; <span class="string">&quot; (&quot;</span> &lt;&lt; loc-&gt;line &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; loc-&gt;col &lt;&lt; <span class="string">&quot;)&quot;</span>;</span><br><span class="line">    incIndent(os);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Outputs an ASTNode.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  PARAMETERS:</span></span><br><span class="line"><span class="comment"> *    os    - the output stream</span></span><br><span class="line"><span class="comment"> *    p     - the ASTNode</span></span><br><span class="line"><span class="comment"> *  RETURNS:</span></span><br><span class="line"><span class="comment"> *    the output stream</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">std</span>::ostream &amp;mind::<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, ASTNode *p) &#123;</span><br><span class="line">    <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">        os &lt;&lt; <span class="string">&quot;!!NULL!!&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        p-&gt;dumpTo(os);</span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*  Outputs a FuncList.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  PARAMETERS:</span></span><br><span class="line"><span class="comment"> *    os    - the output stream</span></span><br><span class="line"><span class="comment"> *    l     - the Func list</span></span><br><span class="line"><span class="comment"> *  RETURNS:</span></span><br><span class="line"><span class="comment"> *    the output stream</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">std</span>::ostream &amp;mind::<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, FuncList *l) &#123;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;[&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!l-&gt;empty()) &#123;</span><br><span class="line">        incIndent(os);</span><br><span class="line">        os &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        FuncList::iterator it = l-&gt;begin();</span><br><span class="line">        os &lt;&lt; *it;</span><br><span class="line">        <span class="keyword">while</span> (++it != l-&gt;end()) &#123;</span><br><span class="line">            newLine(os);</span><br><span class="line">            os &lt;&lt; *it;</span><br><span class="line">        &#125;</span><br><span class="line">        decIndent(os);</span><br><span class="line">        newLine(os);</span><br><span class="line">    &#125;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;]&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Outputs a VarList.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  PARAMETERS:</span></span><br><span class="line"><span class="comment"> *    os    - the output stream</span></span><br><span class="line"><span class="comment"> *    l     - the VarDecl list</span></span><br><span class="line"><span class="comment"> *  RETURNS:</span></span><br><span class="line"><span class="comment"> *    the output stream</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">std</span>::ostream &amp;mind::<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, VarList *l) &#123;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;[&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!l-&gt;empty()) &#123;</span><br><span class="line">        incIndent(os);</span><br><span class="line">        os &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        VarList::iterator it = l-&gt;begin();</span><br><span class="line">        os &lt;&lt; *it;</span><br><span class="line">        <span class="keyword">while</span> (++it != l-&gt;end()) &#123;</span><br><span class="line">            newLine(os);</span><br><span class="line">            os &lt;&lt; *it;</span><br><span class="line">        &#125;</span><br><span class="line">        decIndent(os);</span><br><span class="line">        newLine(os);</span><br><span class="line">    &#125;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;]&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Outputs a StmtList.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  PARAMETERS:</span></span><br><span class="line"><span class="comment"> *    os    - the output stream</span></span><br><span class="line"><span class="comment"> *    l     - the Statement list</span></span><br><span class="line"><span class="comment"> *  RETURNS:</span></span><br><span class="line"><span class="comment"> *    the output stream</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">std</span>::ostream &amp;mind::<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, StmtList *l) &#123;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;[&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!l-&gt;empty()) &#123;</span><br><span class="line">        incIndent(os);</span><br><span class="line">        os &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        StmtList::iterator it = l-&gt;begin();</span><br><span class="line">        os &lt;&lt; *it;</span><br><span class="line">        <span class="keyword">while</span> (++it != l-&gt;end()) &#123;</span><br><span class="line"></span><br><span class="line">            newLine(os);</span><br><span class="line">            os &lt;&lt; *it;</span><br><span class="line">        &#125;</span><br><span class="line">        decIndent(os);</span><br><span class="line">        newLine(os);</span><br><span class="line">    &#125;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;]&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  Outputs an ExprList .</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  PARAMETERS:</span></span><br><span class="line"><span class="comment"> *    os    - the output stream</span></span><br><span class="line"><span class="comment"> *    l     - the Expr list</span></span><br><span class="line"><span class="comment"> *  RETURNS:</span></span><br><span class="line"><span class="comment"> *    the output stream</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">std</span>::ostream &amp;mind::<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, ExprList *l) &#123;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;[&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!l-&gt;empty()) &#123;</span><br><span class="line">        incIndent(os);</span><br><span class="line">        os &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        ExprList::iterator it = l-&gt;begin();</span><br><span class="line">        os &lt;&lt; *it;</span><br><span class="line">        <span class="keyword">while</span> (++it != l-&gt;end()) &#123;</span><br><span class="line">            newLine(os);</span><br><span class="line">            os &lt;&lt; *it;</span><br><span class="line">        &#125;</span><br><span class="line">        decIndent(os);</span><br><span class="line">        newLine(os);</span><br><span class="line">    &#125;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;]&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">std</span>::ostream &amp;mind::<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, DimList *l) &#123;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;[&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!l-&gt;empty()) &#123;</span><br><span class="line">        incIndent(os);</span><br><span class="line">        os &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        DimList::iterator it = l-&gt;begin();</span><br><span class="line">        os &lt;&lt; *it;</span><br><span class="line">        <span class="keyword">while</span> (++it != l-&gt;end()) &#123;</span><br><span class="line">            newLine(os);</span><br><span class="line">            os &lt;&lt; *it;</span><br><span class="line">        &#125;</span><br><span class="line">        decIndent(os);</span><br><span class="line">        newLine(os);</span><br><span class="line">    &#125;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;]&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">std</span>::ostream &amp;mind::<span class="keyword">operator</span>&lt;&lt;(<span class="built_in">std</span>::ostream &amp;os, FuncOrGlobalList *l) &#123;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;[&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!l-&gt;empty()) &#123;</span><br><span class="line">        incIndent(os);</span><br><span class="line">        os &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        FuncOrGlobalList::iterator it = l-&gt;begin();</span><br><span class="line">        os &lt;&lt; *it;</span><br><span class="line">        <span class="keyword">while</span> (++it != l-&gt;end()) &#123;</span><br><span class="line"></span><br><span class="line">            newLine(os);</span><br><span class="line">            os &lt;&lt; *it;</span><br><span class="line">        &#125;</span><br><span class="line">        decIndent(os);</span><br><span class="line">        newLine(os);</span><br><span class="line">    &#125;</span><br><span class="line">    os &lt;&lt; <span class="string">&quot;]&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*****************************************************</span></span><br><span class="line"><span class="comment"> *  Definition of the AST visitor pattern.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  It is only an interface (we provide an empty body</span></span><br><span class="line"><span class="comment"> *  just to make your life easier..).</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  Keltin Leung </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __MIND_VISITOR__</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __MIND_VISITOR__</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;ast/ast.hpp&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> mind &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> ast &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  AST Visitor Pattern.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  HOW TO USE:</span></span><br><span class="line"><span class="comment"> *    1. Create a subclass of Visitor;</span></span><br><span class="line"><span class="comment"> *    2. Implement visit(ast::Program*)  (required);</span></span><br><span class="line"><span class="comment"> *    3. Implement the other visiting functions as you need;</span></span><br><span class="line"><span class="comment"> *    4. We provide an empty function body (&#123;  &#125;) instead of</span></span><br><span class="line"><span class="comment"> *       setting it pure (= 0) so that you do not need to</span></span><br><span class="line"><span class="comment"> *       implement all the functions as you do with a pure</span></span><br><span class="line"><span class="comment"> *       interface.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Visitor</span> &#123;</span></span><br><span class="line">  <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// Expressions</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(CallExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(AddExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(AndExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(AssignExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(IfExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(OrExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(BoolConst *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(DivExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(EquExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(GeqExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(GrtExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(NeqExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(IntConst *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(LeqExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(LesExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(LvalueExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(ModExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(MulExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(NegExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(NotExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(BitNotExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(SubExpr *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(IndexExpr *)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Lvalues</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(VarRef *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="comment">// Types</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(BoolType *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(IntType *)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Statements</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(ExprStmt *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(CompStmt *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(WhileStmt *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(ForStmt *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(EmptyStmt *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(BreakStmt *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(ContinueStmt *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(IfStmt *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(ReturnStmt *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="comment">// Declarations</span></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(Program *)</span> </span>= <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(FuncDefn *)</span> </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(VarDecl *)</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">virtual</span> ~Visitor() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#125; <span class="comment">// namespace ast</span></span><br><span class="line">&#125; <span class="comment">// namespace mind</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// __MIND_VISITOR__</span></span></span><br></pre></td></tr></table></figure><h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><p>æ–°æ‰¾åˆ°ä¸€ä¸ªé¡¹ç›®,<a href="git@github.com:DoctorWkt/acwj.git">journey to compiler</a></p><p>è¿™ä¸ªæ¯”è¾ƒå¥½ä¸€ç‚¹,æˆ‘å°è¯•ç…§ç€è¿™ä¸ªåšä¸€ä¸‹.å¯èƒ½è¦åˆ†å‡ ä¸ªä¸“é¢˜.</p><h3 id="lexical-scanning"><a href="#lexical-scanning" class="headerlink" title="lexical scanning"></a>lexical scanning</h3><p>é¦–å…ˆå¼€å§‹è¯æ³•åˆ†æ,ä¸»è¦æ˜¯è¯†åˆ«+ - * /å’Œå­—é¢æ•°å­—</p><blockquote><p>However, there will be times when we need to â€œput backâ€ a character if we have read too far ahead in the input stream. We also want to track what line we are currently on so that we can print the line number in our debug messages. All of this is done by the <code>next()</code> function:</p></blockquote><p><img data-src="https://s2.loli.net/2022/05/30/kIOan4cNbL839Kf.png" alt="å¤§è‡´æµç¨‹" style="zoom:67%;" /></p><h3 id="parser"><a href="#parser" class="headerlink" title="parser"></a>parser</h3><p>è¯­æ³•åˆ†æè®¾è®¡åˆ°BNFæˆ–è€…EBNF.éœ€è¦è®¾è®¡AST.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// AST node types</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">  A_ADD, A_SUBTRACT, A_MULTIPLY, A_DIVIDE, A_INTLIT</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Abstract Syntax Tree structure</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> &#123;</span></span><br><span class="line">  <span class="keyword">int</span> op;                               <span class="comment">// &quot;Operation&quot; to be performed on this tree</span></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">left</span>;</span>                 <span class="comment">// Left and right child trees</span></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">right</span>;</span></span><br><span class="line">  <span class="keyword">int</span> intvalue;                         <span class="comment">// For A_INTLIT, the integer value</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>defsæ–‡ä»¶æ–°å¢ASTnode</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> &#123;</span></span><br><span class="line">  <span class="comment">// op to be performed on this tree</span></span><br><span class="line">  <span class="comment">// e.g. A_ADD</span></span><br><span class="line">  <span class="keyword">int</span> op;</span><br><span class="line">  <span class="comment">// left and right child tree</span></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">left</span>;</span></span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">right</span>;</span></span><br><span class="line">  <span class="keyword">int</span> intvalue; <span class="comment">//for integer</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¢åŠ äº§ç”ŸastèŠ‚ç‚¹å‡½æ•°</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">struct ASTnode *<span class="title">binexpr</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">ASTnode</span> *<span class="title">n</span>, *<span class="title">left</span>, *<span class="title">right</span>;</span></span><br><span class="line">  <span class="keyword">int</span> nodetype;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å·¦å€¼</span></span><br><span class="line">  <span class="comment">// Get the integer literal on the left.</span></span><br><span class="line">  <span class="comment">// Fetch the next token at the same time.</span></span><br><span class="line">  left = primary();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (Token.token == _EOF)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">  &#125;</span><br><span class="line">  nodetype = tok2aop(Token.token);</span><br><span class="line"></span><br><span class="line">  scan(&amp;Token);</span><br><span class="line">  <span class="comment">// åˆ›å»ºå³å€¼</span></span><br><span class="line">  right = binexpr();</span><br><span class="line"></span><br><span class="line">  n = mkastnode(nodetype, left, right, <span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥åŠå¯¹äºastèŠ‚ç‚¹èµ‹å€¼çš„ä¸€äº›æ“ä½œ.</p><p>è¿˜éœ€è¦éå†æ ‘ç»“æ„,è¿™é‡Œé‡‡ç”¨å…ˆåºéå†.</p><h2 id="misc"><a href="#misc" class="headerlink" title="misc"></a>misc</h2><p><a href="https://www.cnblogs.com/EQ1024/p/15660909.html">Docker -v | volume æŒ‚è½½å®¿ä¸»æœºç›®å½•å¯¼è‡´å®¹å™¨å†…æ–‡ä»¶è¢«è¦†ç›–é—®é¢˜ - äºŒæŸ’å¸­åœ°è€Œå - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> compiler </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>htmlç²¾å­¦</title>
      <link href="2022/05/02/html%E7%B2%BE%E5%AD%A6/"/>
      <url>2022/05/02/html%E7%B2%BE%E5%AD%A6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¹‹å‰å¤šæ¬¡å­¦ä¹ è¿‡html,css.å¥ˆä½•æ¯æ¬¡å­¦äº†å°±å¿˜,å†™çš„ä¸œè¥¿ä¹Ÿä¸å¤š(å†™äº†ä¹Ÿå¿˜).è¿™é‡Œæ‰“ç®—å†™ä¸€äº›htmlçš„åŸºæœ¬çŸ¥è¯†å’Œå‰æ²¿æ–°ä¸œè¥¿å·©å›ºä¸€ä¸‹.<br><span id="more"></span></p>]]></content>
      
      
      
        <tags>
            
            <tag> html </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GANå­¦ä¹ </title>
      <link href="2022/04/30/GAN%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/04/30/GAN%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å¥½ç´¯<br><span id="more"></span></p><p>ä½¿ç”¨kerasæ„å»º</p><h2 id="GANç†è®º"><a href="#GANç†è®º" class="headerlink" title="GANç†è®º"></a>GANç†è®º</h2><p><a href="https://arxiv.org/abs/1406.2661">GAN</a>ï¼ˆGenerative Adversarial Networksï¼Œç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œï¼‰ç”± Goodfellow ç­‰äººäº 2014 å¹´æå‡ºï¼Œå®ƒèƒ½å¤Ÿè¿«ä½¿ç½‘ç»œç”Ÿæˆçš„åˆæˆå›¾åƒä¸çœŸå®å›¾åƒåœ¨ç»Ÿè®¡ä¸Šå‡ ä¹æ— æ³•åŒºåˆ†ï¼Œä»è€Œè·å¾—ç›¸å½“é€¼çœŸçš„åˆæˆå›¾åƒã€‚</p><p>GAN ç”±ä»¥ä¸‹ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>ç”Ÿæˆå™¨ç½‘ç»œï¼ˆGenerator Networkï¼‰ï¼šå®ƒä»¥ä¸€ä¸ªéšæœºå‘é‡ä½œä¸ºè¾“å…¥ï¼Œå¹¶å°†å…¶è§£ç ä¸ºä¸€å¼ åˆæˆå›¾åƒã€‚</li><li>åˆ¤åˆ«å™¨ç½‘ç»œï¼ˆDiscriminator Networkï¼‰ï¼šä»¥ä¸€å¼ å›¾åƒä½œä¸ºè¾“å…¥ï¼Œå¹¶é¢„æµ‹è¯¥å›¾åƒæ˜¯æ¥è‡ªè®­ç»ƒé›†çš„çœŸå®å›¾åƒè¿˜æ˜¯ç”±ç”Ÿæˆå™¨ç½‘ç»œç”Ÿæˆçš„åˆæˆå›¾åƒ</li></ul><blockquote><p>æƒ³è±¡ä¸€åä¼ªé€ è€…è¯•å›¾ä¼ªé€ ä¸€å‰¯æ¯•åŠ ç´¢çš„ç”»ä½œã€‚ä¸€å¼€å§‹ï¼Œä¼ªé€ è€…éå¸¸ä¸æ“…é•¿è¿™é¡¹ä»»åŠ¡ã€‚ä»–å°†è‡ªå·±çš„ä¸€äº›èµå“ä¸æ¯•åŠ ç´¢çœŸè¿¹æ··åœ¨ä¸€èµ·ï¼Œå¹¶å°†å…¶å±•ç¤ºç»™ä¸€ä½è‰ºæœ¯å•†äººã€‚è‰ºæœ¯å•†äººå¯¹æ¯å¹…ç”»è¿›è¡ŒçœŸå®æ€§è¯„ä¼°ï¼Œå¹¶å‘ä¼ªé€ è€…ç»™å‡ºåé¦ˆï¼Œå‘Šè¯‰ä»–æ˜¯ä»€ä¹ˆè®©æ¯•åŠ ç´¢ä½œå“çœ‹èµ·æ¥åƒä¸€å¹…æ¯•åŠ ç´¢ä½œå“ã€‚ä¼ªé€ è€…å›åˆ°è‡ªå·±çš„å·¥ä½œå®¤ï¼Œå¹¶å‡†å¤‡ä¸€äº›æ–°çš„èµå“ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œä¼ªé€ è€…å˜å¾—è¶Šæ¥è¶Šæ“…é•¿æ¨¡ä»¿æ¯•åŠ ç´¢çš„é£æ ¼ï¼Œè‰ºæœ¯å•†äººä¹Ÿå˜å¾—è¶Šæ¥è¶Šæ“…é•¿æ‰¾å‡ºèµå“ã€‚æœ€åï¼Œä»–ä»¬æ‰‹ä¸Šæ‹¥æœ‰äº†ä¸€äº›ä¼˜ç§€çš„æ¯•åŠ ç´¢èµå“ã€‚</p></blockquote><p><img data-src="https://dn-simplecloud.shiyanlou.com/questions/uid788648-20190514-1557814594170" alt="img" style="zoom:50%;" /></p><ul><li>ä¸€å¼€å§‹ï¼Œæˆ‘ä»¬æ‰‹å¤´ä¸Šåªæœ‰çœŸå®å›¾åƒï¼Œç”Ÿæˆå™¨é¦–å…ˆæ ¹æ®æ½œåœ¨ç©ºé—´ä¸­çš„éšæœºå‘é‡ç”Ÿæˆç¬¬ä¸€æ‰¹åˆæˆå›¾åƒï¼Œç”±äºæ²¡æœ‰å‚ç…§ç‰©ï¼Œå¾—åˆ°çš„å›¾åƒå¾ˆç³Ÿç³•ã€‚</li><li>æ¥ç€ï¼Œå°†åˆæˆå›¾åƒçš„æ ‡ç­¾è®¾ä¸º 0ï¼ŒçœŸå®å›¾åƒçš„æ ‡ç­¾è®¾ä¸º 1ï¼Œæ··åˆåè¾“å…¥åˆ°åˆ¤åˆ«å™¨ä¸­ã€‚è¿™æ—¶åˆ¤åˆ«å™¨å°±åƒä¸€ä¸ªäºŒå…ƒåˆ†ç±»å™¨ï¼Œå®ƒè¾“å‡ºæ¯å¼ å›¾åƒä¸ºçœŸå®å›¾åƒçš„æ¦‚ç‡ï¼Œä½¿å¾—è¾“å…¥çœŸå®å›¾åƒæ—¶ï¼Œè¾“å‡ºå‘ 1 é è¿‘ï¼Œè¾“å…¥åˆæˆå›¾åƒæ—¶ï¼Œè¾“å‡ºå‘ 0 é è¿‘ï¼Œç”±æ­¤å½¢æˆä¸€ä¸ªåˆ¤åˆ«æ ‡å‡†ã€‚</li><li>ç„¶åï¼Œè®­ç»ƒç”Ÿæˆå™¨ï¼Œæ ¹æ®åˆ¤åˆ«å™¨çš„è®­ç»ƒåé¦ˆç»“æœæ›´æ–°å‚æ•°ï¼Œè®­ç»ƒç”Ÿæˆå™¨ç½‘ç»œçš„ç›®çš„æ˜¯ä½¿å…¶èƒ½å¤Ÿæ¬ºéª—åˆ¤åˆ«å™¨ç½‘ç»œï¼Œå› æ­¤éšç€è®­ç»ƒçš„è¿›è¡Œï¼Œå®ƒèƒ½å¤Ÿé€æ¸ç”Ÿæˆè¶Šæ¥è¶Šé€¼çœŸçš„å›¾åƒï¼Œå³çœ‹èµ·æ¥ä¸çœŸå®å›¾åƒæ— æ³•åŒºåˆ†çš„äººé€ å›¾åƒï¼Œä»¥è‡³äºåˆ¤åˆ«å™¨ç½‘ç»œæ— æ³•åŒºåˆ†äºŒè€…ã€‚ä¸æ­¤åŒæ—¶ï¼Œåˆ¤åˆ«å™¨ä¹Ÿåœ¨ä¸æ–­é€‚åº”ç”Ÿæˆå™¨é€æ¸æé«˜çš„èƒ½åŠ›ï¼Œä½¿å¾—å…¶åˆ¤åˆ«çœŸå‡å›¾åƒçš„èƒ½åŠ›æ„ˆæ¥æ„ˆé«˜ã€‚</li><li>ä¸€æ—¦è®­ç»ƒç»“æŸï¼Œåœ¨æœ€ç†æƒ³çš„çŠ¶æ€ä¸‹ï¼Œç”Ÿæˆå™¨å°±èƒ½å¤Ÿç”Ÿæˆååˆ†é€¼çœŸçš„åˆæˆå›¾åƒï¼Œä½¿å¾—åˆ¤åˆ«å™¨æ— æ³•è¾¨åˆ«çœŸå®å›¾åƒå’Œåˆæˆå›¾åƒçš„å·®åˆ«ã€‚</li></ul><h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><p>æœ¬èŠ‚åˆ†æ­¥å®ç°ä¸€ä¸ªæœ€åŸå§‹çš„ GANï¼Œå¹¶ä½¿ç”¨ <a href="http://yann.lecun.com/exdb/mnist/">MNIST</a> æ‰‹å†™æ•°å­—æ•°æ®é›†ä¸­çš„å›¾åƒä½œä¸ºçœŸå®å›¾åƒï¼Œåœ¨ GAN ä¸Šåˆæˆæ‰‹å†™æ•°å­—å›¾åƒã€‚</p><h4 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">img_rows = <span class="number">28</span></span><br><span class="line">img_cols = <span class="number">28</span></span><br><span class="line">channels = <span class="number">1</span></span><br><span class="line">img_shape = (img_rows, img_cols, channels)</span><br><span class="line">latent_dim = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">generator_input = Input(shape=(latent_dim,))</span><br><span class="line"></span><br><span class="line"><span class="comment"># model</span></span><br><span class="line">x = Dense(<span class="number">256</span>)(generator_input)</span><br><span class="line">x = LeakyReLU(alpha=<span class="number">0.2</span>)(x)</span><br><span class="line">x = BatchNormalization(momentum=<span class="number">0.8</span>)(x)</span><br><span class="line">x = Dense(<span class="number">512</span>)(x)</span><br><span class="line">x = LeakyReLU(alpha=<span class="number">0.2</span>)(x)</span><br><span class="line">x = BatchNormalization(momentum=<span class="number">0.8</span>)(x)</span><br><span class="line">x = Dense(<span class="number">1024</span>)(x)</span><br><span class="line">x = LeakyReLU(alpha=<span class="number">0.2</span>)(x)</span><br><span class="line">x = BatchNormalization(momentum=<span class="number">0.8</span>)(x)</span><br><span class="line"></span><br><span class="line">x = Dense(np.prod(img_shape), activation=<span class="string">&#x27;tanh&#x27;</span>)(x)</span><br><span class="line">x = Reshape(img_shape)(x)</span><br><span class="line"></span><br><span class="line">generator = Model(generator_input,x)</span><br><span class="line"><span class="built_in">print</span>(generator.summary())</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨,å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å°è¯•è¾“å…¥ä¸€ä¸ªå¤§å°ä¸º100å‘é‡,è¾“å‡ºä¸º28x28x1çš„çŸ©é˜µ.å³å•é€šé“28x28çš„å›¾åƒ.</p><p><img data-src="https://s2.loli.net/2022/04/30/aMONJ15GRljTh79.png" alt="Generatoræ¨¡å‹" style="zoom: 67%;" /></p><h4 id="åˆ¤åˆ«å™¨"><a href="#åˆ¤åˆ«å™¨" class="headerlink" title="åˆ¤åˆ«å™¨"></a>åˆ¤åˆ«å™¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">discriminator_input = Input(shape=img_shape)</span><br><span class="line">x = Flatten()(discriminator_input)</span><br><span class="line">x = Dense(<span class="number">512</span>)(x)</span><br><span class="line">x = LeakyReLU(alpha=<span class="number">0.2</span>)(x)</span><br><span class="line">x = Dense(<span class="number">256</span>)(x)</span><br><span class="line">x = LeakyReLU(alpha=<span class="number">0.2</span>)(x)</span><br><span class="line">x = Dense(<span class="number">1</span>,activation=<span class="string">&#x27;sigmoid&#x27;</span>)(x)</span><br><span class="line">discriminator = Model(discriminator_input,x)</span><br><span class="line"><span class="built_in">print</span>(discriminator.summary())</span><br></pre></td></tr></table></figure><p>è¾“å…¥æ—¶MINISTæ•°æ®é›†çš„æ•°æ®,ä¸­é—´éƒ½æ˜¯å…¨è¿æ¥å±‚,åŠ çš„leakyreluæ¿€æ´»å‡½æ•°.æ³¨æ„æœ€åè¾“å‡ºä¸€ä¸ªå€¼,è¡¨ç¤ºæ˜¯ä¸æ˜¯çœŸçš„å›¾åƒ,å¦‚æœå¤§åˆ™è¡¨ç¤ºç›¸è¿‘.</p><p><img data-src="https://s2.loli.net/2022/04/30/3G5mHqLE4icVWvS.png" alt="discriminatoræ¨¡å‹"></p><p>ç¼–è¯‘åˆ¤åˆ«å™¨ç½‘ç»œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">discriminator.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>,</span><br><span class="line">                      optimizer=<span class="string">&#x27;adam&#x27;</span>,metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br></pre></td></tr></table></figure><h4 id="æ„å»ºGAN"><a href="#æ„å»ºGAN" class="headerlink" title="æ„å»ºGAN"></a>æ„å»ºGAN</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">gan_input = Input(shape=(latent_dim,))</span><br><span class="line">generator_image = generator(gan_input)</span><br><span class="line"></span><br><span class="line">discriminator.trainable = <span class="literal">False</span></span><br><span class="line">gan_output = discriminator(generator_image)</span><br><span class="line"></span><br><span class="line">gan = Model(gan_input,gan_output)</span><br><span class="line"></span><br><span class="line">gan.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>,optimizer=<span class="string">&#x27;adam&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(gan.summary())</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘GAN </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gan.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>,</span><br><span class="line">            optimizer=<span class="string">&#x27;adam&#x27;</span>)</span><br></pre></td></tr></table></figure><ul><li>ä»æ½œåœ¨ç©ºé—´ä¸­æŠ½å–éšæœºçš„ç‚¹ï¼Œå³éšæœºå™ªå£°ã€‚</li><li>åˆ©ç”¨è¿™äº›éšæœºå™ªå£°é€šè¿‡ç”Ÿæˆå™¨ç”Ÿæˆå›¾åƒã€‚</li><li>å°†ç”Ÿæˆçš„åˆæˆå›¾åƒä¸çœŸå®å›¾åƒæ··åˆã€‚</li><li>ä½¿ç”¨è¿™äº›æ··åˆåçš„å›¾åƒä»¥åŠç›¸åº”çš„æ ‡ç­¾ï¼ˆçœŸå®å›¾åƒä¸ºã€Œ1ã€ï¼Œåˆæˆå›¾åƒä¸ºã€Œ0ã€ï¼‰æ¥è®­ç»ƒåˆ¤åˆ«å™¨ã€‚</li><li>åœ¨æ½œåœ¨ç©ºé—´ä¸­éšæœºæŠ½å–æ–°çš„ç‚¹ã€‚</li><li>ä½¿ç”¨è¿™äº›æ–°çš„éšæœºå‘é‡ä»¥åŠå…¨éƒ¨æ˜¯ã€Œ1ã€çš„æ ‡ç­¾è®­ç»ƒ GANã€‚ç”±äºæ­¤æ—¶å·²ç»åœ¨ GAN æ¨¡å‹ä¸­å†»ç»“äº†åˆ¤åˆ«å™¨ï¼Œæ•…åªä¼šæ›´æ–°ç”Ÿæˆå™¨çš„æƒé‡ï¼Œå…¶æ›´æ–°æ–¹å‘æ˜¯ä½¿å¾—åˆ¤åˆ«å™¨èƒ½å¤Ÿå°†åˆæˆå›¾åƒé¢„æµ‹ä¸ºã€ŒçœŸå®å›¾åƒã€ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯è®­ç»ƒç”Ÿæˆå™¨å»æ¬ºéª—åˆ¤åˆ«å™¨ã€‚</li></ul><p>å¯¼å…¥æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line">(X_train, _), (_, _) = mnist.load_data()</span><br></pre></td></tr></table></figure><p>æ•°æ®æ ‡å‡†åŒ–ï¼Œå°†æ¯å¼ å›¾åƒçš„æ¯ä¸ªåƒç´ å€¼éƒ½ç¼©æ”¾åˆ° -1 è‡³ 1 ä¹‹é—´ï¼Œæœ‰åˆ©äºæ¨¡å‹å­¦ä¹ ä¸è®­ç»ƒã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X_train = X_train / <span class="number">127.5</span> - <span class="number">1.</span></span><br></pre></td></tr></table></figure><p>ç”±äºæ•°æ®æ˜¯6000*28*28,ç¼ºå°‘ä¸€ä¸ªç»´åº¦,æˆ‘ä»¬éœ€è¦28*28*1</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X_train = np.expand_dims(X_train, axis=<span class="number">3</span>)</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å¼€å§‹è®­ç»ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">epochs = <span class="number">1000</span></span><br><span class="line">batch_size = <span class="number">128</span></span><br><span class="line"><span class="comment"># æ ‡ç­¾ label</span></span><br><span class="line">valid = np.ones((batch_size, <span class="number">1</span>))</span><br><span class="line">fake = np.zeros((batch_size, <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epochs <span class="keyword">in</span> <span class="built_in">range</span>(epochs):</span><br><span class="line">    <span class="comment"># è®­ç»ƒåˆ¤åˆ«å™¨</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># éšæœºé€‰ä¸€ä¸ªbatchçš„ç…§ç‰‡</span></span><br><span class="line">    idx = np.random.randint(<span class="number">0</span>, X_train.shape[<span class="number">0</span>], batch_size)</span><br><span class="line">    imgs = X_train[idx]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç”Ÿæˆå™ªéŸ³(ä¸€èˆ¬æ­£æ€åˆ†å¸ƒ)</span></span><br><span class="line">    noise = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (batch_size, latent_dim))</span><br><span class="line">    <span class="comment"># æ ¹æ®å™ªéŸ³ç”Ÿæˆå›¾ç‰‡</span></span><br><span class="line">    gen_imgs = generator.predict(noise)</span><br><span class="line">    d_loss_real = discriminator.train_on_batch(imgs, valid)</span><br><span class="line">    d_loss_fake = discriminator.train_on_batch(gen_imgs, fake)</span><br><span class="line"></span><br><span class="line">    d_loss = <span class="number">0.5</span> * np.add(d_loss_fake, d_loss_real)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä½¿ç”¨è¿™äº›éšæœºå‘é‡ä»¥åŠå…¨éƒ¨æ˜¯ã€Œ1ã€çš„æ ‡ç­¾</span></span><br><span class="line">    <span class="comment"># é€šè¿‡ GAN æ¨¡å‹è®­ç»ƒç”Ÿæˆå™¨ï¼ˆæ­¤æ—¶åˆ¤åˆ«å™¨æƒé‡å·²è¢«å†»ç»“ï¼‰</span></span><br><span class="line">    noise = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (batch_size, latent_dim))</span><br><span class="line">    g_loss = gan.train_on_batch(noise, valid)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> epochs % <span class="number">200</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="comment">#  æ‰“å°å‡ºåˆ¤åˆ«å™¨çš„æŸå¤±å€¼ loss å’Œ å‡†ç¡®ç‡ accï¼ŒåŠç”Ÿæˆå™¨çš„ loss</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%d [D loss:%f,acc:%.2f%%][G loss:%f]&quot;</span> % (epochs, d_loss[<span class="number">0</span>], <span class="number">100</span> * d_loss[<span class="number">1</span>], g_loss))</span><br><span class="line">        gen_imgs = <span class="number">0.5</span> * gen_imgs + <span class="number">0.5</span></span><br><span class="line">        _, axs = plt.subplots(<span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">        cnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">                axs[i, j].imshow(gen_imgs[cnt, :, :, <span class="number">0</span>], cmap=<span class="string">&#x27;gray&#x27;</span>)</span><br><span class="line">                axs[i, j].axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">                cnt += <span class="number">1</span></span><br><span class="line">        plt.show()</span><br><span class="line">        plt.close()</span><br><span class="line">        <span class="comment"># _, axs = plt.subplots(5, 5)</span></span><br><span class="line">        <span class="comment"># cnt = 0</span></span><br><span class="line">        <span class="comment"># for i in range(5):</span></span><br><span class="line">        <span class="comment">#     for j in range(5):</span></span><br><span class="line">        <span class="comment">#         axs[i, j].imshow(X_train[cnt, :, :, 0], cmap=&#x27;gray&#x27;)</span></span><br><span class="line">        <span class="comment">#         axs[i, j].axis(&#x27;off&#x27;)</span></span><br><span class="line">        <span class="comment">#         cnt += 1</span></span><br><span class="line">        <span class="comment"># plt.show()</span></span><br><span class="line">        <span class="comment"># plt.close()</span></span><br></pre></td></tr></table></figure><h3 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h3><p><img data-src="https://s2.loli.net/2022/04/30/87lfTjUcZip1Gk5.png" alt="image0" style="zoom:50%;" /></p><p><img data-src="https://s2.loli.net/2022/04/30/IPy2vi5EGBlMhpS.png" alt="image1" style="zoom:50%;" /></p><p><img data-src="https://s2.loli.net/2022/04/30/dke7PwDhFtS8JvY.png" alt="image2" style="zoom:50%;" /></p><p><img data-src="https://s2.loli.net/2022/04/30/taFMk9RO6iH3Yjo.png" alt="image3" style="zoom:50%;" /></p><p>è²Œä¼¼æœ€ç»ˆæ•ˆæœä¸€èˆ¬,ä½†èƒ½çœ‹åˆ°æ¯æ¬¡çš„å˜åŒ–</p><h3 id="details"><a href="#details" class="headerlink" title="details"></a>details</h3><p>å½“discriminatorè¢«compileä¹‹åï¼Œå³ä½¿è®¾ç½®äº†discriminator.trainable=Falseï¼Œè¯¥discriminatorä»ç„¶å¯ä»¥é€šè¿‡train_on_batchçš„æ–¹å¼è¢«è®­ç»ƒï¼›</p><p>ä½†æ˜¯å¦‚æœdiscriminatoråœ¨è¢«compileä¹‹å‰å°±æŠŠè®­ç»ƒçŠ¶æ€è®¾ç½®ä¸ºFalseï¼Œé‚£ä¹ˆå³ä½¿æ˜¯ä½¿ç”¨discriminator.train_on_batchçš„æ–¹å¼ä¹Ÿä¸èƒ½è®­ç»ƒè¯¥åˆ¤åˆ«å™¨ã€‚</p><p>å½“compileä¸€ä¸ªæ¨¡å‹æ—¶ï¼Œè¯¥æ¨¡å‹çš„è®­ç»ƒçŠ¶æ€å°±è¢«å›ºå®šæˆå½“å‰çŠ¶æ€äº†ï¼ˆæ¯”å¦‚discriminator.trainable=Trueï¼‰;</p><p>å½“å°è¯•ä¿®æ”¹compileä¹‹åçš„discriminatorçš„è®­ç»ƒçŠ¶æ€æ—¶ï¼Œå®è´¨ä¸Šæ˜¯å¯¹å¦å¤–ä¸€ä¸ªdiscriminatorçš„è®­ç»ƒçŠ¶æ€è¿›è¡Œä¿®æ”¹ï¼ˆä¹Ÿè®¸æ¥ä¸‹æ¥ä¼šcompileï¼‰;</p><p>ç”±äºæ¡†æ¶è‡ªèº«çš„æœºåˆ¶ï¼Œä¸Šé¢compileä¹‹åçš„ä¸¤ä¸ªdiscriminatoræ‹¥æœ‰ç›¸åŒçš„ç½‘ç»œæƒé‡ï¼ˆå³ä½¿å®ƒä»¬è¢«çœ‹ä½œæ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„æ¨¡å‹ï¼‰</p><h2 id="DCGAN"><a href="#DCGAN" class="headerlink" title="DCGAN"></a>DCGAN</h2><p>æ™®é€šçš„GANè®­ç»ƒæ•ˆæœæŒºå·®çš„.</p><p>DCGANï¼ˆæ·±åº¦å·ç§¯ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ŒDeep Convolution Generative Adversarial Networkï¼‰åŸºäº GAN åšäº†ç½‘ç»œç»“æ„çš„æ”¹è¿›ï¼Œå°† <a href="https://baike.baidu.com/item/å·ç§¯ç¥ç»ç½‘ç»œ/17541100?fr=aladdin">å·ç§¯ç¥ç»ç½‘ç»œ</a> åº”ç”¨åœ¨ç”Ÿæˆå™¨ç½‘ç»œå’Œåˆ¤åˆ«å™¨ç½‘ç»œä¸­ï¼Œä½¿å¾—æ•´ä¸ªæ¨¡å‹å…·æœ‰æ›´å¥½çš„è®­ç»ƒç¨³å®šæ€§å’Œæ€§èƒ½è¡¨ç°ã€‚å…¶å·¥ä½œåŸç†å’Œ GAN ç›¸åŒï¼Œè¿™é‡Œä¸å†èµ˜è¿°</p><h3 id="ç”Ÿæˆå™¨ç½‘ç»œç»“æ„"><a href="#ç”Ÿæˆå™¨ç½‘ç»œç»“æ„" class="headerlink" title="ç”Ÿæˆå™¨ç½‘ç»œç»“æ„"></a>ç”Ÿæˆå™¨ç½‘ç»œç»“æ„</h3><p><img data-src="https://dn-simplecloud.shiyanlou.com/questions/uid788648-20190513-1557739698486" alt="img" style="zoom:50%;" /></p><h3 id="é‰´åˆ«å™¨ç½‘ç»œç»“æ„"><a href="#é‰´åˆ«å™¨ç½‘ç»œç»“æ„" class="headerlink" title="é‰´åˆ«å™¨ç½‘ç»œç»“æ„"></a>é‰´åˆ«å™¨ç½‘ç»œç»“æ„</h3><p><img data-src="https://dn-simplecloud.shiyanlou.com/questions/uid788648-20190521-1558405128517" alt="img" style="zoom:50%;" /></p><p>DCGAN æ˜¯ä¸€ç±»æ¨¡å‹çš„æ€»ç§°ï¼Œå…¶ç»“æ„ç‰¹ç‚¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><ul><li>æ‰€æœ‰çš„æ± åŒ–å±‚ä½¿ç”¨æ­¥å¹…å·ç§¯å’Œ <a href="https://buptldy.github.io/2016/10/29/2016-10-29-deconv/">å¾®æ­¥å¹…å·ç§¯ Fractionally Strided Convolution</a> æˆ– <a href="https://www.cnblogs.com/jokerjason/p/9429452.html">ä¸Šé‡‡æ ·</a> è¿›è¡Œæ›¿æ¢ï¼Œæ­¥å¹…å·ç§¯æŒ‡çš„æ˜¯å·ç§¯å±‚çš„æ­¥é•¿ <code>strides&gt;1</code>ã€‚</li><li>åˆ¤åˆ«å™¨ç½‘ç»œä¸­ä½¿ç”¨æ­¥å¹…å·ç§¯ï¼Œç›®çš„æ˜¯è¿›è¡Œå›¾åƒå‹ç¼©ï¼›ç”Ÿæˆå™¨ç½‘è·¯ä¸­ä½¿ç”¨å¾®æ­¥å¹…å·ç§¯æˆ–ä¸Šé‡‡æ ·ï¼Œç›®çš„æ˜¯è¿›è¡Œå›¾åƒæ”¾å¤§ã€‚</li><li>åœ¨ç”Ÿæˆå™¨ç½‘ç»œå’Œåˆ¤åˆ«å™¨ç½‘ç»œä¸­ä½¿ç”¨æ‰¹æ ‡å‡†åŒ–ã€‚</li><li>å¯¹äºæ›´æ·±çš„æ„æ¶å»æ‰ Dense å…¨è¿æ¥å±‚ã€‚</li><li>ç”Ÿæˆå™¨ç½‘ç»œä¸­è¾“å‡ºå±‚ä½¿ç”¨ <a href="https://baike.baidu.com/item/æ¿€æ´»å‡½æ•°/2520792?fr=aladdin">Tanh</a> æ¿€æ´»å‡½æ•°ï¼Œå…¶ä»–æ‰€æœ‰çš„å±‚éƒ½ä½¿ç”¨ <a href="https://baike.baidu.com/item/ReLU å‡½æ•°/22689567?fr=aladdin">ReLu</a> æ¿€æ´»å‡½æ•°ã€‚</li><li>åˆ¤åˆ«å™¨ç½‘ç»œä¸­æ‰€æœ‰çš„å±‚ä½¿ç”¨ LeakyReLu æ¿€æ´»å‡½æ•°</li></ul><p>è¿™é‡Œå†™ä¸€ä¸‹æ˜æ˜¾å·®åˆ«</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> Input</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> Dense, Reshape</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> UpSampling2D</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> Conv2D</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> BatchNormalization, Activation</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.models <span class="keyword">import</span> Model</span><br><span class="line"><span class="comment"># ç”Ÿæˆå™¨</span></span><br><span class="line">img_rows = <span class="number">28</span></span><br><span class="line">img_cols = <span class="number">28</span></span><br><span class="line">channels = <span class="number">1</span></span><br><span class="line">img_shape = (img_rows, img_cols, channels)</span><br><span class="line">latent_dim = <span class="number">100</span></span><br><span class="line">generator_input = Input(shape=(latent_dim,))</span><br><span class="line">x = Dense(<span class="number">128</span> * <span class="number">7</span> * <span class="number">7</span>, activation=<span class="string">&quot;relu&quot;</span>,)(generator_input)</span><br><span class="line">x = Reshape((<span class="number">7</span>, <span class="number">7</span>, <span class="number">128</span>))(x)</span><br><span class="line">x = UpSampling2D()(x)</span><br><span class="line">x = Conv2D(<span class="number">128</span>, kernel_size=<span class="number">3</span>, padding=<span class="string">&#x27;same&#x27;</span>)(x)</span><br><span class="line">x = BatchNormalization(momentum=<span class="number">0.8</span>)(x)</span><br><span class="line">x = Activation(<span class="string">&quot;relu&quot;</span>)(x)</span><br><span class="line">x = UpSampling2D()(x)</span><br><span class="line">x = Conv2D(<span class="number">64</span>, <span class="number">3</span>, padding=<span class="string">&#x27;same&#x27;</span>)(x)</span><br><span class="line">x = BatchNormalization(momentum=<span class="number">0.8</span>)(x)</span><br><span class="line">x = Activation(<span class="string">&quot;relu&quot;</span>)(x)</span><br><span class="line">x = Conv2D(channels, kernel_size=<span class="number">3</span>, activation=<span class="string">&#x27;tanh&#x27;</span>, padding=<span class="string">&#x27;same&#x27;</span>)(x)</span><br><span class="line">generator = Model(generator_input, x)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ„å»ºåˆ¤åˆ«å™¨</span></span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> LeakyReLU</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> Dropout</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.layers <span class="keyword">import</span> Flatten, ZeroPadding2D</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras.optimizers <span class="keyword">import</span> Adam</span><br><span class="line">discriminator_input = Input(shape=img_shape)</span><br><span class="line">x = Conv2D(<span class="number">32</span>, kernel_size=<span class="number">3</span>, strides=<span class="number">2</span>, padding=<span class="string">&quot;same&quot;</span>)(discriminator_input)</span><br><span class="line">x = LeakyReLU(alpha=<span class="number">0.2</span>)(x)</span><br><span class="line">x = Dropout(<span class="number">0.25</span>)(x)</span><br><span class="line">x = Conv2D(<span class="number">64</span>, kernel_size=<span class="number">3</span>, strides=<span class="number">2</span>, padding=<span class="string">&quot;same&quot;</span>)(x)</span><br><span class="line">x = ZeroPadding2D(padding=((<span class="number">0</span>, <span class="number">1</span>), (<span class="number">0</span>, <span class="number">1</span>)))(x)</span><br><span class="line">x = BatchNormalization(momentum=<span class="number">0.8</span>)(x)</span><br><span class="line">x = LeakyReLU(alpha=<span class="number">0.2</span>)(x)</span><br><span class="line">x = Dropout(<span class="number">0.25</span>)(x)</span><br><span class="line">x = Conv2D(<span class="number">128</span>, kernel_size=<span class="number">3</span>, strides=<span class="number">2</span>, padding=<span class="string">&quot;same&quot;</span>)(x)</span><br><span class="line">x = BatchNormalization(momentum=<span class="number">0.8</span>)(x)</span><br><span class="line">x = LeakyReLU(alpha=<span class="number">0.2</span>)(x)</span><br><span class="line">x = Dropout(<span class="number">0.25</span>)(x)</span><br><span class="line">x = Conv2D(<span class="number">256</span>, kernel_size=<span class="number">3</span>, strides=<span class="number">1</span>, padding=<span class="string">&quot;same&quot;</span>)(x)</span><br><span class="line">x = BatchNormalization(momentum=<span class="number">0.8</span>)(x)</span><br><span class="line">x = LeakyReLU(alpha=<span class="number">0.2</span>)(x)</span><br><span class="line">x = Dropout(<span class="number">0.25</span>)(x)</span><br><span class="line">x = Flatten()(x)</span><br><span class="line">x = Dense(<span class="number">1</span>, activation=<span class="string">&#x27;sigmoid&#x27;</span>)(x)</span><br><span class="line">discriminator = Model(discriminator_input, x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ä¾‹åŒ– Adam ä¼˜åŒ–å™¨</span></span><br><span class="line">optimizer = Adam(<span class="number">0.0002</span>, <span class="number">0.5</span>)</span><br><span class="line"><span class="comment"># ç¼–è¯‘æ¨¡å‹</span></span><br><span class="line">discriminator.<span class="built_in">compile</span>(loss=<span class="string">&#x27;binary_crossentropy&#x27;</span>,</span><br><span class="line">                      optimizer=optimizer,</span><br><span class="line">                      metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br></pre></td></tr></table></figure><p>å…¶ä»–çš„éƒ½ç±»ä¼¼.</p><p>è®­ç»ƒDCGANçš„æŠ€å·§</p><ul><li>ä½¿ç”¨æ­£æ€åˆ†å¸ƒï¼ˆé«˜æ–¯åˆ†å¸ƒï¼‰å¯¹æ½œåœ¨ç©ºé—´ä¸­çš„ç‚¹è¿›è¡Œé‡‡æ ·ï¼Œè€Œä¸ç”¨å‡åŒ€åˆ†å¸ƒã€‚</li><li>éšæœºæ€§èƒ½å¤Ÿæé«˜ç¨³å¥æ€§ã€‚è®­ç»ƒ GAN å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåŠ¨æ€å¹³è¡¡ï¼Œæ‰€ä»¥ GAN å¯èƒ½ä»¥å„ç§æ–¹å¼â€œå¡ä½â€ã€‚åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å¼•å…¥éšæœºæ€§æœ‰åŠ©äºé˜²æ­¢å‡ºç°è¿™ç§æƒ…å†µã€‚å¯é€šè¿‡ä¸¤ç§æ–¹å¼å¼•å…¥éšæœºæ€§ï¼šä¸€ç§æ˜¯åœ¨åˆ¤åˆ«å™¨ä¸­ä½¿ç”¨ Dropoutï¼Œå¦ä¸€ç§æ˜¯å‘åˆ¤åˆ«å™¨çš„æ ‡ç­¾æ·»åŠ éšæœºå™ªå£°ã€‚</li><li>ç¨€ç–çš„æ¢¯åº¦ä¼šå¦¨ç¢ GAN çš„è®­ç»ƒã€‚æœ€å¤§æ± åŒ–è¿ç®—å’Œ ReLU æ¿€æ´»å‡½æ•°éƒ½å¯èƒ½å¯¼è‡´æ¢¯åº¦ç¨€ç–ã€‚æ•…æœ¬æ¬¡å®éªŒåœ¨åˆ¤åˆ«å™¨ç½‘ç»œä¸­ä½¿ç”¨æ­¥å¹…å·ç§¯ä»£æ›¿ <a href="https://baike.baidu.com/item/æœ€å¤§æ± åŒ–/22692585?fr=aladdin">æœ€å¤§æ± åŒ–</a>ï¼Œä½¿ç”¨ LeakyReLU å±‚æ¥ä»£æ›¿ ReLUã€‚</li></ul><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>æå®æ¯… æœºå™¨å­¦ä¹ </p><p>deep learning å´æ©è¾¾</p><p><a href="https://easyai.tech/ai-definition/gan/">ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ - GAN</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> deep learning </tag>
            
            <tag> GAN </tag>
            
            <tag> keras </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†™ä¸€ä¸ªéŸ³ä¹æ’­æ”¾å™¨_è½®æ’­å›¾å®ç°</title>
      <link href="2022/04/27/%E5%86%99%E4%B8%80%E4%B8%AA%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8-%E8%BD%AE%E6%92%AD%E5%9B%BE%E5%AE%9E%E7%8E%B0/"/>
      <url>2022/04/27/%E5%86%99%E4%B8%80%E4%B8%AA%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8-%E8%BD%AE%E6%92%AD%E5%9B%BE%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è½®æ’­å›¾è¿˜æ˜¯å¾ˆå¸¸ç”¨çš„<br><span id="more"></span></p><p>è½®æ’­å›¾ä½¿ç”¨çš„åœºæ™¯é€šå¸¸åœ¨ç½‘é¡µé¦–é¡µä¸Šï¼Œåœ¨æœ‰é™çš„ç©ºé—´å¯ä»¥é€šè¿‡è½®æ’­å›¾ï¼Œå¾ªç¯æ’­æ”¾åŒä¸€ç±»å‹çš„å›¾ç‰‡ã€æ–‡å­—ç­‰å†…å®¹ã€‚è½®æ’­å›¾ç›®å‰è¡¨ç°å½¢å¼æœ‰ 2 ç§ï¼Œä¸€ç§æ˜¯å¸¸è§„çš„åªå‡ºç°ä¸€å¼ å›¾ç‰‡ï¼Œå¦ä¸€ç§æ˜¯å‡ºç°ä¸‰å¼ å›¾ç‰‡å‡¸æ˜¾ä¸€å¼ çš„å¡ç‰‡åŒ–çš„ã€‚å› ä¸ºè½®æ’­å›¾å¹¿æ³›ä½¿ç”¨ï¼Œç›®å‰å¾ˆå¤šå·¥å…·åº“ï¼ˆä¾‹å¦‚ swiper ï¼‰éƒ½æä¾›äº†ç°æˆçš„è½®æ’­å›¾è§£å†³æ–¹æ¡ˆ.</p><h4 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><ul><li>äº‹ä»¶é˜²æŠ–</li><li>è½®æ’­å›¾</li></ul><p><del>æˆ‘éƒ½ä¸æƒ³å†™äº†</del></p><p>é¦–é¡µä¸­é—´å†…å®¹åˆå§‹åŒ–</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>éŸ³ä¹æ’­æ”¾å™¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/reset.css&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/common.css&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/home.css&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./assets/iconfont.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper d-flex  flex-column&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span> <span class="attr">id</span>=<span class="string">&quot;header-title&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#home&quot;</span>&gt;</span> æ¨èé¡µ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ­¤å¤„ä¸ºä¸­é—´å†…å®¹ï¼Œé€šè¿‡ js åŠ¨æ€ç”Ÿæˆ --&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;player-control d-flex justify-content-start &quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;player-control-songinfo d-flex justify-content-start&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;img &quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">              <span class="attr">src</span>=<span class="string">&quot;https://th.bing.com/th/id/R7466240255fa48164e1d741fb8b29893?rik=qd9WWhLotZqIAg&amp;riu=http%3a%2f%2fpicture.ik123.com%2fuploads%2fallimg%2f160906%2f3-160Z6154A8.jpg&amp;ehk=T2cuZ%2fECZd2tvUCSXRgW2e2axgZ8c4rM2GQpotzo3Ec%3d&amp;risl=&amp;pid=ImgRaw&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">alt</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;songinfo d-flex flex-column align-items-start&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;songname&quot;</span>&gt;</span>æ­Œæ›²ä¸€<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;single-text-omitted singer&quot;</span>&gt;</span>æ­Œæ‰‹2323232323232<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;player-control-unit d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-shangyiqu&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-zanting&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-xiayiqu&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;song-progress d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;current-time&quot;</span>&gt;</span>00:00<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span> <span class="attr">id</span>=<span class="string">&quot;progress-bar&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;total-time&quot;</span>&gt;</span>00:00<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;volume d-flex&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon volume-icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-yinliang&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span> <span class="attr">id</span>=<span class="string">&quot;volume-bar&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-liebiaoxunhuan&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-bofangliebiao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/index.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ol><li>åœ¨ js æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»º home æ–‡ä»¶å¤¹ï¼Œåœ¨ home æ–‡ä»¶å¤¹å†…æ–°å¢ home.js æ–‡ä»¶ï¼Œå†™ä¸‹ <code>document.querySelector(&#39;#app&#39;).innerHTML = &#39;111&#39;;</code>ã€‚</li><li>åŠ¨æ€åŠ è½½ home.js æ–‡ä»¶ã€‚åœ¨ index.js æ–‡ä»¶ä¸­ç›‘å¬ window çš„ load äº‹ä»¶ï¼ŒåŠ¨æ€ç”Ÿæˆ script æ ‡ç­¾ï¼Œè®¾ç½® src å±æ€§ä¸º home.js æ–‡ä»¶å¤¹çš„ç›¸å¯¹ä½ç½®ã€‚</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&quot;load&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;load&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> script = <span class="built_in">document</span>.createElement(<span class="string">&quot;SCRIPT&quot;</span>);</span><br><span class="line">  script.src = <span class="string">&quot;./js/home/home.js&quot;</span>;</span><br><span class="line">  script.setAttribute(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;module&quot;</span>);</span><br><span class="line">  <span class="built_in">document</span>.querySelector(<span class="string">&quot;body&quot;</span>).appendChild(script);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// home.js</span></span><br><span class="line"><span class="keyword">const</span> homePageTemplate = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;div class=&quot;w&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;carousel-wrapper&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;carousel-container &quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;!-- åˆ‡æ¢ç®­å¤´ --&gt;</span></span><br><span class="line"><span class="string">            &lt;!-- è½®æ’­å›¾å›¾ç‰‡éœ€è¦åŠ¨æ€ç”Ÿæˆ --&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;!-- æŒ‡ç¤ºå™¨ --&gt;</span></span><br><span class="line"><span class="string">        &lt;ul class=&quot;carousel-indicators d-flex&quot;&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        &lt;/ul&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;recommend-playlist&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;h3 class=&quot;recommend-playlist-header&quot;&gt;æ¨èæ­Œå•&lt;svg class=&quot;icon&quot; aria-hidden=&quot;true&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;use xlink:href=&quot;#icon-arrow-right&quot;&gt;&lt;/use&gt;</span></span><br><span class="line"><span class="string">            &lt;/svg&gt;</span></span><br><span class="line"><span class="string">        &lt;/h3&gt;</span></span><br><span class="line"><span class="string">        &lt;ul class=&quot;recommend-playlist-container d-flex justify-content-between align-items-start&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;!-- æ¨èæ­Œå•éœ€è¦åŠ¨æ€ç”Ÿæˆ --&gt;</span></span><br><span class="line"><span class="string">        &lt;/ul&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"><span class="comment">//é¦–é¡µåˆå§‹åŒ–</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">&quot;#app&quot;</span>).innerHTML = homePageTemplate;</span><br></pre></td></tr></table></figure><h3 id="è½®æ’­å›¾"><a href="#è½®æ’­å›¾" class="headerlink" title="è½®æ’­å›¾"></a>è½®æ’­å›¾</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ajax.js</span></span><br><span class="line"><span class="keyword">const</span> BASE_URL = <span class="string">&quot;http://localhost:3000&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Ajax</span>(<span class="params">&#123;</span></span></span><br><span class="line"><span class="params"><span class="function">  <span class="regexp">//</span>è¯·æ±‚å‚æ•°é…ç½®</span></span></span><br><span class="line"><span class="params"><span class="function">  method = <span class="string">&quot;GET&quot;</span>, <span class="regexp">//</span>é»˜è®¤ä¸º<span class="string">&#x27;get&#x27;</span>è¯·æ±‚</span></span></span><br><span class="line"><span class="params"><span class="function">  url,</span></span></span><br><span class="line"><span class="params"><span class="function">  data = &#123;&#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">&#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡ Promise è¿”å›å¼‚æ­¥è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    xhr.open(method, BASE_URL + url);</span><br><span class="line">    xhr.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      resolve(<span class="built_in">JSON</span>.parse(xhr.response));</span><br><span class="line">    &#125;;</span><br><span class="line">    xhr.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// å¾…æœ€åè¿›è¡Œé”™è¯¯å¤„ç†æ“ä½œ</span></span><br><span class="line">      <span class="keyword">if</span> (xhr.status == <span class="number">0</span>) &#123;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    xhr.send(<span class="built_in">JSON</span>.stringify(data));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>: è·å¾—è½®æ’­å›¾ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;*&#125;</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;*&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getBannerList</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = Ajax(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">`/homepage/block/page`</span>,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//home.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; getBannerList &#125; <span class="keyword">from</span> <span class="string">&quot;../service/ajax.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="keyword">await</span> getBannerList();</span><br><span class="line"><span class="keyword">const</span> carouselData = result.data.blocks[<span class="number">0</span>].extInfo.banners;</span><br></pre></td></tr></table></figure><p>åœ¨ home æ–‡ä»¶å¤¹å†…æ–°å»ºä¸€ä¸ª carousel.js çš„æ–‡ä»¶æ¥å•ç‹¬å®Œæˆè½®æ’­å›¾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//carousel.js</span></span><br><span class="line"><span class="comment">// åˆ‡æ¢ç®­å¤´ä¸ºé™æ€ HTML æ ·å¼ï¼Œæ— éœ€æ ¹æ®å›¾ç‰‡æ•°é‡åŠ¨æ€ç”Ÿæˆã€‚</span></span><br><span class="line"><span class="keyword">const</span> carouselControl = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;button class=&quot;carousel-control carousel-control-left carousel-control-hover&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;svg class=&quot;icon&quot; aria-hidden=&quot;true&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;use xlink:href=&quot;#icon-arrow-left&quot;&gt;&lt;/use&gt;</span></span><br><span class="line"><span class="string">&lt;/svg&gt;</span></span><br><span class="line"><span class="string">&lt;/button&gt;</span></span><br><span class="line"><span class="string">&lt;button class=&quot;carousel-control carousel-control-right carousel-control-hover&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;svg class=&quot;icon&quot; aria-hidden=&quot;true&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;use xlink:href=&quot;#icon-arrow-right&quot;&gt;&lt;/use&gt;</span></span><br><span class="line"><span class="string">&lt;/svg&gt;</span></span><br><span class="line"><span class="string">&lt;/button&gt;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"><span class="comment">//è½®æ’­å›¾é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> carousel = &#123;</span><br><span class="line">  <span class="attr">data</span>: [], <span class="comment">//è½®æ’­å›¾æ•°æ®</span></span><br><span class="line">  <span class="attr">currentIndex</span>: <span class="number">0</span>, <span class="comment">//è½®æ’­å›¾å½“å‰åˆ‡æ¢çš„ç”»é¢</span></span><br><span class="line">  <span class="attr">times</span>: <span class="number">2000</span>, <span class="comment">//è½®æ’­å›¾å¤šå°‘æ—¶é—´åˆ‡æ¢ç”»é¢</span></span><br><span class="line">  <span class="attr">animationTimes</span>: <span class="number">0.5</span>, <span class="comment">//è½®æ’­å›¾åŠ¨ç”»æŒç»­æ—¶é—´ï¼Œå•ä½s</span></span><br><span class="line">  <span class="attr">autoCycleTimer</span>: <span class="keyword">new</span> <span class="built_in">Set</span>(), <span class="comment">//å¦‚æœåœ¨åˆ‡æ¢åŠ¨ç”»ï¼Œæ— æ³•è¿›è¡Œåˆ‡æ¢ç”»é¢</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">carouselRender</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  <span class="comment">//åˆå§‹åŒ–è½®æ’­å›¾</span></span><br><span class="line">  <span class="keyword">let</span> carouselItem = <span class="string">&quot;&quot;</span>,</span><br><span class="line">    carouselIndicatorsLi = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> wrapper = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.carousel-wrapper&quot;</span>);</span><br><span class="line">  <span class="keyword">let</span> &#123; width = <span class="number">0</span> &#125; = wrapper.getBoundingClientRect(); <span class="comment">//å¾—åˆ°å›¾ç‰‡çš„å®½åº¦</span></span><br><span class="line">  <span class="comment">//åŠ¨æ€ç”Ÿæˆè½®æ’­å›¾</span></span><br><span class="line">  data.forEach(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//æŒ‡ç¤ºå™¨æ¿€æ´»é€‰ä¸­åˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">let</span> isActive = carousel.currentIndex == index ? <span class="string">&quot;active&quot;</span> : <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="comment">//åŠ¨æ€ç”Ÿæˆè½®æ’­å›¾å›¾ç‰‡ï¼Œå¹¶ç»™æ¯ä¸€å¼ å›¾ç‰‡åŠ ä¸Šåç§»é‡å’ŒåŠ¨ç”»æ•ˆæœ</span></span><br><span class="line">    carouselItem += <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;carousel-item <span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">              <span class="string">&quot;#&quot;</span> + index</span></span></span><br><span class="line"><span class="subst"><span class="string">            &#125;</span>&quot; style=&#x27;transform:translateX(<span class="subst">$&#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">      width * (index - <span class="number">1</span>)</span></span></span><br><span class="line"><span class="subst"><span class="string">    &#125;</span>px);transition-duration:<span class="subst">$&#123;carousel.animationTimes&#125;</span>s&#x27;&gt;</span></span><br><span class="line"><span class="string">                &lt;img src=&quot;<span class="subst">$&#123;item.pic&#125;</span>&quot; alt=&quot;&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            `</span>;</span><br><span class="line">    <span class="comment">//åŠ¨æ€ç”Ÿæˆè½®æ’­å›¾æŒ‡ç¤ºå™¨</span></span><br><span class="line">    carouselIndicatorsLi += <span class="string">`</span></span><br><span class="line"><span class="string">                &lt;li data-slide-to=&quot;<span class="subst">$&#123;index&#125;</span>&quot; class=&quot;carousel-indicators-li <span class="subst">$&#123;isActive&#125;</span>&quot;&gt;&lt;/li&gt;</span></span><br><span class="line"><span class="string">            `</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// é€šè¿‡æ¨¡æ¿å­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§ home.html ä¸­çš„ html ç»“æ„è¿›è¡Œæ’å¸ƒ</span></span><br><span class="line">  <span class="keyword">const</span> carouselContainer = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;carousel-container&quot; style=&quot;transition:transform <span class="subst">$&#123;carousel.animationTimes&#125;</span>s &quot;&gt;</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;carouselControl&#125;</span></span></span><br><span class="line"><span class="string">            &lt;div class=&quot;carousel-content&quot;&gt;</span></span><br><span class="line"><span class="string">                <span class="subst">$&#123;carouselItem&#125;</span></span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span>;</span><br><span class="line">  <span class="keyword">const</span> carouselIndicators = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;ul class=&quot;carousel-indicators d-flex&quot;&gt;</span></span><br><span class="line"><span class="string">            <span class="subst">$&#123;carouselIndicatorsLi&#125;</span></span></span><br><span class="line"><span class="string">        &lt;/ul&gt;</span></span><br><span class="line"><span class="string">        `</span>;</span><br><span class="line">  <span class="comment">// å°†å¾—åˆ°çš„å­—ç¬¦ä¸²é€šè¿‡ innerHTML æ’å…¥åˆ°è½®æ’­å›¾ç›’å­</span></span><br><span class="line">  wrapper.innerHTML = carouselContainer + carouselIndicators;</span><br><span class="line">&#125;</span><br><span class="line">Ajax(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&quot;/homepage/block/page&quot;</span>,</span><br><span class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">  carousel.data = res.data.blocks[<span class="number">0</span>].extInfo.banners;</span><br><span class="line">  <span class="comment">//é¦–æ¬¡æ¸²æŸ“è½®æ’­å›¾</span></span><br><span class="line">  carouselRender(carousel.data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†™ä¸€ä¸ªéŸ³ä¹æ’­æ”¾å™¨_é™æ€é¡µé¢å®ç°</title>
      <link href="2022/04/23/%E5%86%99%E4%B8%80%E4%B8%AA%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8-%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E5%AE%9E%E7%8E%B0/"/>
      <url>2022/04/23/%E5%86%99%E4%B8%80%E4%B8%AA%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8-%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%E5%AE%9E%E7%8E%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>é™æ€é¡µé¢<br><span id="more"></span></p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/ba2421d02b10c8444d27b2dad8d23b5a-0" alt="2-1" style="zoom:50%;" /></p><h4 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><ul><li>flex å¸ƒå±€</li><li>ç»å¯¹å®šä½å’Œç›¸å¯¹å®šä½çš„ä½¿ç”¨</li><li>svg å›¾æ ‡ä½¿ç”¨</li><li>æ–‡å­—æº¢å‡ºå¤„ç†</li></ul><h3 id="é¦–é¡µå¤´éƒ¨"><a href="#é¦–é¡µå¤´éƒ¨" class="headerlink" title="é¦–é¡µå¤´éƒ¨"></a>é¦–é¡µå¤´éƒ¨</h3><p>cssæ–‡ä»¶</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">950px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper</span> <span class="selector-class">.header</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#2bb669</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper</span> <span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">450px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper</span> <span class="selector-class">.player-control</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f6f6f8</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">65px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* http://meyerweb.com/eric/tools/css/reset/</span></span><br><span class="line"><span class="comment">   v5.0.1 | 20191019</span></span><br><span class="line"><span class="comment">   License: none (public domain)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span>, <span class="selector-tag">body</span>, <span class="selector-tag">div</span>, <span class="selector-tag">span</span>, applet, <span class="selector-tag">object</span>, <span class="selector-tag">iframe</span>,</span><br><span class="line"><span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>, <span class="selector-tag">p</span>, <span class="selector-tag">blockquote</span>, pre,</span><br><span class="line"><span class="selector-tag">a</span>, <span class="selector-tag">abbr</span>, acronym, <span class="selector-tag">address</span>, big, <span class="selector-tag">cite</span>, <span class="selector-tag">code</span>,</span><br><span class="line"><span class="selector-tag">del</span>, <span class="selector-tag">dfn</span>, <span class="selector-tag">em</span>, <span class="selector-tag">img</span>, <span class="selector-tag">ins</span>, <span class="selector-tag">kbd</span>, <span class="selector-tag">q</span>, s, <span class="selector-tag">samp</span>,</span><br><span class="line">small, strike, <span class="selector-tag">strong</span>, sub, <span class="selector-tag">sup</span>, tt, <span class="selector-tag">var</span>,</span><br><span class="line"><span class="selector-tag">b</span>, u, <span class="selector-tag">i</span>, center,</span><br><span class="line"><span class="selector-tag">dl</span>, <span class="selector-tag">dt</span>, <span class="selector-tag">dd</span>, <span class="selector-tag">menu</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">ul</span>, <span class="selector-tag">li</span>,</span><br><span class="line"><span class="selector-tag">fieldset</span>, <span class="selector-tag">form</span>, <span class="selector-tag">label</span>, <span class="selector-tag">legend</span>,</span><br><span class="line"><span class="selector-tag">table</span>, <span class="selector-tag">caption</span>, <span class="selector-tag">tbody</span>, <span class="selector-tag">tfoot</span>, <span class="selector-tag">thead</span>, <span class="selector-tag">tr</span>, <span class="selector-tag">th</span>, <span class="selector-tag">td</span>,</span><br><span class="line"><span class="selector-tag">article</span>, <span class="selector-tag">aside</span>, <span class="selector-tag">canvas</span>, <span class="selector-tag">details</span>, embed,</span><br><span class="line"><span class="selector-tag">figure</span>, <span class="selector-tag">figcaption</span>, <span class="selector-tag">footer</span>, <span class="selector-tag">header</span>, <span class="selector-tag">hgroup</span>,</span><br><span class="line"><span class="selector-tag">main</span>, <span class="selector-tag">menu</span>, <span class="selector-tag">nav</span>, output, ruby, <span class="selector-tag">section</span>, <span class="selector-tag">summary</span>,</span><br><span class="line"><span class="selector-tag">time</span>, <span class="selector-tag">mark</span>, <span class="selector-tag">audio</span>, <span class="selector-tag">video</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">font</span>: inherit;</span><br><span class="line">    <span class="attribute">vertical-align</span>: baseline;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* HTML5 display-role reset for older browsers */</span></span><br><span class="line"><span class="selector-tag">article</span>, <span class="selector-tag">aside</span>, <span class="selector-tag">details</span>, <span class="selector-tag">figcaption</span>, <span class="selector-tag">figure</span>,</span><br><span class="line"><span class="selector-tag">footer</span>, <span class="selector-tag">header</span>, <span class="selector-tag">hgroup</span>, <span class="selector-tag">main</span>, <span class="selector-tag">menu</span>, <span class="selector-tag">nav</span>, <span class="selector-tag">section</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* HTML5 hidden-attribute fix for newer browsers */</span></span><br><span class="line">*<span class="selector-attr">[hidden]</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">menu</span>, <span class="selector-tag">ol</span>, <span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">blockquote</span>, <span class="selector-tag">q</span> &#123;</span><br><span class="line">    <span class="attribute">quotes</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">blockquote</span>:before, blockquote:after,</span><br><span class="line">q:before, q:after &#123;</span><br><span class="line">    content: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">content</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">    <span class="attribute">border-collapse</span>: collapse;</span><br><span class="line">    <span class="attribute">border-spacing</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* common.css */</span></span><br><span class="line"><span class="selector-class">.d-flex</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.justify-content-start</span> &#123;</span><br><span class="line">    <span class="attribute">justify-content</span>: flex-start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.justify-content-end</span> &#123;</span><br><span class="line">    <span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.justify-content-center</span> &#123;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.justify-content-between</span> &#123;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.justify-content-around</span> &#123;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-around;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.align-items-start</span> &#123;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.align-items-end</span> &#123;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.align-items-center</span> &#123;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.flex-column</span> &#123;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* å•è¡Œæ–‡æœ¬æº¢å‡ºå¤„ç† */</span></span><br><span class="line"><span class="selector-class">.single-text-omitted</span> &#123;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* ä¸¤è¡Œæ–‡æœ¬æº¢å‡ºå¤„ç† */</span></span><br><span class="line"><span class="selector-class">.multi-text-omitted</span> &#123;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">    -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.green</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper d-flex flex-column&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span> <span class="attr">id</span>=<span class="string">&quot;header-title&quot;</span>&gt;</span>æ¨èé¡µ<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ä¸­é—´é¡µé¢htmlç»“æ„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;player-control&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é¡µé¢åº•éƒ¨htmlç»“æ„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æœ€å¤–å±‚çš„ç±»é€‰æ‹©å™¨ wrapper å®ç°å†…å®¹å±…ä¸­å’Œè®¾ç½®èƒŒæ™¯è‰²ã€‚å¤´éƒ¨ç±»é€‰æ‹©å™¨ header æ ·å¼ï¼šå®šé«˜ï¼Œè®¾ç½®æ–‡å­—å±…ä¸­ï¼ŒèƒŒæ™¯è‰²ã€‚</p><h3 id="é¦–é¡µä¸­é—´å†…å®¹å¸ƒå±€"><a href="#é¦–é¡µä¸­é—´å†…å®¹å¸ƒå±€" class="headerlink" title="é¦–é¡µä¸­é—´å†…å®¹å¸ƒå±€"></a>é¦–é¡µä¸­é—´å†…å®¹å¸ƒå±€</h3><p>ä¸­é—´å†…å®¹ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼šè½®æ’­å›¾å’Œæ¨èæ­Œå•</p><p>ä¸­é—´å†…å®¹åŒ…æ‹¬è½®æ’­å›¾å’Œæ¨èæ­Œå•ï¼Œé‡‡ç”¨å±…ä¸­å¸ƒå±€ï¼Œå±…ä¸­æ ·å¼ç”± <code>w</code> é€‰æ‹©å™¨æ§åˆ¶æ ·å¼ï¼Œæ‰€æœ‰çš„ css éƒ½åœ¨ home.css æ–‡ä»¶ä¸­å®Œæˆã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¸­é—´é¡µé¢htmlç»“æ„ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;w&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;carousel-wrapper&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- è½®æ’­å›¾ç»“æ„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recommend-playlist&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- æ¨èæ­Œå•ç»“æ„ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.wrapper</span> <span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.w</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è½®æ’­å›¾"><a href="#è½®æ’­å›¾" class="headerlink" title="è½®æ’­å›¾"></a>è½®æ’­å›¾</h4><p>åŒ…æ‹¬æ˜¾ç¤ºçš„å›¾ç‰‡ï¼Œåˆ‡æ¢ç®­å¤´ï¼ŒæŒ‡ç¤ºå™¨ã€‚æ˜¾ç¤ºçš„å›¾ç‰‡å’Œåˆ‡æ¢ç®­å¤´åŒ…å«åœ¨åŒä¸€ä¸ª div å®¹å™¨å†…ï¼Œhtml å¸ƒå±€å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;carousel-wrapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- è½®æ’­å›¾ç»“æ„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;carousel-container &quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åˆ‡æ¢ç®­å¤´ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">&quot;carousel-control carousel-control-left carousel-control-hover&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-arrow-left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span></span></span><br><span class="line"><span class="tag">      <span class="attr">class</span>=<span class="string">&quot;carousel-control carousel-control-right carousel-control-hover&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-arrow-right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- è½®æ’­å›¾å›¾ç‰‡éœ€è¦åŠ¨æ€ç”Ÿæˆ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;carousel-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">&quot;https://tse2-mm.cn.bing.net/th/id/OIP.tXLPDc_5P-E7ca-KtD_UVAHaEK?pid=ImgDet&amp;rs=1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">alt</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">      /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æŒ‡ç¤ºå™¨ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;carousel-indicators d-flex&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-slide-to</span>=<span class="string">&quot;0&quot;</span> <span class="attr">class</span>=<span class="string">&quot;active&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-slide-to</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-slide-to</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸‹è½½çŸ¢é‡å›¾å¹¶å¼•å…¥jsæ–‡ä»¶</p><p># iconfont å›¾æ ‡ <a href="https://labfile.oss.aliyuncs.com/courses/3871/iconfont.zip">https://labfile.oss.aliyuncs.com/courses/3871/iconfont.zip</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./assets/iconfont.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åŠ å…¥cssæ ·å¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* common.css */</span></span><br><span class="line"><span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å®Œæˆè½®æ’­å›¾æœ€å¤–å›´å®¹å™¨ css æ ·å¼ã€‚æ ·å¼å®šå®½é«˜ï¼Œè®¾ç½®ç›¸å¯¹å®šä½ä¸ºç®­å¤´å’Œå›¾ç‰‡æä¾›å®šä½çˆ¶çº§ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.carousel-wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.carousel-container</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è½®æ’­å›¾åˆ‡æ¢ç®­å¤´ css æ ·å¼ã€‚ç±»é€‰æ‹©å™¨ <code>carousel-control</code> è®¾ç½®ç›¸å¯¹å®šä½ä½ç½®ï¼Œé€šè¿‡è®¾ç½®ç­‰å®½é«˜å’Œ <code>border-radiusï¼š50%</code> button å˜ä¸ºåœ†å½¢ã€‚ç±»é€‰æ‹©å™¨ <code>carousel-control-hover</code> è®¾ç½®ç§»å…¥æ•ˆæœï¼Œè§¦å‘æ–¹å¼ï¼š å½“é¼ æ ‡ç§»å…¥ï¼Œé€šè¿‡ js åŠ¨æ€æ·»åŠ  ï¼Œç§»å‡ºåŠ¨æ€åˆ é™¤.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.carousel-control</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">25px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">border</span>: none;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2021</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.6</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.carousel-control-left</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.carousel-control-right</span> &#123;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.carousel-control-hover</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.9</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»é€‰æ‹©å™¨ <code>carousel-container</code> æ§åˆ¶å›¾ç‰‡ css æ ·å¼ï¼šå®šå®½ï¼Œå®šé«˜ï¼ˆé˜²æ­¢å› å›¾ç‰‡å¤§å°ä¸ä¸€è‡´å¯¼è‡´è½®æ’­å›¾æ ·å¼ä¸ä¸€è‡´ï¼‰ã€‚ç±»é€‰æ‹©å™¨ <code>carousel-item</code> å¼€å¯ç›¸å¯¹å®šä½ï¼Œåç»­é€šè¿‡ js æ”¹å˜ transformï¼štranslateX æ¥å®ç°å›¾ç‰‡ç§»åŠ¨ã€‚å­é€‰æ‹©å™¨ <code>carousel-item&gt;img</code> å®šå®½ 100%è¾¾åˆ°è‡ªé€‚åº”æ•ˆæœ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.carousel-container</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.carousel-item</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.carousel-item</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‡ç¤ºå™¨ css æ ·å¼ã€‚ç±»é€‰æ‹©å™¨ <code>carousel-indicators</code> è®¾ç½®ç›¸å¯¹å®šä½ä½ç½®ã€‚å­é€‰æ‹©å™¨ <code>carousel-indicators&gt;li</code> å®šå®½é«˜ï¼Œè®¾ç½®èƒŒæ™¯é¢œè‰²ï¼Œå¼€å¯å¼¹æ€§ç›’å­ã€‚ç±»é€‰æ‹©å™¨ <code>active</code> æ”¹å˜èƒŒæ™¯é¢œè‰²ï¼Œé€šè¿‡ js æŒ‡å®šç›¸åº”æŒ‡ç¤ºå™¨çš„ active çŠ¶æ€ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.carousel-indicators</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.carousel-indicators</span> &gt; <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.4</span>);</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.carousel-indicators</span> &gt; <span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.9</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¨èæ­Œå•"><a href="#æ¨èæ­Œå•" class="headerlink" title="æ¨èæ­Œå•"></a>æ¨èæ­Œå•</h4><p>æ¨èæ­Œå• html å¸ƒå±€åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼šæ­Œå•æ ‡é¢˜/å°é¢/åå­—ï¼Œæ­Œå•å°é¢å’Œåå­—åœ¨åŒä¸€å®¹å™¨å†…</p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/cb194c68a0eea0907db392221cfc8971-0" alt="2-13" style="zoom:67%;" /></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.recommend-playlist</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-playlist-header</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­Œå•å°é¢å’Œæ–‡å­— css æ ·å¼ã€‚æ­Œå•å°é¢å’Œæ–‡å­—æœ€å¤–å›´å®¹å™¨æ ·å¼ ï¼šå®šå®½ï¼Œå¼€å¯å¼¹æ€§ç›’å­,ä¸»è½´ä¸Šæ’åˆ—æ–¹å¼è®¾ç½®ä¸º <code>space-between</code>ã€‚ æ¯ä¸€é¡¹æ­Œå•å°é¢å’Œæ–‡å­—å®¹å™¨æ ·å¼ï¼šå®šå®½ï¼Œå¼€å¯å¼¹æ€§ç›’ï¼Œè®¾ç½® <code>flex-column</code> å°†å›¾æ–‡æ”¹ä¸ºä»ä¸Šåˆ°ä¸‹æ’åˆ—ã€‚æ­Œæ›²å°é¢å®¹å™¨æ ·å¼ ï¼šå®šå®½ï¼Œè®¾ç½®ç›¸å¯¹å®šä½ä¸ºåé¢å¢åŠ  <code>hover</code> å‡ºç°å›¾æ ‡ä½œä¸ºå®šä½çˆ¶çº§ï¼ˆ <code>hover</code> æ ·å¼é€šè¿‡ js åŠ¨æ€æ·»åŠ ï¼‰ã€‚æ­Œæ›²å°é¢å›¾ç‰‡ï¼šå®šå®½ï¼Œé«˜åº¦å­—é€‚åº”ã€‚æ­Œå•æ ‡é¢˜ï¼šå®šå®½ï¼Œä¸ºåç»­çš„æ–‡å­—å¤„ç†é™å®šå®½åº¦ï¼Œè®¾ç½® marginã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recommend-playlist&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æ¨èæ­Œå•ç»“æ„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;recommend-playlist-header&quot;</span>&gt;</span></span><br><span class="line">    æ¨èæ­Œå•<span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-arrow-right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recommend-playlist-container d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ¨èæ­Œå•éœ€è¦åŠ¨æ€ç”Ÿæˆï¼Œé™æ€é¡µé¢å…ˆæ‰‹åŠ¨å¤åˆ¶4ä»½ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recommend-playlist-item d-flex flex-column hover&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recommend-playlist-cover&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">          <span class="attr">src</span>=<span class="string">&quot;https://tse2-mm.cn.bing.net/th/id/OIP.ZTmNathhKflijArYDaQEDAHaEo?pid=ImgDet&amp;rs=1&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">alt</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;recommend-playlist-icon icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-zanting&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;recommend-playlist-title multi-text-omitted&quot;</span>&gt;</span></span><br><span class="line">        å›¾ç‰‡ä½¿ç”¨ä¸–ç•Œå‰æ²¿çš„äººå·¥æ™ºèƒ½æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·ç”„é€‰æµ·é‡çš„é«˜æ¸…ç¾å›¾</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.recommend-playlist</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-playlist-header</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.recommend-playlist-container</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-playlist-item</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">18%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-playlist-cover</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-playlist-cover</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: auto;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-playlist-cover</span> <span class="selector-class">.recommend-playlist-icon</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ccc</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.hover</span> <span class="selector-class">.recommend-playlist-icon</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recommend-playlist-title</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ’­æ”¾å™¨é¦–é¡µåº•éƒ¨å¸ƒå±€"><a href="#æ’­æ”¾å™¨é¦–é¡µåº•éƒ¨å¸ƒå±€" class="headerlink" title="æ’­æ”¾å™¨é¦–é¡µåº•éƒ¨å¸ƒå±€"></a>æ’­æ”¾å™¨é¦–é¡µåº•éƒ¨å¸ƒå±€</h4><p>åˆ†ä¸ºå·¦å³ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå…± 4 ä¸ªå°æ¨¡å—</p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/7349ac402e69e873561fb4243f6e71f8-0" alt="2-15" style="zoom:50%;" /></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;player-control d-flex justify-content-start &quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- é¡µé¢åº•éƒ¨htmlç»“æ„ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;player-control-songinfo d-flex justify-content-start&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ­Œæ›²ä¿¡æ¯ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;player-control-unit d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- æ’­æ”¾æ§åˆ¶ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- æ’­æ”¾è¿›åº¦å’ŒéŸ³é‡ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- æ­Œæ›²å¾ªç¯å’Œåˆ—è¡¨ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é¦–é¡µåº•éƒ¨ css æ ·å¼ã€‚æœ€å¤–å±‚å®¹å™¨æ ·å¼ <code>player-control</code>ï¼šå¼€å¯å¼¹æ€§ç›’ï¼Œè®¾ç½®èƒŒæ™¯è‰²ï¼Œå®šå®½é«˜ã€‚ä¸¤æ å¸ƒå±€ï¼šå·¦ä¾§å®šå®½ï¼Œå³ä¾§é€šè¿‡ <code>flex-grow</code> å®ç°è‡ªé€‚åº”ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.wrapper</span> <span class="selector-class">.player-control</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f6f6f8</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">65px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player-control-songinfo</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">80%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player-control-unit</span> &#123;</span><br><span class="line">  <span class="attribute">flex-grow</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ­Œæ›²ä¿¡æ¯"><a href="#æ­Œæ›²ä¿¡æ¯" class="headerlink" title="æ­Œæ›²ä¿¡æ¯"></a>æ­Œæ›²ä¿¡æ¯</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;player-control-songinfo d-flex justify-content-start&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æ­Œæ›²ä¿¡æ¯ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;img &quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span></span></span><br><span class="line"><span class="tag">      <span class="attr">src</span>=<span class="string">&quot;https://th.bing.com/th/id/R7466240255fa48164e1d741fb8b29893?rik=qd9WWhLotZqIAg&amp;riu=http%3a%2f%2fpicture.ik123.com%2fuploads%2fallimg%2f160906%2f3-160Z6154A8.jpg&amp;ehk=T2cuZ%2fECZd2tvUCSXRgW2e2axgZ8c4rM2GQpotzo3Ec%3d&amp;risl=&amp;pid=ImgRaw&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">alt</span>=<span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;songinfo d-flex flex-column align-items-start&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;songname&quot;</span>&gt;</span>æ­Œæ›²ä¸€<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;single-text-omitted singer&quot;</span>&gt;</span>æ­Œæ‰‹2323232323232<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ­Œæ›²ä¿¡æ¯ css æ ·å¼ã€‚æ­Œæ›²å°é¢ <code>img</code>ï¼šå®šå®½ï¼Œè®¾ç½®åœ†è§’ã€‚æ­Œæ›²ä¿¡æ¯ <code>songinfo</code>ï¼šå®šå®½ï¼Œå¼€å¯å¼¹æ€§ç›’ï¼Œå†…å®¹ä»ä¸Šåˆ°ä¸‹æ’åˆ—ã€‚</p><h4 id="æ’­æ”¾æ§åˆ¶"><a href="#æ’­æ”¾æ§åˆ¶" class="headerlink" title="æ’­æ”¾æ§åˆ¶"></a>æ’­æ”¾æ§åˆ¶</h4><p>æ’­æ”¾æ§åˆ¶å’Œæ­Œæ›²å¾ªç¯å’Œåˆ—è¡¨å¸ƒå±€ä¸»è¦ä¸ºå¼•å…¥ iconfont å›¾æ ‡ï¼ŒåŠè®¾ç½®å­—ä½“å¤§å°ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æ’­æ”¾æ§åˆ¶ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-shangyiqu&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-zanting&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-xiayiqu&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æ­Œæ›²å¾ªç¯å’Œåˆ—è¡¨ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-liebiaoxunhuan&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-bofangliebiao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* home.css */</span></span><br><span class="line"><span class="selector-class">.player-control-unit</span> <span class="selector-class">.control</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">35px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player-control-unit</span> <span class="selector-class">.list</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">25px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ’­æ”¾è¿›åº¦å’ŒéŸ³é‡ html å¸ƒå±€ï¼Œè¯¥éƒ¨åˆ†é‡è¦çš„æ˜¯è¿›åº¦æ¡çš„å¸ƒå±€ã€‚è¿›åº¦æ¡å¸ƒå±€åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šæ€»è¿›åº¦ <code>progress</code>ï¼Œå½“å‰è¿›åº¦ <code>progress-bar</code>ï¼Œè¿›åº¦ç‚¹ <code>progress-dot</code>ï¼Œå…¶ä¸­æ€»è¿›åº¦ä½œä¸ºçˆ¶çº§å®¹å™¨è®¾ç½®ç›¸å¯¹å®šä½ï¼Œå½“å‰è¿›åº¦å’Œè¿›åº¦ç‚¹ä½œä¸ºå­çº§è®¾ç½®ç»å¯¹å®šä½ï¼Œè¿›åº¦å’Œè¿›åº¦ç‚¹é€šè¿‡ js å®æ—¶æ›´æ–° width å’Œ left å¤§å°ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æ’­æ”¾è¿›åº¦å’ŒéŸ³é‡ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;song-progress d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;current-time&quot;</span>&gt;</span>00:00<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span> <span class="attr">id</span>=<span class="string">&quot;progress-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;total-time&quot;</span>&gt;</span>00:00<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;volume d-flex&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon volume-icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-yinliang&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span> <span class="attr">id</span>=<span class="string">&quot;volume-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ’­æ”¾è¿›åº¦å’ŒéŸ³é‡ html å¸ƒå±€ï¼Œè¯¥éƒ¨åˆ†é‡è¦çš„æ˜¯è¿›åº¦æ¡çš„å¸ƒå±€ã€‚è¿›åº¦æ¡å¸ƒå±€åˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šæ€»è¿›åº¦ <code>progress</code>ï¼Œå½“å‰è¿›åº¦ <code>progress-bar</code>ï¼Œè¿›åº¦ç‚¹ <code>progress-dot</code>ï¼Œå…¶ä¸­æ€»è¿›åº¦ä½œä¸ºçˆ¶çº§å®¹å™¨è®¾ç½®ç›¸å¯¹å®šä½ï¼Œå½“å‰è¿›åº¦å’Œè¿›åº¦ç‚¹ä½œä¸ºå­çº§è®¾ç½®ç»å¯¹å®šä½ï¼Œè¿›åº¦å’Œè¿›åº¦ç‚¹é€šè¿‡ js å®æ—¶æ›´æ–° width å’Œ left å¤§å°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- home.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- æ’­æ”¾è¿›åº¦å’ŒéŸ³é‡ --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;song-progress d-flex justify-content-between&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;current-time&quot;</span>&gt;</span>00:00<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span> <span class="attr">id</span>=<span class="string">&quot;progress-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;total-time&quot;</span>&gt;</span>00:00<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;volume d-flex&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;icon volume-icon&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#icon-yinliang&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress&quot;</span> <span class="attr">id</span>=<span class="string">&quot;volume-bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-bar&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;progress-dot&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ’­æ”¾è¿›åº¦å’ŒéŸ³é‡ css æ ·å¼ã€‚æ€»è¿›åº¦ <code>progress</code>ï¼šè®¾ç½®ç›¸å¯¹å®šä½å’ŒèƒŒæ™¯è‰²ã€‚å½“å‰è¿›åº¦ <code>progress-bar</code>ï¼šè®¾ç½®ç»å¯¹å®šä½å’ŒèƒŒæ™¯è‰²ã€‚è¿›åº¦ç‚¹ <code>progress-dot</code>ï¼šè®¾ç½®ç»å¯¹å®šä½å’ŒèƒŒæ™¯è‰²ï¼Œç­‰å®½é«˜ï¼Œ<code>border-radius:50%</code> è®¾ç½®ä¸ºåœ†è§’ã€‚</p><p>flex ä½œä¸ºç›®å‰è¶Šæ¥è¶Šæµè¡Œçš„å¸ƒå±€æ–¹å¼ï¼Œè¿™ä¸ªçŸ¥è¯†ç‚¹å¿…é¡»è¦æŒæ¡ã€‚æœ¬å®éªŒä¸­ flex çš„çŸ¥è¯†ç‚¹ä¸»è¦æ˜¯ justify-content å’Œ align-item çš„åº”ç”¨ï¼Œå¦‚æœä¸ç†Ÿæ‚‰çš„è¯éœ€è¦ä¸‹å»è¡¥å¼ºã€‚å¯¹äºå¸¸è§çš„ä¸¤æ å’Œä¸‰æ å¸ƒå±€ï¼Œè¿™ä¸ªä¹Ÿæ˜¯å¿…é¡»è¦æŒæ¡çš„ã€‚æœ¬å®éªŒæ˜¯é€šè¿‡ flex å®Œæˆçš„ï¼Œå…¶ä»–çš„æ–¹å¼è¿˜åŒ…æ‹¬ float å’Œå®šä½ã€‚</p><p>svg çŸ¢é‡å›¾æ ‡ï¼Œå¯ä»¥åšåˆ°ç¼©æ”¾æ— å˜å½¢ï¼Œç›®å‰ä¹Ÿå·²ç»è¢«å¹¿æ³›åº”ç”¨ã€‚iconfont å¼€æºå…è´¹ä¸”èµ„æºä¼—å¤šï¼Œä¸”æ”¯æŒ Unicode å¼•ç”¨/font-class å¼•ç”¨/Symbol å¼•ç”¨ï¼Œå¯ä»¥æ»¡è¶³ç»å¤§å¤šæ•°å›¾æ ‡éœ€æ±‚ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> music player </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†™ä¸€ä¸ªéŸ³ä¹æ’­æ”¾å™¨_åŸºç¡€çŸ¥è¯†ä»‹ç»</title>
      <link href="2022/04/23/%E5%86%99%E4%B8%80%E4%B8%AA%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/"/>
      <url>2022/04/23/%E5%86%99%E4%B8%80%E4%B8%AA%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è¿™ä¸œè¥¿å†™å¾—æ˜¯çœŸçš„ç´¯</p><span id="more"></span><h2 id="é¡¹ç›®ç®€ä»‹"><a href="#é¡¹ç›®ç®€ä»‹" class="headerlink" title="é¡¹ç›®ç®€ä»‹"></a>é¡¹ç›®ç®€ä»‹</h2><p>æœ¬é¡¹ç›®é‡‡ç”¨åŸç”Ÿ JavaScript æ­å»ºç±»ä¼¼ç½‘æ˜“äº‘çš„éŸ³ä¹æ’­æ”¾å™¨ï¼Œæ—¨åœ¨å¸®åŠ©å‰ç«¯åˆå­¦è€…å¿«é€Ÿå…¥é—¨é¡¹ç›®å¼€å‘ï¼ŒåŒæ—¶å‚ç…§ç›®å‰ä¸»æµçš„å“åº”å¼æ¡†æ¶æ€æƒ³ï¼Œæœªåç»­çš„æ¡†æ¶å­¦ä¹ æ‰“ä¸‹ä¸€å®šçš„åŸºç¡€ã€‚å…¶ä¸­åº”ç”¨åˆ°çš„æŠ€æœ¯åŒ…æ‹¬ ES6 æ–°å¢çš„è¯­æ³•ç³–å¦‚è§£æ„èµ‹å€¼ã€ç®­å¤´å‡½æ•°ã€å±•å¼€è¿ç®—ç¬¦æ¨¡æ¿å­—ç¬¦ä¸² ï¼Œå¼‚æ­¥å¤„ç† Promiseï¼ŒES6 æ¨¡å—åŒ–ï¼Œå¼‚æ­¥ç½‘ç»œè¯·æ±‚ Ajaxï¼Œå•é¡µé¢åº”ç”¨æ€æƒ³ï¼Œæ•°æ®å“åº”å¼æ€æƒ³ã€‚é€šè¿‡ä¸Šè¿°æŠ€æœ¯æœ€ç»ˆå®Œæˆé¡µé¢åˆ‡æ¢ï¼Œè½®æ’­å›¾ï¼ŒéŸ³ä¹æ’­æ”¾å™¨ç­‰åŠŸèƒ½</p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/79b5e6aa937b3b52871d095f268a37db-0" alt="01-1-1" style="zoom:50%;" /></p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/fd6ab8ff23b77b9c7b230ef459884ca1-0" alt="01-2" style="zoom:50%;" /></p><h4 id="é¡¹ç›®ä¸€èˆ¬çº¦æŸ"><a href="#é¡¹ç›®ä¸€èˆ¬çº¦æŸ" class="headerlink" title="é¡¹ç›®ä¸€èˆ¬çº¦æŸ"></a>é¡¹ç›®ä¸€èˆ¬çº¦æŸ</h4><ol><li>å¼€å‘ç¯å¢ƒçº¦æŸï¼š<ul><li>å¼€å‘å·¥å…·ï¼šVSCode</li><li>å¼€å‘è¯­è¨€ï¼šHTML5 ã€CSS3 ã€JavaScript</li></ul></li><li>æ—¶é—´çº¦æŸï¼šå»ºè®®å¼€å‘å‘¨æœŸæ§åˆ¶åœ¨ 2 å‘¨å†…ï¼Œéœ€è¦å¼€å‘è€…åˆç†è§„åˆ’å¥½æ—¶é—´</li><li>æŠ€æœ¯çº¦æŸï¼šHTML5 ã€CSS3 ã€JavaScriptï¼ˆES6ï¼‰ã€Ajax</li></ol><h3 id="å…·ä½“åŠŸèƒ½"><a href="#å…·ä½“åŠŸèƒ½" class="headerlink" title="å…·ä½“åŠŸèƒ½"></a>å…·ä½“åŠŸèƒ½</h3><h4 id="é¦–é¡µ"><a href="#é¦–é¡µ" class="headerlink" title="é¦–é¡µ"></a>é¦–é¡µ</h4><p>åŒ…æ‹¬:è½®æ’­å›¾,æ¨èæ­Œå•åˆ—è¡¨,æ­Œæ›²æ§åˆ¶æ ,æ’­æ”¾åˆ—è¡¨</p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/a2ff126d5c31bd5840a39e61fb50f6ee-0" alt="01-3" style="zoom:67%;" /></p><p>æ¶‰åŠåˆ°çš„åŠŸèƒ½å¦‚ä¸‹ï¼š</p><ul><li>å…±é€šéƒ¨åˆ†ï¼ˆæ‰€æœ‰é¡µé¢éƒ½ä½¿ç”¨åˆ°çš„ï¼‰ï¼šæ‰€ç”¨åˆ°çš„æ•°æ®éƒ½æ˜¯é€šè¿‡ Ajax å‘åç«¯å‘èµ·è¯·æ±‚ï¼Œç»“åˆå¼‚æ­¥æ“ä½œ Promise ç­‰å¾…ç»“æœï¼›ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œæ ¹æ®æ•°æ®å¤§å°åŠ¨æ€ç”Ÿæˆé¡µé¢ä¸Šæ‰€æœ‰çš„ DOM å…ƒç´ ï¼›proxy å®ç°æ•°æ®å“åº”å¼ï¼Œç›‘å¬åˆ°æ•°æ®å˜åŒ–è‡ªåŠ¨æ¸²æŸ“è§†å›¾ï¼›åŸºäºå•é¡µé¢åº”ç”¨å®ç°é¡µé¢è·³è½¬ï¼›</li><li>è½®æ’­å›¾ï¼šå¾ªç¯æ˜¾ç¤ºå›¾ç‰‡ï¼›</li><li><p>æ¨èæ­Œå•åˆ—è¡¨ï¼šä½¿ç”¨ CSS3 çš„ transition å½“ç§»å…¥æ­Œå•æ—¶ä¼šæœ‰ç¼©æ”¾åŠ¨ç”»æ•ˆæœï¼Œç‚¹å‡»æ­Œå•è·³è½¬åˆ°æ¨èæ­Œå•è¯¦æƒ…é¡µï¼ˆé¡µé¢äºŒï¼‰</p></li><li><p>æ­Œæ›²æ§åˆ¶æ ï¼šä½¿ç”¨ HMTL5 çš„ audio å…ƒç´ çš„å±æ€§å’Œæ–¹æ³•ï¼Œæ§åˆ¶æ­Œæ›²çš„æ’­æ”¾ã€æš‚åœã€è¿›åº¦ã€éŸ³é‡ï¼Œè¿›åº¦æ¡ã€æ­Œå•åˆ—è¡¨åŠæ­Œæ›²å›¾æ ‡ä¿¡æ¯æ˜¾ç¤ºï¼Œç‚¹å‡»æ­Œå•å›¾æ ‡é¡µé¢è·³è½¬åˆ°æ’­æ”¾å™¨é¡µé¢ï¼ˆé¡µé¢ä¸‰ï¼‰ï¼›</p></li><li>æ’­æ”¾åˆ—è¡¨ï¼šå¯¹æ­Œæ›²æ§åˆ¶æ æŒ‰é’®æ·»åŠ äº‹ä»¶ç›‘å¬ï¼Œç»‘å®šç‚¹å‡»äº‹ä»¶å®ç°å…³é—­å’Œéšè—ï¼Œåˆ—è¡¨ä¸­çš„æ­Œæ›²ç»‘å®šç‚¹å‡»äº‹ä»¶å®ç°æ­Œæ›²æ’­æ”¾</li></ul><h4 id="æ¨èæ­Œå•è¯¦æƒ…é¡µ"><a href="#æ¨èæ­Œå•è¯¦æƒ…é¡µ" class="headerlink" title="æ¨èæ­Œå•è¯¦æƒ…é¡µ"></a>æ¨èæ­Œå•è¯¦æƒ…é¡µ</h4><p>æ¨èæ­Œå•è¯¦æƒ…é¡µï¼ˆé¡µé¢äºŒï¼‰åŒ…æ‹¬ä¸‰éƒ¨åˆ†ï¼šå¯¼èˆªæ ï¼Œæ­Œå•ä¿¡æ¯ï¼Œæ­Œæ›²åˆ—è¡¨</p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/374a393d6bcdd74a44aafd112f5ab8f3-0" alt="01-5" style="zoom:50%;" /></p><p>æ¶‰åŠåˆ°çš„åŠŸèƒ½å¦‚ä¸‹ï¼š</p><ul><li>å¯¼èˆªæ ï¼šå®ç°è¿”å›é¦–é¡µåŠŸèƒ½ï¼Œå¯¼èˆªæ ä¸º a æ ‡ç­¾ï¼Œç‚¹å‡»å¯¼èˆªæ  hash å€¼å˜åŒ–ï¼Œhash å€¼æ˜¯æ•°æ®å“åº”å¼ï¼Œæ•°æ®å˜åŒ–ä¼šè°ƒç”¨é¡µé¢è·³è½¬çš„å‡½æ•°ï¼›</li><li>æ­Œå•ä¿¡æ¯ï¼šæ˜¾ç¤ºæ­Œå•ä¿¡æ¯ï¼Œæ·»åŠ æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå°†æ­Œå•æ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨ä¸­ï¼Œæ’­æ”¾åˆ—è¡¨æ˜¯æ•°æ®å“åº”å¼ï¼Œæ•°æ®å˜åŒ–æ’­æ”¾åˆ—è¡¨é‡æ–°æ¸²æŸ“ã€‚</li></ul><p>æ­Œæ›²åˆ—è¡¨ï¼šæ˜¾ç¤ºæ­Œæ›²åˆ—è¡¨ç»‘å®šé¼ æ ‡ç§»å…¥ç§»å‡ºäº‹ä»¶ï¼Œé¼ æ ‡ç§»å…¥é«˜äº®ï¼ŒåŒå‡»æ­Œæ›²æ’­æ”¾å¯¹åº”æ­Œæ›²</p><h4 id="æ’­æ”¾å™¨é¡µé¢"><a href="#æ’­æ”¾å™¨é¡µé¢" class="headerlink" title="æ’­æ”¾å™¨é¡µé¢"></a>æ’­æ”¾å™¨é¡µé¢</h4><p>æ’­æ”¾å™¨é¡µé¢ï¼ˆé¡µé¢ä¸‰ï¼‰åŒ…æ‹¬ä¸‰éƒ¨åˆ†ï¼šæ’­æ”¾å™¨èƒŒæ™¯ï¼Œæ­Œæ›²å°é¢ï¼Œæ­Œè¯</p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/656538697fef2d8048051ed8da71592b-0" alt="01-8" style="zoom:50%;" /></p><ul><li>æ’­æ”¾å™¨èƒŒæ™¯ï¼šé€šè¿‡ canvas å®ç°å›¾ç‰‡çš„åƒç´ ç‚¹æ“ä½œï¼Œå¯¹å›¾ç‰‡è¿›è¡Œé«˜æ–¯æ¨¡ç³Šï¼ŒåŒæ—¶èƒŒæ™¯åŠé€æ˜é»‘åŒ–è§£å†³çº¯è‰²ç”»é¢æ˜¾ç¤ºä¸ä½³çš„é—®é¢˜</li><li>æ­Œæ›²å°é¢ï¼šéšæ­Œæ›²æ’­æ”¾/æš‚åœï¼Œå°é¢æ—‹è½¬/æš‚åœ</li><li>æ­Œè¯ï¼šé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼æå–æ­Œè¯å’Œæ—¶é—´ä¿¡æ¯ï¼Œå¹¶éšæ­Œæ›²è¿›åº¦è‡ªåŠ¨æ»šåŠ¨/é«˜äº®å½“å‰è¿›åº¦æ­Œè¯</li></ul><p>æ¥å£</p><h4 id="è·å¾—è½®æ’­å›¾ä¿¡æ¯"><a href="#è·å¾—è½®æ’­å›¾ä¿¡æ¯" class="headerlink" title="è·å¾—è½®æ’­å›¾ä¿¡æ¯"></a>è·å¾—è½®æ’­å›¾ä¿¡æ¯</h4><ul><li>æ¥å£æè¿°ï¼šè·å–é¦–é¡µæ•°æ®ï¼ŒåŒ…æ‹¬è½®æ’­å›¾å’Œæ¨èæ­Œå•æ•°æ®</li><li>æ•°æ®æ ¼å¼ï¼šJSON</li><li>è¯·æ±‚æ–¹å¼ï¼šGET</li><li>æ¥å£ URL ï¼š<code>http://localhost:3000/homepage/block/page</code></li><li>æç¤ºï¼šç«¯å£åœ°å€ä¸ºæœ¬åœ°å¯åŠ¨ç«¯å£ï¼Œæ¨èä½¿ç”¨ VSCode ä¸‹ï¼ŒLive Server æ’ä»¶ã€‚</li></ul><p>å“åº”æ•°æ®è¯´æ˜ï¼šç”¨åˆ°çš„æ•°æ® <code>data.blocks</code></p><div class="table-container"><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>data.blocks[0].extInfo.banners</td><td>è½®æ’­å›¾æ•°ç»„</td></tr><tr><td>data.blocks[0].extInfo.banners.pic</td><td>è½®æ’­å›¾å›¾ç‰‡åœ°å€</td></tr><tr><td>data.blocks[0].extInfo.banners.bannerId</td><td>è½®æ’­å›¾å›¾ç‰‡ id</td></tr><tr><td>data.blocks[1].creatives</td><td>æ¨èæ­Œå•æ•°ç»„</td></tr><tr><td>data.blocks[1].creatives.creativeId</td><td>æ­Œå• id</td></tr><tr><td>data.blocks[1].creatives.uiElement.image.imageUrl</td><td>æ­Œå•å›¾ç‰‡</td></tr><tr><td>data.blocks[1].creatives.uiElement.mainTitle.title</td><td>æ­Œå•åç§°</td></tr></tbody></table></div><details style="box-sizing: border-box; display: block; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 46); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="box-sizing: border-box; touch-action: manipulation; display: list-item; cursor: pointer; outline: none;">å“åº”ç¤ºä¾‹</summary><pre style="box-sizing: border-box; font-size: 14px; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin-top: 0px; margin-bottom: 1rem; overflow: visible; display: block; color: rgb(33, 37, 41); position: relative; word-break: break-all; border-radius: 4px; white-space: pre-wrap;"><code class="language-json hljs" style="box-sizing: border-box; font-size: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, monospace; color: rgb(248, 248, 242); overflow-wrap: break-word; word-break: normal; display: block; overflow-x: auto; padding: 0.5em; background: rgb(35, 36, 31);"><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-literal" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span></code><div class="btn-copy" style="box-sizing: border-box; position: absolute; display: flex; flex-direction: column; align-items: center; width: 18px; right: 8px; top: 8px; cursor: pointer; opacity: 0; transition: opacity 0.3s linear 0s; word-break: normal; white-space: normal;"><img class="icon-copy" title="copy" data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAALCElEQVR4Xu2dXchlZRXH/+uiyDAV7SIm+pg+MBvxow9IpNTArFCbQrS6iKhJ+zCwspu8UKOb6MML+8BREypTCCslI6xw1IiCbMopSTCxEiSKagy8qIsVD52hSXrfs85+zrP3c/b6bTjMxbvW86z1X//fu8857569TRwogAJbKmBogwIosLUCAII7UGAbBQAEe6AAgOABFBimAGeQYbqRlUQBAEkyaNocpgCADNONrCQKAEiSQdPmMAUAZJhuZCVRAECSDJo2hykAIMN0IyuJAgCSZNC0OUwBABmmG1lJFOgGEHc/RdJuScce9joiyRx6bfMOSfea2f29Fti6rkkBcfcTJF0s6WxJu1o3y/qDFfi4mX12cPYGJ04CiLs/Q9LHJF0u6ZgN1i9T6a81sx9narj0Ojog7n6upE9KOjWb2Bve78/M7DUb3sPK5Y8KiLt/SNIXVq6ShF4U2Glmj/ZSzBh1jAaIu39A0pfGaIo9mikAIC2kdffXSbqnxdqsOZoCB8zspNF262Sj5mcQdz9R0p2Snt9Jz5QxTIGrzeyqYambmzUGINctvsrdXJWo/JtmdmFGGZoC4u6vlPTzgcI+IukPA3NJW48CZQY/MrNvrGe5zVulNSCrnj3uk3STpPvM7OHNk5OK56ZAM0DcvVwm8tjispGIbinf40aEIWY6BVoC8jZJtwVb22FmjwdjCUOB0RRoCcj1kvYEOuHMERCJkGkUaAnIAUnlK97tjiclvYSzxzTDZ9flCrQE5J+SnrakhP1m9orlZRKBAtMo0AQQd3+RpN8FWrrFzN4ZiCMEBSZRoBUgZ0q6O9ARnz8CIhEynQIAMp327LwBCgDIBgyJEqdTAECm056dN0ABANmAIVHidAoAyHTas/MGKAAgGzAkSpxOAQCZTnt23gAFUgLi7i+XVP6vyvGSXibpuA2Y1ZxLLJccPXToZWb7emk2DSDu/kZJZ0g6j5vU9WK/Lev48+JK8HvM7NYpq509IO5+uqQPS7poSqHZe7AC5bane81s7+AVKhJnDYi7f17SRyr0IbUfBQool4/99mu2gLj7TySd1s98qWQNCvxL0hvGhGSWgLi7r2EYLNGvArvM7MExypsdIO5+syQuoR/DPdPuMQokswLE3T8l6Ypp58buIynwG0kXtj6TzAYQd399uYfTSMNhmz4UKN9uXdKylDkBUm5v+uaWYrF2lwq8quUTsGYBiLu/V9INK4zvL5I+LekBSb8ysz+tkEvomhVw9yMllRtjl1d54tgqz45pehaZCyB3LR7jFhlduXvjbjP7aySYmPEVcPdV5nlQ0gvMrPy79mPjAXH3561wD9/bzOyCtavIgmtXwN2vkXRZcOF3mdnXgrErhc0BkEslXRvsmjs4BoXqIczd90sqTz9edjT7xTcHQD4n6aPLFJTEHVQCIvUU4u7nS7o9UNMvzKxcnb32Yw6AlLvBvzugzDlmVt7bcmyIAu7+dEnlyt6jlpT8qJntbNHWHAApD7svl7BvdzxhZke3EJA12yrg7t+XdM5U850DIOUGdeVGddsd+8zsrLajZPUWCrh7eezblcvWNrMmXm6yqLuPdmdFdweQZe7Z4J8DSOWDIQFkg90fKB1AACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whcwXkKEkHA2M9z8y+G4jbMsTd75Z05pI19pnZWTX7kDuNArMEpEjp7rdLOn+JrDvM7PEa6QGkRr3+c+cMSPmtXn67b3XsNbNLakcEILUK9p0/W0AWZ5H3S/qMpCOfMoarrfKzx6H1AKRvg9dWN2tAFpCcLOlUSS+U9EdJvzezH9YKByDrUrDvdWYPSGv5OYO0Vnja9QGkUn8AqRSw83QAqRwQgFQK2Hk6gFQOCEAqBew8HUAqBwQglQJ2ng4glQMCkEoBO08HkMoBAUilgJ2nA0jlgACkUsDO0wGkckAAUilg5+kAUjkgAKkUsPN0AKkcEIBUCth5OoBUDghAKgXsPB1AKgcEIJUCdp4OIJUDApBKATtPB5DKAQFIpYCdpwNI5YAApFLAztMBpHJAAFIpYOfpAFI5IACpFLDzdACpHBCAVArYeTqAVA4IQCoF7DwdQCoH5O53STp7yTKPmNmLK7cifQIF3P0aSZct2fqgmR3TojxrseiYa7r7LZLeHtjzpWb2cCCOkI4UcPf9kk5ZUtIBMzupRdlzAORaSZcGxHmPmd0UiCOkEwXc/XhJvw2Uc6eZnRuIWzlkDoBcJenKQOc/NbPTAnGEdKKAu18n6eJAOWu5S+f/22cOgJTTbzkNR44bzOx9kUBiplXA3d8k6XvBKtZ2p86n7rfxgJSG3P3XknYFxXyHmd0ajCVsAgXc/URJB4JbPynp5FafL+cCSOSbjsP1/qqkvZIeMLN/BAdBWGMF3L3covYCSZ9YYavrzSzyNmyFJf8bOhdAyle490raMUCFhyRVPYJhwJ6k/K8Cz5J0gqRnDhDmDDMrs29yzAKQxdusD0r6YhOVWLRXBb5jZm9tWdxsAFlA8m1Ju1sKxtrdKPB3Saeb2YMtK5obIM9efLh7TkvRWLsLBfaY2Y2tK5kVIIuzSHkeyS9bC8f6kypwo5ntGaOC2QGygKR8aL9f0tFjiMgeoyrwZTMrnzdHOWYJyAKSYyV9RdJbRlGSTVor8DdJF5nZD1pvdPj6swXkUJPufoWk8jpiTGHZa60KfKtc0Wtm5RF+ox6zB2RxNnn1AhLOJqPaq2qz8hfymyV9veXfOZZVmAKQw84mz5VUrvEpr52Syrdexw38A9Uybfl5XIEnFg94fUzSoVcBY/L/npAKkPi8iESB/ygAIDgBBbZRAECwBwoACB5AgWEKcAYZphtZSRQAkCSDps1hCgDIMN3ISqIAgCQZNG0OUwBAhulGVhIFACTJoGlzmAIAMkw3spIoACBJBk2bwxQAkGG6kZVEAQBJMmjaHKbAvwGyE7Iy90AbtwAAAABJRU5ErkJggg==" style="box-sizing: initial; vertical-align: middle; border-style: none; max-width: 100%; background: rgb(35, 35, 30); border-radius: 4px;"></div></pre></details><h4 id="è·å¾—æ¨èæ­Œå•åˆ—è¡¨ä¿¡æ¯"><a href="#è·å¾—æ¨èæ­Œå•åˆ—è¡¨ä¿¡æ¯" class="headerlink" title="è·å¾—æ¨èæ­Œå•åˆ—è¡¨ä¿¡æ¯"></a>è·å¾—æ¨èæ­Œå•åˆ—è¡¨ä¿¡æ¯</h4><ul><li>æ¥å£æè¿°ï¼šä¼ å…¥æ­Œå• id, å¯ä»¥è·å–å¯¹åº”æ­Œå•å†…çš„æ‰€æœ‰çš„éŸ³ä¹ä¿¡æ¯</li><li>æ•°æ®æ ¼å¼ï¼šJSON</li><li>è¯·æ±‚æ–¹å¼ï¼šGET</li><li>æ¥å£ URL ï¼š<code>http://localhost:3000/playlist/detail?id=5146191146</code></li><li>å¿…é€‰å‚æ•° : <code>id</code></li><li>æç¤ºï¼šç«¯å£åœ°å€ä¸ºæœ¬åœ°å¯åŠ¨ç«¯å£ï¼Œæ¨èä½¿ç”¨ VSCode ä¸‹ï¼ŒLive Server æ’ä»¶ã€‚</li></ul><p>å“åº”æ•°æ®è¯´æ˜ï¼šç”¨åˆ°çš„æ•°æ® <code>playlist</code></p><div class="table-container"><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>playlist</td><td>æ­Œå•å¯¹è±¡</td></tr><tr><td>playlist.name</td><td>æ­Œå•å</td></tr><tr><td>playlist.createTime</td><td>æ­Œå•åˆ›å»ºæ—¶é—´</td></tr><tr><td>playlist.coverImgUrl</td><td>æ­Œå•å°é¢</td></tr><tr><td>playlist.creator.avatarUrl</td><td>æ­Œå•åˆ›å»ºè€…å¤´åƒ</td></tr><tr><td>playlist.description</td><td>æ­Œå•æè¿°</td></tr><tr><td>playlist.tracks</td><td>æ­Œå•æ­Œæ›²åˆ—è¡¨æ•°ç»„</td></tr><tr><td>playlist.tracks.id</td><td>æ­Œæ›² id</td></tr><tr><td>playlist.tracks.name</td><td>æ­Œæ›²åç§°</td></tr><tr><td>playlist.tracks.ar</td><td>æ­Œæ›²æ­Œæ‰‹ä¿¡æ¯</td></tr><tr><td>playlist.tracks.al</td><td>æ­Œæ›²æ‰€å±ä¸“è¾‘ä¿¡æ¯</td></tr><tr><td>playlist.tracks.dt</td><td>æ­Œæ›²æ—¶é•¿</td></tr></tbody></table></div><details style="box-sizing: border-box; display: block; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 46); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="box-sizing: border-box; touch-action: manipulation; display: list-item; cursor: pointer; outline: none;">å“åº”ç¤ºä¾‹</summary><pre style="box-sizing: border-box; font-size: 14px; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin-top: 0px; margin-bottom: 1rem; overflow: visible; display: block; color: rgb(33, 37, 41); position: relative; word-break: break-all; border-radius: 4px; white-space: pre-wrap;"><code class="language-json hljs" style="box-sizing: border-box; font-size: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, monospace; color: rgb(248, 248, 242); overflow-wrap: break-word; word-break: normal; display: block; overflow-x: auto; padding: 0.5em; background: rgb(35, 36, 31);"><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-literal" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-literal" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-literal" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-literal" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-literal" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-literal" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span></code><div class="btn-copy" style="box-sizing: border-box; position: absolute; display: flex; flex-direction: column; align-items: center; width: 18px; right: 8px; top: 8px; cursor: pointer; opacity: 0; transition: opacity 0.3s linear 0s; word-break: normal; white-space: normal;"><img class="icon-copy" title="copy" data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAALCElEQVR4Xu2dXchlZRXH/+uiyDAV7SIm+pg+MBvxow9IpNTArFCbQrS6iKhJ+zCwspu8UKOb6MML+8BREypTCCslI6xw1IiCbMopSTCxEiSKagy8qIsVD52hSXrfs85+zrP3c/b6bTjMxbvW86z1X//fu8857569TRwogAJbKmBogwIosLUCAII7UGAbBQAEe6AAgOABFBimAGeQYbqRlUQBAEkyaNocpgCADNONrCQKAEiSQdPmMAUAZJhuZCVRAECSDJo2hykAIMN0IyuJAgCSZNC0OUwBABmmG1lJFOgGEHc/RdJuScce9joiyRx6bfMOSfea2f29Fti6rkkBcfcTJF0s6WxJu1o3y/qDFfi4mX12cPYGJ04CiLs/Q9LHJF0u6ZgN1i9T6a81sx9narj0Ojog7n6upE9KOjWb2Bve78/M7DUb3sPK5Y8KiLt/SNIXVq6ShF4U2Glmj/ZSzBh1jAaIu39A0pfGaIo9mikAIC2kdffXSbqnxdqsOZoCB8zspNF262Sj5mcQdz9R0p2Snt9Jz5QxTIGrzeyqYambmzUGINctvsrdXJWo/JtmdmFGGZoC4u6vlPTzgcI+IukPA3NJW48CZQY/MrNvrGe5zVulNSCrnj3uk3STpPvM7OHNk5OK56ZAM0DcvVwm8tjispGIbinf40aEIWY6BVoC8jZJtwVb22FmjwdjCUOB0RRoCcj1kvYEOuHMERCJkGkUaAnIAUnlK97tjiclvYSzxzTDZ9flCrQE5J+SnrakhP1m9orlZRKBAtMo0AQQd3+RpN8FWrrFzN4ZiCMEBSZRoBUgZ0q6O9ARnz8CIhEynQIAMp327LwBCgDIBgyJEqdTAECm056dN0ABANmAIVHidAoAyHTas/MGKAAgGzAkSpxOAQCZTnt23gAFUgLi7i+XVP6vyvGSXibpuA2Y1ZxLLJccPXToZWb7emk2DSDu/kZJZ0g6j5vU9WK/Lev48+JK8HvM7NYpq509IO5+uqQPS7poSqHZe7AC5bane81s7+AVKhJnDYi7f17SRyr0IbUfBQool4/99mu2gLj7TySd1s98qWQNCvxL0hvGhGSWgLi7r2EYLNGvArvM7MExypsdIO5+syQuoR/DPdPuMQokswLE3T8l6Ypp58buIynwG0kXtj6TzAYQd399uYfTSMNhmz4UKN9uXdKylDkBUm5v+uaWYrF2lwq8quUTsGYBiLu/V9INK4zvL5I+LekBSb8ysz+tkEvomhVw9yMllRtjl1d54tgqz45pehaZCyB3LR7jFhlduXvjbjP7aySYmPEVcPdV5nlQ0gvMrPy79mPjAXH3561wD9/bzOyCtavIgmtXwN2vkXRZcOF3mdnXgrErhc0BkEslXRvsmjs4BoXqIczd90sqTz9edjT7xTcHQD4n6aPLFJTEHVQCIvUU4u7nS7o9UNMvzKxcnb32Yw6AlLvBvzugzDlmVt7bcmyIAu7+dEnlyt6jlpT8qJntbNHWHAApD7svl7BvdzxhZke3EJA12yrg7t+XdM5U850DIOUGdeVGddsd+8zsrLajZPUWCrh7eezblcvWNrMmXm6yqLuPdmdFdweQZe7Z4J8DSOWDIQFkg90fKB1AACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whcwXkKEkHA2M9z8y+G4jbMsTd75Z05pI19pnZWTX7kDuNArMEpEjp7rdLOn+JrDvM7PEa6QGkRr3+c+cMSPmtXn67b3XsNbNLakcEILUK9p0/W0AWZ5H3S/qMpCOfMoarrfKzx6H1AKRvg9dWN2tAFpCcLOlUSS+U9EdJvzezH9YKByDrUrDvdWYPSGv5OYO0Vnja9QGkUn8AqRSw83QAqRwQgFQK2Hk6gFQOCEAqBew8HUAqBwQglQJ2ng4glQMCkEoBO08HkMoBAUilgJ2nA0jlgACkUsDO0wGkckAAUilg5+kAUjkgAKkUsPN0AKkcEIBUCth5OoBUDghAKgXsPB1AKgcEIJUCdp4OIJUDApBKATtPB5DKAQFIpYCdpwNI5YAApFLAztMBpHJAAFIpYOfpAFI5IACpFLDzdACpHBCAVArYeTqAVA4IQCoF7DwdQCoH5O53STp7yTKPmNmLK7cifQIF3P0aSZct2fqgmR3TojxrseiYa7r7LZLeHtjzpWb2cCCOkI4UcPf9kk5ZUtIBMzupRdlzAORaSZcGxHmPmd0UiCOkEwXc/XhJvw2Uc6eZnRuIWzlkDoBcJenKQOc/NbPTAnGEdKKAu18n6eJAOWu5S+f/22cOgJTTbzkNR44bzOx9kUBiplXA3d8k6XvBKtZ2p86n7rfxgJSG3P3XknYFxXyHmd0ajCVsAgXc/URJB4JbPynp5FafL+cCSOSbjsP1/qqkvZIeMLN/BAdBWGMF3L3covYCSZ9YYavrzSzyNmyFJf8bOhdAyle490raMUCFhyRVPYJhwJ6k/K8Cz5J0gqRnDhDmDDMrs29yzAKQxdusD0r6YhOVWLRXBb5jZm9tWdxsAFlA8m1Ju1sKxtrdKPB3Saeb2YMtK5obIM9efLh7TkvRWLsLBfaY2Y2tK5kVIIuzSHkeyS9bC8f6kypwo5ntGaOC2QGygKR8aL9f0tFjiMgeoyrwZTMrnzdHOWYJyAKSYyV9RdJbRlGSTVor8DdJF5nZD1pvdPj6swXkUJPufoWk8jpiTGHZa60KfKtc0Wtm5RF+ox6zB2RxNnn1AhLOJqPaq2qz8hfymyV9veXfOZZVmAKQw84mz5VUrvEpr52Syrdexw38A9Uybfl5XIEnFg94fUzSoVcBY/L/npAKkPi8iESB/ygAIDgBBbZRAECwBwoACB5AgWEKcAYZphtZSRQAkCSDps1hCgDIMN3ISqIAgCQZNG0OUwBAhulGVhIFACTJoGlzmAIAMkw3spIoACBJBk2bwxQAkGG6kZVEAQBJMmjaHKbAvwGyE7Iy90AbtwAAAABJRU5ErkJggg==" style="box-sizing: initial; vertical-align: middle; border-style: none; max-width: 100%; background: rgb(35, 35, 30); border-radius: 4px;"></div></pre></details><h4 id="è·å¾—æ­Œæ›²ä¿¡æ¯"><a href="#è·å¾—æ­Œæ›²ä¿¡æ¯" class="headerlink" title="è·å¾—æ­Œæ›²ä¿¡æ¯"></a>è·å¾—æ­Œæ›²ä¿¡æ¯</h4><ul><li>æ¥å£æè¿°ï¼š ä¼ å…¥éŸ³ä¹ ids, å¯è·å¾—æ­Œæ›²è¯¦æƒ…</li><li>æ•°æ®æ ¼å¼ï¼šJSON</li><li>è¯·æ±‚æ–¹å¼ï¼šGET</li><li>æ¥å£ URL ï¼š<code>http://localhost:3000/song/detail?ids=5243631</code></li><li>å¿…é€‰å‚æ•° : <code>ids</code></li><li>æç¤ºï¼šç«¯å£åœ°å€ä¸ºæœ¬åœ°å¯åŠ¨ç«¯å£ï¼Œæ¨èä½¿ç”¨ VSCode ä¸‹ï¼ŒLive Server æ’ä»¶ã€‚</li></ul><p>å“åº”æ•°æ®è¯´æ˜ï¼šç”¨åˆ°çš„æ•°æ® <code>songs</code></p><div class="table-container"><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>name</td><td>æ­Œæ›²åç§°</td></tr><tr><td>id</td><td>æ­Œæ›² id</td></tr><tr><td>ar</td><td>æ­Œæ‰‹ä¿¡æ¯</td></tr><tr><td>al</td><td>ä¸“è¾‘ä¿¡æ¯</td></tr></tbody></table></div><details style="box-sizing: border-box; display: block; margin-top: 0px; margin-bottom: 16px; color: rgb(36, 41, 46); font-family: &quot;Helvetica Neue&quot;, Arial, &quot;Hiragino Sans GB&quot;, STHeiti, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, SimSun, Song, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;"><summary style="box-sizing: border-box; touch-action: manipulation; display: list-item; cursor: pointer; outline: none;">å“åº”ç¤ºä¾‹</summary><pre style="box-sizing: border-box; font-size: 14px; font-family: SFMono-Regular, Menlo, Monaco, Consolas, &quot;Liberation Mono&quot;, &quot;Courier New&quot;, monospace; margin-top: 0px; margin-bottom: 1rem; overflow: visible; display: block; color: rgb(33, 37, 41); position: relative; word-break: break-all; border-radius: 4px; white-space: pre-wrap;"><code class="language-json hljs" style="box-sizing: border-box; font-size: inherit; font-family: &quot;Source Code Pro&quot;, Consolas, monospace; color: rgb(248, 248, 242); overflow-wrap: break-word; word-break: normal; display: block; overflow-x: auto; padding: 0.5em; background: rgb(35, 36, 31);"><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-string" style="box-sizing: border-box; color: rgb(230, 219, 116);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span><span class="hljs-attr" style="box-sizing: border-box; color: rgb(249, 38, 114);"></span><span class="hljs-number" style="box-sizing: border-box; color: rgb(174, 129, 255);"></span></code><div class="btn-copy" style="box-sizing: border-box; position: absolute; display: flex; flex-direction: column; align-items: center; width: 18px; right: 8px; top: 8px; cursor: pointer; opacity: 0; transition: opacity 0.3s linear 0s; word-break: normal; white-space: normal;"><img class="icon-copy" title="copy" data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAALCElEQVR4Xu2dXchlZRXH/+uiyDAV7SIm+pg+MBvxow9IpNTArFCbQrS6iKhJ+zCwspu8UKOb6MML+8BREypTCCslI6xw1IiCbMopSTCxEiSKagy8qIsVD52hSXrfs85+zrP3c/b6bTjMxbvW86z1X//fu8857569TRwogAJbKmBogwIosLUCAII7UGAbBQAEe6AAgOABFBimAGeQYbqRlUQBAEkyaNocpgCADNONrCQKAEiSQdPmMAUAZJhuZCVRAECSDJo2hykAIMN0IyuJAgCSZNC0OUwBABmmG1lJFOgGEHc/RdJuScce9joiyRx6bfMOSfea2f29Fti6rkkBcfcTJF0s6WxJu1o3y/qDFfi4mX12cPYGJ04CiLs/Q9LHJF0u6ZgN1i9T6a81sx9narj0Ojog7n6upE9KOjWb2Bve78/M7DUb3sPK5Y8KiLt/SNIXVq6ShF4U2Glmj/ZSzBh1jAaIu39A0pfGaIo9mikAIC2kdffXSbqnxdqsOZoCB8zspNF262Sj5mcQdz9R0p2Snt9Jz5QxTIGrzeyqYambmzUGINctvsrdXJWo/JtmdmFGGZoC4u6vlPTzgcI+IukPA3NJW48CZQY/MrNvrGe5zVulNSCrnj3uk3STpPvM7OHNk5OK56ZAM0DcvVwm8tjispGIbinf40aEIWY6BVoC8jZJtwVb22FmjwdjCUOB0RRoCcj1kvYEOuHMERCJkGkUaAnIAUnlK97tjiclvYSzxzTDZ9flCrQE5J+SnrakhP1m9orlZRKBAtMo0AQQd3+RpN8FWrrFzN4ZiCMEBSZRoBUgZ0q6O9ARnz8CIhEynQIAMp327LwBCgDIBgyJEqdTAECm056dN0ABANmAIVHidAoAyHTas/MGKAAgGzAkSpxOAQCZTnt23gAFUgLi7i+XVP6vyvGSXibpuA2Y1ZxLLJccPXToZWb7emk2DSDu/kZJZ0g6j5vU9WK/Lev48+JK8HvM7NYpq509IO5+uqQPS7poSqHZe7AC5bane81s7+AVKhJnDYi7f17SRyr0IbUfBQool4/99mu2gLj7TySd1s98qWQNCvxL0hvGhGSWgLi7r2EYLNGvArvM7MExypsdIO5+syQuoR/DPdPuMQokswLE3T8l6Ypp58buIynwG0kXtj6TzAYQd399uYfTSMNhmz4UKN9uXdKylDkBUm5v+uaWYrF2lwq8quUTsGYBiLu/V9INK4zvL5I+LekBSb8ysz+tkEvomhVw9yMllRtjl1d54tgqz45pehaZCyB3LR7jFhlduXvjbjP7aySYmPEVcPdV5nlQ0gvMrPy79mPjAXH3561wD9/bzOyCtavIgmtXwN2vkXRZcOF3mdnXgrErhc0BkEslXRvsmjs4BoXqIczd90sqTz9edjT7xTcHQD4n6aPLFJTEHVQCIvUU4u7nS7o9UNMvzKxcnb32Yw6AlLvBvzugzDlmVt7bcmyIAu7+dEnlyt6jlpT8qJntbNHWHAApD7svl7BvdzxhZke3EJA12yrg7t+XdM5U850DIOUGdeVGddsd+8zsrLajZPUWCrh7eezblcvWNrMmXm6yqLuPdmdFdweQZe7Z4J8DSOWDIQFkg90fKB1AACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whAAIged0f6BxAACRgk7whcwXkKEkHA2M9z8y+G4jbMsTd75Z05pI19pnZWTX7kDuNArMEpEjp7rdLOn+JrDvM7PEa6QGkRr3+c+cMSPmtXn67b3XsNbNLakcEILUK9p0/W0AWZ5H3S/qMpCOfMoarrfKzx6H1AKRvg9dWN2tAFpCcLOlUSS+U9EdJvzezH9YKByDrUrDvdWYPSGv5OYO0Vnja9QGkUn8AqRSw83QAqRwQgFQK2Hk6gFQOCEAqBew8HUAqBwQglQJ2ng4glQMCkEoBO08HkMoBAUilgJ2nA0jlgACkUsDO0wGkckAAUilg5+kAUjkgAKkUsPN0AKkcEIBUCth5OoBUDghAKgXsPB1AKgcEIJUCdp4OIJUDApBKATtPB5DKAQFIpYCdpwNI5YAApFLAztMBpHJAAFIpYOfpAFI5IACpFLDzdACpHBCAVArYeTqAVA4IQCoF7DwdQCoH5O53STp7yTKPmNmLK7cifQIF3P0aSZct2fqgmR3TojxrseiYa7r7LZLeHtjzpWb2cCCOkI4UcPf9kk5ZUtIBMzupRdlzAORaSZcGxHmPmd0UiCOkEwXc/XhJvw2Uc6eZnRuIWzlkDoBcJenKQOc/NbPTAnGEdKKAu18n6eJAOWu5S+f/22cOgJTTbzkNR44bzOx9kUBiplXA3d8k6XvBKtZ2p86n7rfxgJSG3P3XknYFxXyHmd0ajCVsAgXc/URJB4JbPynp5FafL+cCSOSbjsP1/qqkvZIeMLN/BAdBWGMF3L3covYCSZ9YYavrzSzyNmyFJf8bOhdAyle490raMUCFhyRVPYJhwJ6k/K8Cz5J0gqRnDhDmDDMrs29yzAKQxdusD0r6YhOVWLRXBb5jZm9tWdxsAFlA8m1Ju1sKxtrdKPB3Saeb2YMtK5obIM9efLh7TkvRWLsLBfaY2Y2tK5kVIIuzSHkeyS9bC8f6kypwo5ntGaOC2QGygKR8aL9f0tFjiMgeoyrwZTMrnzdHOWYJyAKSYyV9RdJbRlGSTVor8DdJF5nZD1pvdPj6swXkUJPufoWk8jpiTGHZa60KfKtc0Wtm5RF+ox6zB2RxNnn1AhLOJqPaq2qz8hfymyV9veXfOZZVmAKQw84mz5VUrvEpr52Syrdexw38A9Uybfl5XIEnFg94fUzSoVcBY/L/npAKkPi8iESB/ygAIDgBBbZRAECwBwoACB5AgWEKcAYZphtZSRQAkCSDps1hCgDIMN3ISqIAgCQZNG0OUwBAhulGVhIFACTJoGlzmAIAMkw3spIoACBJBk2bwxQAkGG6kZVEAQBJMmjaHKbAvwGyE7Iy90AbtwAAAABJRU5ErkJggg==" style="box-sizing: initial; vertical-align: middle; border-style: none; max-width: 100%; background: rgb(35, 35, 30); border-radius: 4px;"></div></pre></details><h4 id="è·å¾—æ­Œæ›²æ­Œè¯"><a href="#è·å¾—æ­Œæ›²æ­Œè¯" class="headerlink" title="è·å¾—æ­Œæ›²æ­Œè¯"></a>è·å¾—æ­Œæ›²æ­Œè¯</h4><ul><li>æ¥å£æè¿°ï¼š ä¼ å…¥éŸ³ä¹ id, å¯è·å¾—å¯¹åº”éŸ³ä¹çš„æ­Œè¯</li><li>æ•°æ®æ ¼å¼ï¼šJSON</li><li>è¯·æ±‚æ–¹å¼ï¼šGET</li><li>æ¥å£ URL ï¼š<code>http://localhost:3000/lyric?id=5243631</code></li><li>å¿…é€‰å‚æ•° : <code>id</code></li><li>æç¤ºï¼šç«¯å£åœ°å€ä¸ºæœ¬åœ°å¯åŠ¨ç«¯å£ï¼Œæ¨èä½¿ç”¨ VSCode ä¸‹ï¼ŒLive Server æ’ä»¶ã€‚</li></ul><p>å“åº”æ•°æ®è¯´æ˜ï¼šç”¨åˆ°çš„æ•°æ® <code>lrc</code></p><div class="table-container"><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>lrc</td><td>æ­Œè¯</td></tr></tbody></table></div><h2 id="æ¨¡å—åŒ–ä»¥åŠajaxä½¿ç”¨"><a href="#æ¨¡å—åŒ–ä»¥åŠajaxä½¿ç”¨" class="headerlink" title="æ¨¡å—åŒ–ä»¥åŠajaxä½¿ç”¨"></a>æ¨¡å—åŒ–ä»¥åŠajaxä½¿ç”¨</h2><h4 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><ul><li>æ¨¡å—åŒ–åŠä½¿ç”¨</li><li>Ajax åŠä½¿ç”¨</li><li>Promise å¼‚æ­¥å¤„ç†</li></ul><p>æ¨¡å—å°±æ˜¯ä¸€ä¸ª JS æ–‡ä»¶ï¼Œå®ƒå®ç°äº†ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼Œå¹¶éšè—è‡ªå·±çš„å†…éƒ¨å®ç°ï¼ŒåŒæ—¶æä¾›äº†ä¸€äº›æ¥å£ä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚æ¨¡å—è§£å†³çš„é—®é¢˜æ˜¯å…¨å±€å˜é‡æ±¡æŸ“å’Œä¾èµ–æ··ä¹±é—®é¢˜ï¼Œä¸ºå‰ç«¯å¼€å‘å¤§å‹åº”ç”¨æä¾›äº†åŸºç¡€ã€‚ç›®å‰æˆç†Ÿçš„æ¨¡å—åŒ–è§£å†³æ–¹æ¡ˆæœ‰ CommonJS/AMD/CMD/ESMã€‚</p><p>common jsä½¿ç”¨module.exportså’Œrequire.</p><p>es6ä½¿ç”¨importå’Œexport</p><p>ä¸‹é¢ä»‹ç»ä¸€ä¸‹es6çš„æ¨¡å—</p><p>æœ¬å®éªŒé‡‡ç”¨çš„æ˜¯ ESMï¼ŒESM ä½œä¸º ES6 æ¨¡å—åŒ–çš„æ­£å¼æ ‡å‡† ï¼Œç›®å‰ä¸»æµæµè§ˆå™¨èƒ½å¤Ÿæ­£å¸¸è¿è¡Œã€‚</p><ul><li>ESM ä½¿ç”¨</li></ul><p>é¦–å…ˆåœ¨æµè§ˆå™¨ä½¿ç”¨ ESMï¼Œä»…éœ€è¦åœ¨ script æ ‡ç­¾åŠ å…¥ <code>type=&quot;module&quot;</code>å±æ€§</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;å…¥å£æ–‡ä»¶&quot;</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>åŸºæœ¬å¯¼å…¥å¯¼å‡º</p><p><strong>åŸºæœ¬å¯¼å‡º</strong>ï¼šç±»ä¼¼äº <code>exports.xxx = xxxx</code> ï¼ŒåŸºæœ¬å¯¼å‡ºå¯ä»¥æœ‰å¤šä¸ªï¼Œæ¯ä¸ªå¿…é¡»æœ‰åç§°</p><p>åŸºæœ¬å¯¼å‡ºçš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> å£°æ˜è¡¨è¾¾å¼</span><br><span class="line">æˆ–</span><br><span class="line"><span class="keyword">export</span> &#123;å…·åç¬¦å·&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºåŸºæœ¬å¯¼å‡ºå¿…é¡»å…·æœ‰åç§°ï¼Œæ‰€ä»¥è¦æ±‚å¯¼å‡ºå†…å®¹å¿…é¡»è·Ÿä¸Šå£°æ˜è¡¨è¾¾å¼æˆ–å…·åç¬¦å·ã€‚</p><p><strong>åŸºæœ¬å¯¼å…¥</strong>ï¼šç”±äºä½¿ç”¨çš„æ˜¯ä¾èµ–é¢„åŠ è½½ï¼Œå› æ­¤ï¼Œå¯¼å…¥ä»»ä½•å…¶ä»–æ¨¡å—ï¼Œå¯¼å…¥ä»£ç å¿…é¡»æ”¾ç½®åˆ°æ‰€æœ‰ä»£ç ä¹‹å‰ã€‚å¯¹äºåŸºæœ¬å¯¼å‡ºï¼Œå¦‚æœè¦è¿›è¡Œå¯¼å…¥ï¼Œä½¿ç”¨ä¸‹é¢çš„ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; å¯¼å…¥çš„ç¬¦å·åˆ—è¡¨ &#125; <span class="keyword">from</span> <span class="string">&quot;æ¨¡å—è·¯å¾„&quot;</span>;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ä»¥ä¸‹ç»†èŠ‚ï¼š</p><ul><li>å¯¼å…¥æ—¶ï¼Œå¯ä»¥é€šè¿‡å…³é”®å­—<code>as</code>å¯¹å¯¼å…¥çš„ç¬¦å·è¿›è¡Œé‡å‘½å</li><li>å¯¼å…¥æ—¶ä½¿ç”¨çš„ç¬¦å·æ˜¯å¸¸é‡ï¼Œä¸å¯ä¿®æ”¹</li><li>å¯ä»¥ä½¿ç”¨*å·å¯¼å…¥æ‰€æœ‰çš„åŸºæœ¬å¯¼å‡ºï¼Œå½¢æˆä¸€ä¸ªå¯¹è±¡</li></ul></li></ul><p>é»˜è®¤å¯¼å…¥å¯¼å‡º</p><p><strong>é»˜è®¤å¯¼å‡º</strong>ï¼šæ¯ä¸ªæ¨¡å—ï¼Œé™¤äº†å…è®¸æœ‰å¤šä¸ªåŸºæœ¬å¯¼å‡ºä¹‹å¤–ï¼Œè¿˜å…è®¸æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼Œé»˜è®¤å¯¼å‡ºç±»ä¼¼äº CommonJS ä¸­çš„<code>module.exports</code>ï¼Œç”±äºåªæœ‰ä¸€ä¸ªï¼Œå› æ­¤æ— éœ€å…·å</p><p>å…·ä½“çš„è¯­æ³•æ˜¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> é»˜è®¤å¯¼å‡ºçš„æ•°æ®</span><br><span class="line">æˆ–</span><br><span class="line"><span class="keyword">export</span> &#123;é»˜è®¤å¯¼å‡ºçš„æ•°æ® <span class="keyword">as</span> <span class="keyword">default</span>&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºæ¯ä¸ªæ¨¡å—ä»…å…è®¸æœ‰ä¸€ä¸ªé»˜è®¤å¯¼å‡ºï¼Œå› æ­¤ï¼Œæ¯ä¸ªæ¨¡å—ä¸èƒ½å‡ºç°å¤šä¸ªé»˜è®¤å¯¼å‡ºè¯­å¥</p><p><strong>é»˜è®¤å¯¼å…¥</strong>ï¼šéœ€è¦æƒ³è¦å¯¼å…¥ä¸€ä¸ªæ¨¡å—çš„é»˜è®¤å¯¼å‡ºï¼Œéœ€è¦ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> æ¥æ”¶å˜é‡å <span class="keyword">from</span> <span class="string">&quot;æ¨¡å—è·¯å¾„&quot;</span>;</span><br></pre></td></tr></table></figure><p>ç”±äºé»˜è®¤å¯¼å…¥æ—¶å˜é‡åæ˜¯è‡ªè¡Œå®šä¹‰çš„ï¼Œå› æ­¤æ²¡æœ‰åˆ«åä¸€è¯´</p><p>å¦‚æœå¸Œæœ›åŒæ—¶å¯¼å…¥æŸä¸ªæ¨¡å—çš„é»˜è®¤å¯¼å‡ºå’ŒåŸºæœ¬å¯¼å‡ºï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> æ¥æ”¶é»˜è®¤å¯¼å‡ºçš„å˜é‡, &#123; æ¥æ”¶åŸºæœ¬å¯¼å‡ºçš„å˜é‡ &#125; <span class="keyword">from</span> <span class="string">&quot;æ¨¡å—è·¯å¾„&quot;</span>;</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šå¦‚æœä½¿ç”¨*å·ï¼Œä¼šå°†æ‰€æœ‰åŸºæœ¬å¯¼å‡ºå’Œé»˜è®¤å¯¼å‡ºèšåˆåˆ°ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œé»˜è®¤å¯¼å‡ºä¼šä½œä¸ºå±æ€§ default å­˜åœ¨</p><p>éœ€è¦å¥½å¥½å­¦ä¹ </p><h2 id="Ajaxä»‹ç»åŠä½¿ç”¨"><a href="#Ajaxä»‹ç»åŠä½¿ç”¨" class="headerlink" title="Ajaxä»‹ç»åŠä½¿ç”¨"></a>Ajaxä»‹ç»åŠä½¿ç”¨</h2><h4 id="ä»€ä¹ˆæ˜¯-Ajax"><a href="#ä»€ä¹ˆæ˜¯-Ajax" class="headerlink" title="ä»€ä¹ˆæ˜¯ Ajax"></a>ä»€ä¹ˆæ˜¯ Ajax</h4><p>Ajax å…¨ç§° Asynchronous JavaScript and XMLï¼ŒAJAX æ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå¿«é€ŸåŠ¨æ€ç½‘é¡µçš„æŠ€æœ¯ã€‚é€šè¿‡åœ¨åå°ä¸æœåŠ¡å™¨è¿›è¡Œå°‘é‡æ•°æ®äº¤æ¢ï¼ŒAJAX å¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚</p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/782b2a04710662f07d1e68bf0adc2ee3-0" alt="3-2" style="zoom:50%;" /></p><p>åŸºäº Ajax å·¥ä½œåŸç†ï¼Œä½¿ç”¨ Ajax æœ€ä¸»è¦å°±æ˜¯å®Œæˆä¸‹åˆ—äº‹é¡¹ï¼š</p><ul><li>åœ¨ä¸é‡æ–°åŠ è½½é¡µé¢çš„æƒ…å†µä¸‹å‘é€è¯·æ±‚ç»™æœåŠ¡å™¨ã€‚</li><li>æ¥å—å¹¶ä½¿ç”¨ä»æœåŠ¡å™¨å‘æ¥çš„æ•°æ®ã€‚</li></ul><p>ä»£ç è¡¨ç¤º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. åˆ›å»º xmlHttpRequest å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> xmlhttp;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">  <span class="comment">//  IE7+, Firefox, Chrome, Opera, Safari æµè§ˆå™¨æ‰§è¡Œä»£ç </span></span><br><span class="line">  xmlhttp = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// IE6, IE5 æµè§ˆå™¨æ‰§è¡Œä»£ç </span></span><br><span class="line">  xmlhttp = <span class="keyword">new</span> ActiveXObject(<span class="string">&quot;Microsoft.XMLHTTP&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. è®¾ç½®å›è°ƒå‡½æ•°</span></span><br><span class="line">xmlHttp.onreadystatechange = callback;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. ä½¿ç”¨ open æ–¹æ³•ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥</span></span><br><span class="line">xmlhttp.open(method, url, <span class="keyword">async</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">methodï¼šè¯·æ±‚çš„ç±»å‹ï¼›GET æˆ– POST</span></span><br><span class="line"><span class="comment">urlï¼šæ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ä½ç½®</span></span><br><span class="line"><span class="comment">asyncï¼štrueï¼ˆå¼‚æ­¥ï¼‰æˆ– falseï¼ˆåŒæ­¥ï¼‰</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ·»åŠ è¯·æ±‚å¤´ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰</span></span><br><span class="line">xmlhttp.setRequestHeader(header, value);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. ä½¿ç”¨ send æ–¹æ³•å‘é€è¯·æ±‚</span></span><br><span class="line">xmlhttp.send(string);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">stringï¼šä»…ç”¨äº POST è¯·æ±‚,æ ¼å¼å¯ä»¥ä¸º multipart/form-dataï¼ŒJSONï¼ŒXML</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>å½“è¯·æ±‚å‘é€å‡ºå»åï¼Œä¼šå¾—åˆ°ä¸€ä¸ªå“åº”ç»“æœï¼Œåœ¨å›è°ƒå‡½æ•°ä¸­é’ˆå¯¹ä¸åŒçš„å“åº”çŠ¶æ€è¿›è¡Œå¤„ç†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (xmlHttp.readyState == <span class="number">4</span>) &#123;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­äº¤äº’æ˜¯å¦æˆåŠŸ</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    readyStateå±æ€§ï¼šè¡¨ç¤ºè¯·æ±‚/å“åº”è¿‡ç¨‹çš„å½“å‰é˜¶æ®µ</span></span><br><span class="line"><span class="comment">    0ï¼šæœªåˆå§‹åŒ–ã€‚å°šæœªè°ƒç”¨ open()æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">    1ï¼šå¯åŠ¨ã€‚å·²ç»è°ƒç”¨ open()æ–¹æ³•ï¼Œä½†å°šæœªè°ƒç”¨ send()æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">    2ï¼šå‘é€ã€‚å·²ç»è°ƒç”¨ send()æ–¹æ³•ï¼Œä½†å°šæœªæ¥æ”¶åˆ°å“åº”ã€‚</span></span><br><span class="line"><span class="comment">    3ï¼šæ¥æ”¶ã€‚å·²ç»æ¥æ”¶åˆ°éƒ¨åˆ†å“åº”æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">    4ï¼šå®Œæˆã€‚å·²ç»æ¥æ”¶åˆ°å…¨éƒ¨å“åº”æ•°æ®ï¼Œè€Œä¸”å·²ç»å¯ä»¥åœ¨å®¢æˆ·ç«¯ä½¿ç”¨äº†ã€‚</span></span><br><span class="line"><span class="comment">    åªæœ‰åœ¨XMLHttpRequestå¯¹è±¡å®Œæˆäº†ä»¥ä¸Š5ä¸ªæ­¥éª¤ä¹‹åï¼Œæ‰å¯ä»¥è·å–ä»æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">if</span> (xmlHttp.status == <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">        statuså±æ€§ï¼šå“åº”çš„ HTTP çŠ¶æ€ç ,å¸¸è§çš„çŠ¶æ€ç å¦‚ä¸‹</span></span><br><span class="line"><span class="comment">        200ï¼šå“åº”æˆåŠŸ</span></span><br><span class="line"><span class="comment">        301ï¼šæ°¸ä¹…é‡å®šå‘/æ°¸ä¹…è½¬ç§»</span></span><br><span class="line"><span class="comment">        302ï¼šä¸´æ—¶é‡å®šå‘/ä¸´æ—¶è½¬ç§»</span></span><br><span class="line"><span class="comment">        304ï¼šæœ¬æ¬¡è·å–å†…å®¹æ˜¯è¯»å–ç¼“å­˜ä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="comment">        400ï¼šè¯·æ±‚å‚æ•°é”™è¯¯</span></span><br><span class="line"><span class="comment">        401ï¼šæ— æƒé™è®¿é—®</span></span><br><span class="line"><span class="comment">        404ï¼šè®¿é—®çš„èµ„æºä¸å­˜åœ¨</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">      <span class="comment">//æœåŠ¡å™¨çš„å“åº”ï¼Œå¯ä½¿ç”¨ XMLHttpRequest å¯¹è±¡çš„ responseTextï¼ˆè·å¾—å­—ç¬¦ä¸²å½¢å¼çš„å“åº”æ•°æ®ï¼‰ æˆ–</span></span><br><span class="line">      <span class="comment">// responseXML (è·å¾— XML å½¢å¼çš„å“åº”æ•°æ®) å±æ€§è·å¾—</span></span><br><span class="line">      <span class="keyword">let</span> responseText = xmlHttp.responseText;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// å¤±è´¥ï¼Œæ ¹æ®å“åº”ç åˆ¤æ–­å¤±è´¥åŸå› </span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é’ˆå¯¹å“åº”æˆåŠŸå’Œå“åº”å¤±è´¥ï¼Œé™¤äº†å¯¹çŠ¶æ€ç è¿›è¡Œåˆ¤æ–­å¤–ï¼ŒXMLHttpRequest æä¾›äº†å“åº”æˆåŠŸå’Œå¤±è´¥çš„ api ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†è¯·æ±‚æ—¶å€™æ­¥éª¤2æ”¹ä¸ºä»¥ä¸‹ä»£ç </span></span><br><span class="line">xmlHttp.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="comment">//ç­‰æ•ˆäº</span></span><br><span class="line">xmlHttp.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (xmlHttp.readyState == <span class="number">4</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xmlHttp.status == <span class="number">200</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†è¯·æ±‚æ—¶å€™æ­¥éª¤2æ”¹ä¸ºä»¥ä¸‹ä»£ç </span></span><br><span class="line">xmlHttp.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="comment">//ç­‰æ•ˆäº</span></span><br><span class="line">xmlHttp.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (xmlHttp.readyState == <span class="number">4</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (xmlHttp.status !== <span class="number">200</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="Promiseå¼‚æ­¥å¤„ç†"><a href="#Promiseå¼‚æ­¥å¤„ç†" class="headerlink" title="Promiseå¼‚æ­¥å¤„ç†"></a>Promiseå¼‚æ­¥å¤„ç†</h2><h4 id="äº‹ä»¶å¾ªç¯"><a href="#äº‹ä»¶å¾ªç¯" class="headerlink" title="äº‹ä»¶å¾ªç¯"></a>äº‹ä»¶å¾ªç¯</h4><p>JavaScript æœ‰ä¸€ä¸ªåŸºäº<strong>äº‹ä»¶å¾ªç¯</strong>çš„å¹¶å‘æ¨¡å‹ï¼Œäº‹ä»¶å¾ªç¯è´Ÿè´£æ‰§è¡Œä»£ç ã€æ”¶é›†å’Œå¤„ç†äº‹ä»¶ä»¥åŠæ‰§è¡Œé˜Ÿåˆ—ä¸­çš„å­ä»»åŠ¡ã€‚å¯¹äºäº‹ä»¶å¾ªç¯çš„ç†è§£ï¼Œé¦–å…ˆéœ€è¦æ˜ç¡®çš„ä¸‰ä¸ªæ¦‚å¿µï¼šæ ˆï¼ˆStackï¼‰ï¼Œå †ï¼ˆHeapï¼‰ï¼Œå’Œäº‹ä»¶é˜Ÿåˆ—ï¼ˆQueueï¼‰ã€‚</p><p><strong>æ ˆ</strong>ï¼ˆæ‰§è¡Œæ ˆï¼‰ï¼šæ¯ä¸ªå‡½æ•°è°ƒç”¨å½¢æˆäº†ä¸€ä¸ªç”±è‹¥å¹²å¸§ç»„æˆçš„æ ˆã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">return</span> a + b + <span class="number">11</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> y = <span class="number">3</span>;</span><br><span class="line">  <span class="keyword">return</span> foo(x * y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(bar(<span class="number">7</span>)); <span class="comment">//</span></span><br></pre></td></tr></table></figure><p>å½“è°ƒç”¨ <code>bar</code> æ—¶ï¼Œç¬¬ä¸€ä¸ªå¸§è¢«åˆ›å»ºå¹¶å‹å…¥æ ˆä¸­ï¼Œå¸§ä¸­åŒ…å«äº† <code>bar</code> çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ã€‚ å½“ <code>bar</code> è°ƒç”¨ <code>foo</code> æ—¶ï¼Œç¬¬äºŒä¸ªå¸§è¢«åˆ›å»ºå¹¶è¢«å‹å…¥æ ˆä¸­ï¼Œæ”¾åœ¨ç¬¬ä¸€ä¸ªå¸§ä¹‹ä¸Šï¼Œå¸§ä¸­åŒ…å« <code>foo</code> çš„å‚æ•°å’Œå±€éƒ¨å˜é‡ã€‚å½“ <code>foo</code> æ‰§è¡Œå®Œæ¯•ç„¶åè¿”å›æ—¶ï¼Œç¬¬äºŒä¸ªå¸§å°±è¢«å¼¹å‡ºæ ˆï¼ˆå‰©ä¸‹ <code>bar</code> å‡½æ•°çš„è°ƒç”¨å¸§ ï¼‰ã€‚å½“ <code>bar</code> ä¹Ÿæ‰§è¡Œå®Œæ¯•ç„¶åè¿”å›æ—¶ï¼Œç¬¬ä¸€ä¸ªå¸§ä¹Ÿè¢«å¼¹å‡ºï¼Œæ ˆå°±è¢«æ¸…ç©ºäº†</p><p><strong>å †</strong>ï¼šå¯¹è±¡è¢«åˆ†é…åœ¨å †ä¸­ï¼Œå †æ˜¯ä¸€ä¸ªç”¨æ¥è¡¨ç¤ºä¸€å¤§å—ï¼ˆé€šå¸¸æ˜¯éç»“æ„åŒ–çš„ï¼‰å†…å­˜åŒºåŸŸçš„è®¡ç®—æœºæœ¯è¯­ã€‚</p><p><strong>é˜Ÿåˆ—</strong>ï¼šä¸€ä¸ª JavaScript è¿è¡Œæ—¶åŒ…å«äº†ä¸€ä¸ªå¾…å¤„ç†æ¶ˆæ¯çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚æ¯ä¸€ä¸ªæ¶ˆæ¯éƒ½å…³è”ç€ä¸€ä¸ªç”¨ä»¥å¤„ç†è¿™ä¸ªæ¶ˆæ¯çš„å›è°ƒå‡½æ•°ã€‚</p><p>åœ¨æµè§ˆå™¨ä¸­ï¼Œé˜Ÿåˆ—åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>å®ä»»åŠ¡ï¼ˆé˜Ÿåˆ—ï¼‰ï¼šmacroTaskï¼Œè®¡æ—¶å™¨ç»“æŸçš„å›è°ƒã€äº‹ä»¶å›è°ƒã€http å›è°ƒç­‰ç­‰ç»å¤§éƒ¨åˆ†å¼‚æ­¥å‡½æ•°è¿›å…¥å®é˜Ÿåˆ—</li><li>å¾®ä»»åŠ¡ï¼ˆé˜Ÿåˆ—ï¼‰ï¼šMutationObserverï¼ŒPromise äº§ç”Ÿçš„å›è°ƒè¿›å…¥å¾®é˜Ÿåˆ—</li></ul><blockquote><p>MutationObserver ç”¨äºç›‘å¬æŸä¸ª DOM å¯¹è±¡çš„å˜åŒ–</p></blockquote><p>å½“æ‰§è¡Œæ ˆæ¸…ç©ºæ—¶ï¼ŒJS å¼•æ“é¦–å…ˆä¼šå°†å¾®ä»»åŠ¡ä¸­çš„æ‰€æœ‰ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œç»“æŸï¼Œå¦‚æœæ²¡æœ‰å¾®ä»»åŠ¡ï¼Œåˆ™æ‰§è¡Œå®ä»»åŠ¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;è¿™æ˜¯å¼€å§‹&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;è¿™æ˜¯ä¸€æ¡æ¶ˆæ¯2&quot;</span>);</span><br><span class="line">  fn2();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;è¿™æ˜¯ä¸€æ¡æ¶ˆæ¯3&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">cb1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;è¿™æ˜¯æ¥è‡ªç¬¬ä¸€ä¸ªå›è°ƒçš„æ¶ˆæ¯&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;è¿™æ˜¯ä¸€æ¡æ¶ˆæ¯1&quot;</span>);</span><br><span class="line">fn1();</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> <span class="title">cb2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;è¿™æ˜¯æ¥è‡ªç¬¬äºŒä¸ªå›è°ƒçš„æ¶ˆæ¯&quot;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;è¿™æ˜¯ç»“æŸ&quot;</span>);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¨‹åºæ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š</p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/387ac59fb47627723469e6b8f276ece8-0" alt="04-7"></p><p>è¾“å‡ºçš„ç»“æœï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™æ˜¯å¼€å§‹</span></span><br><span class="line"><span class="comment">//è¿™æ˜¯ä¸€æ¡æ¶ˆæ¯1</span></span><br><span class="line"><span class="comment">//è¿™æ˜¯ä¸€æ¡æ¶ˆæ¯2</span></span><br><span class="line"><span class="comment">//è¿™æ˜¯ä¸€æ¡æ¶ˆæ¯3</span></span><br><span class="line"><span class="comment">//è¿™æ˜¯ç»“æŸ</span></span><br><span class="line"><span class="comment">//è¿™æ˜¯æ¥è‡ªç¬¬ä¸€ä¸ªå›è°ƒçš„æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">//è¿™æ˜¯æ¥è‡ªç¬¬äºŒä¸ªå›è°ƒçš„æ¶ˆæ¯</span></span><br></pre></td></tr></table></figure><h4 id="Promise-å¼‚æ­¥å¤„ç†"><a href="#Promise-å¼‚æ­¥å¤„ç†" class="headerlink" title="Promise å¼‚æ­¥å¤„ç†"></a>Promise å¼‚æ­¥å¤„ç†</h4><p>Promise æä¾›äº†ä¸€å¥—å¼‚æ­¥å¤„ç†çš„é€šç”¨æ¨¡å‹ï¼Œç†è§£è¯¥ APIï¼Œæœ€é‡è¦çš„ï¼Œæ˜¯ç†è§£å®ƒçš„å¼‚æ­¥æ¨¡å‹ã€‚</p><ol><li>ES6 å°†æŸä¸€ä»¶å¯èƒ½å‘ç”Ÿå¼‚æ­¥æ“ä½œçš„äº‹æƒ…ï¼Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š<strong>unsettled</strong> å’Œ <strong>settled</strong></li></ol><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/6bf4c245659daad31a5f3b57d348e880-0" alt="04-8"></p><ul><li>unsettledï¼š æœªå†³é˜¶æ®µï¼Œè¡¨ç¤ºäº‹æƒ…è¿˜åœ¨è¿›è¡Œå‰æœŸçš„å¤„ç†ï¼Œå¹¶æ²¡æœ‰å‘ç”Ÿé€šå‘ç»“æœçš„é‚£ä»¶äº‹</li><li>settledï¼šå·²å†³é˜¶æ®µï¼Œäº‹æƒ…å·²ç»æœ‰äº†ä¸€ä¸ªç»“æœï¼Œä¸ç®¡è¿™ä¸ªç»“æœæ˜¯å¥½æ˜¯åï¼Œæ•´ä»¶äº‹æƒ…æ— æ³•é€†è½¬</li></ul><p>äº‹æƒ…æ€»æ˜¯ä» æœªå†³é˜¶æ®µ é€æ­¥å‘å±•åˆ° å·²å†³é˜¶æ®µçš„ã€‚å¹¶ä¸”ï¼Œæœªå†³é˜¶æ®µæ‹¥æœ‰æ§åˆ¶ä½•æ—¶é€šå‘å·²å†³é˜¶æ®µçš„èƒ½åŠ›ã€‚</p><ol><li>ES6 å°†äº‹æƒ…åˆ’åˆ†ä¸ºä¸‰ç§çŠ¶æ€ï¼š pendingã€resolvedã€rejected</li></ol><ul><li>pending: æŒ‚èµ·ï¼Œå¤„äºæœªå†³é˜¶æ®µï¼Œåˆ™è¡¨ç¤ºè¿™ä»¶äº‹æƒ…è¿˜åœ¨æŒ‚èµ·ï¼ˆæœ€ç»ˆçš„ç»“æœè¿˜æ²¡å‡ºæ¥ï¼‰</li><li>resolvedï¼šå·²å¤„ç†ï¼Œå·²å†³é˜¶æ®µçš„ä¸€ç§çŠ¶æ€ï¼Œè¡¨ç¤ºæ•´ä»¶äº‹æƒ…å·²ç»å‡ºç°ç»“æœï¼Œå¹¶æ˜¯ä¸€ä¸ªå¯ä»¥æŒ‰ç…§æ­£å¸¸é€»è¾‘è¿›è¡Œä¸‹å»çš„ç»“æœ</li><li>rejectedï¼šå·²æ‹’ç»ï¼Œå·²å†³é˜¶æ®µçš„ä¸€ç§çŠ¶æ€ï¼Œè¡¨ç¤ºæ•´ä»¶äº‹æƒ…å·²ç»å‡ºç°ç»“æœï¼Œå¹¶æ˜¯ä¸€ä¸ªæ— æ³•æŒ‰ç…§æ­£å¸¸é€»è¾‘è¿›è¡Œä¸‹å»çš„ç»“æœï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºæœ‰ä¸€ä¸ªé”™è¯¯</li></ul><p>æ—¢ç„¶æœªå†³é˜¶æ®µæœ‰æƒåŠ›å†³å®šäº‹æƒ…çš„èµ°å‘ï¼Œå› æ­¤ï¼Œæœªå†³é˜¶æ®µå¯ä»¥å†³å®šäº‹æƒ…æœ€ç»ˆçš„çŠ¶æ€ï¼ æˆ‘ä»¬å°† æŠŠäº‹æƒ…å˜ä¸º resolved çŠ¶æ€çš„è¿‡ç¨‹å«åšï¼š<strong>resolve</strong>ï¼Œæ¨å‘è¯¥çŠ¶æ€æ—¶ï¼Œå¯èƒ½ä¼šä¼ é€’ä¸€äº›æ•°æ® æˆ‘ä»¬å°† æŠŠäº‹æƒ…å˜ä¸º rejected çŠ¶æ€çš„è¿‡ç¨‹å«åšï¼š<strong>reject</strong>ï¼Œæ¨å‘è¯¥çŠ¶æ€æ—¶ï¼ŒåŒæ ·å¯èƒ½ä¼šä¼ é€’ä¸€äº›æ•°æ®ï¼Œé€šå¸¸ä¸ºé”™è¯¯ä¿¡æ¯</p><p><strong>å§‹ç»ˆè®°ä½ï¼Œæ— è®ºæ˜¯é˜¶æ®µï¼Œè¿˜æ˜¯çŠ¶æ€ï¼Œæ˜¯ä¸å¯é€†çš„ï¼</strong></p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/602c59f144986e0701383e1df04baed8-0" alt="04-9"></p><ol><li>å½“äº‹æƒ…è¾¾åˆ°å·²å†³é˜¶æ®µåï¼Œé€šå¸¸éœ€è¦è¿›è¡Œåç»­å¤„ç†ï¼Œä¸åŒçš„å·²å†³çŠ¶æ€ï¼Œå†³å®šäº†ä¸åŒçš„åç»­å¤„ç†ã€‚</li></ol><ul><li>resolved çŠ¶æ€ï¼šè¿™æ˜¯ä¸€ä¸ªæ­£å¸¸çš„å·²å†³çŠ¶æ€ï¼Œåç»­å¤„ç†è¡¨ç¤ºä¸º thenable</li><li>rejected çŠ¶æ€ï¼šè¿™æ˜¯ä¸€ä¸ªéæ­£å¸¸çš„å·²å†³çŠ¶æ€ï¼Œåç»­å¤„ç†è¡¨ç¤ºä¸º catchable</li></ul><p>åç»­å¤„ç†å¯èƒ½æœ‰å¤šä¸ªï¼Œå› æ­¤ä¼šå½¢æˆä½œä¸šé˜Ÿåˆ—ï¼Œè¿™äº›åç»­å¤„ç†ä¼šæŒ‰ç…§é¡ºåºï¼Œå½“çŠ¶æ€åˆ°è¾¾åä¾æ¬¡æ‰§è¡Œ</p><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/1799a7a752ca136a48b60cae42f5ab3d-0" alt="04-10"></p><ol><li>æ•´ä»¶äº‹ç§°ä¹‹ä¸º Promise</li></ol><p><img data-src="https://doc.shiyanlou.com/courses/3871/1621685/5b7d9109d938ea4de96db414c606ba97-0" alt="04-11"></p><p>Promise çš„åŸºæœ¬ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pro = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æœªå†³é˜¶æ®µçš„å¤„ç†</span></span><br><span class="line">  <span class="comment">// é€šè¿‡è°ƒç”¨resolveå‡½æ•°å°†Promiseæ¨å‘å·²å†³é˜¶æ®µçš„resolvedçŠ¶æ€</span></span><br><span class="line">  <span class="comment">// é€šè¿‡è°ƒç”¨rejectå‡½æ•°å°†Promiseæ¨å‘å·²å†³é˜¶æ®µçš„rejectedçŠ¶æ€</span></span><br><span class="line">  <span class="comment">// resolveå’Œrejectå‡å¯ä»¥ä¼ é€’æœ€å¤šä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºæ¨å‘çŠ¶æ€çš„æ•°æ®</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">pro.then(</span><br><span class="line">  <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//è¿™æ˜¯thenableå‡½æ•°ï¼Œå¦‚æœå½“å‰çš„Promiseå·²ç»æ˜¯resolvedçŠ¶æ€ï¼Œè¯¥å‡½æ•°ä¼šç«‹å³æ‰§è¡Œ</span></span><br><span class="line">    <span class="comment">//å¦‚æœå½“å‰æ˜¯æœªå†³é˜¶æ®µï¼Œåˆ™ä¼šåŠ å…¥åˆ°ä½œä¸šé˜Ÿåˆ—ï¼Œç­‰å¾…åˆ°è¾¾resolvedçŠ¶æ€åæ‰§è¡Œ</span></span><br><span class="line">    <span class="comment">//dataä¸ºçŠ¶æ€æ•°æ®</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//è¿™æ˜¯catchableå‡½æ•°ï¼Œå¦‚æœå½“å‰çš„Promiseå·²ç»æ˜¯rejectedçŠ¶æ€ï¼Œè¯¥å‡½æ•°ä¼šç«‹å³æ‰§è¡Œ</span></span><br><span class="line">    <span class="comment">//å¦‚æœå½“å‰æ˜¯æœªå†³é˜¶æ®µï¼Œåˆ™ä¼šåŠ å…¥åˆ°ä½œä¸šé˜Ÿåˆ—ï¼Œç­‰å¾…åˆ°è¾¾rejectedçŠ¶æ€åæ‰§è¡Œ</span></span><br><span class="line">    <span class="comment">//errä¸ºçŠ¶æ€æ•°æ®</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><strong>ç»†èŠ‚</strong></p><ol><li>æœªå†³é˜¶æ®µçš„å¤„ç†å‡½æ•°æ˜¯åŒæ­¥çš„ï¼Œä¼šç«‹å³æ‰§è¡Œ</li><li>thenable å’Œ catchable å‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼Œå°±ç®—æ˜¯ç«‹å³æ‰§è¡Œï¼Œä¹Ÿä¼šåŠ å…¥åˆ°äº‹ä»¶é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œï¼Œå¹¶ä¸”ï¼ŒåŠ å…¥çš„é˜Ÿåˆ—æ˜¯å¾®é˜Ÿåˆ—</li><li>pro.then å¯ä»¥åªæ·»åŠ  thenable å‡½æ•°ï¼Œpro.catch å¯ä»¥å•ç‹¬æ·»åŠ  catchable å‡½æ•°</li><li>åœ¨æœªå†³é˜¶æ®µçš„å¤„ç†å‡½æ•°ä¸­ï¼Œå¦‚æœå‘ç”Ÿæœªæ•è·çš„é”™è¯¯ï¼Œä¼šå°†çŠ¶æ€æ¨å‘ rejectedï¼Œå¹¶ä¼šè¢« catchable æ•è·</li><li>ä¸€æ—¦çŠ¶æ€æ¨å‘äº†å·²å†³é˜¶æ®µï¼Œæ— æ³•å†å¯¹çŠ¶æ€åšä»»ä½•æ›´æ”¹</li><li><strong>Promise å¹¶æ²¡æœ‰æ¶ˆé™¤å›è°ƒï¼Œåªæ˜¯è®©å›è°ƒå˜å¾—å¯æ§</strong></li></ol><p>ä¸¾ä¾‹è¯´æ˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¢˜ç›®ä¸€</span></span><br><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;promise1&quot;</span>);</span><br><span class="line">  resolve(<span class="string">&quot;resolve1&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> promise2 = promise1.then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;1&quot;</span>, promise1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;2&quot;</span>, promise2);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#x27;promise1&#x27;</span></span><br><span class="line"><span class="comment">&#x27;1&#x27; Promise&#123;&lt;resolved&gt;: &#x27;resolve1&#x27;&#125;</span></span><br><span class="line"><span class="comment">&#x27;2&#x27; Promise&#123;&lt;pending&gt;&#125;</span></span><br><span class="line"><span class="comment">&#x27;resolve1&#x27;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢˜ç›®äºŒ</span></span><br><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;timerStart&quot;</span>);</span><br><span class="line">    resolve(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;timerEnd&quot;</span>);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">&quot;timerStart&quot;</span></span><br><span class="line"><span class="comment">&quot;timerEnd&quot;</span></span><br><span class="line"><span class="comment">&quot;success&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//é¢˜ç›®ä¸‰</span></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;promise1&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> timer2 = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;timer2&quot;</span>);</span><br><span class="line">  &#125;, <span class="number">0</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> timer1 = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;timer1&quot;</span>);</span><br><span class="line">  <span class="built_in">Promise</span>.resolve().then(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;promise2&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;start&quot;</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#x27;start&#x27;</span></span><br><span class="line"><span class="comment">&#x27;promise1&#x27;</span></span><br><span class="line"><span class="comment">&#x27;timer1&#x27;</span></span><br><span class="line"><span class="comment">&#x27;promise2&#x27;</span></span><br><span class="line"><span class="comment">&#x27;timer2&#x27;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>ä¸ºäº†ç®€åŒ– Promise api çš„ä½¿ç”¨ï¼ŒES2016 ä¸­æ–°å¢äº† async å’Œ await ä¸¤ä¸ªå…³é”®å­—ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹å…¶ç®€å†™æ–¹å¼åˆæ˜¯æ€ä¹ˆæ›¿ä»£ Promise api çš„ã€‚</p><h4 id="async-å’Œ-await"><a href="#async-å’Œ-await" class="headerlink" title="async å’Œ await"></a>async å’Œ await</h4><p><strong>async</strong>ï¼šç›®çš„æ˜¯ç®€åŒ–åœ¨å‡½æ•°çš„è¿”å›å€¼ä¸­å¯¹ Promise çš„åˆ›å»ºï¼Œç”¨äºä¿®é¥°å‡½æ•°ï¼ˆæ— è®ºæ˜¯å‡½æ•°å­—é¢é‡è¿˜æ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼‰ï¼Œæ”¾ç½®åœ¨å‡½æ•°æœ€å¼€å§‹çš„ä½ç½®ï¼Œè¢«ä¿®é¥°å‡½æ•°çš„è¿”å›ç»“æœä¸€å®šæ˜¯ Promise å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç­‰æ•ˆäº</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    resolve(<span class="number">2</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>await</strong>ï¼šawait å…³é”®å­—å¿…é¡»å‡ºç°åœ¨ async å‡½æ•°ä¸­ï¼Œç”¨åœ¨æŸä¸ªè¡¨è¾¾å¼ä¹‹å‰ï¼Œå¦‚æœè¡¨è¾¾å¼æ˜¯ä¸€ä¸ª Promiseï¼Œåˆ™å¾—åˆ°çš„æ˜¯ thenable ä¸­çš„çŠ¶æ€æ•°æ®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> test1();</span><br><span class="line">  <span class="built_in">console</span>.log(result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test2();</span><br></pre></td></tr></table></figure><p>ç­‰æ•ˆäº</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    resolve(<span class="number">2</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    test1().then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> result = data;</span><br><span class="line">      <span class="built_in">console</span>.log(result);</span><br><span class="line">      resolve();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">test2();</span><br></pre></td></tr></table></figure><p>å¦‚æœ await çš„è¡¨è¾¾å¼ä¸æ˜¯ Promiseï¼Œåˆ™ä¼šå°†å…¶ä½¿ç”¨ Promise.resolve åŒ…è£…åæŒ‰ç…§è§„åˆ™è¿è¡Œã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> music player </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pytorchå­¦ä¹ </title>
      <link href="2022/04/15/pytorch%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/04/15/pytorch%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¹‹å‰ç”¨äº†tensorflowçš„keras api,æ¯”è¾ƒç®€å•å¿«æ·.å•å…‰é‚£æ ·è‚¯å®šæ˜¯ä¸è¡Œçš„<br><span id="more"></span></p><p><a href="https://pytorch.org/"><em>PyTorch</em></a> æ˜¯ Facebook ä¸»å¯¼å¼€å‘çš„ï¼ŒåŸºäº Python çš„ç§‘å­¦è®¡ç®—åŒ…</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>ç›´æ¥åœ¨å®˜ç½‘æŒ‰æ•™ç¨‹å³å¯.ä¸€èˆ¬éƒ½éœ€è¦gpuç‰ˆçš„,æ‰€ä»¥éœ€è¦cuda(å½“ç„¶ä¹Ÿéœ€è¦è‹±ä¼Ÿè¾¾çš„gpuäº†).</p><p>çŸ¥é“cudaç‰ˆæœ¬åå¯¹åº”å®‰è£…å³å¯.condaå’Œpipæ— æ‰€è°“.</p><p>cuDNNæ˜¯ä¸€ä¸ªSDKï¼Œæ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºç¥ç»ç½‘ç»œçš„åŠ é€ŸåŒ…ï¼Œæ³¨æ„ï¼Œå®ƒè·Ÿæˆ‘ä»¬çš„CUDAæ²¡æœ‰ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œå³æ¯ä¸€ä¸ªç‰ˆæœ¬çš„CUDAå¯èƒ½æœ‰å¥½å‡ ä¸ªç‰ˆæœ¬çš„cuDNNä¸ä¹‹å¯¹åº”ï¼Œä½†ä¸€èˆ¬æœ‰ä¸€ä¸ªæœ€æ–°ç‰ˆæœ¬çš„cuDNNç‰ˆæœ¬ä¸CUDAå¯¹åº”æ›´å¥½ã€‚</p><h4 id="æ£€éªŒ"><a href="#æ£€éªŒ" class="headerlink" title="æ£€éªŒ"></a>æ£€éªŒ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(torch.cuda.is_available())</span><br><span class="line"><span class="built_in">print</span>(torch.__version__)</span><br></pre></td></tr></table></figure><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">True</span><br><span class="line">1.11.0+cu113</span><br></pre></td></tr></table></figure><p>æˆ‘cudaç‰ˆæœ¬æ˜¯11.6,pytorchç‰ˆæœ¬1.110.å®‰è£…çš„gpuç‰ˆæœ¬å¯¹åº”cuda11.3</p><h3 id="å¼ é‡"><a href="#å¼ é‡" class="headerlink" title="å¼ é‡"></a>å¼ é‡</h3><p>tensorsä¸numpyä¸­çš„æ•°ç»„ç±»ä¼¼,å·®åˆ«æ˜¯å…¶å¯ä»¥ç”¨gpuè®¡ç®—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line">torch.empty(<span class="number">5</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <a href="https://pytorch.org/docs/stable/torch.html?highlight=torch empty#torch.empty"><code>torch.empty</code></a> å¯ä»¥è¿”å›å¡«å……äº†æœªåˆå§‹åŒ–æ•°æ®çš„å¼ é‡ã€‚å¼ é‡çš„å½¢çŠ¶ç”±å¯å˜å‚æ•°å¤§å°å®šä¹‰ã€‚</p><p>åˆ›å»ºéšæœºåˆå§‹åŒ–çŸ©é˜µ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">torch.rand(<span class="number">5</span>,<span class="number">3</span>)  <span class="comment">#å‡åŒ€åˆ†å¸ƒ</span></span><br><span class="line">torch.zeros(<span class="number">5</span>, <span class="number">3</span>, dtype=torch.long) <span class="comment">#0å¡«å……çŸ©é˜µ ç±»å‹long </span></span><br><span class="line">x = torch.tensor([<span class="number">5.5</span>, <span class="number">3</span>]) <span class="comment">#åˆ›å»ºä¸€ä¸ªtensor</span></span><br></pre></td></tr></table></figure><p>æ ¹æ®ç°æœ‰å¼ é‡åˆ›å»ºæ–°å¼ é‡ã€‚è¿™äº›æ–¹æ³•å°†é‡ç”¨è¾“å…¥å¼ é‡çš„å±æ€§ï¼Œé™¤éè®¾ç½®æ–°çš„å€¼è¿›è¡Œè¦†ç›–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = x.new_ones(<span class="number">5</span>, <span class="number">3</span>, dtype=torch.double)</span><br></pre></td></tr></table></figure><p>è¦†ç›– <code>dtype</code>ï¼Œå¯¹è±¡çš„ <code>size</code> æ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯å€¼å’Œç±»å‹å‘ç”Ÿäº†å˜åŒ–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x = torch.randn_like(x, dtype=torch.<span class="built_in">float</span>)</span><br></pre></td></tr></table></figure><p>è·å–å¼ é‡size</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x.size()</span><br></pre></td></tr></table></figure><h3 id="é’ˆå¯¹å¼ é‡çš„æ“ä½œ"><a href="#é’ˆå¯¹å¼ é‡çš„æ“ä½œ" class="headerlink" title="é’ˆå¯¹å¼ é‡çš„æ“ä½œ"></a>é’ˆå¯¹å¼ é‡çš„æ“ä½œ</h3><p>åŠ æ³•è¿ç®—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y = torch.rand(<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line">torch.add(x, y)</span><br></pre></td></tr></table></figure><p>æä¾›è¾“å‡º Tensor ä½œä¸ºå‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = torch.empty(<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line">torch.add(x, y, out=result)</span><br><span class="line">y.add_(x)  <span class="comment"># å°† x åŠ åˆ° y</span></span><br></pre></td></tr></table></figure><p>ä»»ä½•ä»¥ä¸‹åˆ’çº¿ç»“å°¾çš„æ“ä½œéƒ½ä¼šç”¨ç»“æœæ›¿æ¢åŸå˜é‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x[:, <span class="number">1</span>]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = torch.randn(<span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">y = x.view(<span class="number">16</span>)</span><br><span class="line">z = x.view(-<span class="number">1</span>, <span class="number">8</span>)  <span class="comment"># size -1 ä»å…¶ä»–ç»´åº¦æ¨æ–­</span></span><br></pre></td></tr></table></figure><p>å¦‚æœå¼ é‡åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ <code>.item()</code> æ¥å¾—åˆ° Python æ•°æ®ç±»å‹çš„æ•°å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = torch.randn(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(x.item())</span><br></pre></td></tr></table></figure><h3 id="ä¸numpyè½¬æ¢"><a href="#ä¸numpyè½¬æ¢" class="headerlink" title="ä¸numpyè½¬æ¢"></a>ä¸numpyè½¬æ¢</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b = a.numpy()</span><br></pre></td></tr></table></figure><p>NumPy æ•°ç»„è½¬æ¢æˆ PyTorch å¼ é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>from_numpy</code> å®Œæˆ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.ones(<span class="number">5</span>)</span><br><span class="line">b = torch.from_numpy(a)</span><br><span class="line">np.add(a, <span class="number">1</span>, out=a)</span><br></pre></td></tr></table></figure><p>æ‰€æœ‰çš„ Tensor ç±»å‹é»˜è®¤éƒ½æ˜¯åŸºäº CPU</p><h4 id="gpu"><a href="#gpu" class="headerlink" title="gpu"></a>gpu</h4><p>CUDA å¼ é‡æ˜¯èƒ½å¤Ÿåœ¨ GPU è®¾å¤‡ä¸­è¿ç®—çš„å¼ é‡ã€‚ä½¿ç”¨ <code>.to</code> æ–¹æ³•å¯ä»¥å°† Tensor ç§»åŠ¨åˆ° GPU è®¾å¤‡ä¸­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># is_available å‡½æ•°åˆ¤æ–­æ˜¯å¦æœ‰ GPU å¯ä»¥ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">if</span> torch.cuda.is_available():</span><br><span class="line">    device = torch.device(<span class="string">&quot;cuda&quot;</span>)          <span class="comment"># torch.device å°†å¼ é‡ç§»åŠ¨åˆ°æŒ‡å®šçš„è®¾å¤‡ä¸­</span></span><br><span class="line">    y = torch.ones_like(x, device=device)  <span class="comment"># ç›´æ¥ä» GPU åˆ›å»ºå¼ é‡</span></span><br><span class="line">    x = x.to(device)                       <span class="comment"># æˆ–è€…ç›´æ¥ä½¿ç”¨ .to(&quot;cuda&quot;) å°†å¼ é‡ç§»åŠ¨åˆ° cuda ä¸­</span></span><br><span class="line">    z = x + y</span><br><span class="line">    <span class="built_in">print</span>(z)</span><br><span class="line">    <span class="built_in">print</span>(z.to(<span class="string">&quot;cpu&quot;</span>, torch.double))  </span><br></pre></td></tr></table></figure><h3 id="autograd"><a href="#autograd" class="headerlink" title="autograd"></a>autograd</h3><blockquote><p><a href="https://pytorch.org/docs/stable/autograd.html?highlight=autograd#module-torch.autograd"><code>autograd</code></a>ä¸ºå¼ é‡ä¸Šçš„æ‰€æœ‰æ“ä½œæä¾›äº†è‡ªåŠ¨æ±‚å¯¼ã€‚å®ƒæ˜¯ä¸€ä¸ªåœ¨è¿è¡Œæ—¶å®šä¹‰çš„æ¡†æ¶ï¼Œè¿™æ„å‘³ç€åå‘ä¼ æ’­æ˜¯æ ¹æ®ä½ çš„ä»£ç æ¥ç¡®å®šå¦‚ä½•è¿è¡Œã€‚<code>torch.Tensor</code> æ˜¯è¿™ä¸ªåŒ…çš„æ ¸å¿ƒç±»ã€‚å¦‚æœè®¾ç½® <code>.requires_grad</code> ä¸º <code>True</code>ï¼Œé‚£ä¹ˆå°†ä¼šè¿½è¸ªæ‰€æœ‰å¯¹äºè¯¥å¼ é‡çš„æ“ä½œã€‚å½“å®Œæˆè®¡ç®—åé€šè¿‡è°ƒç”¨ <code>.backward()</code> ä¼šè‡ªåŠ¨è®¡ç®—æ‰€æœ‰çš„æ¢¯åº¦ï¼Œè¿™ä¸ªå¼ é‡çš„æ‰€æœ‰æ¢¯åº¦å°†ä¼šè‡ªåŠ¨ç§¯ç´¯åˆ° <code>.grad</code> å±æ€§ã€‚è¿™ä¹Ÿå°±å®Œæˆäº†è‡ªåŠ¨æ±‚å¯¼çš„è¿‡ç¨‹</p></blockquote><p>è¦é˜»æ­¢å¼ é‡è·Ÿè¸ªå†å²è®°å½•ï¼Œå¯ä»¥è°ƒç”¨ <code>.detach()</code> æ–¹æ³•å°†å…¶ä¸è®¡ç®—å†å²è®°å½•åˆ†ç¦»ã€‚ä¸ºäº†é˜²æ­¢è·Ÿè¸ªå†å²è®°å½•ï¼ˆå’Œä½¿ç”¨å†…å­˜ï¼‰ï¼Œå¯ä»¥å°†ä»£ç å—åŒ…è£…åœ¨ <code>with torch.no_grad():</code> è¯­å¥ä¸­ã€‚è¿™ä¸€ç‚¹åœ¨è¯„ä¼°æ¨¡å‹æ—¶ç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºæ¨¡å‹å¯èƒ½å…·æœ‰ <code>requires_grad=True</code> çš„å¯è®­ç»ƒå‚æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸éœ€è¦è®¡ç®—æ¢¯åº¦.</p><p>è‡ªåŠ¨æ±‚å¯¼ä¸­è¿˜æœ‰å¦å¤–ä¸€ä¸ªé‡è¦çš„ç±» <code>Function</code>ã€‚<code>Tensor</code> å’Œ <code>Function</code> äº’ç›¸è¿æ¥å¹¶ç”Ÿæˆä¸€ä¸ªéå¾ªç¯å›¾ï¼Œå…¶å­˜å‚¨äº†å®Œæ•´çš„è®¡ç®—å†å²ã€‚</p><p>å¦‚æœéœ€è¦è®¡ç®—å¯¼æ•°ï¼Œä½ å¯ä»¥åœ¨ <code>Tensor</code> ä¸Šè°ƒç”¨ <code>.backward()</code>ã€‚ å¦‚æœ <code>Tensor</code> æ˜¯ä¸€ä¸ªæ ‡é‡ï¼ˆå³å®ƒåŒ…å«ä¸€ä¸ªå…ƒç´ æ•°æ®ï¼‰åˆ™ä¸éœ€è¦ä¸º <code>backward()</code> æŒ‡å®šä»»ä½•å‚æ•°ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®ƒæœ‰å¤šä¸ªå…ƒç´ ï¼Œä½ éœ€è¦æŒ‡å®šä¸€ä¸ª <code>gradient</code> å‚æ•°æ¥åŒ¹é…å¼ é‡çš„å½¢çŠ¶ã€‚</p><p>.requires<em>grad</em>( â€¦ )<code>å¯ä»¥æ”¹å˜ç°æœ‰å¼ é‡çš„</code>requires_grad<code>å±æ€§ã€‚ å¦‚æœæ²¡æœ‰æŒ‡å®šçš„è¯ï¼Œé»˜è®¤è¾“å…¥çš„ flag æ˜¯</code>False.</p><p><strong>æ³¨æ„</strong>:å°†æŸä¸ªå˜é‡è®¾ç½®ä¸ºrequires_grad=Trueå,æ„å‘³ç€åé¢æ¶‰åŠåˆ°è¿™ä¸ªå˜é‡è®¡ç®—äº§ç”Ÿçš„å˜é‡å…¶grad_fnå­˜åœ¨ã€‚x.grad_fnåªæœ‰äº§ç”Ÿè¿™ä¸ªå˜é‡xçš„å˜é‡ä¸­æœ‰requires_gradä¸”xä¸æ˜¯æœ«ç«¯æƒ…å†µä¸‹å­˜åœ¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">f1 = torch.randn(<span class="number">1</span>,requires_grad=<span class="literal">True</span>)</span><br><span class="line">f1 = <span class="number">2</span>*f1</span><br><span class="line">f2 = y+z</span><br><span class="line"><span class="comment"># æŸ¥çœ‹å˜é‡æ˜¯å¦å­˜åœ¨æ±‚æ¢¯åº¦å‡½æ•°</span></span><br><span class="line"><span class="built_in">print</span>(f1.grad_fn)</span><br></pre></td></tr></table></figure><p>ç»“æœä¸ºMulBackward0 object</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f1.backward(retain_graph=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>è®¡ç®—æ¢¯åº¦.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = torch.randn(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">a = ((a * <span class="number">3</span>) / (a - <span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(a.requires_grad)</span><br><span class="line">a.requires_grad_(<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(a.requires_grad)</span><br><span class="line">b = (a * a).<span class="built_in">sum</span>()</span><br><span class="line"><span class="built_in">print</span>(b.grad_fn)</span><br></pre></td></tr></table></figure><p>å¦‚æœä½¿ç”¨å‡½æ•° <code>k.backward(p)</code> åˆ™å¾—åˆ°çš„çš„å˜é‡ <code>x.grad</code> çš„å€¼ä¸ºï¼š</p><script type="math/tex; mode=display">x.grad=p\cdot \frac{dk}{dx}</script><p>å®Œæˆäº†æ¢¯åº¦çš„è‡ªåŠ¨è¿½è¸ªåï¼Œä¸‹é¢é€šè¿‡åå‘ä¼ æ’­æ‰“å°å¯¹åº”èŠ‚ç‚¹çš„æ¢¯åº¦ã€‚å› ä¸º <code>out</code> æ˜¯ä¸€ä¸ªçº¯é‡ Scalarï¼Œ<code>out.backward()</code> ç­‰äº <code>out.backward(torch.tensor(1))</code></p><p>æ€»ç»“ä¸€ä¸‹,x.grad_fnå°±æ˜¯çœ‹æœ‰æ²¡æœ‰æ¢¯åº¦å‡½æ•°.</p><p>x.backward()è®¡ç®—æ¢¯åº¦,x.gradæ˜¾ç¤ºå€¼.</p><p>å¯ä»¥ä½¿ç”¨ <a href="https://pytorch.org/docs/stable/nn.html?highlight=torch nn#module-torch.nn"><code>torch.nn</code></a>æ¥æ„å»ºç¥ç»ç½‘ç»œ</p><p>å®ƒæ˜¯ä¸€ä¸ªç®€å•çš„å‰é¦ˆç¥ç»ç½‘ç»œï¼Œå®ƒæ¥å—ä¸€ä¸ªè¾“å…¥ï¼Œç„¶åä¸€å±‚æ¥ç€ä¸€å±‚åœ°ä¼ é€’ï¼Œæœ€åè¾“å‡ºè®¡ç®—çš„ç»“æœã€‚</p><p>ç¥ç»ç½‘ç»œçš„å…¸å‹è®­ç»ƒè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p>å®šä¹‰åŒ…å«å¯å­¦ä¹ å‚æ•°ï¼ˆæƒé‡ï¼‰çš„ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚</p></li><li><p>åœ¨æ•°æ®é›†ä¸Šè¿­ä»£ã€‚</p></li><li><p>é€šè¿‡ç¥ç»ç½‘ç»œå¤„ç†è¾“å…¥ã€‚</p></li><li><p>è®¡ç®—æŸå¤±ï¼ˆè¾“å‡ºç»“æœå’Œæ­£ç¡®å€¼çš„å·®å€¼å¤§å°ï¼‰ã€‚</p></li><li><p>å°†æ¢¯åº¦åå‘ä¼ æ’­å›ç½‘ç»œèŠ‚ç‚¹ã€‚</p></li><li><p>æ›´æ–°ç½‘ç»œçš„å‚æ•°ï¼Œä¸€èˆ¬å¯ä½¿ç”¨æ¢¯åº¦ä¸‹é™ç­‰æœ€ä¼˜åŒ–æ–¹æ³•ã€‚</p><p>åœæ­¢å¼ é‡æ¢¯é˜Ÿè®¡ç®—</p></li></ol><p>å¦‚æœæˆ‘ä»¬ä¸éœ€è¦æŸäº›å¼ é‡çš„æ¢¯åº¦è®¡ç®—ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸‰ç§æ–¹æ³•å‘Šè¯‰è®¡ç®—æœºåœæ­¢æ¢¯åº¦çš„è®¡ç®—ï¼š</p><ul><li><code>x.requires_grad_(False)</code>ã€‚</li><li><code>x.detach()</code>ã€‚</li><li><code>with torch.no_grad():</code></li></ul><p>ä¸ºäº†é¿å…å¤šæ¬¡æ±‚å¯¼åæ¢¯åº¦ç´¯åŠ æƒ…å†µï¼Œä¸€èˆ¬æˆ‘ä»¬åœ¨è®¡ç®—å®Œæ¢¯åº¦åï¼Œéƒ½ä¼šæ¸…ç©ºæ¢¯åº¦ï¼Œå³æ¸…ç©º <code>x.grad</code> ã€‚åœ¨æ¸…ç©ºæ¢¯åº¦åï¼Œæˆ‘ä»¬å†è¿›è¡Œå…¶ä»–å¼ é‡çš„æ¢¯åº¦æ±‚è§£</p><p>ä½¿ç”¨ <code>x.grad.zero_()</code> æ¸…ç©ºæ¢¯åº¦</p>]]></content>
      
      
      
        <tags>
            
            <tag> pytorch </tag>
            
            <tag> deep learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>flex_bisonå­¦ä¹ </title>
      <link href="2022/04/12/flex-bison%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/04/12/flex-bison%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>åˆ©ç”¨flex,bisonå®ç°è¯æ³•å’Œè¯­æ³•åˆ†æ,åˆ©ç”¨llvmå®ç°ä»£ç ä¼˜åŒ–å’Œä»£ç ç”Ÿæˆ.</p><p>è¿™é‡Œä»‹ç»ä¸€ä¸‹lexå’Œyacc(unixç¯å¢ƒä¸‹).</p><p>linuxç¯å¢ƒä¸‹æ˜¯flexå’Œbison.(å½“ç„¶lexå’Œflex,yaccå’Œbisonè¿˜æ˜¯æœ‰å·®åˆ«çš„)</p><span id="more"></span><h2 id="lex"><a href="#lex" class="headerlink" title="lex"></a>lex</h2><p>ç”¨lexæºè¯­è¨€ç¼–å†™çš„ç¨‹åº,æ‰©å±•åä¸º.lçš„æ–‡ä»¶.ç»lexç³»ç»Ÿå¤„ç†åè¾“å‡ºcç¨‹åºæ–‡ä»¶.è¯¥æ–‡ä»¶åŒ…å«ä¾æ®æ­£è§„å¼æ„å»ºçš„çŠ¶æ€è½¬ç§»è¡¨,ç”¨æ¥é©±åŠ¨è¯¥çŠ¶æ€è¡¨çš„æ€»æ§ç¨‹åºyylex().</p><p>æ–‡ä»¶æ ¼å¼</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å®šä¹‰éƒ¨åˆ†</span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">è¯†åˆ«è§„åˆ™éƒ¨åˆ†</span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">è¾…åŠ©å‡½æ•°éƒ¨åˆ†</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ª%%å¯ä»¥çœç•¥(å³è¾…åŠ©å‡½æ•°éƒ¨åˆ†æ²¡æœ‰çš„æƒ…å†µä¸‹)</p><p>ä¸€ä¸ªä¾‹å­</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%&#123;</span></span><br><span class="line"><span class="params">#</span>include &lt;stdio.h&gt;</span><br><span class="line">int num<span class="built_in">_</span>lines = 0,num<span class="built_in">_</span>chars = 0;</span><br><span class="line"><span class="comment">%&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"><span class="keyword">\n</span> &#123;num<span class="built_in">_</span>lines++;num<span class="built_in">_</span>chars++;&#125;</span><br><span class="line">. &#123;++num<span class="built_in">_</span>chars;&#125; //é™¤ç©ºç™½å­—ç¬¦</span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    yylex();</span><br><span class="line">    printf(&quot;num of lines =<span class="comment">%d,num of chars=%d\n&quot;,num_lines,num_chars);</span></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä¹‰éƒ¨åˆ†å¯¹è§„åˆ™éƒ¨åˆ†è¦å¼•ç”¨çš„æ–‡ä»¶å’Œå˜é‡è¿›è¡Œè¯´æ˜.å¯åŒ…å«å¤´æ–‡ä»¶,å¸¸æ•°å®šä¹‰,å…¨å±€å˜é‡å®šä¹‰,å¤–éƒ¨å˜é‡å®šä¹‰ä»¥åŠæ­£è§„å¼å®šä¹‰.</p><p>è¯†åˆ«è§„åˆ™éƒ¨åˆ† </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">P &#123;/\*<span class="keyword">do</span> something*/&#125;</span><br></pre></td></tr></table></figure><p>è¾…åŠ©å‡½æ•°éƒ¨åˆ†</p><div class="table-container"><table><thead><tr><th>å˜é‡å’Œå‡½æ•°</th><th>ä»‹ç»</th></tr></thead><tbody><tr><td>yyin</td><td>FILE*ç±»å‹ æŒ‡å‘è¾“å…¥æ–‡ä»¶</td></tr><tr><td>yyout</td><td>æŒ‡å‘è¾“å‡ºæ–‡ä»¶</td></tr><tr><td>yytext</td><td>char* æŒ‡å‘è¯†åˆ«è§„åˆ™ä¸­çš„ä¸€ä¸ªæ­£è§„å¼åŒ¹é…çš„å•è¯çš„é¦–å­—ç¬¦</td></tr><tr><td>yylex()</td><td>ä»è¯¥å‡½æ•°åˆ†æ</td></tr><tr><td>yyleng</td><td>intç±»å‹ è®°å½•ä¸è¯†åˆ«è§„åˆ™ä¸­æ­£è§„å¼åŒ¹é…çš„å•è¯çš„é¦–å­—ç¬¦é•¿åº¦</td></tr><tr><td>yywrap()</td><td>æ–‡ä»¶ç»“æŸå¤„ç†å‡½æ•° è‹¥è¿”å›å€¼1å°±åœæ­¢è§£æ  å¯ç”¨æ¥è§£æå¤šä¸ªæ–‡ä»¶</td></tr><tr><td>echo</td><td>å°†yytextæ‰“å°åˆ°yyout</td></tr></tbody></table></div><p>æ­£è§„å¼å°±ä¸å¤šä»‹ç»äº†</p><h2 id="yacc"><a href="#yacc" class="headerlink" title="yacc"></a>yacc</h2><p>åŸºäºLALR(1)è¯­æ³•åˆ†æ,å¯ä»¥è¾“å‡ºä¸¤ä¸ªæ–‡ä»¶,ä¸€ä¸ªæ˜¯åŒ…å«è¯­æ³•åˆ†æå‡½æ•°yyparse()çš„cç¨‹åº,å¦ä¸€ä¸ªæ˜¯åŒ…å«åŸæ–‡ä»¶ä¸­æ‰€æœ‰ç»ˆç»“ç¬¦ç¼–ç çš„å®å®šä¹‰æ–‡ä»¶,æ‰©å±•å.h.</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%&#123;</span></span><br><span class="line"><span class="params">#</span>include &lt;stdio.h&gt;</span><br><span class="line">void yyerror(const char* msg) &#123;&#125;</span><br><span class="line"><span class="comment">%&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%token T_NUM</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%left &#x27;+&#x27; &#x27;-&#x27;</span></span><br><span class="line"><span class="comment">%left &#x27;*&#x27; &#x27;/&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"></span><br><span class="line">S   :   S E &#x27;<span class="keyword">\n</span>&#x27;        &#123; printf(&quot;ans = <span class="comment">%d\n&quot;, $2); &#125;</span></span><br><span class="line">    |   /* empty */     &#123; /* empty */ &#125;</span><br><span class="line">    ;</span><br><span class="line"></span><br><span class="line">E   :   E &#x27;+&#x27; E         &#123; <span class="built_in">$</span><span class="built_in">$</span> = <span class="built_in">$</span>1 + <span class="built_in">$</span>3; &#125;</span><br><span class="line">    |   E &#x27;-&#x27; E         &#123; <span class="built_in">$</span><span class="built_in">$</span> = <span class="built_in">$</span>1 - <span class="built_in">$</span>3; &#125;</span><br><span class="line">    |   E &#x27;*&#x27; E         &#123; <span class="built_in">$</span><span class="built_in">$</span> = <span class="built_in">$</span>1 * <span class="built_in">$</span>3; &#125;</span><br><span class="line">    |   E &#x27;/&#x27; E         &#123; <span class="built_in">$</span><span class="built_in">$</span> = <span class="built_in">$</span>1 / <span class="built_in">$</span>3; &#125;</span><br><span class="line">    |   T<span class="built_in">_</span>NUM           &#123; <span class="built_in">$</span><span class="built_in">$</span> = <span class="built_in">$</span>1; &#125;</span><br><span class="line">    |   &#x27;(&#x27; E &#x27;)&#x27;       &#123; <span class="built_in">$</span><span class="built_in">$</span> = <span class="built_in">$</span>2; &#125;</span><br><span class="line">    ;</span><br><span class="line"></span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"></span><br><span class="line">int main() &#123;</span><br><span class="line">    return yyparse();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆçš„å¤´æ–‡ä»¶</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> YY_YY_CAL2_TAB_H_INCLUDED</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> YY_YY_CAL2_TAB_H_INCLUDED</span></span><br><span class="line"><span class="comment">/* Debug traces.  */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> YYDEBUG</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> YYDEBUG 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> YYDEBUG</span></span><br><span class="line"><span class="keyword">extern</span> <span class="keyword">int</span> yydebug;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Token type.  */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> YYTOKENTYPE</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> YYTOKENTYPE</span></span><br><span class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">yytokentype</span></span></span><br><span class="line"><span class="class">  &#123;</span></span><br><span class="line">    NUMBER = <span class="number">258</span>,</span><br><span class="line">    ADD = <span class="number">259</span>,</span><br><span class="line">    SUB = <span class="number">260</span>,</span><br><span class="line">    MUL = <span class="number">261</span>,</span><br><span class="line">    DIV = <span class="number">262</span>,</span><br><span class="line">    ABS = <span class="number">263</span>,</span><br><span class="line">    EOL = <span class="number">264</span></span><br><span class="line">  &#125;;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Value type.  */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> ! defined YYSTYPE &amp;&amp; ! defined YYSTYPE_IS_DECLARED</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> YYSTYPE;</span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> YYSTYPE_IS_TRIVIAL 1</span></span><br><span class="line"><span class="meta"># <span class="meta-keyword">define</span> YYSTYPE_IS_DECLARED 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> YYSTYPE yylval;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">yyparse</span> <span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">/* !YY_YY_CAL2_TAB_H_INCLUDED  */</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥ç›´æ¥å¼•å…¥åˆ°.læ–‡ä»¶ä¸­</p><p>æ–‡ä»¶æ ¼å¼</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[è¯´æ˜éƒ¨åˆ†]</span><br><span class="line"><span class="comment">%%</span></span><br><span class="line">ç¿»è¯‘è§„åˆ™</span><br><span class="line">[<span class="comment">%%</span></span><br><span class="line">è¾…åŠ©è¿‡ç¨‹]</span><br></pre></td></tr></table></figure><p>è¯´æ˜éƒ¨åˆ†åŒ…æ‹¬ä¸¤éƒ¨åˆ†,ä¸€éƒ¨åˆ†æ˜¯å¤„äº<code>%&#123;%&#125;</code>ä¹‹é—´çš„cè¯­è¨€ä»£ç ,å®šä¹‰å…¨å±€å˜é‡å’Œç›¸å…³æ–‡ä»¶.</p><p>ç¬¬äºŒéƒ¨åˆ†æ˜¯æ–‡æ³•è®°å·å£°æ˜,è¯¥éƒ¨åˆ†æ¯ä¸€é¡¹å‡ä»¥%å¼€å¤´.</p><p>è¯­ä¹‰å€¼ç±»å‹å®šä¹‰</p><p>è¯­æ³•åˆ†æå™¨é™¤äº†åŒ…å«ç”¨æ¥ä¿å­˜æ–‡æ³•ç¬¦å·å’ŒçŠ¶æ€çš„åˆ†ææ ˆä¹‹å¤–,è¿˜æœ‰ä¸€ä¸ªç”¨æ¥ä¿å­˜ä¸åˆ†ææ ˆä¸­æ–‡æ³•ç¬¦å·ç›¸å¯¹åº”çš„è¯­ä¹‰å€¼çš„è¯­ä¹‰æ ˆ.å³YYSTYPE,æŠ½è±¡æ•°æ®ç±»å‹,ç¼ºçœä¸ºint</p><p>ç”¨æˆ·å®šä¹‰YYSTYPE</p><p>è‹¥ä¸ºç®€å•ç±»å‹</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">%&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> YYSTYPE float</span></span><br><span class="line">%&#125;</span><br></pre></td></tr></table></figure><p>è‹¥ä¸ºå¤æ‚ç±»å‹,ä½¿ç”¨å…±ç”¨ä½“.</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%union</span><br><span class="line">&#123;</span><br><span class="line">SYMBOL *sym;</span><br><span class="line">ENODE *<span class="keyword">NODE</span></span><br><span class="line"><span class="title">&#125;</span></span><br></pre></td></tr></table></figure><p>å¼•ç”¨æ—¶</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%token &lt;sym&gt; id</span><br><span class="line">%type &lt;node&gt; expr</span><br></pre></td></tr></table></figure><p>%tokenè¡¨ç¤ºç»ˆç»“ç¬¦</p><p>%typeè¡¨ç¤ºéç»ˆç»“ç¬¦</p><p>æ–‡æ³•å¼€å§‹ç¬¦å®šä¹‰</p><p>ä¸€èˆ¬ä»¥%start Sè¡¨æ˜Sæ˜¯æ–‡æ³•çš„å¼€å§‹ç¬¦å·.é»˜è®¤ä¸ºè§„åˆ™éƒ¨åˆ†ä¸­å‡ºç°çš„ç¬¬ä¸€ä¸ªäº§ç”Ÿå¼çš„å·¦éƒ¨éç»ˆæç¬¦å·.</p><p>ä¼˜å…ˆæ€§ä¸ç»“åˆæ€§</p><p>%left å·¦ç»“åˆ</p><p>%nonassoc æ— ç»“åˆæ€§</p><p>ç»“åˆæ€§è¯´æ˜æ’åˆ—çš„æ¬¡åºå†³å®šè¿ç®—ç¬¦çš„ä¼˜å…ˆçº§,åœ¨åå†™çš„ä¼˜å…ˆçº§è¶Šé«˜</p><p>ç¿»è¯‘è§„åˆ™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A: a1 &#123;è¯­ä¹‰åŠ¨ä½œ&#125;</span><br><span class="line">|a2 &#123;&#125;</span><br><span class="line">;</span><br></pre></td></tr></table></figure><p>$$è¡¨ç¤ºä¸äº§ç”Ÿå¼åšä¸éç»ˆç»“ç¬¦å·ç›¸å…³çš„å±æ€§å€¼.</p><p>$i è¡¨ç¤ºä¸äº§ç”Ÿå¼å³éƒ¨ç¬¬iä¸ªæ–‡æ³•ç¬¦å·ç›¸å…³çš„å±æ€§å€¼. åœ¨æ¯ä¸ª$iç®—å‡ºæ¥ä¹‹åå†è¿›è¡Œå½’çº¦.</p><p>è¾…åŠ©è¿‡ç¨‹</p><p>åŒ…å«ä¸»ç¨‹åº,è¯æ³•åˆ†æç¨‹åºyylex,yyerror.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br></pre></td><td class="code"><pre><span class="line">YY_DECL</span><br><span class="line">&#123;</span><br><span class="line">yy_state_type yy_current_state;</span><br><span class="line"><span class="keyword">char</span> *yy_cp, *yy_bp;</span><br><span class="line"><span class="keyword">int</span> yy_act;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> ( !(yy_init) )</span><br><span class="line">&#123;</span><br><span class="line">(yy_init) = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> YY_USER_INIT</span></span><br><span class="line">YY_USER_INIT;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( ! (yy_start) )</span><br><span class="line">(yy_start) = <span class="number">1</span>;<span class="comment">/* first start state */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( ! yyin )</span><br><span class="line">yyin = <span class="built_in">stdin</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( ! yyout )</span><br><span class="line">yyout = <span class="built_in">stdout</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( ! YY_CURRENT_BUFFER ) &#123;</span><br><span class="line">yyensure_buffer_stack ();</span><br><span class="line">YY_CURRENT_BUFFER_LVALUE =</span><br><span class="line">yy_create_buffer( yyin, YY_BUF_SIZE );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">yy_load_buffer_state(  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 15 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 681 <span class="meta-string">&quot;lex.yy.c&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> ( <span class="comment">/*CONSTCOND*/</span><span class="number">1</span> )<span class="comment">/* loops until end-of-file is reached */</span></span><br><span class="line">&#123;</span><br><span class="line">yy_cp = (yy_c_buf_p);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Support of yytext. */</span></span><br><span class="line">*yy_cp = (yy_hold_char);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* yy_bp points to the position in yy_ch_buf of the start of</span></span><br><span class="line"><span class="comment"> * the current run.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">yy_bp = yy_cp;</span><br><span class="line"></span><br><span class="line">yy_current_state = (yy_start);</span><br><span class="line">yy_match:</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">&#123;</span><br><span class="line">YY_CHAR yy_c = yy_ec[YY_SC_TO_UI(*yy_cp)] ;</span><br><span class="line"><span class="keyword">if</span> ( yy_accept[yy_current_state] )</span><br><span class="line">&#123;</span><br><span class="line">(yy_last_accepting_state) = yy_current_state;</span><br><span class="line">(yy_last_accepting_cpos) = yy_cp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> ( yy_chk[yy_base[yy_current_state] + yy_c] != yy_current_state )</span><br><span class="line">&#123;</span><br><span class="line">yy_current_state = (<span class="keyword">int</span>) yy_def[yy_current_state];</span><br><span class="line"><span class="keyword">if</span> ( yy_current_state &gt;= <span class="number">15</span> )</span><br><span class="line">yy_c = yy_meta[yy_c];</span><br><span class="line">&#125;</span><br><span class="line">yy_current_state = yy_nxt[yy_base[yy_current_state] + yy_c];</span><br><span class="line">++yy_cp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> ( yy_base[yy_current_state] != <span class="number">13</span> );</span><br><span class="line"></span><br><span class="line">yy_find_action:</span><br><span class="line">yy_act = yy_accept[yy_current_state];</span><br><span class="line"><span class="keyword">if</span> ( yy_act == <span class="number">0</span> )</span><br><span class="line">&#123; <span class="comment">/* have to back up */</span></span><br><span class="line">yy_cp = (yy_last_accepting_cpos);</span><br><span class="line">yy_current_state = (yy_last_accepting_state);</span><br><span class="line">yy_act = yy_accept[yy_current_state];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">YY_DO_BEFORE_ACTION;</span><br><span class="line"></span><br><span class="line">do_action:<span class="comment">/* This label is used only to access EOF actions. */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> ( yy_act )</span><br><span class="line">&#123; <span class="comment">/* beginning of action switch */</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>: <span class="comment">/* must back up */</span></span><br><span class="line"><span class="comment">/* undo the effects of YY_DO_BEFORE_ACTION */</span></span><br><span class="line">*yy_cp = (yy_hold_char);</span><br><span class="line">yy_cp = (yy_last_accepting_cpos);</span><br><span class="line">yy_current_state = (yy_last_accepting_state);</span><br><span class="line"><span class="keyword">goto</span> yy_find_action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 16 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">&#123;<span class="keyword">return</span> ADD; &#125;</span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 17 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">&#123;<span class="keyword">return</span> SUB; &#125;</span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 18 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">&#123;<span class="keyword">return</span> MUL; &#125;</span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 19 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">&#123;<span class="keyword">return</span> DIV; &#125;</span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 20 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">&#123;<span class="keyword">return</span> ABS; &#125;</span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 21 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">&#123; yylval = atoi(yytext); <span class="keyword">return</span> NUMBER; &#125; <span class="comment">//yytextåŒ¹é… yylvalè¿”å›å€¼</span></span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line"><span class="comment">/* rule 7 can match eol */</span></span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 22 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">&#123;<span class="keyword">return</span> EOL;&#125;</span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 23 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">&#123;&#125;</span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 24 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">&#123; ECHO ;&#125;</span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">YY_RULE_SETUP</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 25 <span class="meta-string">&quot;cal2.l&quot;</span></span></span><br><span class="line">ECHO;</span><br><span class="line">YY_BREAK</span><br><span class="line"><span class="meta">#<span class="meta-keyword">line</span> 789 <span class="meta-string">&quot;lex.yy.c&quot;</span></span></span><br><span class="line"><span class="function"><span class="keyword">case</span> <span class="title">YY_STATE_EOF</span><span class="params">(INITIAL)</span>:</span></span><br><span class="line"><span class="function"><span class="title">yyterminate</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> YY_END_OF_BUFFER:</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* Amount of text matched not including the EOB char. */</span></span><br><span class="line"><span class="keyword">int</span> yy_amount_of_matched_text = (<span class="keyword">int</span>) (yy_cp - (yytext_ptr)) - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Undo the effects of YY_DO_BEFORE_ACTION. */</span></span><br><span class="line">*yy_cp = (yy_hold_char);</span><br><span class="line"><span class="function">YY_RESTORE_YY_MORE_OFFSET</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">if</span> <span class="params">( YY_CURRENT_BUFFER_LVALUE-&gt;yy_buffer_status == YY_BUFFER_NEW )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">/* We&#x27;re scanning a new file or input source.  It&#x27;s</span></span><br><span class="line"><span class="comment"> * possible that this happened because the user</span></span><br><span class="line"><span class="comment"> * just pointed yyin at a new source and called</span></span><br><span class="line"><span class="comment"> * yylex().  If so, then we have to assure</span></span><br><span class="line"><span class="comment"> * consistency between YY_CURRENT_BUFFER and our</span></span><br><span class="line"><span class="comment"> * globals.  Here is the right place to do so, because</span></span><br><span class="line"><span class="comment"> * this is the first action (other than possibly a</span></span><br><span class="line"><span class="comment"> * back-up) that will match for the new input source.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">(yy_n_chars) = YY_CURRENT_BUFFER_LVALUE-&gt;yy_n_chars;</span><br><span class="line">YY_CURRENT_BUFFER_LVALUE-&gt;yy_input_file = yyin;</span><br><span class="line">YY_CURRENT_BUFFER_LVALUE-&gt;yy_buffer_status = YY_BUFFER_NORMAL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Note that here we test for yy_c_buf_p &quot;&lt;=&quot; to the position</span></span><br><span class="line"><span class="comment"> * of the first EOB in the buffer, since yy_c_buf_p will</span></span><br><span class="line"><span class="comment"> * already have been incremented past the NUL character</span></span><br><span class="line"><span class="comment"> * (since all states make transitions on EOB to the</span></span><br><span class="line"><span class="comment"> * end-of-buffer state).  Contrast this with the test</span></span><br><span class="line"><span class="comment"> * in input().</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">if</span> ( (yy_c_buf_p) &lt;= &amp;YY_CURRENT_BUFFER_LVALUE-&gt;yy_ch_buf[(yy_n_chars)] )</span><br><span class="line">&#123; <span class="comment">/* This was really a NUL. */</span></span><br><span class="line">yy_state_type yy_next_state;</span><br><span class="line"></span><br><span class="line">(yy_c_buf_p) = (yytext_ptr) + yy_amount_of_matched_text;</span><br><span class="line"></span><br><span class="line">yy_current_state = yy_get_previous_state(  );</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Okay, we&#x27;re now positioned to make the NUL</span></span><br><span class="line"><span class="comment"> * transition.  We couldn&#x27;t have</span></span><br><span class="line"><span class="comment"> * yy_get_previous_state() go ahead and do it</span></span><br><span class="line"><span class="comment"> * for us because it doesn&#x27;t know how to deal</span></span><br><span class="line"><span class="comment"> * with the possibility of jamming (and we don&#x27;t</span></span><br><span class="line"><span class="comment"> * want to build jamming into it because then it</span></span><br><span class="line"><span class="comment"> * will run more slowly).</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">yy_next_state = yy_try_NUL_trans( yy_current_state );</span><br><span class="line"></span><br><span class="line">yy_bp = (yytext_ptr) + YY_MORE_ADJ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( yy_next_state )</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* Consume the NUL. */</span></span><br><span class="line">yy_cp = ++(yy_c_buf_p);</span><br><span class="line">yy_current_state = yy_next_state;</span><br><span class="line"><span class="keyword">goto</span> yy_match;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">yy_cp = (yy_c_buf_p);</span><br><span class="line"><span class="keyword">goto</span> yy_find_action;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">switch</span> ( yy_get_next_buffer(  ) )</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> EOB_ACT_END_OF_FILE:</span><br><span class="line">&#123;</span><br><span class="line">(yy_did_buffer_switch_on_eof) = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( yywrap(  ) )</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">/* Note: because we&#x27;ve taken care in</span></span><br><span class="line"><span class="comment"> * yy_get_next_buffer() to have set up</span></span><br><span class="line"><span class="comment"> * yytext, we can now set up</span></span><br><span class="line"><span class="comment"> * yy_c_buf_p so that if some total</span></span><br><span class="line"><span class="comment"> * hoser (like flex itself) wants to</span></span><br><span class="line"><span class="comment"> * call the scanner after we return the</span></span><br><span class="line"><span class="comment"> * YY_NULL, it&#x27;ll still work - another</span></span><br><span class="line"><span class="comment"> * YY_NULL will get returned.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">(yy_c_buf_p) = (yytext_ptr) + YY_MORE_ADJ;</span><br><span class="line"></span><br><span class="line">yy_act = YY_STATE_EOF(YY_START);</span><br><span class="line"><span class="keyword">goto</span> do_action;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> ( ! (yy_did_buffer_switch_on_eof) )</span><br><span class="line">YY_NEW_FILE;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> EOB_ACT_CONTINUE_SCAN:</span><br><span class="line">(yy_c_buf_p) =</span><br><span class="line">(yytext_ptr) + yy_amount_of_matched_text;</span><br><span class="line"></span><br><span class="line">yy_current_state = yy_get_previous_state(  );</span><br><span class="line"></span><br><span class="line">yy_cp = (yy_c_buf_p);</span><br><span class="line">yy_bp = (yytext_ptr) + YY_MORE_ADJ;</span><br><span class="line"><span class="keyword">goto</span> yy_match;</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> EOB_ACT_LAST_MATCH:</span><br><span class="line">(yy_c_buf_p) =</span><br><span class="line">&amp;YY_CURRENT_BUFFER_LVALUE-&gt;yy_ch_buf[(yy_n_chars)];</span><br><span class="line"></span><br><span class="line">yy_current_state = yy_get_previous_state(  );</span><br><span class="line"></span><br><span class="line">yy_cp = (yy_c_buf_p);</span><br><span class="line">yy_bp = (yytext_ptr) + YY_MORE_ADJ;</span><br><span class="line"><span class="keyword">goto</span> yy_find_action;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">YY_FATAL_ERROR(</span><br><span class="line"><span class="string">&quot;fatal flex scanner internal error--no action found&quot;</span> );</span><br><span class="line">&#125; <span class="comment">/* end of action switch */</span></span><br><span class="line">&#125; <span class="comment">/* end of scanning one token */</span></span><br><span class="line">&#125; <span class="comment">/* end of user&#x27;s declarations */</span></span><br><span class="line">&#125; <span class="comment">/* end of yylex */</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯yylexå‡½æ•°.</p><h3 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h3><p>yyparseè°ƒç”¨yylex,è°ƒç”¨yylexæ—¶å¾—åˆ°ä¸€ä¸ªäºŒå…ƒå¼,&lt;è®°å· å±æ€§å€¼&gt;</p><p>è®°å·é€šè¿‡returnä¼šé€ç»™yyparse(),è®°å·å¿…é¡»åœ¨yaccä¸­%tokenå£°æ˜.å±æ€§å€¼é€šè¿‡å…¨å±€å˜é‡yylvalä¼šé€ç»™yyparse</p><h2 id="å‚è€ƒä¹¦ç±6"><a href="#å‚è€ƒä¹¦ç±6" class="headerlink" title="å‚è€ƒä¹¦ç±6"></a>å‚è€ƒä¹¦ç±6</h2><p>flexå’Œbison</p><p>ç¼–è¯‘ä¸åç¼–è¯‘å®æˆ˜</p>]]></content>
      
      
      
        <tags>
            
            <tag> flex </tag>
            
            <tag> lex </tag>
            
            <tag> yacc </tag>
            
            <tag> bison </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯†ç ç ´è§£å­¦ä¹ </title>
      <link href="2022/04/11/%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/04/11/%E5%AF%86%E7%A0%81%E7%A0%B4%E8%A7%A3%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>åˆ©ç”¨pythonå­¦ä¹ å¯†ç </p>]]></content>
      
      
      
        <tags>
            
            <tag> crypto </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>djangoå­¦ä¹ </title>
      <link href="2022/04/07/django%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/04/07/django%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è¯´åˆ°webåç«¯æ¡†æ¶,å…¶ä¸»è¦æ˜¯ç”¨äºæä¾›curdå’Œrestapi.æœ‰Javaçš„Springç³»åˆ—,è¿˜æœ‰ç°åœ¨æ¯”è¾ƒç«çš„Go,jsä¹Ÿæœ‰ä¸€äº›ç”¨äºwebçš„åº“.è€Œpythonæœ‰flask,djangoå’Œfastapi(é‡ç‚¹æ˜¯æä¾›api).</p><span id="more"></span><h2 id="ä¸€ç‚¹å†å²"><a href="#ä¸€ç‚¹å†å²" class="headerlink" title="ä¸€ç‚¹å†å²"></a>ä¸€ç‚¹å†å²</h2><p><a href="https://www.djangoproject.com/">å®˜ç½‘</a></p><p>Django æœ€åˆè¢«è®¾è®¡ç”¨äºå…·æœ‰å¿«é€Ÿå¼€å‘éœ€æ±‚çš„æ–°é—»ç±»ç«™ç‚¹ï¼Œç›®çš„æ˜¯è¦å®ç°ç®€å•å¿«æ·çš„ç½‘ç«™å¼€å‘</p><blockquote><p>ä»¥ä¸‹æ˜¯å®‰è£… Django çš„æ¨èæ–¹å¼ã€‚</p><ol><li>å®‰è£… <a href="https://pip.pypa.io/">pip</a>ã€‚æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ <a href="https://pip.pypa.io/en/latest/installation/">ç‹¬ç«‹ pip å®‰è£…å™¨</a>ã€‚è‹¥ä½ çš„ç³»ç»Ÿæ—©å·²å®‰è£… <code>pip</code>ï¼Œä½ å¯èƒ½éœ€è¦æ›´æ–°å®ƒï¼Œå› ä¸ºå®ƒå¯èƒ½è¿‡æœŸäº†ã€‚å¦‚æœå®ƒè¿‡æœŸäº†ï¼Œä½ ä¼šçŸ¥é“çš„ï¼Œå› ä¸ºè¿‡æœŸçš„ç”¨ä¸äº†ã€‚</li><li>çœ‹ä¸€ä¸‹ <a href="https://docs.python.org/3/tutorial/venv.html">venv</a>ã€‚è¿™ä¸ªå·¥å…·æä¾›äº†éš”ç¦»çš„Pythonç¯å¢ƒï¼Œæ¯”åœ¨ç³»ç»Ÿå†…å®‰è£…åŒ…æ›´å®ç”¨ã€‚å®ƒè¿˜å…è®¸åœ¨æ²¡æœ‰ç®¡ç†å‘˜æƒé™çš„æƒ…å†µä¸‹å®‰è£…åŒ…ã€‚<a href="https://docs.djangoproject.com/zh-hans/4.0/intro/contributing/">è´¡çŒ®æŒ‡å—</a> ä»‹ç»äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒã€‚</li></ol></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install Django</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿˜è¦å®‰è£…æ•°æ®åº“å’Œpythonå…³äºæ§åˆ¶æ•°æ®åº“çš„åº“.</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">django-admin startproject myProject</span><br><span class="line">ll</span><br><span class="line">tree myProject</span><br></pre></td></tr></table></figure><p><img data-src="https://s2.loli.net/2022/04/07/O4GWP79FYylhKBQ.png" alt="é¡¹ç›®ç»“æ„" style="zoom:67%;" /></p><p>å¯ä»¥çœ‹åˆ°Djangoé¡¹ç›®è¿˜æ˜¯å¾ˆç®€ç»ƒçš„,æˆ‘ä¸ªäººè®¤ä¸ºPythonçš„å¾ˆå¤šä¸œè¥¿è®¾è®¡éƒ½å¾ˆä¸é”™,è™½ç„¶æˆ‘å¯¹è¿™é—¨è¯­è¨€æœ‰ç‚¹åè§.</p><p><code>manage.py</code> é¡¹ç›®çš„å…¥å£æ–‡ä»¶</p><p><code>myProject</code> ä¸»ç›®å½•ä¸‹çš„åŒåå­ç›®å½•ï¼Œä¸ºé¡¹ç›®çš„æ ¸å¿ƒç›®å½•ï¼Œå®ƒé‡Œé¢åŒ…å«é…ç½®æ–‡ä»¶å’Œç®¡ç†åº”ç”¨çš„æ–‡ä»¶ã€‚</p><p><code>myProject/__init__.py</code> æ¯ä¸ªå­ç›®å½•éƒ½ä¼šåŒ…å«è¿™æ ·ä¸€ä¸ª <code>__init__.py</code> æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œåœ¨éœ€è¦çš„æ—¶å€™ä¼šå¼•å…¥ç›®å½•ä¸‹çš„å¯¹è±¡ã€‚</p><p><code>myProject/settings.py</code> é…ç½®æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«å¯¹æ•°æ®åº“çš„è®¾ç½®é¡¹ã€CSRF Token çš„è®¾ç½®é¡¹ã€æ¨¡æ¿çš„è®¾ç½®é¡¹ç­‰å…¨éƒ¨è®¾ç½®ã€‚</p><p><code>myProject/urls.py</code> è·¯ç”±æ§åˆ¶æ–‡ä»¶ï¼Œå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œåˆ†å‘åˆ°å¯¹åº”çš„è§†å›¾å‡½æ•°å»å¤„ç†</p><p><code>myProject/wsgi.py</code> å¤„ç†è¯·æ±‚å’Œå“åº”.</p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>æ¥ä¸‹æ¥ç›´æ¥å¼€å§‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> myProject</span><br><span class="line">python3 manage.py startapp myApp</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªåä¸º myApp çš„åº”ç”¨ï¼Œæ³¨æ„å®éªŒç¯å¢ƒé‡Œä¸å¯ä»¥åˆ›å»ºåä¸º test çš„åº”ç”¨ï¼ŒæŸäº›æƒ…å†µä¸‹å®ƒä¸ Python æ¨¡å—å†²çª</p><p>åœ¨é¡¹ç›®çš„ä¸»ç›®å½•ä¸‹å‡ºç°äº†åä¸º myApp çš„ç›®å½•ï¼Œè¿™å°±æ˜¯åº”ç”¨ç›®å½•ã€‚</p><ul><li><code>myApp/admin.py</code> ç”¨äºæ§åˆ¶åå°ç®¡ç†çš„æ–‡ä»¶ã€‚</li><li><code>myApp/apps.py</code> ç”¨äºç®¡ç†åº”ç”¨æœ¬èº«çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬åº”ç”¨çš„åå­—å¦‚ä½•å‘½åï¼Œé»˜è®¤å°±æ˜¯ myApp ã€‚</li><li><code>myApp/__init__.py</code> ç©ºæ–‡ä»¶ã€‚</li><li><code>myApp/migrations</code> è¿™æ˜¯ç”¨äºè®°å½•æ•°æ®åº“å˜æ›´ä¿¡æ¯çš„ç›®å½•ï¼ŒDjango ä¸­è‡ªå¸¦çš„æ•°æ®åº“ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½å°±ä½“ç°åœ¨è¿™ä¸ªç›®å½•ï¼Œåœ¨å­¦ä¹ æ•°æ®å­˜å‚¨æ—¶ä¼šè¯¦ç»†ä»‹ç»ã€‚</li><li><code>myApp/models.py</code> åˆ›å»ºæ˜ å°„ç±»çš„æ–‡ä»¶ã€‚</li><li><code>myApp/tests.py</code> ç¼–å†™æµ‹è¯•ä»£ç çš„æ–‡ä»¶ã€‚</li><li><code>myApp/views.py</code> åˆ›å»ºè§†å›¾å‡½æ•°çš„æ–‡ä»¶ï¼Œè§†å›¾å‡½æ•°ç”¨äºå¤„ç†å®¢æˆ·ç«¯å‘æ¥çš„è¯·æ±‚ã€‚</li></ul><p><strong>é…ç½®åº”ç”¨</strong></p><p>åœ¨é¡¹ç›®çš„setting.pyä¸‹å¢åŠ myApp</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class="line">    <span class="string">&quot;myApp&quot;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 manage.py runserver</span><br></pre></td></tr></table></figure><p>å¼€å¯æœåŠ¡.é»˜è®¤8000ç«¯å£ æ›´æ”¹ç«¯å£åé¢ç›´æ¥åŠ ç«¯å£å·.</p><h2 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># myApp/views.py</span></span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>(<span class="params">request</span>):</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;Hello, world!&quot;</span>)</span><br></pre></td></tr></table></figure><p>æ˜ å°„åˆ°url</p><blockquote><p>Examples:<br>Function views</p><ol><li><p>Add an import:  from my_app import views</p></li><li><p>Add a URL to urlpatterns:  path(â€˜â€™, views.home, name=â€™homeâ€™)</p><p>   Class-based views</p><p>   1.Add an import:  from other_app.views import Home</p><p>   2.Add a URL to urlpatterns:  path(â€˜â€™, Home.as_view(), name=â€™homeâ€™)<br>   Including another URLconf</p><p>   1.Import the include() function: from django.urls import include, path</p><p>   2.Add a URL to urlpatterns:  path(â€˜blog/â€˜, include(â€˜blog.urlsâ€™))</p></li></ol></blockquote><p>pathå‡½æ•°</p><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>æ„ä¹‰</th><th>æ˜¯å¦å¿…é¡»</th></tr></thead><tbody><tr><td>route</td><td>route æ˜¯ä¸€ä¸ªåŒ¹é… URL çš„å‡†åˆ™ï¼ˆç±»ä¼¼æ­£åˆ™è¡¨è¾¾å¼ï¼‰ã€‚å½“ Django å“åº”ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œå®ƒä¼šä» urlpatterns çš„ç¬¬ä¸€é¡¹å¼€å§‹ï¼ŒæŒ‰é¡ºåºä¾æ¬¡åŒ¹é…åˆ—è¡¨ä¸­çš„é¡¹ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…çš„é¡¹ã€‚</td><td>å¿…é¡»</td></tr><tr><td>view</td><td>å½“ Django æ‰¾åˆ°äº†ä¸€ä¸ªåŒ¹é…çš„å‡†åˆ™ï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªç‰¹å®šçš„è§†å›¾å‡½æ•°ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ª HttpRequest å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè¢«â€œæ•è·â€çš„å‚æ•°ä»¥å…³é”®å­—å‚æ•°çš„å½¢å¼ä¼ å…¥ã€‚</td><td>å¿…é¡»</td></tr><tr><td>kwargs</td><td>ä»»æ„ä¸ªå…³é”®å­—å‚æ•°å¯ä»¥ä½œä¸ºä¸€ä¸ªå­—å…¸ä¼ é€’ç»™ç›®æ ‡è§†å›¾å‡½æ•°ã€‚</td><td>å¯é€‰</td></tr><tr><td>name</td><td>ä¸ºä½ çš„ URL å–åèƒ½ä½¿ä½ åœ¨ Django çš„ä»»æ„åœ°æ–¹å”¯ä¸€åœ°å¼•ç”¨å®ƒï¼Œå°¤å…¶æ˜¯åœ¨æ¨¡æ¿ä¸­ã€‚è¿™ä¸ªæœ‰ç”¨çš„ç‰¹æ€§å…è®¸ä½ åªæ”¹ä¸€ä¸ªæ–‡ä»¶å°±èƒ½å…¨å±€åœ°ä¿®æ”¹æŸä¸ª URL æ¨¡å¼ã€‚</td><td>å¯é€‰</td></tr></tbody></table></div><h2 id="æ¨¡å‹"><a href="#æ¨¡å‹" class="headerlink" title="æ¨¡å‹"></a>æ¨¡å‹</h2><p>åœ¨åˆ›å»ºçš„åº”ç”¨ç¨‹åºä¸­æœ‰model</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># myApp/models.py</span></span><br><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Book</span>(<span class="params">models.Model</span>):</span></span><br><span class="line">    name = models.CharField(max_length=<span class="number">200</span>)</span><br><span class="line">    author = models.CharField(max_length=<span class="number">100</span>)</span><br><span class="line">    pub_house = models.CharField(max_length=<span class="number">200</span>)</span><br><span class="line">    pub_date = models.DateTimeField(<span class="string">&#x27;date published&#x27;</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘è§‰å¾—è¿™é‡Œè·ŸJava Beanæœ‰ç‚¹åƒ.æ¨¡å‹æ˜¯ <code>django.db.models.Model</code> ç±»çš„å­ç±»ã€‚æ¯ä¸ªæ¨¡å‹æœ‰ä¸€äº›ç±»å˜é‡ï¼Œå®ƒä»¬éƒ½è¡¨ç¤ºæ¨¡å‹é‡Œçš„ä¸€ä¸ªæ•°æ®åº“å­—æ®µã€‚</p><p>æ¯ä¸ªå­—æ®µéƒ½æ˜¯ <code>Field</code> ç±»çš„å®ä¾‹ã€‚æ¯”å¦‚å­—ç¬¦å­—æ®µæ˜¯ <code>CharField</code>ï¼Œæ—¥æœŸå­—æ®µè¢«è¡¨ç¤ºä¸º <code>DateTImeField</code>ã€‚è¿™å°†å‘Šè¯‰ Django æ¯ä¸ªå­—æ®µè¦å¤„ç†çš„æ•°æ®ç±»å‹ã€‚</p><p>å®šä¹‰æŸäº› <code>Field</code> ç±»å®ä¾‹éœ€è¦å‚æ•°ã€‚å¦‚ä¸Šé¢çš„ <code>max_length=100</code> ä¸­çš„ <code>max_length</code>ã€‚è¿™ä¸ªå‚æ•°çš„ç”¨å¤„ä¸æ­¢äºç”¨æ¥å®šä¹‰æ•°æ®ç»“æ„ï¼Œä¹Ÿç”¨äºéªŒè¯æ•°æ®ã€‚</p><p>åœ¨settingä¸­ä¿®æ”¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># myProject/settings.py</span></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">&#x27;django.contrib.admin&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.auth&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.contenttypes&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.sessions&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.messages&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;django.contrib.staticfiles&#x27;</span>,</span><br><span class="line">    <span class="comment"># &#x27;myApp&#x27;, è¿™ä¸€æ³¨é‡Šæ‰ï¼Œä¸æ³¨é‡Šæ‰ä¼šå› é‡å¤è€ŒæŠ¥é”™</span></span><br><span class="line">    <span class="string">&#x27;myApp.apps.MyappConfig&#x27;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ç„¶åè¿›è¡Œè¿ç§»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations myApp</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±åˆ›å»ºäº†æ¨¡å‹</p><p><img data-src="https://s2.loli.net/2022/04/08/Rl4HF5k9iVYeUIL.png" alt="Bookæ¨¡å‹"></p><p><img data-src="https://s2.loli.net/2022/04/08/jfT1dzUhuAc8RgH.png" alt="äº§ç”Ÿçš„æ–‡ä»¶"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Migration</span>(<span class="params">migrations.Migration</span>):</span></span><br><span class="line"></span><br><span class="line">    initial = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    dependencies = [</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    operations = [</span><br><span class="line">        migrations.CreateModel(</span><br><span class="line">            name=<span class="string">&#x27;Book&#x27;</span>,</span><br><span class="line">            fields=[</span><br><span class="line">                (<span class="string">&#x27;id&#x27;</span>, models.AutoField(auto_created=<span class="literal">True</span>, primary_key=<span class="literal">True</span>, serialize=<span class="literal">False</span>, verbose_name=<span class="string">&#x27;ID&#x27;</span>)),</span><br><span class="line">                (<span class="string">&#x27;name&#x27;</span>, models.CharField(max_length=<span class="number">200</span>)),</span><br><span class="line">                (<span class="string">&#x27;author&#x27;</span>, models.CharField(max_length=<span class="number">100</span>)),</span><br><span class="line">                (<span class="string">&#x27;pub_house&#x27;</span>, models.CharField(max_length=<span class="number">200</span>)),</span><br><span class="line">                (<span class="string">&#x27;pub_date&#x27;</span>, models.DateTimeField(verbose_name=<span class="string">&#x27;date published&#x27;</span>)),</span><br><span class="line">            ],</span><br><span class="line">        ),</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿è¡Œ <code>makemigrations</code> å‘½ä»¤ï¼ŒDjango ä¼šæ£€æµ‹ä½ å¯¹æ¨¡å‹æ–‡ä»¶çš„ä¿®æ”¹ï¼Œå¹¶ä¸”æŠŠä¿®æ”¹çš„éƒ¨åˆ†å‚¨å­˜ä¸ºä¸€æ¬¡è¿ç§».</p><p>é€šè¿‡å‘½ä»¤æŸ¥çœ‹åˆ›å»ºæ•°æ®åº“çš„å‘½ä»¤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 manage.py sqlmigrate myApp 0001</span><br></pre></td></tr></table></figure><h2 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h2><p>é»˜è®¤çš„è®¾ç½®æ–‡ä»¶è®¾ç½®äº† <code>DjangoTemplates</code> åç«¯ï¼Œå¹¶è®¾ç½® <code>APP_DIRS = True</code>ã€‚è¿™ä¸€é€‰é¡¹å°†ä¼šè®© <code>DjangoTemplates</code> åœ¨æ¯ä¸ª <code>INSTALLED_APPS</code> æ–‡ä»¶å¤¹ä¸­å¯»æ‰¾ templates å­ç›®å½•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATES = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;BACKEND&#x27;</span>: <span class="string">&#x27;django.template.backends.django.DjangoTemplates&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;DIRS&#x27;</span>: [],</span><br><span class="line">        <span class="string">&#x27;APP_DIRS&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">&#x27;OPTIONS&#x27;</span>: &#123;</span><br><span class="line">            <span class="string">&#x27;context_processors&#x27;</span>: [</span><br><span class="line">                <span class="string">&#x27;django.template.context_processors.debug&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;django.template.context_processors.request&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;django.contrib.auth.context_processors.auth&#x27;</span>,</span><br><span class="line">                <span class="string">&#x27;django.contrib.messages.context_processors.messages&#x27;</span>,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨views.pyä¸­æ·»åŠ è§†å›¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"><span class="keyword">from</span> myApp.models <span class="keyword">import</span> Book</span><br><span class="line"><span class="comment"># Create your views here.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span>(<span class="params">requst</span>):</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">detail</span>(<span class="params">request</span>):</span></span><br><span class="line">    book_list = Book.objects.order_by(<span class="string">&#x27;pub_date&#x27;</span>)[:<span class="number">5</span>]</span><br><span class="line">    context = &#123;<span class="string">&#x27;book_list&#x27;</span>:book_list&#125;</span><br><span class="line">    <span class="keyword">return</span> render(request,<span class="string">&quot;myApp/detail.html&quot;</span>,context)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å†è¿›è¡Œè§†å›¾ç»‘å®š</p><h2 id="ä½¿ç”¨MTVæ¨¡å¼å®ç°æ•°æ®åº“å¢åˆ æ”¹"><a href="#ä½¿ç”¨MTVæ¨¡å¼å®ç°æ•°æ®åº“å¢åˆ æ”¹" class="headerlink" title="ä½¿ç”¨MTVæ¨¡å¼å®ç°æ•°æ®åº“å¢åˆ æ”¹"></a>ä½¿ç”¨MTVæ¨¡å¼å®ç°æ•°æ®åº“å¢åˆ æ”¹</h2><p>é¦–å…ˆè®¾è®¡ç•Œé¢.</p><p> <code>myApp/templates/myApp/detail.html</code> é‡Œï¼Œæ·»åŠ ä¸€ä¸ªè¡¨å•ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">name</span>=<span class="string">&quot;addBook&quot;</span>&gt;</span></span><br><span class="line">  &#123;% csrf_token %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>ä¹¦åï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>ä½œè€…ï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;author&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>å‡ºç‰ˆç¤¾ï¼š<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;pub_house&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ·»åŠ &quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ä¸Šé¢çš„æ¨¡æ¿æ˜¯è¾“å…¥ç›¸åº”çš„ä¹¦åã€ä½œè€…å’Œå‡ºç‰ˆç¤¾åï¼Œç‚¹å‡»æ·»åŠ ï¼Œå°†æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“å¹¶åˆ·æ–°é¡µé¢æ˜¾ç¤ºå‡ºæ¥ã€‚</li><li>æˆ‘ä»¬è®¾ç½®è¡¨å•çš„ <code>action=&quot;/addBook/&quot;</code>ï¼Œå¹¶è®¾ç½® <code>method=&quot;post&quot;</code>ã€‚ä½¿ç”¨ <code>method=&quot;post&quot;</code>ï¼ˆä¸å…¶ç›¸å¯¹çš„æ˜¯ <code>method=&quot;get&quot;</code>ï¼‰æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºè¿™ä¸ªæäº¤è¡¨å•çš„è¡Œä¸ºä¼šæ”¹å˜æœåŠ¡å™¨ç«¯çš„æ•°æ®,æ— è®ºä½•æ—¶ï¼Œå½“ä½ éœ€è¦åˆ›å»ºä¸€ä¸ªæ”¹å˜æœåŠ¡å™¨ç«¯æ•°æ®çš„è¡¨å•æ—¶ï¼Œè¯·ä½¿ç”¨ <code>method=&quot;post&quot;</code>ã€‚è¿™ä¸æ˜¯ Django çš„ç‰¹å®šæŠ€å·§ï¼Œè¿™æ˜¯ä¼˜ç§€çš„ç½‘ç«™å¼€å‘æŠ€å·§ã€‚</li><li>ç”±äºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª POST è¡¨å•ï¼ˆå®ƒå…·æœ‰ä¿®æ”¹æ•°æ®çš„ä½œç”¨ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å°å¿ƒè·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ã€‚ ä½†ä½ ä¸å¿…å¤ªè¿‡æ‹…å¿ƒï¼Œå› ä¸º Django å·²ç»æ‹¥æœ‰ä¸€ä¸ªç”¨æ¥é˜²å¾¡å®ƒçš„éå¸¸å®¹æ˜“ä½¿ç”¨çš„ç³»ç»Ÿã€‚ ç®€è€Œè¨€ä¹‹ï¼Œæ‰€æœ‰é’ˆå¯¹å†…éƒ¨ URL çš„ POST è¡¨å•éƒ½åº”è¯¥ä½¿ç”¨ <code>&#123;% csrf_token %&#125;</code> æ¨¡æ¿æ ‡ç­¾</li></ul><p>åœ¨æ ¹ URLconf ä¸­æ·»åŠ å‘½åç©ºé—´ã€‚åœ¨ <code>myProject/urls.py</code> æ–‡ä»¶ä¸­ç¨ä½œä¿®æ”¹ï¼ŒåŠ ä¸Š <code>app_name</code> è®¾ç½®å‘½åç©ºé—´ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> myApp <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line">app_name = <span class="string">&#x27;myApp&#x27;</span> <span class="comment"># æ·»åŠ è¿™ä¸€è¡Œ</span></span><br><span class="line">urlpatterns = [</span><br><span class="line">    <span class="comment"># path(&#x27;admin/&#x27;, admin.site.urls),</span></span><br><span class="line">    path(<span class="string">&#x27;&#x27;</span>, views.detail, name=<span class="string">&#x27;detail&#x27;</span>),</span><br><span class="line">    path(<span class="string">&#x27;addBook/&#x27;</span>, views.addBook, name=<span class="string">&#x27;addBook&#x27;</span>),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>ç°åœ¨å›åˆ° <code>myApp/templates/myApp/detail.html</code> æ›´æ”¹ <code>action</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/addBook/&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">name</span>=<span class="string">&quot;addBook&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ›å»º <code>addBook</code> å‡½æ•°æ¥å®ç°æˆ‘ä»¬æ·»åŠ ä¹¦ç±çš„åŠŸèƒ½ã€‚</p><p>å°†ä¸‹é¢çš„ä»£ç æ·»åŠ åˆ° myApp/views.pyï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># myApp/views.py</span></span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponseRedirect</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> reverse</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">addBook</span>(<span class="params">request</span>):</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">        temp_name = request.POST[<span class="string">&#x27;name&#x27;</span>]</span><br><span class="line">        temp_author = request.POST[<span class="string">&#x27;author&#x27;</span>]</span><br><span class="line">        temp_pub_house = request.POST[<span class="string">&#x27;pub_house&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">from</span> django.utils <span class="keyword">import</span> timezone</span><br><span class="line">    temp_book = Book(name=temp_name, author=temp_author, pub_house=temp_pub_house, pub_date=timezone.now())</span><br><span class="line">    temp_book.save()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é‡å®šå‘</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponseRedirect(reverse(<span class="string">&#x27;detail&#x27;</span>))</span><br></pre></td></tr></table></figure><p>åœ¨ myProject/urls.py é‡Œæ·»åŠ  URL åœ°å€æ˜ å°„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># myProject/urls.py</span></span><br><span class="line">path(<span class="string">&#x27;addBook/&#x27;</span>, views.addBook, name=<span class="string">&#x27;addBook&#x27;</span>),</span><br></pre></td></tr></table></figure><p>ç®€å•è¯´æ˜ï¼š</p><ul><li><code>request.POST</code> æ˜¯ä¸€ä¸ªç±»å­—å…¸å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡å…³é”®å­—çš„åå­—è·å–æäº¤çš„æ•°æ®ã€‚ è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>request.POST[&#39;name&#39;]</code> ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›<code>name</code>çš„å€¼ã€‚<code>request.POST</code> çš„å€¼æ°¸è¿œæ˜¯å­—ç¬¦ä¸²ã€‚</li><li>åœ¨æ·»åŠ ä¹¦ç±ä¹‹åï¼Œä»£ç è¿”å›ä¸€ä¸ª <code>HttpResponseRedirect</code> è€Œä¸æ˜¯å¸¸ç”¨çš„ <code>HttpResponse</code>ï¼Œ<code>HttpResponseRedirect</code> åªæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼šç”¨æˆ·å°†è¦è¢«é‡å®šå‘çš„ URLã€‚</li><li>ä½ åº”è¯¥åœ¨æ¯æ¬¡å¤„ç† POST æ•°æ®æ—¶ï¼Œéƒ½è¿”å›<code>HttpResponseRedirect</code>ã€‚è¿™ä¹Ÿä¸æ˜¯ Django çš„ç‰¹å®šæŠ€å·§ï¼Œè¿™æ˜¯ä¼˜ç§€çš„ç½‘ç«™å¼€å‘çš„å®è·µã€‚</li><li>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨ <code>HttpResponseRedirect</code> çš„æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ <code>reverse()</code> å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°é¿å…äº†æˆ‘ä»¬åœ¨è§†å›¾å‡½æ•°ä¸­ç¡¬ç¼–ç  URLã€‚å®ƒéœ€è¦æˆ‘ä»¬ç»™å‡ºæƒ³è¦è·³è½¬çš„è§†å›¾çš„åå­—å’Œè¯¥è§†å›¾æ‰€å¯¹åº”çš„ URL æ¨¡å¼ä¸­éœ€è¦ç»™è¯¥è§†å›¾æä¾›çš„å‚æ•°ã€‚<code>reverse()</code> è°ƒç”¨åå°†è¿”å›è¿™æ ·ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š<code>/detail/</code>ã€‚</li></ul><p>åˆ é™¤ä¹¦ç±åŠŸèƒ½å®ç°èµ·æ¥ä¹Ÿå¾ˆç®€å•ã€‚</p><p>é¦–å…ˆï¼Œåœ¨ <code>myApp/detail.html</code> ä¸­è®¾è®¡æˆ‘ä»¬çš„æ¨¡æ¿ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% for book in book_list.all %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; book.name &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; book.author &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; book.pub_house &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>&#123;&#123; book.pub_date &#125;&#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&#123;% url &#x27;delBook&#x27; book.id %&#125;&quot;</span>&gt;</span>åˆ é™¤<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="comment">&lt;!--åªæ·»åŠ è¿™ä¸€è¡Œ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">&#123;% endfor %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œåªéœ€è¦åœ¨æ¯ä¸ªä¹¦ç±åé¢æ·»åŠ ä¸€ä¸ªåˆ é™¤çš„æŒ‰é’®ã€‚åˆ é™¤æ—¶ä¹Ÿä¼ é€’äº†éœ€è¦åˆ é™¤çš„å›¾ä¹¦çš„ <code>id</code>ã€‚</p><p>æ¥ç€ï¼Œé…ç½® urlï¼Œåªéœ€åœ¨ <code>myProject/urls.py</code> ä¸­æ·»åŠ è¿™ä¸€è¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># myProject/urls.py</span></span><br><span class="line">path(<span class="string">&#x27;delBook/&lt;int:book_id&gt;&#x27;</span>, views.deleteBook, name=<span class="string">&#x27;delBook&#x27;</span>),</span><br></pre></td></tr></table></figure><p>è¿™é‡Œ <code>&lt;int:book_id&gt;</code> æ˜¯æ¥æ”¶ä¼ é€’çš„å‚æ•° <code>book_id</code>ã€‚</p><p>æœ€åè®¾è®¡è§†å›¾å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># myApp/views.py</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deleteBook</span>(<span class="params">request, book_id</span>):</span></span><br><span class="line">    bookID = book_id</span><br><span class="line">    Book.objects.<span class="built_in">filter</span>(<span class="built_in">id</span>=bookID).delete()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é‡å®šå‘</span></span><br><span class="line">    <span class="keyword">return</span> HttpResponseRedirect(reverse(<span class="string">&#x27;detail&#x27;</span>))</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè§†å›¾ä¸­ï¼Œè·å–åˆ° book çš„ idï¼Œæ ¹æ® id æ¥åˆ é™¤æŒ‡å®šä¹¦ç±ã€‚æœ€åè·Ÿä¸Šé¢çš„æ·»åŠ ä¹¦ç±å‡½æ•°ç›¸åŒï¼Œä½¿ç”¨é‡å®šä½åˆ·æ–°é¡µé¢ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://docs.djangoproject.com/zh-hans/4.0">å®˜ç½‘</a>è¿™ä¸ªæ˜¯ä¸­æ–‡ç‰ˆçš„,å¾ˆè¯¦ç»†.</p><p>è“æ¡¥äº‘åœ¨çº¿å¹³å°.</p>]]></content>
      
      
      <categories>
          
          <category> django </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> web </tag>
            
            <tag> django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>graphvizå­¦ä¹ </title>
      <link href="2022/04/01/graphviz%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/04/01/graphviz%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è¿™æ˜¯ä¸€ä¸ªå¥½ç”¨çš„å·¥å…·,è·ŸUMLä¸€æ ·èƒ½èµ·åˆ°å¾ˆå¥½çš„ä½œç”¨.<br><span id="more"></span></p><p>å®˜æ–¹ç½‘ç«™<a href="https://graphviz.org/">Graphviz</a></p><p>å…¶å®˜ç½‘åœ¨ä»‹ç»Dot languageæ—¶ä¹Ÿç”¨äº†æ–‡æ³•æ¨å¯¼.</p><h2 id="Layout-Engines"><a href="#Layout-Engines" class="headerlink" title="Layout Engines"></a>Layout Engines</h2><p>ä½¿ç”¨è¿™äº›å¼•æ“å¯ä»¥å¾—åˆ°ä¸åŒçš„å›¾</p><h3 id="dot"><a href="#dot" class="headerlink" title="dot"></a>dot</h3><blockquote><p>Makes â€œhierarchicalâ€ or layered drawings of directed graphs.</p><p><code>dot</code> is the default tool to use if edges have directionality.</p></blockquote><p>dotæ˜¯ä½¿ç”¨æœ‰å‘å›¾çš„é»˜è®¤å·¥å…·.</p><blockquote><p>The layout algorithm aims edges in the same direction (top to bottom, or left to right) and then attempts to avoid edge crossings and reduce edge length.</p></blockquote><p>ä½¿ç®­å¤´å°½é‡ä»ä¸Šåˆ°ä¸‹,ä»å·¦åˆ°å³.å…¶è¾“å‡ºæ ¼å¼åŒ…æ‹¬PostScriptï¼ŒPDFï¼ŒSVGï¼ŒPNGï¼Œå«æ³¨è§£çš„æ–‡æœ¬ç­‰ç­‰ã€‚</p><h3 id="neato"><a href="#neato" class="headerlink" title="neato"></a>neato</h3><blockquote><p><code>neato</code> is the default tool to use if the graph is not too large (about 100 nodes) and you donâ€™t know anything else about it.</p><p><code>neato</code> attempts to minimize a global energy function, which is equivalent to statistical multi-dimensional scaling.</p></blockquote><p>æ”¾å°„çŠ¶,èŠ‚ç‚¹ä¸èƒ½è¿‡å¤š.</p><h3 id="twopi"><a href="#twopi" class="headerlink" title="twopi"></a>twopi</h3><blockquote><p>Nodes are placed on concentric circles depending their distance from a given root node.</p></blockquote><p>åŒå¿ƒåœ†</p><h3 id="circo"><a href="#circo" class="headerlink" title="circo"></a>circo</h3><blockquote><p>This is suitable for certain diagrams of multiple cyclic structures, such as certain telecommunications networks</p></blockquote><p>åœ†å½¢å›¾å½¢</p><h3 id="fdp"><a href="#fdp" class="headerlink" title="fdp"></a>fdp</h3><blockquote><p>â€œspring modelâ€ layouts similar to those of <a href="https://graphviz.org/docs/layouts/neato/">neato</a>, but does this by reducing forces rather than working with energy.</p><p><code>fdp</code> implements the Fruchterman-Reingold heuristic including a multigrid solver that handles larger graphs and clustered undirected graphs.</p></blockquote><p>ç”¨äºç”Ÿæˆæ— å‘å›¾çš„å·¥å…·</p><p>æ­¤å¤–è¿˜æœ‰osage,patchworkå’Œsfdp</p><blockquote><p><code>osage</code> draws clustered graphs</p><p><code>patchwork</code> draws clustered graphs using a squarified treemap layout</p><p>Multiscale version of <code>fdp</code> for the layout of large graphs.</p></blockquote><p>å¯ä»¥è¾“å‡ºçš„ç±»å‹ä¹Ÿéå¸¸å¤š,é™¤äº†å¸¸è§çš„å›¾ç‰‡ç±»å‹png,jpg,ico,webpè¿˜æœ‰svg,ps(postscript)/pdf</p><h2 id="Dotè¯­è¨€"><a href="#Dotè¯­è¨€" class="headerlink" title="Dotè¯­è¨€"></a>Dotè¯­è¨€</h2><p>æè¿°å›¾çš„ç”Ÿæˆ.</p><p>å¦å¤–è¿˜æœ‰èŠ‚ç‚¹é¢œè‰²å½¢çŠ¶,è¾¹çš„é¢œè‰²ç®­å¤´æ ·å¼, å›¾çš„é¢œè‰²ç­‰è®¾ç½®,è¿™äº›ç›´æ¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£å³å¯.</p><p>å¯ä»¥ç›´æ¥å†™ä¸€ä¸ªdotæ–‡ä»¶ç„¶åå‘½ä»¤è¡Œè¾“å‡ºå¾—åˆ°å›¾,ä¹Ÿå¯ä»¥é…åˆä¸€äº›ç¼–è¾‘å™¨,ä¾‹å¦‚vscode,ä¸‹è½½æ’ä»¶plantUMLæˆ–è€…ç›´æ¥Graphvizå°±æœ‰æ‰©å±•.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402093358726.png" alt="ç¤ºä¾‹" style="zoom:50%;" /></p><p>æˆ‘åŸºæœ¬ä¸Šå°±åœ¨vscodeä¸Šç»ƒäº†.</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">digraph demo &#123;</span><br><span class="line">   label = &quot;ç¤ºä¾‹&quot;</span><br><span class="line">   bgcolor = &quot;beige&quot;</span><br><span class="line">   node[color = &quot;grey&quot;]</span><br><span class="line">    father[label = &quot;çˆ¸çˆ¸&quot;,shape = &quot;box&quot;]</span><br><span class="line">    node[color=&quot;<span class="params">#</span>FF6347&quot;]</span><br><span class="line">    strangers[label=&quot;è·¯äºº&quot;]</span><br><span class="line">    edge[color=&quot;yellow&quot;]</span><br><span class="line">    father-&gt;mother[dir=both,label=&quot;çˆ±äºº&quot;]</span><br><span class="line">    strangers-&gt;mother[label=&quot;??&quot;]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¯´ä¸€ä¸‹é—®é¢˜,vscodeæ’ä»¶å¯¼å‡ºå›¾ç‰‡åä¸­æ–‡å˜ä¹±ç äº†,é¢„è§ˆçš„æ—¶å€™å¥½å¥½çš„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/%E5%A5%87%E5%A6%99%E7%9A%84%E5%85%B3%E7%B3%BB.png" alt="å¥‡å¦™çš„å…³ç³»" style="zoom:67%;" /></p><p>ç„¶åæˆ‘å‘ç°è¿™ä¸åªæ˜¯æ’ä»¶çš„é—®é¢˜,äº‹å®ä¸Šåœ¨windowsä¸Šä½¿ç”¨graphvizä¸­æ–‡å°±æ˜¯ä¼šä¹±ç ,æ‰€ä»¥éœ€è¦é¢å¤–çš„è®¾ç½®(ä¸ç”¨ä¸­æ–‡ä¹Ÿä¸æ˜¯ä¸è¡Œ),åœ¨macä¸Šæˆ‘è®°å¾—æ˜¯ä¸ä¼šä¹±ç çš„.</p><p>å¯è¡Œçš„è§£å†³æ–¹æ³•æ˜¯æ‰‹åŠ¨æ·»åŠ å­—ä½“å±æ€§,è¦ç»™node,edgeå’Œgraphéƒ½æ·»åŠ ä¸Š</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> digraph demo &#123;</span><br><span class="line">   graph[label=&quot;å›¾&quot;,fontname=&quot;FangSong&quot;]</span><br><span class="line">   bgcolor = &quot;beige&quot;</span><br><span class="line">   node[color = &quot;grey&quot;,fontname=&quot;FangSong&quot;]</span><br><span class="line">    edge[color=&quot;yellow&quot;,fontname=&quot;FangSong&quot;]</span><br><span class="line">    father[label = &quot; çˆ¸çˆ¸ &quot;,shape = &quot;box&quot;]</span><br><span class="line">    strangers[label=&quot; è·¯äºº &quot;]</span><br><span class="line">    </span><br><span class="line">    father-&gt;mother[dir=both,label=&quot; çˆ±äºº &quot;]</span><br><span class="line">    strangers-&gt;mother[label=&quot;??&quot;]</span><br><span class="line">    me[shape=&quot;record&quot;,label=&quot; |ä½ å¥½| &quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ­£å¸¸äº†.åé¢å¦‚æœæœ‰è§£å†³æ–¹æ³•æˆ‘å†æ›´æ–°.</p><h3 id="é¢˜å¤–è¯"><a href="#é¢˜å¤–è¯" class="headerlink" title="é¢˜å¤–è¯"></a>é¢˜å¤–è¯</h3><p>è¿™é‡Œå†ä»‹ç»ä¸€ä¸‹å…¶ä»–çš„ä¸€å †ä¸œè¥¿.åŸå› æ˜¯æˆ‘å‘ç°æˆ‘è£…çš„graphvizæ˜¯msys2ä¸­çš„.</p><p>clangå’Œllvm,cygwin,msys2,minGW,msvc.</p><blockquote><p>åœ¨<strong>windowsä¸‹clangæŒ‡ä»¤åªæ˜¯è´Ÿè´£ç¼–è¯‘çš„å‰ç«¯å·¥ä½œï¼Œå³è¯†åˆ«ç¼–è¯‘æŒ‡ä»¤ï¼Œä¸æä¾›æŠ¥é”™æç¤º</strong>ã€‚å¹¶<strong>ä¸è´Ÿè´£å…·ä½“çš„ä»£ç ç¼–è¯‘å·¥ä½œ</strong>ï¼Œæ‰€ä»¥åœ¨windowsä¸‹å…‰å®‰è£…llvmæ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€<strong>è¦</strong>æœ‰å®é™…çš„ç¼–è¯‘é“¾æ¥åº“ï¼Œä¾‹å¦‚<strong>å®‰è£…MinGWæˆ–è€…MSVCæ¥è·å–éœ€è¦çš„è¿è¡Œåº“</strong></p></blockquote><p>å…¶å®clangçš„å«ä¹‰æœ‰ä¸€å®šçš„æ­§ä¹‰,ä¸€èˆ¬å¯ä»¥è®¤ä¸ºå…¶åŒ…å«llvmä½œä¸ºåç«¯,ä¸‹è½½æ—¶ç›´æ¥ä¸‹è½½llvmåŒ…å«clang,è‹¹æœä¸€èˆ¬æ˜¯è‡ªå¸¦clangçš„.ç‹­ä¹‰ç†è§£clangå°±æ˜¯å‰ç«¯è´Ÿè´£è¯æ³•è¯­æ³•å’Œè¯­ä¹‰ç”Ÿæˆä¸­é—´ä»£ç .</p><p><strong>Cygwinæ˜¯ä¸€ä¸ªå¯åŸç”Ÿè¿è¡ŒäºWindowsç³»ç»Ÿä¸Šçš„POSIXå…¼å®¹ç¯å¢ƒ</strong>ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬æˆ‘å¯ä»¥åœ¨windowsä¸Šä½¿ç”¨ç»å…¸çš„ä¸€äº›linuxä¸œè¥¿,æ¯”å¦‚GNUå¥—è£….</p><p>MinGWï¼Œ<em>Minimalist GNU for Windows</em>ï¼Œç”¨äºå¼€å‘åŸç”Ÿï¼ˆ32ä½ï¼‰ Windows åº”ç”¨çš„å¼€å‘ç¯å¢ƒã€‚å®ƒä¸»è¦æä¾›äº†é’ˆå¯¹ win32 åº”ç”¨çš„ GCCã€GNU binutils ç­‰å·¥å…·ï¼Œä»¥åŠå¯¹ç­‰äº Windows SDKï¼ˆçš„å­é›†ï¼‰çš„å¤´æ–‡ä»¶å’Œç”¨äº MinGW ç‰ˆæœ¬ linker çš„åº“æ–‡ä»¶ï¼ˆsoã€aç­‰ï¼Œè€Œä¸æ˜¯ VC çš„ libï¼‰ã€‚</p><p>MinGW èƒ½å¤Ÿæ›¿ä»£ cl ç”¨äºç¼–è¯‘ä¸åŒ…å« MFC çš„ã€ä»¥ WinSDK ä¸ºä¸»çš„ Windows åº”ç”¨ï¼Œå¹¶ä¸”ç¼–è¯‘å‡ºæ¥çš„åº”ç”¨ä¸ä¾èµ–äºç¬¬ä¸‰æ–¹çš„æ¨¡æ‹Ÿå±‚æ”¯æŒï¼Œå…¶è¿è¡Œæ—¶ä¸ºå¤§éƒ¨åˆ† Windows æ ‡é…çš„ msvcrtï¼ˆæ•…ç§°åŸç”Ÿ Windows åº”ç”¨ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒMinGW ä¹Ÿæ”¯æŒ GCC æ”¯æŒçš„å…¶ä»–è¯­è¨€ã€‚</p><p>è€Œmsys2æ˜¯msysçš„å‡çº§ç‰ˆ,msysæ˜¯MinGWçš„åˆ†æ”¯,ä½œç”¨ç±»ä¼¼.</p><p>åŒºåˆ«ï¼ˆå°ç»“ï¼‰ï¼šCygwinæ˜¯æ¨¡æ‹Ÿ POSIX ç³»ç»Ÿï¼Œæºç ç§»æ¤ Linux åº”ç”¨åˆ° Windows ä¸‹ï¼›MinGW æ˜¯ç”¨äºå¼€å‘ Windows åº”ç”¨çš„å¼€å‘ç¯å¢ƒ.</p><p>MSVCï¼Œå°±æ˜¯å¾®è½¯ï¼ˆMSï¼‰çš„VCè¿è¡Œåº“ã€‚VCè¿è¡Œåº“ï¼Œæ˜¯Visual C++çš„è¿è¡Œåº“ã€‚å¾ˆå¤šç¨‹åºåœ¨ç¼–åˆ¶çš„æ—¶å€™ï¼Œä½¿ç”¨äº†å¾®è½¯çš„è¿è¡Œåº“ï¼Œå¤§å¤§å‡å°‘äº†è½¯ä»¶çš„ç¼–ç é‡ï¼Œå´æé«˜äº†å…¼å®¹æ€§ã€‚ä½†è¿è¡Œçš„æ—¶å€™ï¼Œéœ€è¦è¿™äº›è¿è¡Œåº“ã€‚è¿™äº›è¿è¡Œåº“ç®€ç§°å°±æ˜¯MSVCã€‚</p><h2 id="ä¸€äº›é‡ç‚¹"><a href="#ä¸€äº›é‡ç‚¹" class="headerlink" title="ä¸€äº›é‡ç‚¹"></a>ä¸€äº›é‡ç‚¹</h2><p>äº‹å®ä¸Šè¿™äº›ä¸œè¥¿è¾ƒéš¾ä¹Ÿæ²¡æœ‰å¿…è¦å®Œå…¨è®°ä½,æŠŠå®˜æ–¹æ–‡æ¡£ä¿å­˜,æŒæ¡åŸºæœ¬è¦ç‚¹å°±è¡Œäº†.<br>æŒæ¡å››ä¸ªé‡ç‚¹,å›¾,å­å›¾,èŠ‚ç‚¹ä¸è¾¹.</p><h3 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h3><div class="table-container"><table><thead><tr><th>å±æ€§å</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>label</td><td></td><td>å›¾ç‰‡æ ‡ç­¾ï¼Œå¦‚ä¸Šé¢<code>ç¤ºä¾‹</code></td></tr><tr><td>bgcolor</td><td></td><td>èƒŒæ™¯é¢œè‰²ï¼Œé¢œè‰²æ–‡æ¡£<a href="http://www.graphviz.org/content/color-names">ç‚¹æ­¤</a></td></tr><tr><td>fontcolor</td><td>black</td><td>å­—ä½“é¢œè‰²ï¼Œå®šä¹‰ä¸Šé¢<code>ç¤ºä¾‹</code>çš„é¢œè‰²</td></tr><tr><td>fontname</td><td>Times-Roman</td><td>å­—ä½“</td></tr><tr><td>fontsize</td><td>14</td><td>å­—ä½“å¤§å°</td></tr><tr><td>rank</td><td></td><td>å­å›¾ç­‰çº§é™åˆ¶ï¼Œ same,min,max,source,sink</td></tr><tr><td>rankdir</td><td>TB</td><td>æ’åºæ–¹å‘ï¼ŒLR(left to right) or TB(top to bottom)</td></tr><tr><td>compound</td><td>false</td><td>If true, allow edges between clusters. é…åˆ lhead å’Œ ltail ä½¿ç”¨</td></tr></tbody></table></div><p>labelè®¾ç½®å›¾çš„æ ‡é¢˜.</p><p>graph[è®¾ç½®å…¨å±€å›¾å±æ€§] æ³¨æ„è¿™ç§è®¾ç½®ä¼šè¢«å±€éƒ¨çš„è¦†ç›–,å¯¹äºå›¾æ¥è¯´å€’ä¸æ˜¯å¾ˆè¦ç´§</p><p>å¦‚æœä¸­æ–‡å­—å›¾å‡ºç°ä¹±ç å¯ä»¥è®¾ç½®fontname.ä¸€èˆ¬rankdirå’Œcompoundç”¨çš„è¾ƒå¤š,å¯ä»¥è®¾ç½®æ’åºæ–¹å‘å’Œè¾¹çš„è¿æ¥.</p><p>æ³¨æ„,æœ‰å‘è¾¹åªèƒ½åœ¨æœ‰å‘å›¾ä¸­ä½¿ç”¨,æ— å‘è¾¹åªèƒ½åœ¨æ— å‘å›¾ä¸­ä½¿ç”¨</p><h3 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h3><div class="table-container"><table><thead><tr><th>å±æ€§å</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>label</td><td>node name</td><td>èŠ‚ç‚¹æ˜¾ç¤ºå†…å®¹</td></tr><tr><td>color</td><td>black</td><td>nodeè¾¹æ¡†é¢œè‰²</td></tr><tr><td>fontcolor</td><td>black</td><td>å­—ä½“é¢œè‰²</td></tr><tr><td>fillcolor</td><td></td><td>èƒŒæ™¯è‰²</td></tr><tr><td>fontname</td><td>Times-Roman</td><td>å­—ä½“</td></tr><tr><td>fontsize</td><td>14</td><td>å­—ä½“å¤§å°</td></tr><tr><td>shape</td><td>ellipse</td><td>å½¢çŠ¶,boxã€ellipseã€circleã€diamondã€plaintextã€pointã€triangleã€invtriangle</td></tr><tr><td>style</td><td></td><td>å›¾å½¢æ ·å¼ï¼Œeg. boldã€dashedã€dottedã€filled</td></tr><tr><td>image</td><td></td><td>èƒŒæ™¯å›¾ç‰‡åœ°å€</td></tr></tbody></table></div><p>styleè®¾ç½®èŠ‚ç‚¹æ ·å¼(ä¸»è¦é’ˆå¯¹èŠ‚ç‚¹çš„è¾¹æ¡†çš„æ ·å¼),shapeè®¾ç½®èŠ‚ç‚¹å½¢çŠ¶.colorè®¾ç½®è¾¹æ¡†é¢œè‰².</p><p>å°†èŠ‚ç‚¹shapeè®¾ç½®ä¸ºrecord,ç”¨ | éš”å¼€çš„ä¸²ä¼šåœ¨ç»˜åˆ¶å‡ºæ¥çš„èŠ‚ç‚¹ä¸­å±•ç°ä¸ºä¸€æ¡åˆ†éš”ç¬¦ï¼Œç”¨ &lt;&gt; æ‹¬èµ·æ¥çš„ä¸²ç§°ä¸ºé”šç‚¹</p><p>è®°å½•å½¢å¼çš„èŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯ç«–å½¢æ’åˆ—çš„ã€‚ä¸æ¨ªå‘æ’åˆ—çš„è®°å½•çš„ä¸åŒåªæ˜¯labelçš„å½¢å¼ä¸åŒï¼Œlabelä¸­å†…å®¹ä½¿ç”¨ {} åŒ…å›´åˆ™æ˜¯ç«–å½¢æ’åˆ—çš„</p><h3 id="Edge"><a href="#Edge" class="headerlink" title="Edge"></a>Edge</h3><div class="table-container"><table><thead><tr><th>å±æ€§å</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>label</td><td></td><td>æè¿°å…³ç³»</td></tr><tr><td>color</td><td>black</td><td>ç®­å¤´é¢œè‰²</td></tr><tr><td>fontcolor</td><td>black</td><td>å…³ç³»æ–‡å­—é¢œè‰²</td></tr><tr><td>dir</td><td>forward</td><td>è®¾ç½®æ–¹å‘ï¼šforward,back,both,none</td></tr><tr><td>arrowhead</td><td>normal</td><td>ç®­å¤´å¤´éƒ¨å½¢çŠ¶ã€‚boxã€crowã€diamondã€dotã€noneã€normalã€veeã€‚ç®­å¤´æ–‡æ¡£<a href="http://www.graphviz.org/content/arrow-shapes">ç‚¹æ­¤</a></td></tr><tr><td>arrowtail</td><td></td><td>ç®­å¤´å°¾éƒ¨å½¢çŠ¶</td></tr><tr><td>arrowsize</td><td>1.0</td><td>ç®­å¤´å¤§å°</td></tr><tr><td>style</td><td></td><td>å›¾å½¢æ ·å¼ï¼Œeg. boldã€dashedã€dottedã€filled</td></tr><tr><td>lhead</td><td></td><td>å½“ compound ä¸ºtrueæ—¶ï¼Œlheadç”¨äºæŒ‡å®šè¾¹æŒ‡å‘çš„cluster</td></tr><tr><td>ltail</td><td></td><td>ä¸ltailç±»ä¼¼</td></tr></tbody></table></div><p>è®¾ç½®è¾¹çš„å±æ€§,dirå¯ä»¥è®¾ç½®åŒå‘</p><h3 id="å­å›¾"><a href="#å­å›¾" class="headerlink" title="å­å›¾"></a>å­å›¾</h3><p>å¾ˆå¤šå±æ€§ä¸å›¾ç±»ä¼¼</p><p>å­å›¾åå­—è¦ä»¥clusterå¼€å¤´</p><p>è¾¹ç›´æ¥æŒ‡å‘clusterï¼Œéœ€è¦è®¾ç½® compound ä¸ºtrueï¼Œå¹¶é…åˆ lhead æˆ– ltail æ¥å®ç°.</p><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>å…¨å±€ç”Ÿå‘½çš„å±æ€§(ä¾‹å¦‚node[â€¦])åªå¯¹å£°æ˜è¯­å¥åæ‰åˆ›å»ºçš„ç»“æ„èµ·ä½œç”¨.</p><p>çœ‹ä¸€ä¸ªä¾‹å­.</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">digraph G &#123;    </span><br><span class="line">  start -&gt; a0;</span><br><span class="line">  start -&gt; b0;</span><br><span class="line">  a1 -&gt; b3;</span><br><span class="line">  node[color=&quot;yellow&quot;];</span><br><span class="line">  b2 -&gt; a3;</span><br><span class="line">  a3 -&gt; a0;</span><br><span class="line">  a3 -&gt; end;</span><br><span class="line">  b3 -&gt; end; </span><br><span class="line">  start [shape=diamond];</span><br><span class="line">  end [shape=Msquare];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402231223552.png" alt="image-20220402231223552"></p><p>å¯ä»¥çœ‹åˆ°b2,a3,endèŠ‚ç‚¹æ˜¯é»„è‰²,è€Œè¿™ä¸‰ä¸ªèŠ‚ç‚¹æ˜¯åœ¨å£°æ˜è¯­å¥åæ‰åˆ›å»ºçš„.</p><h2 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h2><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">digraph G &#123;</span><br><span class="line"></span><br><span class="line">  subgraph cluster<span class="built_in">_</span>0 &#123;</span><br><span class="line">    style=filled;</span><br><span class="line">    color=lightgrey;</span><br><span class="line">    node [style=filled,color=white];</span><br><span class="line">    a0 -&gt; a1 -&gt; a2 -&gt; a3;</span><br><span class="line">    label = &quot;process <span class="params">#1</span>&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  subgraph cluster<span class="built_in">_</span>1 &#123;</span><br><span class="line">    node [style=filled];</span><br><span class="line">    b0 -&gt; b1 -&gt; b2 -&gt; b3;</span><br><span class="line">    label = &quot;process <span class="params">#2</span>&quot;;</span><br><span class="line">    color=blue</span><br><span class="line">  &#125;</span><br><span class="line">  start -&gt; a0;</span><br><span class="line">  start -&gt; b0;</span><br><span class="line">  a1 -&gt; b3;</span><br><span class="line">  b2 -&gt; a3;</span><br><span class="line">  a3 -&gt; a0;</span><br><span class="line">  a3 -&gt; end;</span><br><span class="line">  b3 -&gt; end;</span><br><span class="line"></span><br><span class="line">  start [shape=diamond];</span><br><span class="line">  end [shape=Msquare];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¦–å…ˆdigraphè¡¨ç¤ºæœ‰å‘å›¾,éšåå£°æ˜ä¸¤ä¸ªå­å›¾,ç„¶ånodeç”Ÿå‘½å…¨å±€å±æ€§,ç„¶åèŠ‚ç‚¹è¿æ¥.</p><p>ç„¶ååœ¨å­å›¾ä¸­å£°æ˜èŠ‚ç‚¹å±æ€§å’Œå›¾çš„colorå±æ€§.</p><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><p><a href="https://www.cnblogs.com/shuqin/p/11897207.html">Graphviz ç”»å›¾çš„ä¸€äº›æ€»ç»“ - å°èƒ–è¥¿ç“œ - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://itopic.org/graphviz.html">ç®€ä»‹è€Œå…¨é¢çš„ä»‹ç»</a></p><p><a href="https://blog.csdn.net/myRealization/article/details/119459490">ã€VS Codeã€‘Windows10ä¸‹VS Codeé…ç½®Graphvizå’ŒDOTè¯­è¨€ç¯å¢ƒ_memcpy0çš„åšå®¢-CSDNåšå®¢</a>ä»‹ç»äº†vscodeä¸Šçš„å‡ æ¬¾æ’ä»¶,æˆ‘å»ºè®®ä¸‹è½½å¯ä»¥ç›´æ¥å¯¼å‡ºpdfçš„.</p><p><a href="https://www.cnblogs.com/tshua/p/5932501.html">Cygwinã€Msysã€MinGWã€Msys2çš„åŒºåˆ«ä¸è”ç³»(è½¬) - ç´«è‰²å¹´å - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¼–è¯‘åŸç† </tag>
            
            <tag> graphviz </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Keraså­¦ä¹ </title>
      <link href="2022/03/11/Keras%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/03/11/Keras%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å› å­¦ä¹ æ‰€éœ€,ä½¿ç”¨è¿™ç§ä¸œè¥¿ç ”ç©¶æœºå™¨å­¦ä¹ ,åŒ…æ‹¬ç¥ç»ç½‘ç»œ<br><span id="more"></span></p><h2 id="å†å²"><a href="#å†å²" class="headerlink" title="å†å²"></a>å†å²</h2><p>éšç€æœºå™¨å­¦ä¹ å…´èµ·,ä¸€å †æ¡†æ¶è·‘å‡ºæ¥.ç¥ç»ç½‘å’¯ä¹Ÿå¾ˆç«çƒ­.æ¯”å¦‚pytorchå’Œtensorflow,Caffeå•¥çš„.</p><p>åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œåƒpytorch,tensorflowéƒ½æ˜¯ä½œä¸ºåå¤‡å¤§å¼•æ“,è¿›è¡Œè®¡ç®—.è€ŒKerasæ›´åƒæ˜¯è°ƒç”¨apiçš„.</p><blockquote><p><strong>Tensorflowä½äºè¾ƒä½çº§åˆ«ï¼šè¿™æ˜¯åƒMXNetã€Theanoå’ŒPythorchè¿™æ ·çš„æ¡†æ¶æ‰€åœ¨çš„ä½ç½®ã€‚</strong>è¿™æ˜¯å®ç°æ•°å­¦è¿ç®—ï¼ˆå¦‚å¹¿ä¹‰çŸ©é˜µçŸ©é˜µä¹˜æ³•ï¼‰å’Œç¥ç»ç½‘ç»œåŸè¯­ï¼ˆå¦‚å·ç§¯è¿ç®—ï¼‰çš„å±‚æ¬¡ã€‚</p><p><strong>Kerasåœ¨æ›´é«˜çš„æ°´å¹³ä¸Šã€‚åœ¨è¿™ä¸ªå±‚æ¬¡ä¸Šï¼Œè¾ƒä½å±‚æ¬¡çš„åŸè¯­ç”¨äºå®ç°ç¥ç»ç½‘ç»œçš„æŠ½è±¡ï¼Œå¦‚å±‚æ¬¡å’Œæ¨¡å‹ã€‚</strong>é€šå¸¸ï¼Œåœ¨è¿™ä¸ªçº§åˆ«ä¸Šï¼Œè¿˜å®ç°äº†å…¶ä»–æœ‰ç”¨çš„APIï¼Œå¦‚æ¨¡å‹ä¿å­˜å’Œæ¨¡å‹åŸ¹è®­ã€‚</p><p>åœ¨ v1.1.0 ä¹‹å‰ï¼ŒKeras çš„é»˜è®¤åç«¯éƒ½æ˜¯ Theanoã€‚ä¸æ­¤åŒæ—¶ï¼ŒGoogle å‘å¸ƒäº† TensorFlowï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨äºæœºå™¨å­¦ä¹ å’Œç¥ç»ç½‘ç»œè®­ç»ƒçš„ç¬¦å·æ•°å­¦åº“ã€‚Keras å¼€å§‹æ”¯æŒ TensorFlow ä½œä¸ºåç«¯ã€‚æ¸æ¸åœ°ï¼ŒTensorFlow æˆä¸ºæœ€å—æ¬¢è¿çš„åç«¯ï¼Œè¿™ä¹Ÿå°±ä½¿å¾— TensorFlow ä» Keras v1.1.0 å‘è¡Œç‰ˆå¼€å§‹æˆä¸º Keras çš„é»˜è®¤åç«¯ã€‚</p></blockquote><h2 id="åœ¨å®˜ç½‘å­¦ä¹ "><a href="#åœ¨å®˜ç½‘å­¦ä¹ " class="headerlink" title="åœ¨å®˜ç½‘å­¦ä¹ "></a>åœ¨å®˜ç½‘å­¦ä¹ </h2><p><a href="https://tensorflow.google.cn/tutorials/keras/">tensorflowå®˜ç½‘</a></p><p><a href="https://keras.io/zh/">keras</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install tensorflow</span><br></pre></td></tr></table></figure><p>tensorflowä¸­æœ‰keras</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://cloud.tencent.com/developer/article/1552598">TensorFlow 2.0ä¸­çš„tf.keraså’ŒKerasæœ‰ä½•åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆä»¥åä¸€å®šè¦ç”¨tf.kerasï¼Ÿ - äº‘+ç¤¾åŒº - è…¾è®¯äº‘ (tencent.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Keras </tag>
            
            <tag> tensorlow </tag>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ±‡ç¼–åŸç†è¯¾ç¨‹å­¦ä¹ </title>
      <link href="2022/03/09/%E6%B1%87%E7%BC%96%E5%8E%9F%E7%90%86%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/03/09/%E6%B1%87%E7%BC%96%E5%8E%9F%E7%90%86%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è¯¾ç¨‹ä½œä¸š</p><span id="more"></span><h2 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h2><p>è¯·è‡ªå·±ç¼–å†™çš„ä¸€ä¸ªç®€å•Cè¯­è¨€ä¾‹å­ï¼ˆè‡³å°‘åŒ…æ‹¬3ä¸ªCæ–‡ä»¶ã€è‡³å°‘ä¸€ä¸ªå¤´æ–‡ä»¶ï¼›å«æœ‰åˆå§‹åŒ–å…¨å±€å˜é‡ã€æœªåˆå§‹åŒ–å…¨å±€å˜é‡ã€å‡½æ•°å†…é™æ€å˜é‡ä¸å±€éƒ¨å˜é‡ã€å‡½æ•°è°ƒç”¨ã€ifè¯­å¥ã€whileè¯­å¥ç­‰ï¼‰ï¼Œå°½é‡ä¸è¦åŒ…å«ç¬¬ä¸‰æ–¹çš„å¤´æ–‡ä»¶ï¼ŒæŒ‰ç…§é¢„å¤„ç†-&gt;ç¼–è¯‘-&gt;æ±‡ç¼–-&gt;é“¾æ¥çš„æ“ä½œè¿‡ç¨‹ï¼Œæˆªå›¾åˆ†æåšæˆæ–‡æ¡£ï¼Œåˆ†ææºç¨‹åºä¸å¯æ‰§è¡Œç¨‹åºSectionçš„å¯¹åº”å…³ç³»ï¼Œç‰¹åˆ«æ˜¯æ•°æ®ä¸æŒ‡ä»¤ï¼Œé€šè¿‡åˆ†æé˜è¿°ç¼–è¯‘å™¨çš„åŠŸèƒ½ã€‚ç€é‡åˆ†æLLVMçš„IRä¸æºè¯­å¥çš„å¯¹åº”å…³ç³»ã€‚</p><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ubuntu 20.04.3   gcc 9.3.0</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093035.png" alt="ç¯å¢ƒä¿¡æ¯"></p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220113225054383.png" alt="gccä¿¡æ¯" style="zoom:67%;" /></p><h3 id="ä½¿ç”¨GCC"><a href="#ä½¿ç”¨GCC" class="headerlink" title="ä½¿ç”¨GCC"></a>ä½¿ç”¨GCC</h3><p>gccå…·ä½“ä½¿ç”¨å‚è€ƒæ•™ç¨‹.è¿™é‡Œå¤§æ¦‚å†™ä¸€ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gcc -E <span class="comment">#é¢„å¤„ç†</span></span><br><span class="line">gcc -S <span class="comment">#è¿›è¡Œç¼–è¯‘</span></span><br><span class="line">gcc -c<span class="comment">#è¿›è¡Œæ±‡ç¼–,è·å¾—ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line">gcc -o <span class="comment"># -oæœ¬æ˜¯æŒ‡å®šè¾“å…¥æ–‡ä»¶å,ä¸åŠ å‚æ•°ç›´æ¥è¿›è¡Œé“¾æ¥</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„,-Wallé€‰é¡¹å¯ä»¥è¾“å‡ºå°½å¯èƒ½å¤šçš„æç¤ºä¿¡æ¯,å»ºè®®æ¯æ¬¡éƒ½åŠ ä¸Š</p><p><strong>æºæ–‡ä»¶ </strong> </p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220114125236250.png" alt="mainæºæ–‡ä»¶"></p><p>å¯ä»¥çœ‹åˆ°å˜é‡ç±»å‹æ¶‰åŠåˆ° å…¨å±€å˜é‡,å…¨å±€é™æ€å˜é‡,å±€éƒ¨å˜é‡å’Œå±€éƒ¨é™æ€å˜é‡.</p><p>åŒæ—¶ç”±å¼•å…¥çš„å‡½æ•°å¤´æ–‡ä»¶,whileå’Œifç»“æ„. å…ˆè¿›è¡Œå•ä¸ªæ–‡ä»¶ç”±.c-&gt;.i-&gt;.S-&gt;.o-&gt;å¯æ‰§è¡Œæ–‡ä»¶çš„è¿‡ç¨‹.ä»ä¸­åˆ†ææ¯ä¸ªè¿‡ç¨‹çš„å˜åŒ–ä»¥åŠä¸€äº›ä¿¡æ¯.</p><h4 id="é¢„å¤„ç†"><a href="#é¢„å¤„ç†" class="headerlink" title="é¢„å¤„ç†"></a>é¢„å¤„ç†</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -E -o main.i main.c -Wall</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°main.cå¼•å…¥äº†ä¸€äº›å¤´æ–‡ä»¶,ä¸»è¦æ˜¯stdio.h,æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹.iæ–‡ä»¶å¤§å°</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220113225844722.png" alt="é¢„å¤„ç†æ–‡ä»¶å¤§å°å˜åŒ–" style="zoom:67%;" /></p><p>å¯ä»¥çœ‹åˆ°ç”±åŸæœ¬467Bå˜ä¸º17KB,å¯è§æ–‡ä»¶ä¸­å¼•å…¥äº†è®¸å¤šä¿¡æ¯,éƒ½æ˜¯ç”±å®å¤„ç†çš„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220114000424117.png" alt="é¢„å¤„ç†åçš„æ–‡ä»¶" style="zoom:67%;" /></p><blockquote><p>æ‰€è°“é¢„å¤„ç†æ“ä½œï¼Œä¸»è¦æ˜¯å¤„ç†é‚£äº›æºæ–‡ä»¶å’Œå¤´æ–‡ä»¶ä¸­ä»¥ # å¼€å¤´çš„å‘½ä»¤ï¼ˆæ¯”å¦‚ #includeã€#defineã€#ifdef ç­‰ï¼‰ï¼Œå¹¶åˆ é™¤ç¨‹åºä¸­æ‰€æœ‰çš„æ³¨é‡Š // å’Œ /<em> â€¦ </em>/</p></blockquote><p>è¿™ä¸€æ­¥æ²¡æœ‰å¤ªå¤šè¦è¯´çš„</p><h4 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -S -o main.S  main.i -Wall</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220114000538225.png" alt="ç¼–è¯‘" style="zoom:67%;" /></p><p>å¯ä»¥çœ‹åˆ°æŠ¥äº†å‡ ä¸ªwarning,è¿™æ˜¯å› ä¸ºå±€éƒ¨å˜é‡å¦‚æœæ²¡æœ‰åˆå§‹åŒ–,å®ƒä»¬æ˜¯ä¸ä¼šåœ¨.bssæ®µçš„,è€Œæ˜¯åœ¨æ ˆä¸­<sup><a href="#fn_1" id="reffn_1">1</a></sup>,ä»£ç æ®µä¸­(å±€éƒ¨å˜é‡æ˜¯å‡½æ•°çš„å˜é‡,è€Œå‡½æ•°åœ¨ä»£ç æ®µä¸­<sup><a href="#fn_2" id="reffn_2">2</a></sup>),ä¹Ÿå°±æ˜¯ç¨‹åºè¿è¡Œè¿‡ç¨‹éšç€è°ƒç”¨å‡½æ•°å¼€æ ˆ,éšç€æ ˆå¸§çš„åˆ›å»ºè€Œåˆ›å»º,éšç€å‡½æ•°ç»“æŸç”Ÿå‘½å‘¨æœŸä¹Ÿå°±ç»“æŸäº†.(åœ¨å½“å‰gccç‰ˆæœ¬ä¸‹),åŒæ—¶å¦‚æœå®šä¹‰äº†ä½†æ²¡æœ‰ä½¿ç”¨ä¹Ÿä¼šæŠ¥warning.å¦‚æœåŠ äº†-Oä¼˜åŒ–è¿™ç§ä»£ç å¾ˆå¯èƒ½è¢«ä¼˜åŒ–å¤„ç†.</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯,ä»£ç æ®µä¸­ä¹Ÿä¼šå­˜å‚¨ä¸€äº›constå€¼.</p><blockquote><p><code>Cè¯­è¨€</code>ä¸­å®šä¹‰çš„å­—ç¬¦ä¸²å¸¸é‡</p><p><code>constå‹</code>å¸¸é‡ï¼š<code>Cè¯­è¨€</code>ä¸­<code>const</code>å…³é”®å­—ç”¨æ¥å®šä¹‰å¸¸é‡</p></blockquote><p>æˆ‘ä»¬å¯ä»¥æ ¹æ®ç¼–è¯‘å¾—åˆ°çš„æ±‡ç¼–ä»£ç æ›´åŠ è¯¦ç»†åœ°æŸ¥çœ‹ï¼</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220113232659992.png" alt="æ±‡ç¼–ä»£ç " style="zoom:67%;" /></p><p>ç”±äºmain.cæ–‡ä»¶å†™å¾—æœ‰ç‚¹å¤æ‚,è¿™é‡ŒæŒ‘é‡ç‚¹è¯´ä¸€ä¸‹.</p><p>.fileæ ‡è¯†æ–‡ä»¶å .textå°±æ˜¯ä¸€ä¸ªç†Ÿæ‚‰çš„é‡è¦çš„section,å°±æ˜¯ä»£ç æ®µ.å­˜ç€å‡½æ•°ä»¥åŠä¸€äº›å¸¸é‡(æ¯”å¦‚cè¯­è¨€çš„å­—ç¬¦ä¸²å’Œconstå¸¸é‡)</p><p>æˆ‘å‘ç°è¿™é‡Œæœ‰äº›ç¬¦å·æ²¡é‡åˆ°è¿‡,ç½‘ä¸Šæœç´¢ä¸€ç•ª<sup><a href="#fn_3" id="reffn_3">3</a></sup>,è€Œä¸”è²Œä¼¼å…¨å±€æœªåˆå§‹åŒ–å˜é‡å¹¶æ²¡æœ‰ç›´æ¥æ”¾åœ¨.bssæ®µçš„.</p><p>.commè¡¨ç¤ºçš„å°±æ˜¯æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡.</p><p>å¯ä»¥å¾—çŸ¥g1æ˜¯å…¨å±€å˜é‡,å› ä¸ºæ˜¯.comm(è¿™ä¸.lcomméƒ½åœ¨é“¾æ¥ååˆ†é…åœ¨.bss),</p><p>g2ä¸º20ä¸ºå…¨å±€å˜é‡(.global),.long 20.g3å€¼ä¸º5,ä½†å¯ä»¥çœ‹å‡ºå…¶æ²¡æœ‰äº†.global,æ¨æµ‹è¿™æ˜¯å› ä¸ºåŠ äº†staticå¯¼è‡´,åŒæ—¶å› ä¸ºå…¶è¿›è¡Œäº†åˆå§‹åŒ–,æ‰€ä»¥ä¸ä¼šåŠ åœ¨.bssæ®µ,å³è¿™é‡Œä¸ä¼šåœ¨.commã€‚</p><p>(.commæ˜¯æœªåˆå§‹åŒ–å…¨å±€å˜é‡,.lcommæ˜¯é™æ€å…¨å±€å˜é‡)å¯ä»¥è¿™ä¹ˆç®€å•ç†è§£</p><p>å¯ä»¥çœ‹å‡ºg4å°±æ˜¯å…¨å±€é™æ€å˜é‡(.local)ä¸”æœªè¿›è¡Œåˆå§‹åŒ–.</p><p><strong>æ€»ç»“ä¸€ä¸‹</strong></p><blockquote><p>g2å’Œg3å˜é‡åœ¨*.Sæ–‡ä»¶ä¸­å·®åˆ«æ˜¯g2æœ‰ .global g2è¡¨ç¤ºå…¨å±€(å…¨æ–‡ä»¶çš„ä½œç”¨åŸŸ) g3æ²¡æœ‰.</p><p>è¡¨ç¤ºå…¨å±€å˜é‡åŠ ä¸Šstaticå¯¼è‡´çš„ä½œç”¨åŸŸå‡å°.å³g2å¯ä»¥åœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨externä½¿ç”¨.</p><p>g2å’Œg3éƒ½æœ‰type @object,éƒ½åˆ†é…åœ¨.dataæ®µ.è¡¨ç¤ºç»è¿‡äº†åˆå§‹åŒ–,å¦‚æœåŠ äº†staticä½œç”¨åŸŸå—é™,æ²¡æœ‰.global.</p><p>g1å’Œg4å·®åˆ«æ˜¯g1æ˜¯.comm,g4æ˜¯.local .commå³.lcommè¡¨ç¤ºg1æ˜¯æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡,é“¾æ¥ååœ¨.bssæ®µ,è€Œg4æ˜¯é™æ€çš„æœªåˆå§‹åŒ–å…¨å±€å˜é‡,åŒç†å…¶ä½œç”¨åŸŸä¹Ÿæ˜¯æ‰€åœ¨çš„æ–‡ä»¶,ç¼–è¯‘åä¹Ÿåˆ†é…åœ¨.bssæ®µ.</p></blockquote><p><img data-src="http://cdn.sekyoro.top/imgs/065315.png" alt="é™æ€å±€éƒ¨å˜é‡"></p><p>è€Œmainå‡½æ•°ä¸­çš„å˜é‡,æ¯”å¦‚local1å’Œlocal2æ˜¯åœ¨æ ˆä¸­,åœ¨æ±‡ç¼–ä»£ç ä¸­æ²¡æœ‰ç›¸å…³ç¬¦å·.</p><p>è€Œä¸¤ä¸ªé™æ€å±€éƒ¨å˜é‡ s_local3åº”è¯¥åˆ†é…åœ¨.bssæ®µ,s_local4åˆ†é…åœ¨.dataæ®µ,å› ä¸ºå…¶åˆå§‹åŒ–è¿‡äº†.</p><blockquote><p>å…¨å±€æœªåˆå§‹åŒ–å˜é‡æ²¡æœ‰è¢«æ”¾åˆ°ä»»ä½•æ®µï¼Œè€Œæ˜¯ä½œä¸ºæœªå®šä¹‰çš„COMMONç¬¦å·ã€‚è¿™ä¸ªå’Œä¸åŒè¯­è¨€ã€ç¼–è¯‘å™¨å®ç°æœ‰å…³ï¼Œæœ‰çš„ç¼–è¯‘å™¨æ”¾åˆ°.bss æ®µï¼Œæœ‰çš„ä»…ä»…æ˜¯é¢„ç•™ä¸€ä¸ªCOMMONç¬¦å·ï¼Œåœ¨é“¾æ¥çš„æ—¶å€™å†åœ¨.bssæ®µåˆ†é…é¢„ç•™ç©ºé—´ã€‚ç¼–è¯‘å•å…ƒå†…éƒ¨å¯è§çš„é™æ€å˜é‡ï¼Œæ¯”å¦‚åœ¨ä¸Šè¿°ä¸­åŠ ä¸Šstaticçš„ static int global_static_varåˆ™ç¡®å®è¢«æ”¾åˆ°äº†.bssï¼Œæ˜¯å› ä¸ºè¿™ä¸ªä»…ä»…æ˜¯ç¼–è¯‘å•å…ƒå†…éƒ¨å¯è§</p><p>å¯¹äºå…¨å±€å˜é‡æ¥è¯´ï¼Œå¦‚æœåˆå§‹åŒ–äº†ä¸ä¸º0çš„å€¼ï¼Œé‚£ä¹ˆè¯¥å…¨å±€å˜é‡åˆ™è¢«ä¿å­˜åœ¨dataæ®µï¼Œå¦‚æœåˆå§‹åŒ–çš„å€¼ä¸º0ï¼Œé‚£ä¹ˆå°†å…¶ä¿å­˜åœ¨bssæ®µï¼Œå¦‚æœæ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™å°†å…¶ä¿å­˜åœ¨commonæ®µï¼Œç­‰åˆ°é“¾æ¥æ—¶å†å°†å…¶æ”¾å…¥åˆ°BSSæ®µã€‚å…³äºç¬¬ä¸‰ç‚¹ä¸åŒç¼–è¯‘å™¨è¡Œä¸ºä¼šä¸åŒï¼Œæœ‰çš„ç¼–è¯‘å™¨ä¼šæŠŠæ²¡æœ‰åˆå§‹åŒ–çš„å…¨å±€å˜é‡ç›´æ¥æ”¾åˆ°BSSæ®µ</p></blockquote><p>.LC0ç­‰è¿™äº›å­˜å‚¨ç€å­—ç¬¦ä¸²,è¿™æ˜¯å›ºå®šå€¼.è¿˜æœ‰ä¸€äº›æ±‡ç¼–ç¬¦å·<sup><a href="#fn_4" id="reffn_4">4</a></sup>.å€¼å¾—æ³¨æ„çš„æ˜¯,å°½ç®¡è¿™ä¸ªæ±‡ç¼–ä»£ç ä¸­æ²¡æœ‰.bss,ä½†æ˜¯.dataä¸­åŒ…å«äº†.bss,.commæˆ–.lcommè¡¨ç¤ºè¿™ä¸ªå˜é‡åˆ†é…åœ¨.bssæ®µ</p><p><img data-src="http://cdn.sekyoro.top/imgs/065318.png" alt="bssæ®µä¸dataæ®µæè¿°"></p><p>ä»è¿™ä¸ªæ±‡ç¼–ä»£ç å¾—åˆ°çš„ä¿¡æ¯ä¸å¤ªå¤Ÿ.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093121.png" alt="å±€éƒ¨å˜é‡"></p><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œæœ‰movl $40 -8(%rbp)è¿™å…¶å®å°±æ˜¯int local1=40è¡¨ç¤ºå±€éƒ¨å˜é‡åˆå§‹åŒ–.åœ¨è¿™ä¹‹å‰æœ‰ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pushq %rbp</span><br><span class="line">movq %rsp %rbp</span><br><span class="line">subq $16 %rbp</span><br></pre></td></tr></table></figure><p>è¿™å…¶å®å°±æ˜¯æ ˆå¸§çš„å¼€å§‹,è¡¨æ˜å±€éƒ¨å˜é‡(ä¸æ˜¯é™æ€)åˆ†é…åœ¨æ ˆä¸­(.data),è€Œé™æ€å˜é‡åœ¨ç¼–è¯‘æ—¶å°±æœ‰äº†.</p><h4 id="æ±‡ç¼–"><a href="#æ±‡ç¼–" class="headerlink" title="æ±‡ç¼–"></a>æ±‡ç¼–</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -c -o main.o main.c -Wall -g</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093122.png" alt="è¿›è¡Œæ±‡ç¼–"></p><p>å¾—åˆ°ç›®æ ‡æ–‡ä»¶<img data-src="http://cdn.sekyoro.top/imgs/065327.png" alt="æŸ¥çœ‹ä¿¡æ¯"></p><p>æ³¨æ„æ ¼å¼relocatable,è¡¨ç¤ºæ²¡æœ‰è¿›è¡Œé‡å®šä½.ç›´æ¥è¿è¡Œæ˜¯æœ‰é—®é¢˜çš„,éœ€è¦è¿›è¡Œé“¾æ¥.</p><h5 id="objdump"><a href="#objdump" class="headerlink" title="objdump"></a>objdump</h5><p>ä½¿ç”¨objdumpå¯¹äºç›®æ ‡æ–‡ä»¶ä»¥åŠå¯æ‰§è¡Œæ–‡ä»¶è¿›è¡Œåç¼–è¯‘<sup><a href="#fn_8" id="reffn_8">8</a></sup>.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objdump -f  <span class="comment">#file headers</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093124.png" alt="æ–‡ä»¶å¤´"></p><p>å¯ä»¥çŸ¥é“main.oç›®æ ‡æ–‡ä»¶æ˜¯éœ€è¦é‡å®šä½ä¸”å¼€å§‹åœ°å€è¿˜æœªå®š.</p><p>mainå¯æ‰§è¡Œæ–‡ä»¶ç¨‹åºå¼€å§‹åœ°å€å·²ç»å®šäº†.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objdump -x  <span class="comment">#æŸ¥çœ‹æ‰€æœ‰çš„å¤´ä¿¡æ¯(æ–‡ä»¶å¤´,sectionå¤´,ç¨‹åºå¤´(*.oæ–‡ä»¶æ²¡æœ‰ç¨‹åºå¤´),ç¬¦å·è¡¨,é‡å®šä½ä¿¡æ¯)</span></span><br></pre></td></tr></table></figure><p><strong>å¯¹äºmain.oæ–‡ä»¶</strong></p><p>sectionå¤´</p><p><img data-src="http://cdn.sekyoro.top/imgs/093127.png" alt="èŠ‚ç‚¹å¤´ä¿¡æ¯"></p><p>é‡ç‚¹å…³æ³¨.text .data .bss .rodata.ç”±äºæ²¡æœ‰é‡å®šä½,é€»è¾‘åœ°å€éƒ½æ˜¯0</p><p>.textä»£ç æ®µ,åªè¯»  .dataæ•°æ®æ®µåˆå§‹åŒ–å…¨å±€å˜é‡(ä¸ç®¡æ˜¯å¦æ˜¯static,å¦‚æœåŠ äº†static,åˆ™ä½œç”¨åŸŸå‡å°). .bssæœªåˆå§‹åŒ–æ®µ,åŒ…å«æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡æˆ–è€…é™æ€å˜é‡.</p><p>ç¬¦å·è¡¨</p><p><img data-src="http://cdn.sekyoro.top/imgs/093130.png" alt="ç¬¦å·è¡¨ä¿¡æ¯"></p><p>é€šè¿‡ç¬¦å·è¡¨å¯ä»¥æ›´æ–¹ä¾¿åœ°æŸ¥çœ‹æŸä¸ªé‡åˆ†é…åœ¨å“ªä¸ªsection.</p><p>ç”±äºè¿™æ˜¯main.oæ–‡ä»¶,æ²¡æœ‰è¿›è¡Œé“¾æ¥,å¯ä»¥è§‚å¯Ÿåˆ°åé¢å‡ ä¸ªå‡½æ•°éƒ½æ˜¯und(undefined).</p><p>g3åœ¨.dataæ®µ,g4åœ¨.bssæ®µ.s_local4åœ¨.dataæ®µ,s_local3åœ¨.bssæ®µ</p><p>åé¢è¿˜æœ‰é‡å®šä½è®°å½•,ä½†æ˜¯ç”±äºæ˜¯main.oè¿™äº›åœ°å€ä¸æ˜¯æœ€ç»ˆåœ°å€.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">objdump -s   <span class="comment">#æŸ¥çœ‹æ‰€æœ‰å†…å®¹ äºŒè¿›åˆ¶</span></span><br><span class="line">objdump -d   <span class="comment">#åæ±‡ç¼– .text</span></span><br><span class="line">objdump -D   <span class="comment">#åæ±‡ç¼–æ‰€æœ‰</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ .dataæ®µ</p><p><img data-src="http://cdn.sekyoro.top/imgs/093132.png" alt=".dataæ®µå†…å®¹"></p><p>å¯ä»¥çœ‹è§.dataéƒ½æ˜¯åˆå§‹åŒ–äº†çš„é™æ€å˜é‡æˆ–å…¨å±€å˜é‡.</p><p>å±€éƒ¨å˜é‡åŠ äº†staticåˆå§‹åŒ–ååˆ†é…åœ¨.data</p><p>æŸ¥çœ‹.bss</p><p><img data-src="http://cdn.sekyoro.top/imgs/093136.png" alt=".bssæ®µä¿¡æ¯"></p><p>.textæ®µå†…å®¹æ˜¯mainå‡½æ•°ä¸­çš„å†…å®¹,å±€éƒ¨å˜é‡åœ¨è¿™.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093137.png" alt=".textæ®µå†…å®¹"></p><p>å°†main.oåæ±‡ç¼–åä¸main.Sæ¯”è¾ƒ,å¯ä»¥çœ‹å‡ºmain.Sä¸­å€¼è¡¨ç¤ºæ˜¯åè¿›åˆ¶çš„,è€Œåæ±‡ç¼–åæ˜¯16è¿›åˆ¶.</p><p>callæŒ‡ä»¤è·³è½¬,åœ¨*.Sä¸­,ç›´æ¥æŒ‡å®šè·³è½¬å‡½æ•°å,åæ±‡ç¼–æ˜¯æŒ‡ä»¤ç›¸å¯¹åœ°å€</p><p>åŒæ—¶,å¦‚æœä½¿ç”¨.bssæˆ–.dataçš„å†…å®¹,ä¼šä½¿ç”¨%RIP(æŒ‡ä»¤åœ°å€)+åç§»è·å¾—å€¼.</p><p>åœ¨*.Sæ–‡ä»¶ä¸­åŒæ ·çš„ä½¿ç”¨ç¬¦å·è¡¨ç¤ºåç§»,å³ç›¸å¯¹åœ°å€.</p><p>å…·ä½“å¯ä»¥çœ‹è¿™ä¸ªä¾‹å­</p><p><img data-src="http://cdn.sekyoro.top/imgs/065335.png" alt="å˜é‡"></p><p>å¯ä»¥çœ‹åˆ°,å½“æŠŠg1,g2å…¨å±€å˜é‡(åˆ†é…åœ¨.dataæˆ–.bssæ®µ)è¿›è¡Œè¿ç®—æ—¶,åˆ©ç”¨%ripä½œä¸ºåŸºå€,å˜é‡åä¸ºåç§».åŒæ—¶å¯ä»¥çœ‹å‡º -4(%rbp)æ˜¯d,-8(%rpb)æ˜¯c,-12(%rbp)æ˜¯a,-16(%rbp)æ˜¯b.</p><p>gcc -cå¾—åˆ°ç›®æ ‡æ–‡ä»¶å†åæ±‡ç¼–å¯ä»¥çœ‹åˆ°</p><p><img data-src="http://cdn.sekyoro.top/imgs/093140.png" alt="image-20220114155704049"></p><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œåœ°å€æ˜¯0x0(%rip),ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·å‘¢?æ¨æµ‹è¿™æ˜¯å› ä¸ºç›®æ ‡æ–‡ä»¶æ²¡æœ‰è¿›è¡Œé‡å®šä½,æ‰€ä»¥è¿™é‡Œçš„åœ°å€éƒ½æ˜¯0,éœ€è¦é“¾æ¥åæ‰æ˜¯çœŸæ­£çš„åœ°å€.</p><p>åŒæ—¶å‘ç°ç¬¦å·è¡¨ä¸­g1å¹¶æ²¡æœ‰åœ¨.bssæ®µ<img data-src="http://cdn.sekyoro.top/imgs/093142.png" alt="æŸ¥çœ‹ç›®æ ‡æ–‡ä»¶ä¿¡æ¯"></p><p>åŒæ—¶.bssæ®µçš„å¤§å°ä¹Ÿæ˜¯0<img data-src="http://cdn.sekyoro.top/imgs/093145.png" alt="image-20220114160713548"></p><p>ä½†æ˜¯g1ä½œä¸ºæœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡,åˆ†é…åœ¨.bssæ®µ,æŒ‰ç†è¯´.bssæ®µå¤§å°ä¸åº”è¯¥ä¸º0.è¿™è¡¨æ˜éœ€è¦åœ¨é“¾æ¥åæ‰èƒ½æŸ¥çœ‹bssæ®µå¤§å°(è‹¥æœ‰ä¸å¯¹ä¹‹å¤„è¿˜æœ›æŒ‡å‡º).</p><p>æ¥ä¸‹æ¥åˆ†æè¿™ä¸ªç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶çš„åæ±‡ç¼–ç»“æœ.<img data-src="http://cdn.sekyoro.top/imgs/093151.png" alt="å¯æ‰§è¡Œæ–‡ä»¶åæ±‡ç¼–"></p><p>å€¼å¾—æ³¨æ„çš„æ˜¯,é“¾æ¥åå¾—åˆ°çš„æ–‡ä»¶.textæ®µå†…å®¹å¢åŠ äº†ä¸€äº›åŠ¨æ€åº“çš„ä¿¡æ¯.é‡å®šä½æ–‡ä»¶*.o.textæ®µå¼€å¤´ç®€ç®€å•å•çš„å°±æ˜¯ä¸€ä¸ªmainå‡½æ•°.ç°åœ¨å¼€å¤´æœ‰ä¸€äº›åˆå§‹åŒ–å‡½æ•°.</p><p>æ‰¾åˆ°main<img data-src="http://cdn.sekyoro.top/imgs/093154.png" alt="å¯æ‰§è¡Œæ–‡ä»¶çš„åæ±‡ç¼–"></p><p>å¯ä»¥æ˜æ˜¾çœ‹å‡ºg1,g2è¿™ç§åˆ†é…åœ¨.dataæˆ–æ˜¯.bssæ®µçš„å€¼ç”±%ripä½œä¸ºåŸºå€(éœ€è¦æ³¨æ„çš„æ˜¯å½“æˆ‘ä»¬æ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ—¶%ripçš„å€¼å·²ç»æ˜¯ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€äº†)å–å¼•ç”¨.</p><p>0x113e+0x2eda = 0x4018</p><p><img data-src="http://cdn.sekyoro.top/imgs/093152.png" alt=".bssæ®µ"></p><p>æ ¹æ®å¾—åˆ°çš„åœ°å€æ‰¾åˆ°g1,å‘ç°è¿™ä¸ªåœ°å€ä¸‹å•¥éƒ½æ²¡æœ‰,è¡¨æ˜.bssæ®µåªè®°å½•åœ°å€.è€Œå€¼åœ¨æ¯æ¬¡è¿è¡Œæ—¶ç”±osæ¸…é›¶<sup><a href="#fn_5" id="reffn_5">5</a></sup>.</p><p>114c+2ec4 = 4010</p><p><img data-src="http://cdn.sekyoro.top/imgs/093158.png" alt="åˆå§‹åŒ–å…¨å±€å˜é‡"></p><p>å¯ä»¥åœ¨.dataæ®µä¸‹çœ‹åˆ°è¿™ä¸ªåœ°å€å³å¯¹åº”çš„å€¼ g2å€¼ä¸º0x14.æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯,å› ä¸ºg2æ˜¯4ä¸ªå­—èŠ‚.</p><p>æ‰€ä»¥è¡¨ç¤ºä¸º1400,ç„¶åå› ä¸ºæ˜¯å°æ®µå­˜æ”¾,æ‰€ä»¥ä½å­—èŠ‚ä¸Šçš„14å…ˆæ”¾,æ‰€ä»¥æˆäº†14 00,objdumpå°±å°†è¿™ä¸ª14 00ç¼–ç æˆäº†æ±‡ç¼–ä»£ç ,ä½†æ˜¯åé¢çš„adc $0x0,%alå¹¶ä¸æ˜¯æ­£ç¡®è¦è¡¨è¾¾çš„æ„æ€.</p><p>callè°ƒç”¨å‡½æ•°ç±»ä¼¼,åœ¨æ±‡ç¼–ä»£ç ä¸­,callçš„è°ƒç”¨æ˜¯æŒ‰ç…§å‡½æ•°åç§°çš„,ä¸æ˜¯æŒ‰ç…§åœ°å€çš„.</p><p>åœ¨ç›®æ ‡æ–‡ä»¶ä¸­(å¯é‡å®šä½æ–‡ä»¶),callçš„ç›¸å¯¹åœ°å€æ˜¯%RIPçš„å€¼,å³ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€,æ˜¾ç„¶è¿™æ˜¯æœ‰é—®é¢˜çš„.ä¸ç¬¦åˆå®é™…æƒ…å†µ.</p><p>åœ¨æ‰§è¡Œæ–‡ä»¶ä¸­åç§»åœ°å€+%RIP,ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€åŠ ä¸Šåç§»,è¿™é‡Œä¸ç»†è¯´äº†.å¯ä»¥åœ¨.dataä¸­</p><p>æ³¨æ„åœ¨å¯é‡å®šä½æ–‡ä»¶ä¸­,ç”±äºæ²¡æœ‰é“¾æ¥,ç”¨çš„å‡½æ•°æ˜¯UND,ä¸”æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡æ˜¯COM.</p><p>æŸ¥çœ‹è°ƒç”¨å‡½æ•°æ—¶è·³è½¬åœ°å€.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093200.png" alt="å‡½æ•°è·³è½¬åœ°å€"></p><p>åœ¨ç¬¦å·è¡¨ä¸­æŸ¥æ‰¾,</p><p><img data-src="http://cdn.sekyoro.top/imgs/093203.png" alt="calcå‡½æ•°åœ°å€"></p><p>å¯ä»¥çœ‹åˆ°å‡½æ•°åœ°å€ 0x13e9</p><p>ä¹Ÿå¯ä»¥è¿›è¡Œåç¼–è¯‘,æŸ¥çœ‹è¿™ä¸ªå‡½æ•°ç¬¦å·çš„ä»£ç .</p><p><img data-src="http://cdn.sekyoro.top/imgs/093205.png" alt="å‡½æ•°åœ°å€"></p><p>åˆ°è¿™é‡ŒåŸºæœ¬çš„å˜é‡å’Œç¬¦å·(sectionå’Œå‡½æ•°ç¬¦å·)å°±åˆ†æå®Œäº†.</p><p>ä¸‹é¢åˆ†æä¸€ä¸‹ifå’Œwhileå¾—åˆ°çš„æ±‡ç¼–ä»£ç .</p><p><strong>ifä»£ç </strong></p><p><img data-src="http://cdn.sekyoro.top/imgs/093207.png" alt="ifæ±‡ç¼–ä»£ç "></p><p>å¯ä»¥çœ‹åˆ°40ä¸10æ¯”è¾ƒ,</p><blockquote><p>cmplæŒ‡ä»¤å°†ä¸¤ä¸ªæ“ä½œæ•°ç›¸å‡ï¼Œä½†è®¡ç®—ç»“æœå¹¶ä¸ä¿å­˜ï¼Œåªæ˜¯æ ¹æ®è®¡ç®—ç»“æœæ”¹å˜eflagså¯„å­˜å™¨ä¸­çš„æ ‡å¿—ä½ã€‚å¦‚æœä¸¤ä¸ªæ“ä½œæ•°ç›¸ç­‰ï¼Œåˆ™è®¡ç®—ç»“æœä¸º0ï¼Œeflagsä¸­çš„ZFä½ç½®1.</p></blockquote><p>é€šè¿‡æ ‡å¿—è·³è½¬.L2,å†æ¬¡ä½“ç°äº†æ±‡ç¼–ä»£ç é€šè¿‡ç¬¦å·è·³è½¬è¿™ä¸ªæ¦‚å¿µ.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093215.png" alt="whileç»“æ„"></p><p>å¯ä»¥çœ‹åˆ°è¿›å…¥.L4å,ä¸0æ¯”è¾ƒ,å¦‚æœå¤§äºå°±è·³è½¬åˆ°.L5,.L5å°±æ˜¯whileä¸­çš„è¯­å¥,å€¼å‡å»10,å†è¿›å…¥.L4è¿›è¡Œåˆ¤æ–­.</p><p>åˆ†æé‡å®šä½æ–‡ä»¶.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093218.png" alt="é‡å®šä½æ–‡ä»¶åæ±‡ç¼–"></p><p>æ±‡ç¼–ä»£ç ä¸­é€šè¿‡jle .L2ç¬¦å·è·³è½¬,è€Œé‡å®šä½æ–‡ä»¶ä¸­,é€šè¿‡å‡½æ•°å†…åç§»,0x2cæ˜¯è·³è½¬çš„å¯¹åº”çš„åœ°å€,å› ä¸ºæ˜¯main.oç›®çš„æ–‡ä»¶,æ²¡æœ‰ç»è¿‡é“¾æ¥,æ²¡æœ‰é‡å®šä½,æ‰€ä»¥åœ°å€éƒ½æ˜¯ç›¸å¯¹çš„.é“¾æ¥ååœ°å€ä¼šå˜åŒ–.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065337.png" alt="whileç»“æ„æ±‡ç¼–"></p><p>å¯ä»¥çœ‹åˆ°åœ¨whileè¯­å¥ä¸­,ç»“æŸæ—¶ä¼šå†æ¬¡åˆ¤æ–­,æ ¹æ®ç»“æœå†é€‰æ‹©è·³è½¬.è·³è½¬åœ°å€æ˜¯mainå†…ç›¸å¯¹åœ°å€</p><p>å¯¹äºå¯æ‰§è¡Œç¨‹åº,åæ±‡ç¼–å¾—åˆ°.textæ®µ.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093220.png" alt="å¯æ‰§è¡Œç¨‹åºåæ±‡ç¼–"></p><p>å¯ä»¥çœ‹åˆ°ç›¸å¯¹åœ°å€æ˜¯æ²¡æœ‰å˜çš„,è¿™è¡¨æ˜åœ¨ä¸€ä¸ªå‡½æ•°å†…çš„if,whileç­‰è·³è½¬éµå¾ªç›¸å¯¹è·³è½¬,ä¸”ç›¸å¯¹åœ°å€æ²¡æœ‰å˜åŒ–,åŸºå€æ˜¯å‡½æ•°åœ°å€.</p><p>å¦‚æœæ˜¯è°ƒç”¨å‡½æ•°æˆ–è€…ä½¿ç”¨å…¨å±€å˜é‡å°±æ˜¯åˆ©ç”¨%RIPä½œä¸ºåŸºå€,åœ¨.data,.bss,.textæ®µä¸­æ‰¾åˆ°æ•°æ®.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093222.png" alt="å¯æ‰§è¡Œæ–‡ä»¶ç¬¦å·è¡¨"></p><p>å¯ä»¥çœ‹è§è¿™äº›å‡½æ•°åœ¨.textæ®µ,å¯ä»¥å¾—åˆ°å®ƒä»¬çš„åœ°å€å’Œå¤§å°.</p><p>åˆ†æELFæ–‡ä»¶æ—¢å¯ä»¥ç”¨objdumpä¹Ÿå¯ä»¥ç”¨readelf,ä¸è¿‡è¿™ä¸¤ä¸ªå‘½ä»¤æœ‰ä¸€äº›å·®åˆ«.</p><p>ä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man readelf</span><br><span class="line">man objdump</span><br></pre></td></tr></table></figure><p>å¯ä»¥è¯¦ç»†æŸ¥çœ‹ä¸¤è€…çš„å‘½ä»¤å‚æ•°.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -S  <span class="comment">#ä¹Ÿå¯ä»¥æŸ¥çœ‹section header</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093224.png" alt="readelfæŸ¥çœ‹èŠ‚ç‚¹å¤´æ–‡ä»¶"></p><p>åŒæ—¶readelf -hå¯ä»¥æŸ¥çœ‹æ–‡ä»¶å¤´,ä»ä¸­å¯ä»¥çŸ¥é“section headerå’Œprogram header.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093227.png" alt="readelf  -h"></p><p>å¯ä»¥çœ‹å‡ºmain.oæ˜¯æ²¡æœ‰ç¨‹åºå¤´çš„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093231.jpg" alt="ELFæ–‡ä»¶"></p><p>ä¸Šå›¾æ˜¯ELFæ–‡ä»¶è§†å›¾</p><p>ä¸‹é¢å¯¹å¯æ‰§è¡Œæ–‡ä»¶mainåˆ†æ</p><p><img data-src="http://cdn.sekyoro.top/imgs/093233.png" alt="mainæ–‡ä»¶å¤´"></p><p>å¯ä»¥çœ‹åˆ°æœ‰èµ·å§‹åœ°å€,è€Œä¸”æ˜¯dynamicé“¾æ¥.</p><p>ç”±äºæ–‡ä»¶é“¾æ¥äº†å¾ˆå¤šå…¶ä»–æ–‡ä»¶,å†…å®¹è¾ƒå¤š.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objdump -x main <span class="comment">#æŸ¥çœ‹æ‰€æœ‰å¤´ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å¤šä¸ªäº†program header</p><p><img data-src="http://cdn.sekyoro.top/imgs/093237.png" alt="å¯æ‰§è¡Œæ–‡ä»¶çš„ç¨‹åºå¤´"></p><p>å…¶ä¸­æœ‰æ®µçš„åœ°å€.</p><p>æ­¤å¤–ç”±äºé“¾æ¥äº†ä¸€äº›åŠ¨æ€åº“,å‡ºç°äº†dynamic section,ä¸è¿‡è¿™ç›¸å¯¹æ¥è¯´ä¸é‡è¦.</p><p>å…³æ³¨Sections </p><p><img data-src="http://cdn.sekyoro.top/imgs/093242.png" alt="å¯æ‰§è¡Œæ–‡ä»¶çš„sectionè¡¨å¤´"></p><p>å¯ä»¥çœ‹åˆ°å·²ç»æœ‰äº†åœ°å€å’Œå¤§å°</p><p>å¦å¤–ä¹Ÿæœ‰ç¬¦å·è¡¨çš„ä¿¡æ¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/093245.png" alt="å¯æ‰§è¡Œæ–‡ä»¶ç¬¦å·è¡¨"></p><p>æ³¨æ„åˆ°é‡å®šä½ä¿¡æ¯å·²è¢«åˆ å»<sup><a href="#fn_9" id="reffn_9">9</a></sup></p><h4 id="å‡½æ•°çš„è°ƒç”¨å’Œè¿”å›"><a href="#å‡½æ•°çš„è°ƒç”¨å’Œè¿”å›" class="headerlink" title="å‡½æ•°çš„è°ƒç”¨å’Œè¿”å›"></a>å‡½æ•°çš„è°ƒç”¨å’Œè¿”å›</h4><p>è¿™æ–¹é¢çš„å†…å®¹æˆ‘åœ¨åšcmuçš„ç‚¸å¼¹å®éªŒå·²ç»äº†è§£è¿‡äº†(è‡ªæˆ‘è®¤ä¸º).å¯ä»¥æŸ¥çœ‹ç½‘ç«™ä¸Šçš„ä¹‹å‰æ–‡ç« .</p><p>ç°åœ¨åœ¨windowsä¸Šç›´æ¥ä½¿ç”¨MinGW.</p><p>æºæ–‡ä»¶å¾ˆç®€å•</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402210438375.png" alt="æºæ–‡ä»¶"></p><p>scanfå‡½æ•°è°ƒç”¨äº†å…«ä¸ªå‚æ•°,ä¸€ä¸ªå­—ç¬¦ä¸²ä»¥åŠ7ä¸ªæ•°.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402210354837.png" alt="åæ±‡ç¼–main" style="zoom:67%;" /></p><p>åœ¨.rodataä¸­çš„å°±æ˜¯å­—ç¬¦ä¸²,åˆ©ç”¨%rcxä¼ å‚,n1åœ¨%eaxä¸Š.</p><p>æœ‰æ„æ€çš„æ˜¯åœ¨Linuxçš„gccä¸Šå¹¶ä¸æ˜¯è¿™æ ·</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402210533785.png" alt="linuxä¸‹" style="zoom:67%;" /></p><p>é‰´äºè¿™å¹¶ä¸ç›´è§‚,çœ‹ä¸€ä¸‹å¦ä¸€ä¸ªæºæ–‡ä»¶ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402210919739.png" alt="å¦ä¸€ä¸ªæºæ–‡ä»¶" style="zoom:67%;" /></p><p>åç¼–è¯‘å¾—åˆ°ç»“æœ</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402210950053.png" alt="åæ±‡ç¼–ç»“æœ" style="zoom:67%;" /></p><p>æˆ‘ä»¬ä¼ å‚æ˜¯1,2..8. å…¶é¦–å…ˆä»æœ€åä¸€ä¸ªå‚æ•°å¼€å§‹,æœ‰å…­ä¸ªå¯„å­˜å™¨ç”¨äºä¼ å‚(64ä½ä¸‹),å¤šä½™çš„ä¼ å…¥æ ˆä¸­.</p><p>åœ¨è¿™é‡Œpushä¸¤ä¸ªå€¼,å‰©ä½™çš„å…­ä¸ªå€¼ç”¨å¯„å­˜å™¨ä¼ å‚.å³ä»¥$rdi,%rsi,%rdx,%rcxå¯„å­˜å™¨çš„é¡ºåº</p><p>åœ¨è¿™é‡Œ,å€¼6ç›´æ¥ä¼ åˆ°%r9d,æ³¨æ„%r9då°±æ˜¯ä½32ä½çš„%r9.</p><p>åŒç†,å…¶ä½™å€¼ä¹Ÿä¾æ¬¡ä¼ åˆ°å¯„å­˜å™¨ä¸­.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402211606553.png" alt="è¢«è°ƒç”¨å‡½æ•°" style="zoom:67%;" /></p><p>å¯ä»¥çœ‹åˆ°å‡½æ•°ä¸­å…ˆå¼€æ ˆ,ç„¶åä¾æ¬¡å°†1,2..çš„å€¼ä»å¯„å­˜å™¨ä¸­ä½¿ç”¨.</p><p><a href="https://www.jianshu.com/p/57128e477efb">å¯„å­˜å™¨</a>è¿™ä¸ªç½‘ç«™ç®€æ´åˆ†æäº†å„ä¸ªå¯„å­˜å™¨.</p><blockquote><p><strong>ç»“è®º</strong>ï¼šå½“å‚æ•°ä¸ªæ•°å°äºç­‰äº6ä¸ªæ—¶ï¼Œä½¿ç”¨å¯„å­˜å™¨<strong>rdi,rsi,rdx,rcx,r8,r9ï¼Œä»ç¬¬7ä¸ªå‚æ•°å¼€å§‹é€šè¿‡æ ˆä¼ é€’ï¼Œé¡ºåºä¸ºä»å³å¾€å·¦å…¥æ ˆã€‚</strong></p></blockquote><h3 id="LLVM"><a href="#LLVM" class="headerlink" title="LLVM"></a>LLVM</h3><p>ä¼ ç»Ÿçš„ç¼–è¯‘å™¨æ˜¯å‰ç«¯,ä¼˜åŒ–(å¯é€‰),åç«¯.åœ¨æŸäº›ä¹¦ä¸­ä¹Ÿç§°ä¸ºanalysiså’Œsynthetic.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093248.jpg" alt="ä¼ ç»Ÿç¼–è¯‘å™¨æ¶æ„"></p><p>LLVMæœ¬èº«å¹¶ä¸æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨,å®ƒæ˜¯ä¸€ç§æ¶æ„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093249.jpg" alt="LLVMæ¶æ„"></p><p>ç¼–è¯‘å™¨æ ¹æ®å‰ç«¯ç”Ÿæˆçš„AST(æŠ½è±¡è¯­æ³•æ ‘)å¾—åˆ°ä¸€ç§ä¸­é—´è¯­è¨€,å¯¹IRè¿›è¡Œä¼˜åŒ–åç”±åç«¯ç”Ÿæˆå¯¹åº”çš„æœºå™¨ä»£ç .</p><blockquote><p>IRå¯ä»¥è¯´æ˜¯é›†ä¸­ä½“ç°äº†è¿™æ¬¾ç¼–è¯‘å™¨çš„ç‰¹å¾â€”-ä»–çš„ç®—æ³•ï¼Œä¼˜åŒ–æ–¹å¼ï¼Œæ±‡ç¼–æµç¨‹ç­‰ç­‰ï¼Œæƒ³è¦å®Œå…¨æŒæ¡æŸç§ç¼–è¯‘å™¨çš„å·¥ä½œå’Œè¿è¡ŒåŸç†ï¼Œåˆ†æå’Œå­¦ä¹ è¿™æ¬¾ç¼–è¯‘å™¨çš„ä¸­é—´è¯­è¨€æ— ç–‘æ˜¯é‡è¦æ‰‹æ®µï¼Œå¦å¤–ï¼Œç”±äºä¸­é—´è¯­è¨€ç›¸å½“äºä¸€æ¬¾ç¼–è¯‘å™¨å‰ç«¯å’Œåç«¯çš„â€œæ¡¥æ¢â€</p><p>å¯¹äºç°ä»£ç¼–è¯‘å™¨æ¥è¯´ï¼Œç¼–è¯‘å™¨å‰ç«¯å’Œåç«¯åˆ†åˆ«æŒ‡åˆ†æè¾“å…¥æºè¯­è¨€å’Œç”Ÿæˆç›®æ ‡å¹³å°æ±‡ç¼–ä»£ç çš„ä¸¤ç¼–è¯‘é˜¶æ®µï¼Œå¤§éƒ¨åˆ†ç°ä»£ç¼–è¯‘å™¨åœ¨å‰ç«¯å’Œåç«¯ä¹‹é—´ä¼šæœ‰ä¸ªä¸­é—´è¡¨ç¤ºå±‚ã€‚æœ‰äº†ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ä¸­é—´è¡¨ç¤ºï¼Œæœ‰mç§å‰ç«¯ç¼–ç¨‹è¯­è¨€ï¼ˆC\C++ã€Fortranã€Adaã€Javaç­‰ï¼‰å’Œnç§åç«¯å¹³å°ï¼ˆx86ã€MIPSã€Sparcã€ARMç­‰ï¼‰çš„ç¼–è¯‘å™¨è®¾è®¡ï¼Œè¿™æ ·å°±å‡å°‘äº†ä¸ºäº†è®¾è®¡mä¸­è¯­è¨€å’Œnä¸ªå¹³å°ä»è€Œè®¾è®¡m*nä¸ªç¼–è¯‘å™¨è®¾è®¡</p></blockquote><p>åŒæ—¶LLVMå¯ä»¥æä¾›ä¼˜åŒ–ç®—æ³•,åœ¨ä¼˜åŒ–æ—¶å¯ä»¥å°†å…¶æä¾›çš„ç®—æ³•é“¾æ¥è¿›æ¥.</p><p><a href="https://www.cnblogs.com/zuopeng/p/4141467.html">LLVMå’ŒGCCçš„åŒºåˆ«</a></p><p>GCCçš„ä¸­é—´è¯­è¨€RTLå½¢å¼.</p><p><a href="https://blog.csdn.net/sonicling/article/details/7915301">GCCæºç åˆ†æ</a></p><blockquote><p>gimpleå’ŒRTLæ˜¯gccç”¨æ¥è¡¨ç¤ºæŒ‡ä»¤çš„ä¸¤ç§å½¢å¼ã€‚å› æ­¤æ¯ä¸ªåŸºæœ¬å—éƒ½åŒ…å«æœ‰ä¸¤ç»„æŒ‡ä»¤åºåˆ—ï¼Œä¸€ç»„æ˜¯gimpleæŒ‡ä»¤ï¼Œä¸€ç»„æ˜¯RTLæŒ‡ä»¤ã€‚æ¯ä¸ªå‡½æ•°å°†é¦–å…ˆè¢«gimpleåŒ–ï¼Œæ­¤æ—¶åŸºæœ¬å—é‡ŒåªåŒ…å«gimpleæŒ‡ä»¤ï¼Œä¹‹åç”±gimpleç”ŸæˆRT</p></blockquote><p><a href="https://blog.csdn.net/u012150792/article/details/50651743">GENERICï¼ŒGIMPLEå’ŒRTL</a></p><p><a href="https://blog.csdn.net/u012491514/article/details/25000519">gccç¼–è¯‘å™¨â€”â€”ä¸­é—´è¡¨ç¤º</a></p><blockquote><p>ä¸­é—´è¡¨ç¤ºRTLï¼šRTLå«åšâ€œå¯„å­˜å™¨è½¬ç§»è¯­è¨€â€ï¼ˆRegister Transfer Languageï¼‰ï¼Œå®ƒæ˜¯ä»¥ä¸€ç§è™šæ‹Ÿå¯„å­˜å™¨ï¼ˆpseudo registerï¼‰çš„æ–¹å¼æ¥å™è¿°è®¡ç®—æœºè¡Œä¸ºçš„è¯­è¨€ã€‚RTL æ˜¯ä¸€ç§æ¥è¿‘æœºå™¨æŒ‡ä»¤çš„è¯­è¨€ï¼Œæ—¢æœ‰æŒ‡ä»¤åºåˆ—ç»„æˆçš„å†…éƒ¨å½¢å¼ï¼Œåˆæœ‰æœºå™¨æè¿°å’Œè°ƒè¯•ä¿¡æ¯ç»„æˆçš„æ–‡æœ¬å½¢å¼ã€‚</p></blockquote><p><img data-src="http://cdn.sekyoro.top/imgs/093251.jpg" alt="LLVM"></p><h4 id="å¯¹äºGCC"><a href="#å¯¹äºGCC" class="headerlink" title="å¯¹äºGCC"></a>å¯¹äºGCC</h4><p>gccçš„è®¾è®¡å¹¶ä¸æ˜¯æ•™ç§‘ä¹¦èˆ¬çš„,å®ƒçš„å‰ç«¯å’Œåç«¯ä¹Ÿå¹¶æ²¡æœ‰é‚£ä¹ˆæ˜ç¡®.</p><p>ä½¿ç”¨å‘½ä»¤</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -S fdump-tree-all main.c</span><br></pre></td></tr></table></figure><p>å¾—åˆ°ä¸€å¤§å †æ–‡ä»¶.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065338.png" alt="ç»“æœ"></p><p>è¿™äº›éƒ½æ˜¯ä¸­é—´æ–‡ä»¶,æˆ‘ä»¬çœ‹çœ‹cfgå’Œssa.</p><p>æˆ‘çš„æºæ–‡ä»¶</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;add.h&quot;</span></span></span><br><span class="line"><span class="keyword">int</span> g1 = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> g2;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> c;</span><br><span class="line">        c =  add(a,g1);</span><br><span class="line">        c = ADD(c,g2);</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="CFGæ–‡ä»¶"><a href="#CFGæ–‡ä»¶" class="headerlink" title="CFGæ–‡ä»¶"></a>CFGæ–‡ä»¶</h5><p>cfgæ˜¯æ§åˆ¶æµå›¾.</p><blockquote><p>æ¯ä¸ªå‡½æ•°ç¿»è¯‘ä¸ºGENERICçš„è¯­æ³•æ ‘ä¹‹åï¼Œä¼šè¿›è¡Œgimplificationï¼Œåœ¨è¿™ä¸€è¿‡ç¨‹ä¸­å‡½æ•°çš„è¯­æ³•æ ‘è¢«ç¿»è¯‘ä¸ºäº†æ§åˆ¶æµå›¾çš„å½¢å¼ã€‚æ¯ä¸ªå‡½æ•°å¯¹åº”ä¸€ä¸ªæ§åˆ¶æµå›¾</p></blockquote><p><img data-src="http://cdn.sekyoro.top/imgs/065339.png" alt="cfgä¸­é—´æ–‡ä»¶"></p><p>å¯ä»¥çœ‹åˆ°æœ‰å¾ˆå¤šcfgä¸­é—´æ–‡ä»¶,åº”è¯¥æ˜¯ç»è¿‡äº†å¤šæ¬¡å¤„ç†.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093252.png" alt="ä¸åŒçš„cfgæ–‡ä»¶å¯¹æ¯”"></p><h5 id="SSAæ–‡ä»¶"><a href="#SSAæ–‡ä»¶" class="headerlink" title="SSAæ–‡ä»¶"></a>SSAæ–‡ä»¶</h5><blockquote><p>SSA å½¢å¼çš„ IR ä¸»è¦ç‰¹å¾æ˜¯æ¯ä¸ªå˜é‡åªèµ‹å€¼ä¸€æ¬¡ã€‚ç›¸æ¯”è€Œè¨€ï¼Œé SSA å½¢å¼çš„ IR é‡Œä¸€ä¸ªå˜é‡å¯ä»¥èµ‹å€¼å¤šæ¬¡ã€‚ä¸ºäº†å¾—åˆ° SSA å½¢å¼çš„ IRï¼Œèµ·åˆçš„ IR ä¸­çš„å˜é‡ä¼šè¢«åˆ†å‰²æˆä¸åŒçš„ç‰ˆæœ¬ï¼ˆversionï¼‰ï¼Œæ¯ä¸ªå®šä¹‰ï¼ˆdefinitionï¼šé™æ€åˆ†ææœ¯è¯­ï¼Œå¯ä»¥ç†è§£ä¸ºèµ‹å€¼ï¼‰å¯¹åº”ç€ä¸€ä¸ªç‰ˆæœ¬.</p><p>æŠŠç¨‹åºè½¬æ¢ä¸º SSA å½¢å¼ï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å°†æ¯ä¸ªè¢«èµ‹å€¼çš„å˜é‡ç”¨ä¸€ä¸ªæ–°çš„å˜é‡ï¼ˆç‰ˆæœ¬ï¼‰æ¥å–ä»£ï¼ŒåŒæ—¶å°†æ¯æ¬¡ä½¿ç”¨çš„å˜é‡æ›¿æ¢ä¸ºè¿™ä¸ªå˜é‡åˆ°è¾¾è¯¥ç¨‹åºç‚¹çš„â€œâ€ç‰ˆæœ¬â€</p></blockquote><p>å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ªssaä¸­é—´æ–‡ä»¶</p><p><img data-src="http://cdn.sekyoro.top/imgs/065345.png" alt="ssaæ–‡ä»¶"></p><p>å€¼å¾—ä¸€æçš„æ˜¯å‰é¢è¿™ä¸ªssaæ–‡ä»¶ä¸æœ€æ–°çš„cfgæ–‡ä»¶æ˜¯ç›¸åŒçš„.è€Œè¿™ä¸ªreleaseç‰ˆçš„ssaæ–‡ä»¶åªå¢åŠ äº†ä¸€äº›ä¸œè¥¿</p><p><img data-src="http://cdn.sekyoro.top/imgs/065347.png" alt="ssaå¢åŠ çš„ä¸œè¥¿"></p><p>è¿™è¡¨æ˜ssaè¿‡ç¨‹å¹¶æ²¡æœ‰æ”¹å˜ä»€ä¹ˆ(å½“ç„¶åªæ˜¯é’ˆå¯¹æˆ‘è¿™ä¸ªæºæ–‡ä»¶è€Œè¨€)</p><p>å¯¹äºgccçš„ä¸­é—´è¯­è¨€å°±ä¸åšåˆ†æäº†.</p><h4 id="å¯¹äºclang"><a href="#å¯¹äºclang" class="headerlink" title="å¯¹äºclang"></a>å¯¹äºclang</h4><p>ä»¥LLVMä¸ºåç«¯çš„æ˜¯è‹¹æœçš„clangç¼–è¯‘å™¨,å…¶ä½œä¸ºå‰ç«¯<sup><a href="#fn_10" id="reffn_10">10</a></sup>.</p><p>clangä¼˜ç‚¹</p><blockquote><p>ç¼–è¯‘é€Ÿåº¦å¿«:åœ¨æŸäº›å¹³å°ä¸Šï¼ŒClangçš„ç¼–è¯‘é€Ÿåº¦æ˜¾è‘—çš„å¿«è¿‡GCC(Debugæ¨¡å¼ä¸‹ç¼–è¯‘OCé€Ÿåº¦æ¯”GGCå¿«3å€)</p><p>å ç”¨å†…å­˜å°:Clangç”Ÿæˆçš„ASTæ‰€å ç”¨çš„å†…å­˜æ˜¯GCCçš„äº”åˆ†ä¹‹ä¸€å·¦å³</p><p>æ¨¡å—åŒ–è®¾è®¡:Clangé‡‡ç”¨åŸºäºåº“çš„æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äº IDE é›†æˆåŠå…¶ä»–ç”¨é€”çš„é‡ç”¨</p><p>è¯Šæ–­ä¿¡æ¯å¯è¯»æ€§å¼º:åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼ŒClang åˆ›å»ºå¹¶ä¿ç•™äº†å¤§é‡è¯¦ç»†çš„å…ƒæ•°æ® (metadata)ï¼Œæœ‰åˆ©äºè°ƒè¯•å’Œé”™è¯¯æŠ¥å‘Š</p><p>è®¾è®¡æ¸…æ™°ç®€å•ï¼Œå®¹æ˜“ç†è§£ï¼Œæ˜“äºæ‰©å±•å¢å¼º</p></blockquote><p>åœ¨Linuxæˆ–è€…å…¶ä»–å¹³å°ä¸Šéœ€è¦è‡ªå·±å®‰è£….è‹¹æœä¸Šåº”è¯¥æ˜¯è‡ªå¸¦çš„.</p><p><a href="https://buaa-se-compiling.github.io/miniSysY-tutorial/pre/llvm_download.html">LLVM å·¥å…·é“¾ä¸‹è½½ Â· GitBook (buaa-se-compiling.github.io)</a></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install llvm</span><br><span class="line">sudo apt-get install clang</span><br></pre></td></tr></table></figure><p>Ubuntu 20.04.</p><p>ç»§ç»­ç”¨åˆšæ‰çš„æºç¨‹åºåˆ†æ.</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -emit-llvm -S -o main.ll main.c</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093254.png" alt="å¾—åˆ°llæ–‡ä»¶"></p><p><img data-src="http://cdn.sekyoro.top/imgs/093257.png" alt="llä¸­é—´æ–‡ä»¶"></p><p>ä¸‹é¢æ¥åˆ†æä¸€ä¸‹è¿™ä¸ªIRä»£ç .</p><blockquote><p><code>arget triple</code> ä¸ <code>target datalayout</code> æ˜¯ç¨‹åºçš„æ ‡ç­¾å±æ€§è¯´æ˜ </p><p>align<code>å­—æ®µæè¿°äº†ç¨‹åºçš„å¯¹é½å±æ€§</code>ï¼›<br><code>dso_local</code> æ˜¯å˜é‡å’Œå‡½æ•°çš„çš„è¿è¡Œæ—¶æŠ¢å è¯´æ˜ç¬¦` dso_local æ˜¯ä¸€ä¸ª<strong>Runtime Preemption</strong>,è¡¨æ˜è¯¥å˜é‡ä¼šåœ¨åŒä¸€ä¸ªé“¾æ¥å•å…ƒå†…è§£æç¬¦å·</p><p>; å¼€å¤´çš„å­—ç¬¦ä¸²æ˜¯ LLVM IR çš„æ³¨é‡Š</p></blockquote><p>æ ¹æ®æºç¨‹åºæˆ‘ä»¬çŸ¥é“g1,g2æ˜¯å…¨å±€å˜é‡.ä¸”g1è¿›è¡Œäº†åˆå§‹åŒ–,g2æ²¡æœ‰æ‰€ä»¥åˆ†é…åœ¨.bssæ®µ</p><p>åœ¨llæ–‡ä»¶ä¸­ æ‰€æœ‰çš„å…¨å±€å˜é‡éƒ½ä»¥ @ ä¸ºå‰ç¼€ï¼Œåé¢çš„ global å…³é”®å­—è¡¨æ˜äº†å®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡.</p><p>i32æ˜¾è€Œæ˜“è§è¡¨ç¤º32ä½æ•´æ•°.åé¢è·Ÿç€å€¼. alignè¡¨ç¤ºå¯¹é½å­—èŠ‚æ•°.</p><p>commonè¡¨ç¤ºçš„æ˜¯æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡.</p><p>è¿™å‡ è¡Œè¯­å¥å°±æ˜¯å£°æ˜ä¸åˆå§‹åŒ–å…¨å±€å˜é‡</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> g1 = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> g2;</span><br></pre></td></tr></table></figure><p><strong>å¯¹äºmainå‡½æ•°</strong></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">define dso<span class="built_in">_</span>local i32 @main() <span class="params">#0</span> &#123;</span><br><span class="line">  <span class="comment">%1 = alloca i32, align 4</span></span><br><span class="line">  <span class="comment">%2 = alloca i32, align 4</span></span><br><span class="line">  <span class="comment">%3 = alloca i32, align 4</span></span><br><span class="line">  store i32 0, i32* <span class="comment">%1, align 4</span></span><br><span class="line">  store i32 10, i32* <span class="comment">%2, align 4</span></span><br><span class="line">  <span class="comment">%4 = load i32, i32* %2, align 4</span></span><br><span class="line">  <span class="comment">%5 = load i32, i32* @g1, align 4</span></span><br><span class="line">  <span class="comment">%6 = call i32 @add(i32 %4, i32 %5)</span></span><br><span class="line">  store i32 <span class="comment">%6, i32* %3, align 4</span></span><br><span class="line">  <span class="comment">%7 = load i32, i32* %3, align 4</span></span><br><span class="line">  <span class="comment">%8 = load i32, i32* @g2, align 4</span></span><br><span class="line">  <span class="comment">%9 = add nsw i32 %7, %8</span></span><br><span class="line">  store i32 <span class="comment">%9, i32* %3, align 4</span></span><br><span class="line">  <span class="comment">%10 = load i32, i32* %3, align 4</span></span><br><span class="line">  ret i32 <span class="comment">%10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡º mainå‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ª32ä½æ•´æ•°(å°±æ˜¯cè¯­è¨€ä¸­çš„int).</p><p>ret i32 %10è¡¨æ˜è¿”å›ä¸€ä¸ªå€¼å­˜å‚¨åœ¨%10(ç±»ä¼¼å¯„å­˜å™¨),å…¶ç±»å‹ä¸ºint.</p><blockquote><p>ä¸€ä¸ªå‡½æ•°å®šä¹‰çš„æœ€ç®€å•çš„è¯­æ³•å½¢å¦‚ <code>define + è¿”å›å€¼ (i32) + å‡½æ•°å (@foo) + å‚æ•°åˆ—è¡¨ ((i32 %a,i32 %b)) +å‡½æ•°ä½“ (&#123;ret i32 0&#125;)</code></p></blockquote><p>è¿™é‡Œçš„ <code>#0</code> ä¸<code>main.ll</code>ä¸­é åçš„<code>attributes #0 = ...</code>æ˜¯å¯¹åº”çš„ï¼Œä»–ä»¬è¢«ç”¨æ¥ç»™å‡½æ•°åŠ ä¸Šç‰¹å®šçš„æ ‡è®°ï¼Œä¾‹å¦‚æ˜¯å¦æ˜¯èƒ½å¤Ÿè¢«å†…è”ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/093259.png" alt="func attribute"></p><p>è¡¨ç¤ºçš„æ˜¯mainå‡½æ•°çš„ç‰¹æ€§,æ¯”å¦‚noinlineæ˜¯ä¸è¿›è¡Œå†…è”.è¯´å®è¯,è¿™é‡Œæœ‰ç‚¹å¤æ‚è€Œä¸”æ²¡å¿…è¦è¿›ä¸€æ­¥é˜è¿°äº†.å¯ä»¥æŸ¥é˜…å®˜æ–¹æ–‡æ¡£<a href="https://llvm.org/docs/LangRef.html#function-attributes">LLVM Language Reference Manual â€” LLVM 15.0.0git documentation</a></p><p>æ¥ä¸‹æ¥åˆ†æmainå‡½æ•°å†…éƒ¨</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%1 = alloca i32, align 4</span></span><br><span class="line">  <span class="comment">%2 = alloca i32, align 4</span></span><br><span class="line">  <span class="comment">%3 = alloca i32, align 4</span></span><br><span class="line">  store i32 0, i32* <span class="comment">%1, align 4</span></span><br><span class="line">  store i32 10, i32* <span class="comment">%2, align 4</span></span><br></pre></td></tr></table></figure><p>allocaè¡¨ç¤ºåˆ†é…ç©ºé—´,i32ç±»å‹ 4å­—èŠ‚å¯¹é½</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä»¥ <span class="comment">% å¼€å¤´çš„ç¬¦å·è¡¨ç¤ºè™šæ‹Ÿå¯„å­˜å™¨ï¼Œä½ å¯ä»¥æŠŠå®ƒå½“ä½œä¸€ä¸ªä¸´æ—¶å˜é‡ï¼ˆä¸å…¨å±€å˜é‡ç›¸åŒºåˆ†ï¼‰ï¼Œæˆ–ç§°ä¹‹ä¸ºä¸´æ—¶å¯„å­˜å™¨</span></span><br></pre></td></tr></table></figure><p>å…¶ä½™åŒç†.</p><p>store i32 0è¡¨ç¤ºå°†0å­˜å…¥%1. i32*è¡¨ç¤ºi32ç±»å‹å†…å­˜çš„å€¼,æ˜¯ä¸€ä¸ªåœ°å€.ç±»ä¼¼æŒ‡é’ˆçš„æ„Ÿè§‰.</p><p>store i32 10ç±»ä¼¼å°†10å­˜å…¥å¦ä¸€ä¸ªå¯„å­˜å™¨.</p><p>è¿™å‡ è¡Œè¯­å¥ç±»ä¼¼mainå‡½æ•°ä¸­</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> c;</span><br></pre></td></tr></table></figure><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%4 = load i32, i32* %2, align 4   //1</span></span><br><span class="line">  <span class="comment">%5 = load i32, i32* @g1, align 4  //2</span></span><br><span class="line">  <span class="comment">%6 = call i32 @add(i32 %4, i32 %5)  //3</span></span><br><span class="line">  store i32 <span class="comment">%6, i32* %3, align 4   //4</span></span><br><span class="line">  <span class="comment">%7 = load i32, i32* %3, align 4  //5</span></span><br><span class="line">  <span class="comment">%8 = load i32, i32* @g2, align 4 //6</span></span><br><span class="line">  <span class="comment">%9 = add nsw i32 %7, %8  //7</span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€è¡Œè¡¨ç¤º ä» %2ï¼ˆi32*ï¼‰ä¸­ load å‡ºä¸€ä¸ªå€¼ï¼ˆç±»å‹ä¸º i32ï¼‰ï¼Œè¿™ä¸ªå€¼çš„åå­—ä¸º %4</p><p>ç¬¬äºŒè¡Œè¡¨ç¤ºå°†å…¨å±€å˜é‡g1èµ‹å€¼ç»™%5.  ç¬¬ä¸‰è¡Œè¡¨ç¤ºæ‰§è¡Œcallå‡½æ•°.callå‡½æ•°å£°æ˜åœ¨åé¢,é¡ºä¾¿å®å‚æ˜¯%4ä¸%5.</p><p>ç¬¬å››è¡Œè¡¨ç¤ºå°†ä¸Šä¸€è¡Œå¾—åˆ°çš„ç»“æœå­˜å…¥%3. ç¬¬5è¡Œè¡¨ç¤ºå°†%3ç»“æœloadå‡ºç»™%7.</p><p>ç¬¬å…­è¡Œè¡¨ç¤ºå°†å…¨å±€å˜é‡g2èµ‹ç»™%8. å…³äºnswæŸ¥é˜…å®˜æ–¹æ–‡æ¡£.è¡¨ç¤ºä¸è¿›è¡Œæœ‰ç¬¦å·è½¬æ¢.å³æ— ç¬¦å·è¿ç®—.</p><blockquote><p><code>nuw</code> and <code>nsw</code> stand for â€œNo Unsigned Wrapâ€ and â€œNo Signed Wrapâ€, respectively. If the <code>nuw</code> and/or <code>nsw</code> keywords are present, the result value of the <code>add</code> is a <a href="https://llvm.org/docs/LangRef.html#poisonvalues">poison value</a> if unsigned and/or signed overflow, respectively, occurs.</p><p>A poison value is a result of an erroneous operation.</p></blockquote><p>æ‰€ä»¥ç¬¬ä¸ƒè¡Œè¡¨ç¤ºå°†%7å’Œ%8å€¼ç›¸åŠ èµ‹ç»™%9.</p><p>æ¥ç€å°†%9çš„å€¼å­˜å…¥%3.å†å°†%3çš„å€¼loadç»™%10.ç„¶åè¿”å›%10.</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">store i32 <span class="comment">%9, i32* %3, align 4</span></span><br><span class="line"> <span class="comment">%10 = load i32, i32* %3, align 4</span></span><br><span class="line"> ret i32 <span class="comment">%10</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·mainå‡½æ•°ä¸­ä»£ç è¯´æ˜å®Œäº†.</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare dso<span class="built_in">_</span>local i32 @add(i32, i32) <span class="params">#1</span></span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºå£°æ˜å‡½æ•°add. addæœ‰ä¸¤ä¸ªå‚æ•°å‡ä¸ºi32ç±»å‹.</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">!llvm.module.flags = !&#123;!0&#125;</span><br><span class="line">!llvm.ident = !&#123;!1&#125;</span><br><span class="line"></span><br><span class="line">!0 = !&#123;i32 1, !&quot;wchar<span class="built_in">_</span>size&quot;, i32 4&#125;</span><br><span class="line">!1 = !&#123;!&quot;clang version 10.0.0-4ubuntu1 &quot;&#125;</span><br></pre></td></tr></table></figure><p>è¿™äº›å°±æ˜¯ä¸€äº›ä¿¡æ¯äº†,ä¸ç”¨åœ¨æ„.</p><p>LLVMä¸­ä¹Ÿæœ‰SSA.</p><blockquote><p>åœ¨ LLVM IR ä¸­ï¼Œå˜é‡æ˜¯ä»¥ SSA å½¢å¼å­˜åœ¨çš„ï¼Œä¸ºäº†ç”Ÿæˆæ­£ç¡®çš„ LLVM IR å¹¶å®ç°æˆ‘ä»¬çš„å®éªŒï¼Œå¯¹ SSA çš„çŸ¥è¯†æ˜¯å¿…ä¸å¯å°‘çš„ï¼ŒLLVM IR çš„ä»£ç æœ‰ä¸¤ç§çŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯å­˜å–å†…å­˜å½¢å¼çš„ IR ä»¥åŠå¸¦æœ‰ <code>phi</code> æŒ‡ä»¤çš„ SSA IR</p></blockquote><p>æˆ‘ä»¬å…¶å®å¯ä»¥çœ‹å‡ºLLVMçš„IRä¸æ±‡ç¼–ä»£ç è¿˜æ˜¯æœ‰å¾ˆå¤§ç±»ä¼¼ä¹‹å¤„çš„,ä¸è¿‡IRéœ€è¦SSA.å³ç¨‹åºä¸­çš„æ¯ä¸ªå˜é‡éƒ½æœ‰ä¸”åªæœ‰ä¸€ä¸ªèµ‹å€¼è¯­å¥,è¿™æ˜¯æ¯”è¾ƒå¤§çš„å·®åˆ«.</p><p>å†çœ‹ä¸€ä¸‹åˆ†æ”¯å’Œå¾ªç¯è¯­å¥çš„IR.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;add.h&quot;</span></span></span><br><span class="line"><span class="keyword">int</span> g1 = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> g2;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">int</span> c;</span><br><span class="line">        <span class="keyword">if</span>(a&lt;<span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                c = <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(a&gt;<span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                a = a<span class="number">-5</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹ä¸€ä¸‹å¾—åˆ°çš„llæ–‡ä»¶</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">define dso<span class="built_in">_</span>local i32 @main() <span class="params">#0</span> &#123;</span><br><span class="line">  <span class="comment">%1 = alloca i32, align 4 //åˆ†é…ç©ºé—´i32</span></span><br><span class="line">  <span class="comment">%2 = alloca i32, align 4</span></span><br><span class="line">  <span class="comment">%3 = alloca i32, align 4</span></span><br><span class="line">  store i32 0, i32* <span class="comment">%1, align 4 //èµ‹å€¼ 0    c</span></span><br><span class="line">  store i32 10, i32* <span class="comment">%2, align 4 //èµ‹å€¼10   a</span></span><br><span class="line">  <span class="comment">%4 = load i32, i32* %2, align 4 //å°†%2æ‰€å­˜çš„å€¼èµ‹ç»™%4  t=a</span></span><br><span class="line">  <span class="comment">%5 = icmp slt i32 %4, 5 //icmpå°±æ˜¯æœ‰ç¬¦å·æ¯”è¾ƒ å³%4ä¸5æ¯”è¾ƒå¦‚æœ%4å°äº5åˆ™slt=1</span></span><br><span class="line">  br i1 <span class="comment">%5, label %6, label %7 //i1è¡¨ç¤ºä¸€ä¸ªç±»å‹å³%5 æ¯”è¾ƒ%5æ˜¯å¦ä¸º1,è‹¥æ˜¯åˆ™è·³è½¬%6å¦åˆ™è·³%7</span></span><br><span class="line"></span><br><span class="line">6:                                                ; preds = <span class="comment">%0</span></span><br><span class="line">  store i32 2, i32* <span class="comment">%3, align 4 //å³cè¯­è¨€c=2</span></span><br><span class="line">  br label <span class="comment">%7//è·³å‡º è‡³æ­¤ifåˆ†æ”¯è¯­å¥ç»“æŸ</span></span><br><span class="line"></span><br><span class="line">7:                                                ; preds = <span class="comment">%6, %0</span></span><br><span class="line">  br label <span class="comment">%8// a&gt;=5è·³è½¬åˆ°è¿™</span></span><br><span class="line"></span><br><span class="line">8:                                                ; preds = <span class="comment">%11, %7</span></span><br><span class="line">  <span class="comment">%9 = load i32, i32* %2, align 4 //å°†%2èµ‹å€¼ç»™%5 t = a</span></span><br><span class="line">  <span class="comment">%10 = icmp sgt i32 %9, 5 // åˆæ˜¯è¿›è¡Œæ¯”è¾ƒsgtä¸sltç›¸å å¤§äºåˆ™ç½®ä¸º1  t&gt;5</span></span><br><span class="line">  br i1 <span class="comment">%10, label %11, label %14 //å¦‚æœ%10=1åˆ™è·³è½¬åˆ°11å¤„å¦åˆ™è·³è½¬14å¤„</span></span><br><span class="line"></span><br><span class="line">11:                                               ; preds = <span class="comment">%8</span></span><br><span class="line">  <span class="comment">%12 = load i32, i32* %2, align 4 //t&gt;5åˆ™è·³è½¬åˆ°è¿™ å°†%2èµ‹ç»™%12  t2 = a</span></span><br><span class="line">  <span class="comment">%13 = sub nsw i32 %12, 5 //t3 = t2-5</span></span><br><span class="line">  store i32 <span class="comment">%13, i32* %2, align 4 // a = t3</span></span><br><span class="line">  br label <span class="comment">%8</span></span><br><span class="line"></span><br><span class="line">14:                                               ; preds = <span class="comment">%8</span></span><br><span class="line">  ret i32 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>sltåœ¨mipsæŒ‡ä»¤é›†æœ‰è§£é‡Š </p><blockquote><p>å¦‚æœç¬¬ä¸€ä¸ªæºå¯„å­˜å™¨çš„å†…å®¹å°äºç¬¬äºŒä¸ªæºå¯„å­˜å™¨çš„å†…å®¹ï¼Œåˆ™ SLT æŒ‡ä»¤å°†ç›®æ ‡å¯„å­˜å™¨çš„å†…å®¹è®¾ç½®ä¸ºå€¼ 1ã€‚ å¦åˆ™ï¼Œå®ƒè¢«è®¾ç½®ä¸ºå€¼ 0ã€‚</p></blockquote><p>br<code>æŒ‡ä»¤çš„è¯­æ³•ä¸º</code>br + æ ‡å¿—ä½ + truelabel + falselabel<code>ï¼Œæˆ–è€…</code>br + label.æ˜¯è·³è½¬æŒ‡ä»¤.</p><p>å¦‚æ³¨é‡Š.</p><h4 id="update"><a href="#update" class="headerlink" title="update"></a>update</h4><p>ç°åœ¨æ›´æ–°ä¸€ä¸‹clangå¯¹äºä¸€ä¸ªæºç¨‹åºæ–‡ä»¶çš„æ•´ä½“ç¼–è¯‘è¿‡ç¨‹.ä¹‹å‰åªåˆ†æäº†å‰ç«¯.</p><p>clangçš„å®˜æ–¹æ–‡æ¡£è¿˜æ˜¯æœ‰ç‚¹å¤æ‚.</p><p><code>-fmodules</code>:å¯ç”¨â€œæ¨¡å—â€è¯­è¨€åŠŸèƒ½ã€‚å…³äº<code>Modules</code>ç‰¹æ€§ï¼Œè¯¦è§<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fclang.llvm.org%2Fdocs%2FModules.html%23introduction">æ­¤å¤„</a>ï¼Œå¤§æ„ä¸ºä½¿ç”¨<code>import</code>ä»£æ›¿<code>include</code>ï¼Œç¼–è¯‘é€Ÿåº¦å¿«ã€‚</p><p><code>-fsyntax-only</code>:è¿è¡Œé¢„å¤„ç†å™¨ï¼Œè§£æå™¨å’Œç±»å‹æ£€æŸ¥é˜¶æ®µã€‚</p><p><code>-Xclang &lt;arg&gt;</code>:ä¼ é€’å‚æ•°åˆ°<code>clang</code>çš„ç¼–è¯‘å™¨ã€‚</p><p><code>dump-tokens</code>:è¿è¡Œé¢„å¤„ç†å™¨ï¼Œè½¬å‚¨<code>Token</code>çš„å†…éƒ¨è¡¨ç¤º</p><p>è¿™é‡Œå‚ç…§åšå®¢<a href="https://www.jianshu.com/p/2da08634b53a">ç¼–è¯‘å™¨ä¸Clangç¼–è¯‘è¿‡ç¨‹ - ç®€ä¹¦ (jianshu.com)</a>çœ‹ä¸€ä¸‹clangçš„ä½¿ç”¨</p><h5 id="é¢„å¤„ç†-1"><a href="#é¢„å¤„ç†-1" class="headerlink" title="é¢„å¤„ç†"></a>é¢„å¤„ç†</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -E test.c</span><br></pre></td></tr></table></figure><p>é¢„å¤„ç†</p><blockquote><p>1ã€åˆ é™¤æ‰€æœ‰çš„#defineï¼Œä»£ç ä¸­ä½¿ç”¨å®å®šä¹‰çš„åœ°æ–¹ä¼šè¿›è¡Œæ›¿æ¢</p><p>2ã€å°†#includeåŒ…å«çš„æ–‡ä»¶æ’å…¥åˆ°æ–‡ä»¶çš„ä½ç½®ï¼Œè¿™ä¸ªæ’å…¥çš„è¿‡ç¨‹æ˜¯é€’å½’çš„</p><p>3ã€åˆ é™¤æ‰æ³¨é‡Šç¬¦å·åŠæ³¨é‡Š</p><p>4ã€æ·»åŠ è¡Œå·å’Œæ–‡ä»¶æ ‡è¯†ï¼Œä¾¿äºè°ƒè¯•</p></blockquote><p>æŸ¥çœ‹æ–‡ä»¶å‘ç°å‰å‡ è¡Œéƒ½æ˜¯æ³¨é‡Š,å¤§è‡´æ˜¯åŒ…å«ä¸€äº›æ–‡ä»¶è·¯å¾„.å†ä¸‹é¢æ˜¯typedefå®šä¹‰å˜é‡.</p><p>è¿˜å®šä¹‰äº†ä¸€äº›ç»“æ„ä½“,å£°æ˜äº†å‡½æ•°.æœ€åæ˜¯æºä»£ç </p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402215053078.png" alt="é¢„å¤„ç†æ–‡ä»¶"></p><h5 id="åˆ†æè¯æ³•åŠŸèƒ½"><a href="#åˆ†æè¯æ³•åŠŸèƒ½" class="headerlink" title="åˆ†æè¯æ³•åŠŸèƒ½"></a>åˆ†æè¯æ³•åŠŸèƒ½</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -fsyntax-only -Xclang -dump-tokens test.c</span><br></pre></td></tr></table></figure><p>è¿™ä¸€æ­¥é¡¾åæ€ä¹‰æ˜¯è¯æ³•åˆ†æ,å¾—åˆ°valueType value locè¿™æ ·å½¢å¼çš„æ•°æ®</p><p>æœ‰æ ‡è¯†ç¬¦identifierç±»å‹,æœ‰commaé€—å·ç±»å‹,constç±»å‹ç­‰ç­‰</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402215528693.png" alt="è¯æ³•åˆ†æå¾—åˆ°å…ƒç»„"></p><p>å¤„ç†æ–‡ä»¶åå¯ä»¥å¾—åˆ°ä¸‰å…ƒç»„,å³å±æ€§,å€¼ä»¥åŠä½ç½®.</p><ul><li><code>Sourece Location</code>ï¼šè¡¨ç¤º<code>Token</code>å¼€å§‹çš„ä½ç½®ï¼Œæ¯”å¦‚ï¼š<code>Loc=&lt;main.m:11:5&gt;</code>ï¼›</li><li><code>Token Kind</code>ï¼šè¡¨ç¤º<code>Token</code>çš„ç±»å‹ï¼Œæ¯”å¦‚ï¼š<code>identifier</code>ã€<code>numeric_constant</code>ã€<code>string_literal</code>ï¼›</li><li><code>Flags</code>ï¼šè¯æ³•åˆ†æå™¨å’Œå¤„ç†å™¨è·Ÿè¸ªæ¯ä¸ª<code>Token</code>çš„åŸºç¡€ï¼Œç›®å‰æœ‰å››ä¸ª<code>Flag</code>åˆ†åˆ«æ˜¯ï¼š</li></ul><ol><li><code>StartOfLine</code>ï¼šè¡¨ç¤ºè¿™æ˜¯æ¯è¡Œå¼€å§‹çš„ç¬¬ä¸€ä¸ª<code>Token</code>ï¼›</li><li><code>LeadingSpace</code>ï¼šå½“é€šè¿‡å®æ‰©å±•<code>Token</code>æ—¶ï¼Œåœ¨<code>Token</code>ä¹‹å‰æœ‰ä¸€ä¸ªç©ºæ ¼å­—ç¬¦ã€‚è¯¥æ ‡å¿—çš„å®šä¹‰æ˜¯ä¾æ®é¢„å¤„ç†å™¨çš„å­—ç¬¦ä¸²åŒ–è¦æ±‚è€Œè¿›è¡Œçš„éå¸¸ä¸¥æ ¼åœ°å®šä¹‰ã€‚</li><li><code>DisableExpand</code>ï¼šè¯¥æ ‡å¿—åœ¨é¢„å¤„ç†å™¨å†…éƒ¨ä½¿ç”¨ï¼Œç”¨æ¥è¡¨ç¤º<code>identifier</code>ä»¤ç‰Œç¦ç”¨å®æ‰©å±•ã€‚</li><li><code>NeedsCleaning</code>ï¼šå¦‚æœä»¤ç‰Œçš„åŸå§‹æ‹¼å†™åŒ…å«ä¸‰å­—ç¬¦ç»„æˆ–è½¬ä¹‰çš„æ¢è¡Œç¬¦ï¼Œåˆ™è®¾ç½®æ­¤æ ‡å¿—</li></ol><h5 id="åˆ†æè¯­æ³•äº§ç”Ÿå‡ºçš„æŠ½è±¡è¯­æ³•æ ‘"><a href="#åˆ†æè¯­æ³•äº§ç”Ÿå‡ºçš„æŠ½è±¡è¯­æ³•æ ‘" class="headerlink" title="åˆ†æè¯­æ³•äº§ç”Ÿå‡ºçš„æŠ½è±¡è¯­æ³•æ ‘"></a>åˆ†æè¯­æ³•äº§ç”Ÿå‡ºçš„æŠ½è±¡è¯­æ³•æ ‘</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -fsyntax-only -Xclang -ast-dump test.c</span><br></pre></td></tr></table></figure><blockquote><p>-ast-dump: Build ASTs and then debug dump them</p><p>è¡¨ç¤ºç”ŸæˆæŠ½è±¡è¯­æ³•æ ‘</p></blockquote><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402220439060.png" alt="è¯­æ³•åˆ†æåçš„æŠ½è±¡è¯­æ³•æ ‘" style="zoom: 50%;" /></p><p>å¾ˆå¥½,æˆ‘å¹¶ä¸æ˜¯å’Œèƒ½çœ‹æ‡‚è¿™ä¸ªä¸œè¥¿.</p><p><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fclang.llvm.org%2Fdoxygen%2Fclassclang_1_1Type.html">Type</a> ï¼šè¡¨ç¤ºç±»å‹ï¼Œæ¯”å¦‚<code>BuiltinType</code></p><p><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fclang.llvm.org%2Fdoxygen%2Fclassclang_1_1Decl.html">Decl</a> ï¼šè¡¨ç¤ºä¸€ä¸ªå£°æ˜<code>declaration</code>æˆ–è€…ä¸€ä¸ªå®šä¹‰<code>definition</code>ï¼Œæ¯”å¦‚ï¼šå˜é‡ï¼Œå‡½æ•°ï¼Œç»“æ„ä½“ï¼Œ<code>typedef</code>ï¼›</p><p><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fclang.llvm.org%2Fdoxygen%2Fclassclang_1_1DeclContext.html">DeclContext</a> ï¼šç”¨æ¥å£°æ˜è¡¨ç¤ºä¸Šä¸‹æ–‡çš„ç‰¹å®š<code>decl</code>ç±»å‹çš„åŸºç±»ï¼›</p><p><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fclang.llvm.org%2Fdoxygen%2Fclassclang_1_1Stmt.html">Stmt</a> ï¼šè¡¨ç¤ºä¸€æ¡é™ˆè¿°<code>statement</code>;</p><p><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fclang.llvm.org%2Fdoxygen%2Fclassclang_1_1Expr.html">Expr</a>ï¼šåœ¨<code>Clang</code>çš„è¯­æ³•æ ‘ä¸­ä¹Ÿè¡¨ç¤ºä¸€æ¡é™ˆè¿°<code>statements</code>;</p><h5 id="ä¸­é—´ä»£ç ç”Ÿæˆ"><a href="#ä¸­é—´ä»£ç ç”Ÿæˆ" class="headerlink" title="ä¸­é—´ä»£ç ç”Ÿæˆ"></a>ä¸­é—´ä»£ç ç”Ÿæˆ</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang -S -emit-llvm -o test.ll test.c</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¸­é—´ä»£ç ä¹‹å‰å·²ç»åˆ†æè¿‡äº†<a href="#IRåˆ†æ">ç‚¹å‡»æŸ¥çœ‹</a></p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402222535565.png" alt="IRä»£ç "></p><p>è¿™æ˜¯få‡½æ•°çš„ä¸­é—´ä»£ç ,i32è¡¨ç¤ºç±»å‹,alignè¡¨ç¤ºå¯¹é½.allocaåˆ†é…ç©ºé—´,storeå­˜å‚¨å€¼.</p><h5 id="æ±‡ç¼–è¯­è¨€ç”Ÿæˆ"><a href="#æ±‡ç¼–è¯­è¨€ç”Ÿæˆ" class="headerlink" title="æ±‡ç¼–è¯­è¨€ç”Ÿæˆ"></a>æ±‡ç¼–è¯­è¨€ç”Ÿæˆ</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">llc test.ll -o test.s</span><br></pre></td></tr></table></figure><p>æ±‡ç¼–è¯­è¨€ç”Ÿæˆ</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402223339213.png" alt="image-20220402223339213"></p><p>åˆ°è¿™ä¸€æ­¥ç”Ÿæˆæ±‡ç¼–ä»£ç ä¸åŠå…¶ç›¸å…³,å°±æ²¡æœ‰å¤ªå¤šå¯ä»¥è¯´äº†.</p><h5 id="å¯æ‰§è¡Œç¨‹åºç”Ÿæˆ"><a href="#å¯æ‰§è¡Œç¨‹åºç”Ÿæˆ" class="headerlink" title="å¯æ‰§è¡Œç¨‹åºç”Ÿæˆ"></a>å¯æ‰§è¡Œç¨‹åºç”Ÿæˆ</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clang test.s -o <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402223551048.png" alt="ç”Ÿæˆå¯æ‰§è¡Œç¨‹åº"></p><h5 id="åæ±‡ç¼–ç¨‹åº"><a href="#åæ±‡ç¼–ç¨‹åº" class="headerlink" title="åæ±‡ç¼–ç¨‹åº"></a>åæ±‡ç¼–ç¨‹åº</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">objdump -dS <span class="built_in">test</span></span><br><span class="line">clang -g -o <span class="built_in">test</span> test.c</span><br></pre></td></tr></table></figure><p>clang -g -o test test.cå¯ä»¥ç›´æ¥ç”Ÿæˆç›®æ ‡ç¨‹åº.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402223849933.png" alt="åæ±‡ç¼–å¯æ‰§è¡Œç¨‹åº"></p><p>objdump -Så‘½ä»¤å¯ä»¥æ˜¾ç¤ºæºä»£ç ,ä½†éœ€è¦ç¼–è¯‘æ—¶åŠ ä¸Š-g</p><p>ä½¿ç”¨clang -g test.c -o testå¾—åˆ°çš„å¯æ‰§è¡Œç¨‹åºåæ±‡ç¼–.</p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20220402224120628.png" alt="image-20220402224120628" style="zoom:67%;" /></p><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œæœ‰æ›´å¤šçš„è°ƒè¯•ä¿¡æ¯.</p><h2 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h2><p>å¯¹æ‰€ç¼–å†™çš„ä¾‹å­å°è¯•ç¼–å†™ä¸€ä¸ªMakefileæ–‡ä»¶,ç„¶åè¿›è¡Œmakeç¼–è¯‘,ç„¶åé€šè¿‡make -j #næ¥ç¼–è¯‘,ä¹Ÿå¯é‡‡ç”¨cmake.è¯æ˜å¹¶è¡Œç¼–è¯‘ç¡®å®æé«˜äº†.</p><p>makefileç¼–å†™æœ¬èº«å°±éµå¾ªä¸€å®šæŠ€å·§,å¥½çš„makefileèƒ½è®©äººä¸€çœ¼çœ‹ä¸Šå»çŸ¥é“è§„åˆ™.ç”±äºæˆ‘ç¼–å†™çš„æ¯”è¾ƒå°‘,makefileå†™çš„ä¸æ˜¯å¾ˆå¥½,ä½†æ˜¯å‹‰å¼ºèƒ½ç”¨.</p><h3 id="makeå¹¶è¡Œç¼–è¯‘"><a href="#makeå¹¶è¡Œç¼–è¯‘" class="headerlink" title="makeå¹¶è¡Œç¼–è¯‘"></a>makeå¹¶è¡Œç¼–è¯‘</h3><p><img data-src="http://cdn.sekyoro.top/imgs/093301.png" alt="Makefile"></p><p>é‡ç‚¹å…³æ³¨ç¼–è¯‘,å³buildè¿™ä¸€è¡Œ.è¿›è¡Œäº†main.cä¸»æ–‡ä»¶çš„ç¼–è¯‘ä»¥åŠå¼•å…¥çš„å…¶ä»–äº”ä¸ªcæ–‡ä»¶çš„ç¼–è¯‘</p><p><img data-src="http://cdn.sekyoro.top/imgs/093303.png" alt="makeç¼–è¯‘"></p><p>timeå‘½ä»¤å¯ä»¥å¾—åˆ°è¿è¡Œæ—¶é—´<sup><a href="#fn_6" id="reffn_6">6</a></sup>,0.08sæ˜¯æ‰§è¡Œç”¨æˆ·æ€ä»£ç æ‰€è€—è´¹çš„ CPU æ—¶é—´</p><p>0.19sæ˜¯å†…æ ¸æ€è¿è¡Œæ‰€è€—è´¹çš„CPUæ—¶é—´,0.592åŒ…æ‹¬äº†é˜»å¡æ—¶é—´å’Œå…¶ä»–è¿›ç¨‹è€—è´¹æ—¶é—´</p><p>æ¯æ¬¡ç¼–è¯‘æ—¶é—´æˆ–å¤šè¯´å°‘æœ‰ä¸€ç‚¹å·®å¼‚,</p><p><img data-src="http://cdn.sekyoro.top/imgs/093305.png" alt="å†æ¬¡è¿›è¡Œç¼–è¯‘"></p><p>ä½†åŸºæœ¬ä¸Šç”¨æˆ·æ€æ—¶é—´0.1så·¦å³,ç®¡æ€æ—¶é—´è¦å¤šä¸€ç‚¹</p><p>å¯ä»¥çœ‹è§make -j 3,å¹¶è¡Œä¸‰æ¡æŒ‡ä»¤ç¼–è¯‘æ—¶é—´å‡å°‘äº†.</p><p>çœ‹æ¥ç¼–è¯‘çš„ä»»åŠ¡è¿˜ä¸å¤Ÿå¤š,äºæ˜¯æˆ‘åˆå¢åŠ äº†å‡ ä¸ªä¸ªæºæ–‡ä»¶è¿›è¡Œç¼–è¯‘,æ¯ä¸ªæºæ–‡ä»¶ä»£ç äºŒä¸‰åè¡Œä¹Ÿä¸ç®—å¤š.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093307.png" alt="makeå¹¶è¡Œç¼–è¯‘"></p><p>å¯ä»¥çœ‹åˆ°æ—¶é—´å‡å°‘äº†,ä½†ä¸æ˜¯å¾ˆæ˜æ˜¾.å¯èƒ½æ˜¯å› ä¸ºæˆ‘ç”¨çš„è™šæ‹Ÿæœº,åˆ†é…çš„cpuä¸å®æœºæœ‰ä¸€å®šå·®åˆ«.</p><p>æˆ‘åœ¨windowsä¸Šçš„æµ‹è¯•.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093309.png" alt="image-20220114212732480"></p><p>è¿›è¡Œå¹¶è¡Œç¼–è¯‘</p><p><img data-src="http://cdn.sekyoro.top/imgs/093311.png" alt="makeå¹¶è¡Œç¼–è¯‘"></p><p>å¯ä»¥çœ‹åˆ°æ—¶é—´ç”±ç”¨æˆ·æ€çš„0.03s-&gt;0.015s,å¯ä»¥è¯´æ˜å¹¶è¡Œç¼–è¯‘æ—¶é—´å˜çŸ­äº†.</p><h3 id="update-1"><a href="#update-1" class="headerlink" title="update"></a>update</h3><p>ç”±äºä¹‹å‰åšçš„ç¼–è¯‘é‡æœ‰ä¸€ç‚¹å°‘,è¿è¡Œæ—¶é—´å¤ªçŸ­ä»¥åŠæµ‹è¯•æ¬¡æ•°ä¸å¤Ÿ.è¿™é‡Œç»§ç»­åšä¸€ä¸‹è¡¥å…….</p><p>æˆ‘ç»§ç»­å¢åŠ æºæ–‡ä»¶çš„ä»£ç é‡.</p><p>ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯è™šæ‹Ÿæœº,æŸ¥çœ‹æˆ‘ä¸»æœºç”µè„‘é…ç½®ä¿¡æ¯6æ ¸cpu.</p><p>æ‰€ä»¥è¿™é‡Œæˆ‘è®¾ç½®è™šæ‹Ÿæœºåˆ†é…äº†3ä¸ªè™šæ‹Ÿcpu.</p><p>åŒæ—¶æˆ‘å¢åŠ äº†ä¸€äº›ä»£ç ,å½“æ—¶å¹¶ä¸æ˜¯å¾ˆå¤š.</p><p>å¯æƒœçš„æ˜¯è¿˜æ˜¯å› ä¸ºä»£ç é‡ä¸å¤Ÿçš„åŸå› å¯¼è‡´å·®åˆ«ä¸æ˜¯å¾ˆå¤§.è€ƒè™‘åˆ°make -jä½¿ç”¨å¤šå¤„ç†å™¨å¹¶è¡Œ,æ‰€ä»¥timeå‘½ä»¤ç»“æœçœ‹total timeæ›´åˆé€‚.å› ä¸ºä½¿ç”¨å¹¶è¡Œå‡å°‘æ—¶é—´</p><p><img data-src="http://cdn.sekyoro.top/imgs/093312.png" alt="ç¼–è¯‘1"></p><p>ç”±äºä»£ç è¿˜æ˜¯å†™çš„ä¸è§„èŒƒ,æœ‰warningä¸è¿‡ä¸å½±å“</p><p><img data-src="http://cdn.sekyoro.top/imgs/093315.png" alt="ç¼–è¯‘ç»“æœ"></p><p>make -j2  make -j3 make -j6</p><p><img data-src="http://cdn.sekyoro.top/imgs/065348.png" alt="-j2"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065351.png" alt="-j2ç¼–è¯‘ç»“æœ"></p><p><img data-src="http://cdn.sekyoro.top/imgs/093317.png" alt="-j3ç¼–è¯‘ç»“æœ"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065353.png" alt="-j6ç¼–è¯‘ç»“æœ"></p><p>è¿›è¡Œäº†7ç»„å®éªŒ,æ ¹æ®totalæ—¶é—´ç»“æœ,ä¹Ÿå°±æ˜¯è¿›ç¨‹ä»å¼€å§‹åˆ°ç»“æŸæ‰€ç”¨çš„å®é™…æ—¶é—´ã€‚è¿™ä¸ªæ—¶é—´åŒ…æ‹¬å…¶ä»–è¿›ç¨‹ä½¿ç”¨çš„æ—¶é—´ç‰‡å’Œè¿›ç¨‹é˜»å¡çš„æ—¶é—´.å› ä¸ºä½¿ç”¨äº†å¤šå¤„ç†å™¨å¹¶è¡Œå¤„ç†ç¼–è¯‘.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093318.png" alt="è¯•éªŒç»“æœ"></p><p>ä½†æ˜¯useræ—¶é—´ä¹Ÿå°±æ˜¯ç”¨æˆ·æ€æ—¶é—´å¹¶æ²¡æœ‰æ˜æ˜¾å˜åŒ–.<del>ä¼°è®¡æ˜¯ä»£ç è¿˜æ˜¯ä¸å¤Ÿ</del></p><p><img data-src="http://cdn.sekyoro.top/imgs/093319.png" alt="sys+usræ—¶é—´"></p><p>ç»è¿‡æˆ‘çš„è€ƒè™‘,è®¤ä¸ºmake -jæœ¬æ˜¯æ˜¯è®©å¤šä¸ªcpuå†…æ ¸å¹¶è¡Œå¤„ç†æŒ‡ä»¤,è¿™ä¹Ÿä¸æ„å‘³ç€ä¼˜åŒ–.å³usr+sysæ—¶é—´å˜åŒ–ä¸å¤§æ˜¯æ­£å¸¸çš„,realæ—¶é—´å³æ€»æ—¶é—´(åŒ…æ‹¬å…¶ä»–è¿›ç¨‹åŠIO)åº”è¯¥å˜åŒ–,å› ä¸ºå¤šä¸ªcpuå¹¶è¡Œå°±åƒå¤šä¸ªäººä¸€èµ·å¹²åŒä¸€ä»¶äº‹ä¸€æ ·,æ€»çš„æ¥è¯´æ—¶é—´å‡å°‘äº†.ä½†æ”¾åœ¨æ¯ä¸ªäººèº«ä¸Šéƒ½èŠ±äº†ä¸€ç‚¹æ—¶é—´,è¿™ä¸ªæ—¶é—´æ˜¯å˜åŒ–ä¸å¤§çš„<sup><a href="#fn_11" id="reffn_11">11</a></sup>.</p><p>ç°åœ¨è¿›è¡ŒLinuxæºç éƒ¨åˆ†æ¨¡å—çš„ç¼–è¯‘<sup><a href="#fn_12" id="reffn_12">12</a></sup></p><p><img data-src="http://cdn.sekyoro.top/imgs/065355.png" alt="linuxå†…æ ¸æºç "></p><p>ç”±äºç¼–è¯‘å…¨éƒ¨ä»£ç å¤ªè€—æ—¶äº†,è¿™é‡Œç¼–è¯‘éƒ¨åˆ†ä»£ç .</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time make SUBDIRS=./samples/kprobes  modules</span><br></pre></td></tr></table></figure><p>ç½‘ä¸Šæ•™ç¨‹æœ‰ç‚¹éš¾,ç›´æ¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤.é€‰æ‹©æŸä¸ªæ¨¡å—çš„æ–‡ä»¶å¤¹ç¼–è¯‘.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093321.png" alt="æ¨¡å—ç¼–è¯‘"></p><p>ä¸Šå›¾æ˜¯ç›´æ¥makeçš„ç¼–è¯‘æ—¶é—´</p><p>ä¸‹å›¾æ˜¯ -j3ç¼–è¯‘å†…æ ¸æŸæ¨¡å—æ—¶é—´</p><p><img data-src="http://cdn.sekyoro.top/imgs/065357.png" alt="-j3ç¼–è¯‘æ—¶é—´"></p><p>-j6ç¼–è¯‘æ—¶é—´</p><p><img data-src="http://cdn.sekyoro.top/imgs/065402.png" alt="-j6ç¼–è¯‘æ—¶é—´"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065404.png" alt="å†…æ ¸æ¨¡å—ç¼–è¯‘æ—¶é—´"></p><p>ç”±äºæ˜¯è™šæ‹Ÿæœºå¹¶ä¸”å› ä¸ºç¼–è¯‘å†…æ ¸æ—¶é—´æœ‰ç‚¹ä¹…åªåšäº†ä¸€ç»„å®éªŒ.</p><p>ä½†æ˜¯ç»“æœè¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°çš„,usrå’Œsysæ—¶é—´å¹¶æ²¡æœ‰å¤ªå¤§å˜åŒ–.ä¸»è¦æ˜¯totalæ—¶é—´å‡å°‘.</p><p>æœ‰æ„æ€çš„æ˜¯-j6æƒ…å†µä¸‹ç¼–è¯‘æ—¶é—´å¹¶æ²¡æœ‰æƒ³è±¡çš„å‡å°çš„é‚£ä¹ˆå¤š,åˆæ­¥ä¼°è®¡æ˜¯è™šæ‹Ÿæœºçš„é€»è¾‘cpuæœºåˆ¶å¯¼è‡´.</p><h3 id="Cmakeä½¿ç”¨"><a href="#Cmakeä½¿ç”¨" class="headerlink" title="Cmakeä½¿ç”¨"></a>Cmakeä½¿ç”¨</h3><p>åŒæ—¶,ç”±äºmakefileç¼–å†™è¾ƒä¸ºéº»çƒ¦,è¿™é‡Œç”¨cmakeå®ç°ä¸€ä¸‹,ä¸è¿‡æœ¬è´¨ä¸Šå·®åˆ«ä¸å¤§.</p><p>CMakeæ˜¯ä¸€ä¸ª<strong>è·¨å¹³å°</strong>çš„ç¼–è¯‘(Build)å·¥å…·,å¯ä»¥ç”¨ç®€å•çš„è¯­å¥æ¥æè¿°æ‰€æœ‰å¹³å°çš„ç¼–è¯‘è¿‡ç¨‹ã€‚</p><p>CMakeèƒ½å¤Ÿè¾“å‡ºå„ç§å„æ ·çš„makefileæˆ–è€…projectæ–‡ä»¶.ä¹Ÿå°±æ˜¯è¯´åªè¦æˆ‘ä»¬é…ç½®å¥½äº†cmakeæ–‡ä»¶(CMakeLists.txt),å°±èƒ½è¾“å‡ºå¯¹åº”çš„makefile,æˆ‘ä»¬å†makeå°±è¡Œäº†<sup><a href="#fn_7" id="reffn_7">7</a></sup>.</p><p>cmakeæ˜¯è·¨å¹³å°çš„,æˆ‘åœ¨windowsä¸Šç¼–å†™cmakelists,cmakeå¯ä»¥æŒ‡å®šæ„å»ºçš„ç›®çš„,å¯ä»¥æ˜¯ä¸€èˆ¬çš„MinGW,ä¹Ÿå¯ä»¥æ˜¯Ninjaç­‰.</p><p>éœ€è¦åœ¨CMakeLists.txtæ–‡ä»¶ä¸­æŒ‡å®šå¦‚ä¸‹å‡ é¡¹ï¼Œcmakeç‰ˆæœ¬ã€å·¥ç¨‹åã€æ„å»ºç›®æ ‡appçš„æºæ–‡ä»¶</p><ol><li><code>cmake_minimum_required</code>ï¼šæŒ‡å®šè¿è¡Œæ­¤é…ç½®æ–‡ä»¶æ‰€éœ€çš„ CMake çš„æœ€ä½ç‰ˆæœ¬ï¼›</li><li><code>project</code>ï¼šå‚æ•°å€¼æ˜¯ <code>Demo1</code>ï¼Œè¯¥å‘½ä»¤è¡¨ç¤ºé¡¹ç›®çš„åç§°æ˜¯ <code>Demo1</code> ã€‚</li><li><code>add_executable</code>ï¼š å°†åä¸º main.cc çš„æºæ–‡ä»¶ç¼–è¯‘æˆä¸€ä¸ªåç§°ä¸º Demo çš„å¯æ‰§è¡Œæ–‡ä»¶</li></ol><p><img data-src="http://cdn.sekyoro.top/imgs/093322.png" alt="cmakeæ„å»º"></p><p>cmakeåœ¨ä¸åŒå¹³å°é»˜è®¤çš„æ„å»ºç›®æ ‡(generators)ä¸ä¸€æ ·,æˆ‘çš„åœ¨Windowsä¸Šæ˜¯visual studio,Linuxä¸Šæ˜¯Unix Makefiles,éœ€è¦æŒ‰ç…§è‡ªå·±è¦æ±‚ä¿®æ”¹.</p><p>æ‰§è¡Œcmakeåä¼šåœ¨æ ¹æ®æŒ‡å®šè·¯å¾„æ‰¾åˆ°CMakeLists.txt,ç„¶åæŒ‰ç…§è¦æ±‚æ„å»º,æ„å»ºæ–‡ä»¶ç­‰åœ¨æ‰§è¡Œå‘½ä»¤çš„æœ¬ç›®å½•ä¸‹äº§ç”Ÿ.ç”±CMakeCache.txt,cmake_install.cmake,Makefileå’ŒCMakeFilesæ–‡ä»¶å¤¹ç­‰.</p><p>æˆ‘ä»¬ä¸»è¦å…³æ³¨ç”Ÿæˆçš„Makefile.ç„¶ååœ¨è¯¥ç›®å½•ä¸‹makeå³å¯.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093324.png" alt="cmake"><img data-src="http://cdn.sekyoro.top/imgs/093327.png" alt="make"></p><p>è¿™æ ·æŒ‰ç…§generatorçš„makefileç­‰æ„å»ºå°±å®Œæˆäº†.</p><h3 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h3><p><sup><a href="#fn_1" id="reffn_1">1</a></sup>:<a href="https://zhuanlan.zhihu.com/p/345669064">Cè¯­è¨€æœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡æ˜¯å¤šå°‘ï¼Ÿ - çŸ¥ä¹ (zhihu.com)</a> äº‹å®ä¸Š,æœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡ä¸ä¸€å®šä¸º0,è¿™ä¸ç¼–è¯‘å™¨æœ‰å…³.<br><sup><a href="#fn_2" id="reffn_2">2</a></sup>:<a href="https://blog.csdn.net/weixin_43955214/article/details/104138416">(58æ¡æ¶ˆæ¯) ä»£ç æ®µ(.text)ã€æ•°æ®åŒº(.data)å’Œbssæ®µ<em>baymaxlyçš„åšå®¢-CSDNåšå®¢</em>.textæ®µ</a></p><p><sup><a href="#fn_3" id="reffn_3">3</a></sup>:<a href="https://www.cnblogs.com/james1207/archive/2013/10/10/3362277.html">Cè¯­è¨€å…¨å±€æœªåˆå§‹åŒ–æ•°æ®æ®µåˆ†æ - Class Xman - åšå®¢å›­ (cnblogs.com)</a>å¾ˆå¥½çš„æ–‡ç« <br><sup><a href="#fn_4" id="reffn_4">4</a></sup>:<a href="https://blog.csdn.net/qqliyunpeng/article/details/45116615">(58æ¡æ¶ˆæ¯) ARMä¸­çš„â€”-æ±‡ç¼–æŒ‡ä»¤<em>è€é¹-CSDNåšå®¢</em>æ±‡ç¼–.quad</a><br><sup><a href="#fn_5" id="reffn_5">5</a></sup>:<a href="https://www.cnblogs.com/yanghong-hnu/p/4705755.html">(æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ) bssæ®µï¼Œdataæ®µã€textæ®µã€å †(heap)å’Œæ ˆ(stack) - è·‘é©¬ç¯çš„å¿§ä¼¤ - åšå®¢å›­ (cnblogs.com)</a><br><sup><a href="#fn_6" id="reffn_6">6</a></sup>:<a href="http://c.biancheng.net/linux/time.html">timeå‘½ä»¤_Linux timeå‘½ä»¤ï¼šæµ‹é‡å‘½ä»¤çš„æ‰§è¡Œæ—¶é—´æˆ–è€…ç³»ç»Ÿèµ„æºçš„ä½¿ç”¨æƒ…å†µ (biancheng.net)</a><br><sup><a href="#fn_7" id="reffn_7">7</a></sup>:<a href="https://www.cnblogs.com/ybqjymy/p/13409050.html">è¶…è¯¦ç»†çš„CMakeæ•™ç¨‹ - ä¸€æ¯æ¸…é…’é‚€æ˜æœˆ - åšå®¢å›­ (cnblogs.com)</a></p><p><sup><a href="#fn_8" id="reffn_8">8</a></sup>:<a href="https://blog.csdn.net/lqy971966/article/details/106905237">readelf å’Œ objdump ä¾‹å­è¯¦è§£åŠåŒºåˆ«_å“ˆå°¼çš„åšå®¢-CSDNåšå®¢_readelfå’Œobjdump</a></p><p><sup><a href="#fn_9" id="reffn_9">9</a></sup>:<a href="https://www.jianshu.com/p/863b279c941e">ä½¿ç”¨readelfå’Œobjdumpè§£æç›®æ ‡æ–‡ä»¶ - ç®€ä¹¦ (jianshu.com)</a></p><h3 id="ä¸ªäººæ„Ÿæƒ³"><a href="#ä¸ªäººæ„Ÿæƒ³" class="headerlink" title="ä¸ªäººæ„Ÿæƒ³"></a>ä¸ªäººæ„Ÿæƒ³</h3><p>æˆ‘æ›´åŠ ç†Ÿæ‚‰äº†å˜é‡å’Œå‡½æ•°åœ¨æ®µçš„åˆ†é…ä»¥åŠELFæ–‡ä»¶é“¾æ¥è§†å›¾å’Œæ‰§è¡Œè§†å›¾.</p><p>LLVMç›¸å¯¹äºgccç¡®å®æ˜¯å¥½å¾ˆå¤š,ä¸­é—´ä»£ç å¾ˆå®¹æ˜“æ‡‚ä¹Ÿå¾ˆå®¹æ˜“ç ”ç©¶,æ¨¡å—æ›´åŠ åˆ†ç¦».äº†è§£äº†ç¼–è¯‘å™¨çš„å¤§æ¦‚è®¾è®¡,ä»è¯æ³•,è¯­æ³•åˆ°è¯­ä¹‰çš„å‰ç«¯ç”ŸæˆAST,å†ç”±ASTå¾—åˆ°IR,å†å¯¹IRè¿›è¡Œä¼˜åŒ–.åç«¯æ ¹æ®ä¼˜åŒ–åçš„IRç”Ÿæˆå¯¹åº”å¹³å°çš„æœºå™¨ä»£ç .è¿™ä¸ªè¿‡ç¨‹ä¸­IRçš„ä»£ç å°±æ˜¾å¾—å¾ˆé‡è¦.</p><p>æœ€åä½¿ç”¨äº†makeå¹¶è¡Œç¼–è¯‘.ä¸è¿‡æˆ‘å†™çš„ä»£ç é‡è¿˜æ˜¯ä¸Šä¸å»,realæ—¶é—´0.5ç§’å·¦å³,ä¸è¿‡ä¹Ÿèƒ½çœ‹åˆ°å¹¶è¡Œç¼–è¯‘å¸¦æ¥çš„ä¼˜åŠ¿äº†.ç¼–è¯‘äº†Linuxéƒ¨åˆ†æ¨¡å—æºç ,è€—æ—¶æ¯”è¾ƒä¹…,å¹¶æ²¡æœ‰å¤šåšå‡ ç»„å®éªŒ.</p>]]></content>
      
      
      <categories>
          
          <category> course </category>
          
      </categories>
      
      
        <tags>
            
            <tag> course </tag>
            
            <tag> compile </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginxå­¦ä¹ </title>
      <link href="2022/03/05/nginx%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/03/05/nginx%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å› ä¸ºè¦åšæœåŠ¡å™¨çš„ä¸€äº›ä»£ç†è½¬å‘ç­‰,å­¦ä¹ ä¸€ä¸‹nginx</p><span id="more"></span><p>Nginx æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½çš„ HTTP å’Œåå‘ä»£ç†æœåŠ¡å™¨è½¯ä»¶.</p><p>Nginx ç”±å†…æ ¸å’Œä¸€ç³»åˆ—æ¨¡å—ç»„æˆï¼šå†…æ ¸æä¾› web æœåŠ¡çš„åŸºæœ¬åŠŸèƒ½ï¼Œå¦‚å¯ç”¨ç½‘ç»œåè®®ã€åˆ›å»ºè¿è¡Œç¯å¢ƒã€æ¥æ”¶å’Œåˆ†é…å®¢æˆ·ç«¯è¯·æ±‚ã€å¤„ç†æ¨¡å—ä¹‹é—´çš„äº¤äº’ã€‚æ¨¡å—å®ç° Nginx çš„å„ç§åŠŸèƒ½å’Œæ“ä½œï¼ŒNginx çš„æ¨¡å—ä»ç»“æ„ä¸Šåˆ†ä¸ºæ ¸å¿ƒæ¨¡å—ã€åŸºç¡€æ¨¡å—å’Œç¬¬ä¸‰æ–¹æ¨¡å—ã€‚</p><ul><li>æ ¸å¿ƒæ¨¡å—ï¼š HTTP æ¨¡å—ã€EVENT æ¨¡å—å’Œ MAIL æ¨¡å—</li><li>åŸºç¡€æ¨¡å—ï¼š HTTP Access æ¨¡å—ã€HTTP FastCGI æ¨¡å—ã€HTTP Proxy æ¨¡å—å’Œ HTTP Rewrite æ¨¡å—</li><li>ç¬¬ä¸‰æ–¹æ¨¡å—ï¼š HTTP Upstream Request Hash æ¨¡å—ã€Notice æ¨¡å—å’Œ HTTP Access Key æ¨¡å—åŠç”¨æˆ·è‡ªå·±å¼€å‘çš„æ¨¡å—</li></ul><blockquote><p>å½“ web åº”ç”¨å‘å±•åˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œå•å°æœåŠ¡å™¨ä¸è¶³ä»¥æ”¯æ’‘ä¸šåŠ¡çš„æ­£å¸¸è¿è¡Œï¼Œä¸ºå¢å¤§ååé‡å¾€å¾€ä¼šä½¿ç”¨å¤šå°æœåŠ¡å™¨ä¸€èµ·æä¾›æœåŠ¡ï¼Œå¦‚ä½•å……åˆ†åˆ©ç”¨å¤šå°æœåŠ¡å™¨çš„èµ„æºï¼Œå°±éœ€è¦ä¸€ä¸ªâ€˜è°ƒåº¦å‘˜â€™ï¼Œè¿™ä¸ªè°ƒåº¦å‘˜è¦æ±‚èƒ½é«˜æ•ˆçš„æ¥æ”¶å¹¶åˆ†å‘è¯·æ±‚ï¼ŒçŸ¥é“åç«¯çš„æœåŠ¡å™¨å¥åº·çŠ¶æ€ï¼Œè¦èƒ½æ–¹ä¾¿çš„æ‰©å±•å’Œç§»é™¤ï¼Œè¿™å°±æ˜¯ Nginx åˆä¸€å¸¸è§åº”ç”¨æ¶æ„ï¼Œæ­¤æ¶æ„å……åˆ†åˆ©ç”¨äº† Nginx çš„åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡çš„ä¼˜åŠ¿ï¼ŒNginx æœ¬èº«ä¸æä¾› web æœåŠ¡ï¼Œè€Œæ˜¯åœ¨å‰ç«¯æ¥å— Web è¯·æ±‚å¹¶åˆ†å‘åˆ°åç«¯æœåŠ¡å™¨å¤„ç†ï¼Œåç«¯æœåŠ¡å™¨å¯ä»¥æ˜¯ Apacheã€Tomcatã€IIS ç­‰</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bomb labå®éªŒ</title>
      <link href="2022/02/24/Bomb-lab%E5%AE%9E%E9%AA%8C/"/>
      <url>2022/02/24/Bomb-lab%E5%AE%9E%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>csappçš„ç¬¬äºŒä¸ªå®éªŒ.<br>ä¹‹å‰ç¨€é‡Œç³Šæ¶‚çš„åšè¿‡,ä½†æ˜¯å¹¶ä¸æ˜¯å¤ªæ‡‚.ç°åœ¨é‡åšä¸€ä¸‹.<br><span id="more"></span></p><h2 id="å¼€å§‹çš„å‡†å¤‡"><a href="#å¼€å§‹çš„å‡†å¤‡" class="headerlink" title="å¼€å§‹çš„å‡†å¤‡"></a>å¼€å§‹çš„å‡†å¤‡</h2><p><a href="http://csapp.cs.cmu.edu/3e/labs.html">CS:APP3e, Bryant and Oâ€™Hallaron (cmu.edu)</a></p><p>å®éªŒç½‘å€,æœ‰å¥½å‡ ä¸ªlab.é€‰æ‹©Bomb labçš„self-studyå°±è¡Œäº†.æœ€æ–°ç‰ˆ2016å¹´çš„.</p><p>åŸæ¥åšçš„æ—¶å€™è€å¸ˆæ²¡æœ‰å‘æ–‡æ¡£,ç°åœ¨æœ‰ä¸ªbomblabæ–‡æ¡£,å¾ˆæœ‰ç”¨.</p><p>æˆ‘è¿˜æ‰¾åˆ°äº†è¿™ç¯‡pdfçš„æœºç¿»,ä¸è¿‡å»ºè®®ä¸€èµ·çœ‹.<a href="https://blog.csdn.net/weixin_43362650/article/details/121047514">ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹å®éªŒäºŒBomb Labä¸‹è½½å’Œå®˜æ–¹æ–‡æ¡£æœºç¿»_è¾¾çš„ç¨‹åºå‘˜æ—¥è®°-CSDNåšå®¢</a></p><p><del>è¯´å®è¯,åˆ°ç°åœ¨æˆ‘è¿˜æ˜¯æœ‰ç‚¹ä¸æ‡‚</del></p><p>éœ€è¦ä¸€ç‚¹å¯¹äºäºŒè¿›åˆ¶æ–‡ä»¶å’Œæ±‡ç¼–åŸºç¡€.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093711.png" alt="äºŒè¿›åˆ¶æ–‡ä»¶ç»„æˆ"></p><ul><li>ELFæ–‡ä»¶å¤´ï¼šå­˜å‚¨æ–‡ä»¶ç±»å‹å’Œå¤§å°çš„æœ‰å…³ä¿¡æ¯ï¼Œä»¥åŠæ–‡ä»¶åŠ è½½åç¨‹åºæ‰§è¡Œçš„å…¥å£ä¿¡æ¯</li><li>ç¨‹åºå¤´è¡¨ï¼šå¯æ‰§è¡Œæ–‡ä»¶çš„æ•°æ®åœ¨è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­çš„ç»„ç»‡æ–¹å¼ï¼Œä»¥åŠæ®µçš„æ•°ç›®ï¼Œä½ç½®ä»¥åŠç”¨é€”</li><li>èŠ‚ï¼šå°†æ–‡ä»¶åˆ†æˆä¸€ä¸ªä¸ªèŠ‚åŒºï¼Œæ¯ä¸ªèŠ‚åŒºéƒ½æœ‰å…¶å¯¹åº”çš„åŠŸèƒ½ï¼Œå¦‚ç¬¦å·è¡¨ï¼Œå“ˆå¸Œè¡¨ç­‰</li><li>æ®µï¼šå°±æ˜¯å°†æ–‡ä»¶åˆ†æˆä¸€æ®µä¸€æ®µæ˜ å°„åˆ°å†…å­˜ä¸­ã€‚æ®µä¸­é€šå¸¸åŒ…æ‹¬ä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚åŒº</li><li>èŠ‚å¤´è¡¨ï¼šå­˜å‚¨æ®µçš„é™„åŠ ä¿¡æ¯</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/093713.png" alt="ç±»ä¼¼çš„"></p><p>å¤§ç«¯æ¨¡å¼ä¸å°ç«¯æ¨¡å¼  </p><blockquote><p><strong>å¤§ç«¯ï¼šå¤šå­—èŠ‚å€¼çš„å¤§ç«¯å­˜å‚¨åœ¨è¯¥å€¼çš„èµ·å§‹ä½ç½®ï¼›ï¼ˆè€å¤§ç«™æ’å¤´ä¸ºå¤§ï¼‰ </strong></p><p><strong>å°ç«¯ï¼šå¤šå­—èŠ‚å€¼çš„å°ç«¯å­˜å‚¨åœ¨è¯¥å€¼çš„èµ·å§‹ä½ç½®</strong></p></blockquote><p>æˆ‘è¿™é‡Œæ˜¯å°ç«¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/065644.png" alt="64ä½cpu"></p><h3 id="objdumpä¸gdbå¸¸ç”¨å‘½ä»¤"><a href="#objdumpä¸gdbå¸¸ç”¨å‘½ä»¤" class="headerlink" title="objdumpä¸gdbå¸¸ç”¨å‘½ä»¤"></a>objdumpä¸gdbå¸¸ç”¨å‘½ä»¤</h3><p>(å…¶å®æˆ‘è§‰å¾—å‘½ä»¤å¤ªå¤šäº†è®°ä¸å®Œçš„,è®°ä½é‡è¦çš„éœ€è¦æ—¶å†æŸ¥å°±è¡Œäº†)</p><h4 id="objdump"><a href="#objdump" class="headerlink" title="objdump"></a>objdump</h4><blockquote><p>-f æ–‡ä»¶å¤´ä¿¡æ¯</p><p>-h èŠ‚å¤´è¡¨ä¿¡æ¯ è¾“å‡ºç›®æ ‡æ–‡ä»¶ä¸­èŠ‚è¡¨ï¼ˆSection Tableï¼‰ä¸­æ‰€åŒ…å«çš„æ‰€æœ‰èŠ‚å¤´ï¼ˆSection Headerï¼‰çš„ä¿¡æ¯</p><p>-x æ‰€æœ‰çš„å¤´ä¿¡æ¯ åŒ…æ‹¬æ–‡ä»¶å¤´,ç¨‹åºå¤´å’ŒèŠ‚å¤´è¿˜åŒ…æ‹¬ç¬¦å·è¡¨ä¿¡æ¯</p><p>-d åæ±‡ç¼– å¯æ‰§è¡ŒèŠ‚(æ®µ)ä¿¡æ¯</p><p>-D åæ±‡ç¼–æ‰€æœ‰èŠ‚(æ®µ)ä¿¡æ¯</p><p>-S æºä»£ç ä¸æ±‡ç¼–æ··åˆ ç¼–è¯‘æ—¶éœ€è¦-g</p><p>-s æ‰€æœ‰èŠ‚ä»¥åŠäºŒè¿›åˆ¶</p><p>-t æ˜¾ç¤ºç¬¦å·è¡¨</p><p>-T åŠ¨æ€ç¬¦å·è¡¨</p></blockquote><p><strong>æ–‡ä»¶å¤´</strong></p><p><img data-src="http://cdn.sekyoro.top/imgs/065645.png" alt="æ–‡ä»¶å¤´ä¿¡æ¯"></p><p><strong>èŠ‚(æ®µ)å¤´ä¿¡æ¯</strong></p><p><img data-src="http://cdn.sekyoro.top/imgs/093715.png" alt="æ®µå¤´è¡¨"></p><p><strong>åæ±‡ç¼–ç»“æœ</strong></p><p><img data-src="http://cdn.sekyoro.top/imgs/093718.png" alt="åæ±‡ç¼–"></p><p><strong>ç¬¦å·è¡¨</strong></p><p><img data-src="http://cdn.sekyoro.top/imgs/093721.png" alt="ç¬¦å·è¡¨"></p><p><a href="https://ipcmen.com/objdump">Linux objdump å‘½ä»¤ç”¨æ³•è¯¦è§£-Linuxå‘½ä»¤å¤§å…¨ï¼ˆæ‰‹å†Œï¼‰ (ipcmen.com)</a></p><p>èŠ‚(æ®µ)ä»‹ç»(æ³¨æ„.bssä¸.data .rodata)</p><blockquote><ul><li>.textï¼šå·²ç¼–è¯‘ç¨‹åºçš„æœºå™¨ä»£ç ã€‚</li><li>.rodataï¼šåªè¯»æ•°æ®ï¼Œæ¯”å¦‚printfè¯­å¥ä¸­çš„æ ¼å¼ä¸²å’Œå¼€å…³ï¼ˆswitchï¼‰è¯­å¥çš„è·³è½¬è¡¨ã€‚</li><li>.dataï¼šå·²åˆå§‹åŒ–çš„å…¨å±€Cå˜é‡ã€‚å±€éƒ¨Cå˜é‡åœ¨è¿è¡Œæ—¶è¢«ä¿å­˜åœ¨æ ˆä¸­ï¼Œæ—¢ä¸å‡ºç°åœ¨.dataä¸­ï¼Œä¹Ÿä¸å‡ºç°åœ¨.bssèŠ‚ä¸­ã€‚</li><li>.bssï¼šæœªåˆå§‹åŒ–çš„å…¨å±€Cå˜é‡ã€‚åœ¨ç›®æ ‡æ–‡ä»¶ä¸­è¿™ä¸ªèŠ‚ä¸å æ®å®é™…çš„ç©ºé—´ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚ç›®æ ‡æ–‡ä»¶æ ¼å¼åŒºåˆ†åˆå§‹åŒ–å’Œæœªåˆå§‹åŒ–å˜é‡æ˜¯ä¸ºäº†ç©ºé—´æ•ˆç‡åœ¨ï¼šåœ¨ç›®æ ‡æ–‡ä»¶ä¸­ï¼Œæœªåˆå§‹åŒ–å˜é‡ä¸éœ€è¦å æ®ä»»ä½•å®é™…çš„ç£ç›˜ç©ºé—´ã€‚</li><li>.symtabï¼šä¸€ä¸ªç¬¦å·è¡¨ï¼ˆsymbol tableï¼‰ï¼Œå®ƒå­˜æ”¾åœ¨ç¨‹åºä¸­è¢«å®šä¹‰å’Œå¼•ç”¨çš„å‡½æ•°å’Œå…¨å±€å˜é‡çš„ä¿¡æ¯ã€‚ä¸€äº›ç¨‹åºå‘˜é”™è¯¯åœ°è®¤ä¸ºå¿…é¡»é€šè¿‡-gé€‰é¡¹æ¥ç¼–è¯‘ä¸€ä¸ªç¨‹åºï¼Œå¾—åˆ°ç¬¦å·è¡¨ä¿¡æ¯ã€‚å®é™…ä¸Šï¼Œæ¯ä¸ªå¯é‡å®šä½ç›®æ ‡æ–‡ä»¶åœ¨.symtabä¸­éƒ½æœ‰ä¸€å¼ ç¬¦å·è¡¨ã€‚ç„¶è€Œï¼Œå’Œç¼–è¯‘å™¨ä¸­çš„ç¬¦å·è¡¨ä¸åŒï¼Œ.symtabç¬¦å·è¡¨ä¸åŒ…å«å±€éƒ¨å˜é‡çš„è¡¨ç›®ã€‚</li><li>.rel.textï¼šå½“é“¾æ¥å™æŠŠè¿™ä¸ªç›®æ ‡æ–‡ä»¶å’Œå…¶ä»–æ–‡ä»¶ç»“åˆæ—¶ï¼Œ.textèŠ‚ä¸­çš„è®¸å¤šä½ç½®éƒ½éœ€è¦ä¿®æ”¹ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œä»»ä½•è°ƒç”¨å¤–éƒ¨å‡½æ•°æˆ–è€…å¼•ç”¨å…¨å±€å˜é‡çš„æŒ‡ä»¤éƒ½éœ€è¦ä¿®æ”¹ã€‚å¦ä¸€æ–¹é¢è°ƒç”¨æœ¬åœ°å‡½æ•°çš„æŒ‡ä»¤åˆ™ä¸éœ€è¦ä¿®æ”¹ã€‚æ³¨æ„ï¼Œå¯æ‰§è¡Œç›®æ ‡æ–‡ä»¶ä¸­å¹¶ä¸éœ€è¦é‡å®šä½ä¿¡æ¯ï¼Œå› æ­¤é€šå¸¸çœç•¥ï¼Œé™¤éä½¿ç”¨è€…æ˜¾å¼åœ°æŒ‡ç¤ºé“¾æ¥å™¨åŒ…å«è¿™äº›ä¿¡æ¯ã€‚</li><li>.rel.dataï¼šè¢«æ¨¡å—å®šä¹‰æˆ–å¼•ç”¨çš„ä»»ä½•å…¨å±€å˜é‡çš„ä¿¡æ¯ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œä»»ä½•å·²åˆå§‹åŒ–å…¨å±€å˜é‡çš„åˆå§‹å€¼æ˜¯å…¨å±€å˜é‡æˆ–è€…å¤–éƒ¨å®šä¹‰å‡½æ•°çš„åœ°å€éƒ½éœ€è¦è¢«ä¿®æ”¹ã€‚</li><li>.debugï¼šä¸€ä¸ªè°ƒè¯•ç¬¦å·è¡¨ï¼Œå…¶æœ‰äº›è¡¨ç›®æ˜¯ç¨‹åºä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡å’Œç±»å‹å®šä¹‰ï¼Œæœ‰äº›è¡¨ç›®æ˜¯ç¨‹åºä¸­å®šä¹‰å’Œå¼•ç”¨çš„å…¨å±€å˜é‡ï¼Œæœ‰äº›æ˜¯åŸå§‹çš„Cæºæ–‡ä»¶ã€‚åªæœ‰ä»¥-gé€‰é¡¹è°ƒç”¨ç¼–è¯‘é©±åŠ¨ç¨‹åºæ—¶ï¼Œæ‰ä¼šå¾—åˆ°è¿™å¼ è¡¨ã€‚</li><li>.lineï¼šåŸå§‹Cæºç¨‹åºä¸­çš„è¡Œå·å’Œ.textèŠ‚ä¸­æœºå™¨æŒ‡ä»¤ä¹‹é—´çš„æ˜ å°„ã€‚åªæœ‰ä»¥-gé€‰é¡¹è°ƒç”¨ç¼–è¯‘é©±åŠ¨ç¨‹åºæ—¶ï¼Œæ‰ä¼šå¾—åˆ°è¿™å¼ è¡¨ã€‚</li><li>.strtabï¼šä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ï¼Œå…¶å†…å®¹åŒ…æ‹¬.symtabå’Œ.debugèŠ‚ä¸­çš„ç¬¦å·è¡¨ï¼Œä»¥åŠèŠ‚å¤´éƒ¨ä¸­çš„èŠ‚åå­—ã€‚å­—ç¬¦ä¸²è¡¨å°±æ˜¯ä»¥nullç»“å°¾çš„å­—ç¬¦ä¸²åºåˆ—ã€‚</li></ul></blockquote><h4 id="gdb"><a href="#gdb" class="headerlink" title="gdb"></a>gdb</h4><blockquote><p>gdb <file> è¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶</p><p>run ç®€ä»‹r è¿è¡Œ ç›´åˆ°æ‰§è¡Œæ•´ä¸ªç¨‹åºæˆ–æ–­ç‚¹å¤„</p><p>break ç®€å†™b æ‰“æ–­ç‚¹</p><p>æ³¨æ„æ‰“æ–­ç‚¹å¯ä»¥åœ¨ è¡Œå· å‡½æ•° å†…å­˜åœ°å€å¤„</p><p>delete ç®€å†™d åˆ é™¤æ–­ç‚¹</p><p>x/nfu addr æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼è€Œéç¨‹åºçš„æ•°æ®ç±»å‹è€ƒå¯Ÿå†…å­˜æ•°æ®(è¿™ä¸ªæŒ‡ä»¤å¾ˆæœ‰æ„æ€)</p><p>continue ç®€å†™c ç»§ç»­æ‰§è¡Œè¢«è°ƒè¯•ç¨‹åº ç›´åˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹æˆ–ç»“æŸ</p><p>step ç®€å†™s æ‰§è¡Œä¸€è¡Œæºç¨‹åºä»£ç ï¼Œå¦‚æœæ­¤è¡Œä»£ç ä¸­æœ‰å‡½æ•°è°ƒç”¨ï¼Œåˆ™è¿›å…¥è¯¥å‡½æ•°</p><p>next ç®€å†™n æ‰§è¡Œä¸€è¡Œæºç¨‹åºä»£ç ï¼Œæ­¤è¡Œä»£ç ä¸­çš„å‡½æ•°è°ƒç”¨ä¹Ÿä¸€å¹¶æ‰§è¡Œ</p><p>æ³¨æ„å¯¹äºæ±‡ç¼–æˆ‘ä»¬éœ€è¦ä½¿ç”¨si,niä»£æ›¿</p><p>print ç®€å†™p æ˜¾ç¤ºå˜é‡å€¼</p><p>display  è®¾ç½®ç¨‹åºä¸­æ–­åæ¬²æ˜¾ç¤ºçš„æ•°æ®åŠå…¶æ ¼å¼  /i è¡¨ç¤ºä»¥åå…­è¿›è¡Œæ˜¾ç¤º</p><p>undispalyï¼Œå–æ¶ˆå…ˆå‰çš„displayè®¾ç½®ï¼Œç¼–å·ä»1å¼€å§‹é€’å¢</p><p>quit ç®€å†™q é€€å‡º</p></blockquote><p>å€¼å¾—ä¸€æçš„æ˜¯gdb tuiæ¨¡å¼,</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gdb -tui <span class="comment">#è¿›å…¥</span></span><br><span class="line"><span class="comment">#æˆ–è€…gdbè¿›å…¥å</span></span><br><span class="line">focous <span class="comment">#è¿›å…¥tui</span></span><br><span class="line">ctrl+x a <span class="comment">#é€€å‡ºtui</span></span><br><span class="line">layout  asm|reg|split|src <span class="comment">#å±•ç¤ºç›¸å…³ä¿¡æ¯</span></span><br><span class="line">ctrl+p ctrl+n <span class="comment">#gdbä¸Šä¸€æ¡ ä¸‹ä¸€æ¡å‘½ä»¤</span></span><br><span class="line">Ctrl + L <span class="comment">#åˆ·æ–°çª—å£</span></span><br><span class="line">Ctrl + x <span class="comment">#å†æŒ‰1ï¼šå•çª—å£æ¨¡å¼ï¼Œæ˜¾ç¤ºä¸€ä¸ªçª—å£</span></span><br><span class="line">Ctrl + x <span class="comment">#å†æŒ‰2ï¼šåŒçª—å£æ¨¡å¼ï¼Œæ˜¾ç¤ºä¸¤ä¸ªçª—å£</span></span><br></pre></td></tr></table></figure><p>å…ˆçŸ¥é“è¿™ä¹ˆå¤šå§.</p><p><a href="https://blog.csdn.net/qq_41071068/article/details/103007550">Linux è°ƒè¯•å™¨gdbå‘½ä»¤åŠTUIæ¨¡å¼</a></p><p><a href="http://csapp.cs.cmu.edu/3e/docs/gdbnotes-x86-64.pdf">Enscript Output (cmu.edu)</a></p><p>æ³¨æ„æ±‡ç¼–æŒ‡ä»¤ä¹Ÿæœ‰æ ¼å¼ å¯ä»¥çœ‹å‡ºè¿™é‡Œæ˜¯AT&amp;Tæ ¼å¼</p><p><a href="https://www.cnblogs.com/hdk1993/p/4820353.html">Intelæ ¼å¼å’ŒAT&amp;Tæ ¼å¼æ±‡ç¼–åŒºåˆ«</a></p><p>åŒæ—¶æ³¨æ„æ±‡ç¼–æŒ‡ä»¤ call ret leave</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">call addr:</span><br><span class="line">push rip</span><br><span class="line">mov addr rip</span><br><span class="line">#callæŒ‡ä»¤ è°ƒç”¨å‡½æ•°</span><br><span class="line">ret :</span><br><span class="line">pop rip</span><br><span class="line">#retæŒ‡ä»¤  è¿”å›</span><br><span class="line">leave :</span><br><span class="line">mov rbp rsp</span><br><span class="line">pop rbp</span><br><span class="line">#leaveæŒ‡ä»¤ å…³é—­æ ˆå¸§</span><br></pre></td></tr></table></figure><p><a href="http://c.biancheng.net/view/3537.html">æ±‡ç¼–è¯­è¨€CALLå’ŒRETæŒ‡ä»¤ï¼šè°ƒç”¨ä¸€ä¸ªè¿‡ç¨‹ (biancheng.net)</a></p><p>è¿˜æœ‰vimæŸ¥çœ‹16è¿›åˆ¶,å› ä¸ºéœ€è¦ä¿®æ”¹äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">#</span>æ‰“å¼€fileæ–‡ä»¶</span><br><span class="line">vim file</span><br><span class="line"><span class="params">#</span>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥.. ä»¥16è¿›åˆ¶æ˜¾ç¤º</span><br><span class="line">:<span class="comment">%!xxd</span></span><br><span class="line"><span class="params">#</span>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥.. åˆ‡æ¢å›é»˜è®¤æ˜¾ç¤º</span><br><span class="line">:<span class="comment">%!xxd -r</span></span><br></pre></td></tr></table></figure><h4 id="readelf"><a href="#readelf" class="headerlink" title="readelf"></a>readelf</h4><blockquote><p>-h ELFæ–‡ä»¶å¼€å§‹çš„æ–‡ä»¶å¤´ä¿¡æ¯</p><p>-l ç¨‹åºå¤´  èŠ‚åˆ°æ®µçš„æ˜ å°„</p><p>-S æ˜¾ç¤ºèŠ‚å¤´ä¿¡æ¯</p><p>-s ç¬¦å·è¡¨ä¿¡æ¯</p><p>-r æ˜¾ç¤ºå¯é‡å®šä½æ®µçš„ä¿¡æ¯</p><p>-d æ˜¾ç¤ºåŠ¨æ€æ®µçš„ä¿¡æ¯</p></blockquote><h2 id="æ­£å¼å¼€å§‹"><a href="#æ­£å¼å¼€å§‹" class="headerlink" title="æ­£å¼å¼€å§‹"></a>æ­£å¼å¼€å§‹</h2><h3 id="initial-bomb"><a href="#initial-bomb" class="headerlink" title="initial_bomb"></a>initial_bomb</h3><p>é¦–å…ˆå…ˆçœ‹æºæ–‡ä»¶,ä¸å¾—ä¸è¯´è¿™ä¸ªä½œè€…çœŸçš„å¾ˆhumorous.</p><p>æ³¨æ„å¦‚æœè¿è¡Œæ—¶æ— å‚æ•°å°±è¯»å–è¾“å…¥,å¦åˆ™è¯»å–æ–‡ä»¶.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093724.png" alt="æ ¹æ®å‚æ•°ç¡®å®šè¾“å…¥"></p><p>ç„¶åè¿›å…¥äº†initialize_bombå‡½æ•°,æˆ‘ä»¬å°è¯•çœ‹ä¸€çœ‹.</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objdump -d bomb</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥æŸ¥çœ‹.textæ®µé‡Œçš„ä¿¡æ¯.</p><p>æŸ¥çœ‹initialize_bombè¿™ä¸ªå‡½æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">00000000004013a2 &lt;initialize_bomb&gt;:</span><br><span class="line">  4013a2:       48 83 ec 08             sub    $0x8,%rsp</span><br><span class="line">  4013a6:       be a0 12 40 00          mov    $0x4012a0,%esi</span><br><span class="line">  4013ab:       bf 02 00 00 00          mov    $0x2,%edi</span><br><span class="line">  4013b0:       e8 db f7 ff ff          callq  400b90 &lt;signal@plt&gt;</span><br><span class="line">  4013b5:       48 83 c4 08             add    $0x8,%rsp</span><br><span class="line">  4013b9:       c3   </span><br></pre></td></tr></table></figure><p>é¦–å…ˆå¼€æ ˆ,æ³¨æ„è¿™æ˜¯x86_64æ¶æ„çš„,movæŒ‡ä»¤æ˜¯mov src-&gt;dst,è¿™è·ŸintelæŒ‡ä»¤ä¸ä¸€æ ·.</p><div class="table-container"><table><thead><tr><th><strong>AT&amp;T</strong> <strong>æ ¼å¼</strong></th><th><strong>Intel</strong> <strong>æ ¼å¼</strong></th></tr></thead><tbody><tr><td>movl -4(%ebp), %eax</td><td>mov eax, [ebp - 4]</td></tr><tr><td>movl array(, %eax, 4), %eax</td><td>mov eax, [eax*4 + array]</td></tr><tr><td>movw array(%ebx, %eax, 4), %cx</td><td>mov cx, [ebx + 4*eax + array]</td></tr><tr><td>movb $4, %fs:(%eax)</td><td>mov fs:eax, 4</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>å¯„å­˜å™¨</th><th>æè¿°</th></tr></thead><tbody><tr><td>rdi</td><td>ä¼ é€’ç¬¬ä¸€ä¸ªå‚æ•°</td></tr><tr><td>rsi</td><td>ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°</td></tr></tbody></table></div><p><a href="https://blog.csdn.net/lidonghat/article/details/70244288">å¯„å­˜å™¨ä»‹ç»</a>è¿™ä¸ªå¯ä»¥çœ‹ä¸€çœ‹</p><p>è¿™é‡Œæœ‰ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç« <a href="https://mengkang.net/1390.html">x86-64 è§„å®šåªæœ‰6ä¸ªå¯„å­˜å™¨æ¥å­˜å‚æ•°ï¼Œé‚£ C å‡½æ•°ä¸ºä»€ä¹ˆè¿˜èƒ½è¶…è¿‡6ä¸ªå‚æ•°å‘¢ï¼Ÿ (mengkang.net)</a></p><p>å½“äº†è§£äº†æ±‡ç¼–åŸºç¡€çŸ¥è¯†(å…¶å®å¯ä»¥é¢å‘æœç´¢å¼•æ“å­¦ä¹ ,é‡åˆ°ä¸æ‡‚çš„æŒ‡ä»¤å»æœç´¢å°±å¯ä»¥äº†)å,æˆ‘ä»¬çŸ¥é“esiå€¼ç¬¬äºŒä¸ªå‚æ•°,ediæ˜¯ç¬¬ä¸€ä¸ªå‚æ•°.ç„¶åcallq 400b90è½¬å»æ‰§è¡Œè¿™ä¸ªå‡½æ•°.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093729.png" alt="signal@pltå‡½æ•°"></p><p>æ³¨æ„jmpq *0x2024c2(%rip)è¡¨ç¤ºè·³è½¬åˆ° %rip+0x2024c2åœ°å€æ‰€å­˜å‚¨çš„å€¼,å³0x603058åœ°å€å­˜å‚¨çš„å€¼(æ˜¯ä¸€ä¸ªåœ°å€)</p><p>è¿™ä¸ªå‡½æ•°å«signal@plt,æˆ‘ä¹Ÿä¸æ‡‚,æˆ‘åœ¨ç½‘ä¸Šæœç´¢å.è¿™è·Ÿé“¾æ¥,é‡å®šä½ç›¸å…³<a href="https://blog.csdn.net/u012741741/article/details/51870752">é‡å®šä½å’Œé“¾æ¥</a></p><p><a href="https://www.cnblogs.com/xingyun/archive/2011/12/10/2283149.html">LinuxåŠ¨æ€é“¾æ¥ä¹‹GOTä¸PLT</a></p><p><a href="https://blog.csdn.net/anzhsoft/article/details/18776111">Linux Debuggingï¼ˆä¸ƒï¼‰: ä½¿ç”¨åæ±‡ç¼–ç†è§£åŠ¨æ€åº“å‡½æ•°è°ƒç”¨æ–¹å¼GOT/PLT<em>anzhsoftçš„æŠ€æœ¯ä¸“æ -CSDNåšå®¢</em>åŠ¨æ€åº“åæ±‡ç¼–</a></p><p><a href="https://stackoverflow.com/questions/5469274/what-does-plt-mean-here">assembly - What does @plt mean here? - Stack Overflow</a></p><p>åœ¨å®é™…çš„å¯æ‰§è¡Œç¨‹åºæˆ–è€…å…±äº«ç›®æ ‡æ–‡ä»¶ä¸­ï¼ŒGOTè¡¨åœ¨åç§°ä¸º.got.pltçš„sectionä¸­ï¼ŒPLTè¡¨åœ¨åç§°ä¸º.pltçš„sectionä¸­</p><blockquote><p>GOTæ˜¯Global Offset Tableï¼Œæ˜¯ä¿å­˜åº“å‡½æ•°åœ°å€çš„åŒºåŸŸã€‚ç¨‹åºè¿è¡Œæ—¶ï¼Œåº“å‡½æ•°çš„åœ°å€ä¼šè®¾ç½®åˆ°GOTä¸­ã€‚ç”±äºåŠ¨æ€åº“çš„å‡½æ•°æ˜¯åœ¨ä½¿ç”¨æ—¶æ‰è¢«åŠ è½½ï¼Œå› æ­¤åˆšå¼€å§‹GOTè¡¨æ˜¯ç©ºçš„ã€‚åœ°å€çš„è®¾ç½®å°±æ¶‰åŠåˆ°äº†PLTï¼ŒProcedure Linkage Tableï¼Œå®ƒåŒ…å«äº†ä¸€äº›ä»£ç ä»¥è°ƒç”¨åº“å‡½æ•°ï¼Œå®ƒå¯ä»¥è¢«ç†è§£æˆä¸€ç³»åˆ—çš„å°å‡½æ•°ï¼Œè¿™äº›å°å‡½æ•°çš„æ•°é‡å…¶å®å°±æ˜¯åº“å‡½æ•°çš„è¢«ä½¿ç”¨åˆ°çš„å‡½æ•°çš„æ•°é‡ã€‚</p><p>ç®€å•æ¥è¯´ï¼ŒPLTå°±æ˜¯è·³è½¬åˆ°GOTä¸­æ‰€è®¾ç½®çš„åœ°å€è€Œå·²ã€‚å¦‚æœè¿™ä¸ªåœ°å€æ˜¯ç©ºï¼Œé‚£ä¹ˆPLTçš„è·³è½¬ä¼šå·§å¦™çš„è°ƒç”¨_dl_runtime_resolveå»è·å–æœ€ç»ˆåœ°å€å¹¶è®¾ç½®åˆ°GOTä¸­å»ã€‚ç”±äºåº“å‡½æ•°çš„åœ°å€åœ¨è¿è¡Œæ—¶ä¸ä¼šå˜ï¼Œå› æ­¤GOTä¸€æ—¦è®¾ç½®ä»¥åPLTå°±å¯ä»¥ç›´æ¥è·³è½¬åˆ°åº“å‡½æ•°çš„çœŸå®åœ°å€äº†ã€‚</p></blockquote><p>stack overflowä¸­çš„è§£ç­”,ç±»ä¼¼çš„</p><blockquote><p><code>printf@plt</code> is actually a small stub which (eventually) calls the real <code>printf</code> function, modifying things on the way to make subsequent calls faster.</p><p>The <em>real</em> <code>printf</code> function may be mapped into <em>any</em> location in a given process (virtual address space) as may the code that is trying to call it.</p><p>So, in order to allow proper code sharing of calling code (left side below) and called code (right side below), you donâ€™t want to apply any fixups to the calling code directly since that will restrict where it can be located in <em>other</em> processes.</p></blockquote><p>è®©æˆ‘ä»¬ä¹Ÿè¯•è¯•çœ‹å§.</p><p>é¦–å…ˆsignal@pltè·³è½¬åˆ°ä¸€ä¸ªåœ°å€(*0x603058),è¿™é‡Œéœ€è¦gdbçœ‹ä¸€çœ‹</p><p><img data-src="http://cdn.sekyoro.top/imgs/065647.png" alt="0x603058åœ°å€ä¸Šæ˜¯ä»€ä¹ˆå‘¢"></p><p>æ‰€ä»¥jmpåˆ°äº†0x00400b96,è¿™ä¸ªè¿™ä»½åœ°å€åˆæ˜¯ä»€ä¹ˆå‘¢,æœ‰ç‚¹çœ¼ç†Ÿï¼Ÿæ³¨æ„signal@pltä¸­çš„æ±‡ç¼–ä»£ç ,è²Œä¼¼æˆ‘ä»¬åˆè·³å›æ¥äº†.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065648.png" alt="åœ°å€ä¸Šçš„æŒ‡ä»¤"></p><p>ä½¿ç”¨gdbçš„xæŒ‡ä»¤æŸ¥çœ‹å†…å­˜çš„æ•°æ®,æŒ‡å®šx /5i è¡¨ç¤ºå¾€åäº”ä¸ªå•ä½çš„æŒ‡ä»¤(iè¡¨ç¤ºæŒ‡ä»¤),å¯ä»¥çœ‹å‡ºå…ˆæŠŠ0x0bå‹æ ˆ,åˆè·³è½¬ä¸€ä¸ªåœ°å€0x400ad0</p><p><img data-src="http://cdn.sekyoro.top/imgs/093732.png" alt="è·³è½¬çš„åœ°æ–¹"></p><p>ä½¿ç”¨gdbæ‰§è¡Œåˆ°0x400ad0å¤„</p><p><img data-src="http://cdn.sekyoro.top/imgs/065650.png" alt="image-20220225200719489"></p><p>æˆ‘åœ¨è¿™å¡äº†å¾ˆä¹…,å› ä¸ºæˆ‘ä»¥ä¸ºè·³è½¬çš„å°±æ˜¯è¿™ä¸ªåœ°å€,å®é™…ä¸Šè¿™æ˜¯32ä½çš„å€¼,æ˜¯åŸæœ¬64ä½åœ°å€çš„ä½åœ°å€.jmpqè·³è½¬åˆ°64ä½åœ°å€.è¿™ä¹Ÿè·Ÿæˆ‘gdbä½¿ç”¨ä¸ç†Ÿç»ƒæœ‰å…³</p><p><img data-src="http://cdn.sekyoro.top/imgs/065651.png" alt="image-20220225201622362"></p><p>ç„¶åæ‰§è¡Œå‡½æ•°</p><p><img data-src="http://cdn.sekyoro.top/imgs/093736.png" alt="åŠ¨æ€åº“å‡½æ•°"></p><p>è¿™ä¸­é—´åˆè·³è½¬æ‰§è¡Œäº†å¾ˆå¤šå‡½æ•°ã€‚</p><p>æœ€ååˆè·³äº†å›æ¥.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093738.png" alt="æµç¨‹å›¾"></p><p><a href="https://blog.csdn.net/qq_18661257/article/details/54694748?locationNum=1&amp;fps=1">GOTè¡¨å’ŒPLTè¡¨çŸ¥è¯†è¯¦è§£_qq_18661257çš„ä¸“æ -CSDNåšå®¢_gotè¡¨</a></p><p>å†æ¥çœ‹çœ‹ä¼ å…¥çš„å‚æ•°0x4012a0,å¯ä»¥çœ‹åˆ°è¿™æ˜¯å‡½æ•°çš„åœ°å€<img data-src="http://cdn.sekyoro.top/imgs/065652.png" alt="ä¸€ä¸ªå‡½æ•°çš„åœ°å€"></p><p>å¯ä»¥çŸ¥é“åœ¨initial_bombä¸­ä½¿ç”¨äº†signalå‡½æ•°,ä¼ å…¥ä¿¡å·é‡2,è°ƒç”¨å†™çš„sig_handlerå‡½æ•°.</p><p>sig_handlerä¸­è¿›è¡Œäº†ä¸€äº›è®¾ç½®,ä¸»è¦æ•è·ä¸­æ–­ä¿¡å·,é’ˆå¯¹ctrl+c.</p><p><a href="https://www.runoob.com/cprogramming/c-function-signal.html">C åº“å‡½æ•° â€“ signal() | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><p>å¥½äº†,initial_bombå°±è§£æåˆ°è¿™å§.</p><h3 id="phase-1"><a href="#phase-1" class="headerlink" title="phase_1"></a>phase_1</h3><p><img data-src="http://cdn.sekyoro.top/imgs/065654.png" alt="phase_1"></p><p>è¿˜æ˜¯å¾ˆå¥½ç†è§£çš„,è¯»å–è¾“å…¥å¹¶ä¼ è¾“å‡½æ•°.</p><p>ç¬¬ä¸€è¡Œå°±ä¸è¯´æ˜äº†,ä½¿ç”¨gdbè°ƒè¯•ç¬¬äºŒè¡Œ.</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b phase_1 <span class="comment">#æ‰“æ–­ç‚¹</span></span><br><span class="line">r <span class="comment">#è¿è¡Œ</span></span><br></pre></td></tr></table></figure><p>éšä¾¿è¿›è¡Œè¾“å…¥,ç„¶åè¿›å…¥å‡½æ•°.æ¥ä¸‹æ¥å°±æ˜¯è‰°éš¾çš„è¯»æ±‡ç¼–ä»£ç é˜¶æ®µ.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0x400ee0 &lt;phase_1&gt;      sub    $0x8,%rsp                                                                                          </span><br><span class="line">  0x400ee4 &lt;phase_1+4&gt;    mov    $0x402400,%esi                                                                                     </span><br><span class="line">  0x400ee9 &lt;phase_1+9&gt;    callq  0x401338 &lt;strings_not_equal&gt;                                                                        </span><br><span class="line">  0x400eee &lt;phase_1+14&gt;   test   %eax,%eax                                                                                           </span><br><span class="line">  0x400ef0 &lt;phase_1+16&gt;   je     0x400ef7 &lt;phase_1+23&gt;                                                                               </span><br><span class="line">  0x400ef2 &lt;phase_1+18&gt;   callq  0x40143a &lt;explode_bomb&gt;                                                                             </span><br><span class="line">  0x400ef7 &lt;phase_1+23&gt;   add    $0x8,%rsp                                                                                           </span><br><span class="line">  0x400efb &lt;phase_1+27&gt;   retq  </span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°é¦–å…ˆæ˜¯å¼€æ ˆ,æ ˆé¡¶ç§»åŠ¨8ä¸ªå­—èŠ‚,ç„¶åå°†$0x402400èµ‹å€¼ç»™å‡½æ•°ç¬¬äºŒä¸ªè°ƒç”¨å‚æ•°,ç„¶åè°ƒç”¨å‡½æ•°,é€šè¿‡åå­—å°±å¯ä»¥çŸ¥é“æ˜¯åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰.ç„¶åæµ‹è¯•ç»“æœæ ¹æ®ç»“æœè¿›è¡Œè·³è½¬.je è¡¨ç¤ºç›¸ç­‰å°±è·³è½¬å¦åˆ™è°ƒç”¨ç‚¸å¼¹çˆ†ç‚¸.</p><p>æˆ‘ä»¬åˆ°stings_not_equalä¸­çœ‹çœ‹,å…¶å®ä¸ç”¨ç»†çœ‹,æˆ‘ä»¬ä¸»è¦æƒ³çŸ¥é“è¿›è¡Œæ¯”è¾ƒçš„æ˜¯ä»€ä¹ˆå­—ç¬¦ä¸²,å®ƒä»¬çš„åœ°å€æ˜¯ä»€ä¹ˆ.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093741.png" alt="stings_not_equal"></p><p>é¦–å…ˆéœ€è¦è‚¯å®šçš„æ˜¯,è°ƒç”¨å­—ç¬¦ä¸²æ¯”è¾ƒå‡½æ•°éœ€è¦å‚æ•°,%esiæ˜¯ç¬¬äºŒä¸ªå‚æ•°.æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªå¯„å­˜å™¨çš„å€¼</p><p>x /sæ˜¾ç¤ºåœ°å€ä¸Šçš„å€¼,ä»¥å­—ç¬¦ä¸²å½¢å¼.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093745.png" alt="æŸ¥çœ‹å†…å­˜åœ°å€çš„å­—ç¬¦ä¸²"></p><p>ä½¿ç”¨info ræŸ¥çœ‹å¯„å­˜å™¨%rdiå€¼<img data-src="http://cdn.sekyoro.top/imgs/065657.png" alt="å¯„å­˜å™¨å€¼"></p><p>çœ‹åˆ°äº†ä¹‹å‰éšæ„è¾“å…¥çš„å‚æ•°</p><p><img data-src="http://cdn.sekyoro.top/imgs/093748.png" alt="%rdiæ‰€å­˜åœ°å€ä¸Šçš„å€¼"></p><p>æ‰€ä»¥å­—ç¬¦ä¸²ä¿®æ”¹ä¸º0x402400ä¸Šçš„å­—ç¬¦ä¸²å³å¯.</p><p>å‚æ•°å¯ä»¥ä¸ºæ–‡ä»¶,æ¯è¡Œä¸€ä¸ªé¢˜ç­”æ¡ˆ.</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./bomb myanswers.txt</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093803.png" alt="è§£å†³ç¬¬ä¸€é¢˜"></p><p>phase_defusedå‡½æ•°,æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹çœ‹.ä¼°è®¡å°±æ˜¯è¾“å‡ºä¸€äº›è¯­å¥å°±è¡Œäº†.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093808.png" alt="phase_defused"></p><h3 id="phase-2"><a href="#phase-2" class="headerlink" title="phase_2"></a>phase_2</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* The second phase is harder.  No one will ever figure out</span></span><br><span class="line"><span class="comment">     * how to defuse this... */</span></span><br><span class="line">    input = read_line();</span><br><span class="line">    phase_2(input);</span><br><span class="line">    phase_defused();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;That&#x27;s number 2.  Keep going!\n&quot;</span>);</span><br></pre></td></tr></table></figure><p>å¯ä»¥åœ¨gdbä½¿ç”¨set argsè®¾ç½®å‚æ•°ä¸ºç­”æ¡ˆæ–‡æœ¬.</p><p>ç„¶åç»§ç»­æ‰“æ–­ç‚¹,æ‰“åœ¨phase_2å³å¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/093811.png" alt="phase_2ä»£ç "></p><p>å¯ä»¥çœ‹åˆ°å…ˆè¯»å–äº†è°ƒç”¨å‡½æ•°6ä¸ªæ•°å­—,åœ¨è¿™ä¹‹å‰å°†æ ˆé¡¶åœ°å€ç§»åˆ°$rsiä¸­,å¯ä»¥çœ‹çœ‹è¿™ä¸ªå‡½æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">0x40145c &lt;read_six_numbers&gt;     sub    $0x18,%rsp                                                                                  â”‚</span><br><span class="line">â”‚   0x401460 &lt;read_six_numbers+4&gt;   mov    %rsi,%rdx                                                                                   â”‚</span><br><span class="line">â”‚   0x401463 &lt;read_six_numbers+7&gt;   lea    0x4(%rsi),%rcx                                                                              â”‚</span><br><span class="line">â”‚   0x401467 &lt;read_six_numbers+11&gt;  lea    0x14(%rsi),%rax                                                                             â”‚</span><br><span class="line">â”‚   0x40146b &lt;read_six_numbers+15&gt;  mov    %rax,0x8(%rsp)                                                                              â”‚</span><br><span class="line">â”‚   0x401470 &lt;read_six_numbers+20&gt;  lea    0x10(%rsi),%rax                                                                             â”‚</span><br><span class="line">â”‚   0x401474 &lt;read_six_numbers+24&gt;  mov    %rax,(%rsp)                                                                                 â”‚</span><br><span class="line">â”‚   0x401478 &lt;read_six_numbers+28&gt;  lea    0xc(%rsi),%r9                                                                               â”‚</span><br><span class="line">â”‚   0x40147c &lt;read_six_numbers+32&gt;  lea    0x8(%rsi),%r8                                                                               â”‚</span><br><span class="line">â”‚   0x401480 &lt;read_six_numbers+36&gt;  mov    $0x4025c3,%esi                                                                              â”‚</span><br><span class="line">â”‚   0x401485 &lt;read_six_numbers+41&gt;  mov    $0x0,%eax                                                                                   â”‚</span><br><span class="line">â”‚   0x40148a &lt;read_six_numbers+46&gt;  callq  0x400bf0 &lt;__isoc99_sscanf@plt&gt;                                                              â”‚</span><br><span class="line">â”‚   0x40148f &lt;read_six_numbers+51&gt;  cmp    $0x5,%eax                                                                                   â”‚</span><br><span class="line">â”‚   0x401492 &lt;read_six_numbers+54&gt;  jg     0x401499 &lt;read_six_numbers+61&gt;                                                              â”‚</span><br><span class="line">â”‚   0x401494 &lt;read_six_numbers+56&gt;  callq  0x40143a &lt;explode_bomb&gt;                                                                     â”‚</span><br><span class="line">â”‚   0x401499 &lt;read_six_numbers+61&gt;  add    $0x18,%rsp                                                                                  â”‚</span><br><span class="line">â”‚   0x40149d &lt;read_six_numbers+65&gt;  retq</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°è°ƒç”¨äº†sscanf@pltä¹Ÿå°±æ˜¯åé¢ä¼šæ‰§è¡Œsanfå‡½æ•°,éœ€è¦ä¸¤å‚æ•°,ä¸€ä¸ªæ ¼å¼å­—ç¬¦ä¸².çœ‹åˆ°mov $0x4025c3 %esi,çœ‹ä¸€ä¸‹æ˜¯ä»€ä¹ˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) x 0x4025c3</span><br><span class="line">0x4025c3:       &quot;%d %d %d %d %d %d&quot;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯å…­ä¸ªæ•´æ•°.è¿™ä¸€æœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹,ä¼ å‡½æ•°å‚æ•°æ—¶,å¦‚æœæ•°é‡æ¯”è¾ƒå¤šé‚£ä¹ˆå°±ä¼šä½¿ç”¨æ ˆ.ä¹Ÿå°±æ˜¯ä½¿ç”¨%rbpæˆ–%rspæŒ‡ç¤º,åŒæ—¶å‡½æ•°å‚æ•°æ˜¯ä»å³å¾€å·¦å¼€å§‹çš„,ä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªè¾“å…¥çš„å‚æ•°ä¼šå…ˆè¢«ä¼ å…¥å¯„å­˜å™¨æˆ–æ ˆä¸­.</p><p>å†çœ‹çœ‹%edi</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) x /s $edi</span><br><span class="line">0x6037d0 &lt;input_strings+80&gt;:    &quot;1 12 23 34 13 100&quot;</span><br></pre></td></tr></table></figure><p>å³ä¼ å…¥äº†è¿™ä¸ªå­—ç¬¦ä¸²åˆ°read_six_numberså‡½æ•°.</p><p>æ³¨æ„åˆ°åé¢æœ‰jgå³å¤§äºè·³è½¬,ä¹Ÿå°±æ˜¯è¾“å…¥çš„æ­£ç¡®å‚æ•°è¦å¤§äº5,å³6ä¸ª(è·Ÿå‡½æ•°åç§°ä¸€æ ·å°±è¡Œäº†).ç„¶åè·³å‡ºè¿™ä¸ªå‡½æ•°.ç»§ç»­æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> 0x400f05 &lt;phase_2+9&gt;    callq  0x40145c &lt;read_six_numbers&gt;                                                                         </span><br><span class="line">0x400f0a &lt;phase_2+14&gt;   cmpl   $0x1,(%rsp)                                                                                         </span><br><span class="line"> 0x400f0e &lt;phase_2+18&gt;   je     0x400f30 &lt;phase_2+52&gt; </span><br></pre></td></tr></table></figure><p>åé¢åˆç»§ç»­è·³è½¬åˆ°0x400f30(å½“ç„¶è¿™é‡Œæœ‰æ¡ä»¶å¯„å­˜å™¨rspå€¼ç­‰äº1,åé¢ä¼šè¯´)</p><p><img data-src="http://cdn.sekyoro.top/imgs/093813.png" alt="è·³è½¬åˆ°è¿™"></p><p>è¿™é‡Œè¿›è¡Œäº†èµ‹å€¼ååˆç»§ç»­è·³è½¬åˆ°0x400f17</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0x400f17 &lt;phase_2+27&gt;   mov    -0x4(%rbx),%eax                                                                                     </span><br><span class="line">  0x400f1a &lt;phase_2+30&gt;   add    %eax,%eax                                                                                          </span><br><span class="line"> 0x400f1c &lt;phase_2+32&gt;   cmp    %eax,(%rbx)                                                                                         </span><br><span class="line">  0x400f1e &lt;phase_2+34&gt;   je     0x400f25 &lt;phase_2+41&gt;                                                                               </span><br><span class="line"> 0x400f20 &lt;phase_2+36&gt;   callq  0x40143a &lt;explode_bomb&gt; </span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºåˆä¼šè¿›è¡Œæ¯”è¾ƒå€¼ç›¸ç­‰æ‰èƒ½é¿å…çˆ†ç‚¸,ç›¸ç­‰çš„è¯åˆä¼šè·³è½¬åˆ°ä¸€ä¸ªåœ°å€0x400f25.</p><p>0x400f25</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">0x400f25 &lt;phase_2+41&gt;   add    $0x4,%rbx                                                                                           â”‚</span><br><span class="line">â”‚   0x400f29 &lt;phase_2+45&gt;   cmp    %rbp,%rbx                                                                                           â”‚</span><br><span class="line">â”‚   0x400f2c &lt;phase_2+48&gt;   jne    0x400f17 &lt;phase_2+27&gt;                                                                               â”‚</span><br><span class="line">â”‚   0x400f2e &lt;phase_2+50&gt;   jmp    0x400f3c &lt;phase_2+64&gt;                                                                               â”‚</span><br><span class="line">â”‚   0x400f30 &lt;phase_2+52&gt;   lea    0x4(%rsp),%rbx                                                                                      â”‚</span><br><span class="line">â”‚   0x400f35 &lt;phase_2+57&gt;   lea    0x18(%rsp),%rbp                                                                                     â”‚</span><br><span class="line">â”‚   0x400f3a &lt;phase_2+62&gt;   jmp    0x400f17 &lt;phase_2+27&gt;                                                                               â”‚</span><br><span class="line">â”‚   0x400f3c &lt;phase_2+64&gt;   add    $0x28,%rsp                                                                                          â”‚</span><br><span class="line">â”‚   0x400f40 &lt;phase_2+68&gt;   pop    %rbx                                                                                                â”‚</span><br><span class="line">â”‚   0x400f41 &lt;phase_2+69&gt;   pop    %rbp                                                                                                â”‚</span><br><span class="line">â”‚   0x400f42 &lt;phase_2+70&gt;   retq           </span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œåˆä¼šè¿›è¡Œæ¯”è¾ƒå¦‚æœä¸ç­‰åˆä¼šè·³å›å»,ç›¸ç­‰æ‰èƒ½è„±ç¦»è‹¦æµ·.å¦‚æœä½ æƒ³é”»ç‚¼ä½ çš„æ±‡ç¼–ä»£ç é˜…è¯»èƒ½åŠ›å¯ä»¥ç›´æ¥ç¡¬è¯»,æˆ‘è¿™ç›´æ¥è®¾ç½®6ä¸ªç‰¹åˆ«çš„æ•°å€¼ç„¶åçœ‹çœ‹å¯„å­˜å™¨å­˜å‚¨çš„ä»€ä¹ˆå€¼.</p><p>è·³å‡ºè¯»å–6ä¸ªå€¼çš„å‡½æ•°å,è·³å›0x400f0a,è¿™é‡Œå¯¹å¯„å­˜å™¨$rspå€¼è¿›è¡Œäº†æ¯”è¾ƒ(å¦‚æœä½ è®¾ç½®ç‰¹æ®Šå€¼è¿›è¡Œå¤šæ¬¡æµ‹è¯•å°±çŸ¥é“è¿™ä¸ªå€¼ç­‰äºä»€ä¹ˆäº†)</p><p>è¿™é‡Œæˆ‘ä»¬å›å»å…³æ³¨ä¸€ä¸‹%rspçš„å€¼(å…³äºå¯„å­˜å™¨ç¬¦å·æˆ‘è¿™é‡Œ%ä¸$æ··åˆä½¿ç”¨)</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¥½å¥½æ¢è®¨ä¸€ä¸‹read_six_numbersä¸­ä¼ ç»™scanfçš„å‚æ•°.</p><p>å…³äºå‡½æ•°ä¼ å‚å¯„å­˜å™¨ä¸­å­˜å‚¨çš„å€¼.</p><p><a href="https://blog.csdn.net/qq_31917799/article/details/104233427">Cè¯­è¨€å‚æ•°ä¼ é€’æ‰€ä½¿ç”¨çš„å¯„å­˜å™¨<em>å¤©é©¬è¡Œç©º-CSDNåšå®¢</em>å‚æ•°å¯„å­˜å™¨</a></p><p>ç”±äº%ediæ˜¯phase_2ä¼ å…¥read_six_numbersçš„å‚æ•°,æ‰€ä»¥read_six_numberså‘scanfä¼ å‚æ˜¯ä»%esiå¼€å§‹,éœ€è¦ä¸ƒä¸ªå‚æ•°(6ä¸ªæ•°å­—ä¸ä¸€ä¸ªæ ¼å¼åŒ–å‚æ•°).rdx,rcx,r8,r9ä¹Ÿæ˜¯ä¼ å‚çš„å¯„å­˜å™¨,ç®—ä¸Š%esiå°±æœ‰äº”ä¸ª,è¿˜æœ‰ä¸¤ä¸ªå°±éœ€è¦ç”¨æ ˆäº†.</p><p>å¯ä»¥çœ‹åˆ°åœ¨read_six_numbersä¸­å°†%rsiä¼ ç»™äº†%rdx,è¿™æ˜¯ç¬¬ä¸€ä¸ªå‚,ç„¶åå°†0x4(%rsi)å­˜å‚¨çš„å€¼èµ‹ç»™%rcx,å°±æ˜¯ç¬¬äºŒä¸ªå‚æ•°.(ä¸€ä¸ªå€¼4å­—èŠ‚,ä½†ä¸€ä¸ªå¯„å­˜å™¨å¤§å°æ˜¯8å­—èŠ‚).ä¹Ÿå°±æ˜¯è¯´%rcxå­˜å‚¨çš„æ˜¯ç¬¬äºŒä¸ªå‚æ•°çš„åœ°å€.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093815.png" alt="æ ˆä¸å¯„å­˜å™¨"></p><p>è¿˜æ˜¯ç”»å›¾å¥½ç†è§£.å¼€å§‹çš„4ä¸ªç”¨å¯„å­˜å™¨å­˜,åé¢çš„å¯„å­˜å™¨ä¸å¤Ÿé›·äººç”¨æ ˆå­˜.å½“scanfæ‰§è¡Œå®Œå,%rsp = %rspâ€™.æ‰€ä»¥(%rsp)å°±æ˜¯è¾“å…¥çš„ç¬¬ä¸€ä¸ªå€¼.è¿”å›å€¼%eaxå°±æ˜¯6(æ­£ç¡®è¯»å–äº†6ä¸ªå€¼)</p><p>æ‰€ä»¥ç¬¬ä¸€ä¸ªå€¼ä¸º1.è‡³äºä¸ºä»€ä¹ˆæ˜¯ç¬¬ä¸€ä¸ªè€Œä¸æ˜¯æœ€åä¸€ä¸ª,å› ä¸ºè¦å­˜å‚¨æœ€åä¸¤ä¸ªå€¼å¯„å­˜å™¨ä¸å¤Ÿæ‰€ä»¥å…¥æ ˆäº†,å®ƒä»¬å€¼å­˜å‚¨åœ¨è·ç¦»phase_2æ ˆå¸§çš„æ ˆé¡¶æœ€è¿œçš„åœ°æ–¹.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0x400f30 &lt;phase_2+52&gt;   lea    0x4(%rsp),%rbx                                                                                      </span><br><span class="line">   0x400f35 &lt;phase_2+57&gt;   lea    0x18(%rsp),%rbp                                                                                    </span><br><span class="line">   0x400f3a &lt;phase_2+62&gt;   jmp    0x400f17 &lt;phase_2+27&gt;  </span><br></pre></td></tr></table></figure><p>ç„¶åä¾¿æ˜¯å°†%rbxèµ‹å€¼ä¸ºç¬¬äºŒä¸ªå€¼çš„åœ°å€,æ ˆåº•èµ‹å€¼ä¸º%rsp+24.24ä¸ªå­—èŠ‚æ˜¯6ä¸ªintå¤§å°.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0x400f17 &lt;phase_2+27&gt;   mov    -0x4(%rbx),%eax                                                                                     </span><br><span class="line">   0x400f1a &lt;phase_2+30&gt;   add    %eax,%eax                                                                                           </span><br><span class="line">   0x400f1c &lt;phase_2+32&gt;   cmp    %eax,(%rbx)</span><br></pre></td></tr></table></figure><p>ç„¶åå°†ä¸Šä¸€ä¸ªå€¼èµ‹ç»™%eax,å†åŠ å€.åˆ¤æ–­ä¸å½“å‰å€¼çš„å¤§å°.ç›¸ç­‰æ‰èƒ½é¿å…çˆ†ç‚¸</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0x400f25 &lt;phase_2+41&gt;   add    $0x4,%rbx                                                                                           </span><br><span class="line">0x400f29 &lt;phase_2+45&gt;   cmp    %rbp,%rbx</span><br></pre></td></tr></table></figure><p>å†å°†å½“å‰å€¼æŒ‡å‘ä¸‹ä¸€ä¸ª(4å­—èŠ‚æ˜¯ä¸€ä¸ªintå¤§å°),ç„¶åå°†åœ°å€ä¸%rbpæ¯”è¾ƒ.å› ä¸º%rbp = 0x18(%rsp).ç»å†äº”æ¬¡å¾ªç¯åå°±ç»“æŸäº†.è€Œæ¯å¾ªç¯éƒ½éœ€è¦å°†å½“å‰å€¼è®¾ç½®ä¸ºå‰ä¸€ä¸ªå€¼çš„äºŒå€.</p><p>æ‰€ä»¥ç»“æœå°±æ˜¯1 2 4 8 16 32</p><h3 id="phase-3"><a href="#phase-3" class="headerlink" title="phase_3"></a>phase_3</h3><p>æœ‰ç©ºäº†,å¼€å†².</p><p><img data-src="http://cdn.sekyoro.top/imgs/093817.png" alt="phase_3"></p><p>ä»£ç ç±»ä¼¼.åœ¨è¿™ä¹‹å‰</p><p><img data-src="http://cdn.sekyoro.top/imgs/065659.png" alt="å°†è¯»å–çš„å­—ç¬¦ä¸²ä¼ å‚"></p><p>å°†è¾“å…¥å€¼ä¼ å…¥phase_3å‚æ•°.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093818.png" alt="phase_3ä»£ç "></p><p>è¿›å…¥phase_3å‡½æ•°æŸ¥çœ‹0x4025cfçš„å€¼</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) x 0x4025cf</span><br><span class="line">0x4025cf:       &quot;%d %d&quot;</span><br></pre></td></tr></table></figure><p>åé¢è°ƒç”¨scanfå‡½æ•°,ç¬¬ä¸€ä¸ªå‚æ•°å°±åœ¨%esiä¸­,â€%d %dâ€è¡¨ç¤ºä¼ å…¥ä¸¤ä¸ªæ•´æ•°,ç¬¬ä¸€ä¸ªåœ¨%rdx,ç¬¬äºŒä¸ªåœ¨%rcx.</p><p>cmp $0x1,%eaxè¡¨ç¤ºæ¯”è¾ƒ,å¿…é¡»å¤§äºä¸€ä¸ªæ‰èƒ½è·³è½¬.</p><p>åé¢æ¯”è¾ƒç¬¬äºŒä¸ªå‚æ•°,jaè¡¨ç¤ºæ— ç¬¦å·æ¯”è¾ƒ.<a href="https://blog.csdn.net/poptar/article/details/111686050">æ±‡ç¼–è¯­è¨€â€”-è·³è½¬æŒ‡ä»¤jaã€jbã€jl<em>poptarçš„åšå®¢-CSDNåšå®¢</em>æ±‡ç¼–è¯­è¨€ja</a></p><p><img data-src="http://cdn.sekyoro.top/imgs/093821.png" alt="æ¯”è¾ƒè¾“å…¥çš„å‚æ•°"></p><p>0x400fadè·³è½¬åˆ°ä¸€ä¸ªè°ƒç”¨å¼•çˆ†ç‚¸å¼¹çš„åœ°æ–¹,æ‰€ä»¥ç¬¬ä¸€ä¸ªå‚æ•°è¦å°äºç­‰äº7.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash">0x400fad &lt;phase_3+106&gt;  callq  0x40143a &lt;explode_bomb&gt;</span> </span><br></pre></td></tr></table></figure><p>åé¢jmpåˆ°ä¸€ä¸ªåœ°å€,<em>(0x402470)(,%rax,8)  8è¡¨ç¤º8ä¸ªå­—èŠ‚,å³(0x402470)(,%rax,8)è¡¨ç¤º0x402470+%rax\</em>8.</p><p><strong>å¯»å€æ–¹å¼</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ°å€æˆ–åç§»(%åŸºå€æˆ–åç§»é‡å¯„å­˜å™¨, %ç´¢å¼•å¯„å­˜å™¨, æ¯”ä¾‹å› å­)</span><br></pre></td></tr></table></figure><p>åœ°å€çš„è®¡ç®—å…¬å¼æ˜¯:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æœ€ç»ˆåœ°å€ = åœ°å€æˆ–åç§» + %åŸºå€æˆ–åç§»é‡å¯„å­˜å™¨ + %ç´¢å¼•å¯„å­˜å™¨  * æ¯”ä¾‹å› å­</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç¬¬ä¸€ä¸ªå‚æ•°å‡è®¾ä¸º6,åœ°å€æ˜¯400f9f  x/10gx è¡¨ç¤ºæŸ¥çœ‹åé¢10ä¸ªgiant(8å­—èŠ‚)ä»¥16è¿›åˆ¶å½¢å¼çš„æ•°æ®</p><p><img data-src="http://cdn.sekyoro.top/imgs/093822.png" alt="è·³è½¬çš„åœ°å€"></p><p>0x2aaç§»åˆ°%eaxå€¼ç„¶åä¸ç¬¬äºŒä¸ªå‚æ•°è¿›è¡Œæ¯”è¾ƒ,éœ€è¦ç­‰äºæ‰èƒ½é¿å…çˆ†ç‚¸.</p><p>æ‰€ä»¥è¿™å°±æ˜¯ä¸€ä¸ªç­”æ¡ˆ,ä¸€å…±åº”è¯¥æœ‰0-6ä¸ƒç»„ç­”æ¡ˆ,è¿™é‡Œæˆ‘å°±ä¸å†™äº†.</p><h3 id="phase-4"><a href="#phase-4" class="headerlink" title="phase_4"></a>phase_4</h3><p>è¿›å…¥phase_4å‡½æ•°,æŸ¥çœ‹x $ediè¡¨æ˜æ˜¯å°†è¾“å…¥çš„å‚æ•°ä¼ å…¥å‡½æ•°phase_4.</p><p>åœ¨å‡½æ•°ä¸­åé¢åˆç»§ç»­ä¼ å…¥å‚æ•°,x 0x4025cf</p><p><img data-src="http://cdn.sekyoro.top/imgs/093824.png" alt="phase_4"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) x 0x4025cf</span><br><span class="line">0x4025cf:       &quot;%d %d&quot;</span><br></pre></td></tr></table></figure><p>è¡¨æ˜éœ€è¦è¾“å…¥ä¸¤ä¸ªæ•´æ•°.0xc(%rsp)æ˜¯ç¬¬äºŒä¸ªå‚æ•°,0x8(%rsp)æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;0x40102c &lt;phase_4+32&gt;   jne    0x401035 &lt;phase_4+41&gt;                                                                               </span><br><span class="line">  0x40102e &lt;phase_4+34&gt;   cmpl   $0xe,0x8(%rsp)                                                                                      </span><br><span class="line">  0x401033 &lt;phase_4+39&gt;   jbe    0x40103a &lt;phase_4+46&gt;                                                                               </span><br><span class="line">  0x401035 &lt;phase_4+41&gt;   callq  0x40143a &lt;explode_bomb&gt; </span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æ˜¯è¾“å…¥äº†ä¸¤ä¸ªæ•´æ•°jneè·³å‘ç‚¸å¼¹çˆ†ç‚¸.æ¥ç€è¿›è¡Œæ¯”è¾ƒç¬¬ä¸€ä¸ªæ•´æ•°,ä¸0xe(14)æ¯”è¾ƒ.jbeè¡¨ç¤ºå°äºç­‰äº.ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°å¦‚æœå°äºç­‰äº14åˆ™è·³è½¬å¦åˆ™ä¸è·³è½¬çˆ†ç‚¸.</p><p>è¿™é‡Œæˆ‘ä»¬è¾“å…¥14,åé¢è·³è½¬åˆ°0x40103a,å°†14èµ‹å€¼ç»™%edx. %esièµ‹å€¼ä¸º0.ç¬¬ä¸€ä¸ªå‚æ•°èµ‹å€¼ç»™%edi.è°ƒç”¨func4.</p><p>ä¹Ÿå°±æ˜¯func4(ç¬¬ä¸€ä¸ªå‚æ•°(è¿™é‡Œæˆ‘ä»¬æ˜¯14),0,14).</p><p>æŸ¥çœ‹func4å‡½æ•°</p><p><img data-src="http://cdn.sekyoro.top/imgs/093826.png" alt="func4å‡½æ•°"></p><p>SHRï¼ˆå³ç§»ï¼‰æŒ‡ä»¤ä½¿ç›®çš„æ“ä½œæ•°é€»è¾‘å³ç§»è‹¥å¹²ä½ï¼Œæœ€é«˜ä½ç”¨ 0 å¡«å……ã€‚æœ€ä½ä½å¤åˆ¶åˆ°è¿›ä½æ ‡å¿—ä½ï¼Œè€Œè¿›ä½æ ‡å¿—ä½ä¸­åŸæ¥çš„æ•°å€¼è¢«ä¸¢å¼ƒ.å› ä¸º%ecxå€¼æ˜¯0xe,æœ€ä½ä½æ˜¯0.CF=0.</p><p>sarä¸shrå·®åˆ« ä¸¤è€…çš„åŒºåˆ«åœ¨äºSARå³ç§»æ—¶ä¿ç•™æ“ä½œæ•°çš„ç¬¦å·ï¼Œå³ç”¨ç¬¦å·ä½æ¥è¡¥è¶³ï¼Œè€ŒSHRå³ç§»æ—¶æ€»æ˜¯ç”¨0æ¥è¡¥è¶³</p><p>sar %eaxè¡¨ç¤ºå°†%eaxå­˜å‚¨çš„å€¼å³ç§»ä¸€ä½,æœ€é«˜ä½ç”±ç¬¦å·ä½è¡¥é½.14å³ç§»ä¸€ä½å¾—åˆ°7.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">â”‚   0x400fdf &lt;func4+17&gt;     lea    (%rax,%rsi,1),%ecx                                                                                  â”‚</span><br><span class="line">â”‚  &gt;0x400fe2 &lt;func4+20&gt;     cmp    %edi,%ecx                                                                                           â”‚</span><br><span class="line">â”‚   0x400fe4 &lt;func4+22&gt;     jle    0x400ff2 &lt;func4+36&gt;                                                                                 â”‚</span><br><span class="line">â”‚   0x400fe6 &lt;func4+24&gt;     lea    -0x1(%rcx),%edx                                                                                     â”‚</span><br><span class="line">â”‚   0x400fe9 &lt;func4+27&gt;     callq  0x400fce &lt;func4&gt;                                                                                    â”‚</span><br><span class="line">â”‚   0x400fee &lt;func4+32&gt;     add    %eax,%eax                                                                                           â”‚</span><br><span class="line">    0x400ff0 &lt;func4+34&gt;     jmp    0x401007 &lt;func4+57&gt; </span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å…ˆçœ‹çœ‹å‡½æ•°å¤–çš„åˆ¤æ–­</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">40104d:       85 c0                   test   %eax,%eax</span><br><span class="line">40104f:       75 07                   jne    401058 &lt;phase_4+0x4c&gt;</span><br><span class="line">401051:       83 7c 24 0c 00          cmpl   $0x0,0xc(%rsp)</span><br><span class="line">401056:       74 05                   je     40105d &lt;phase_4+0x51</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/counsellor/article/details/81005101">testå’ŒjeæŒ‡ä»¤çš„ç»„åˆç”¨æ³•_counsellorçš„ä¸“æ -CSDNåšå®¢_jeæŒ‡ä»¤</a></p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å‡½æ•°ç»“æœä¸º0,åŒæ—¶ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿä¸º0.</p><p>æ¯”è¾ƒç®€å•çš„å¤„ç†å°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ç­‰äº%ecx,ä¹Ÿå°±æ˜¯ç­‰äº7.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093827.png" alt="å¤§è‡´æµç¨‹"></p><h3 id="phase-5"><a href="#phase-5" class="headerlink" title="phase_5"></a>phase_5</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">40107a:       e8 9c 02 00 00          callq  40131b &lt;string_length&gt;</span><br><span class="line">40107f:       83 f8 06                cmp    $0x6,%eax</span><br></pre></td></tr></table></figure><p>è¾“å…¥å‚æ•°,å­—ç¬¦ä¸²é•¿åº¦ç­‰äº6.æ‰€ä»¥éœ€è¦è¾“å…¥å«æœ‰6ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸².</p><p>è¿›å…¥phase_5å‡½æ•°.</p><p>æ³¨æ„åé¢çš„ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">4010b3:       be 5e 24 40 00          mov    $0x40245e,%esi</span><br><span class="line">4010b8:       48 8d 7c 24 10          lea    0x10(%rsp),%rdi</span><br><span class="line">4010bd:       e8 76 02 00 00          callq  401338 &lt;strings_not_equal&gt;</span><br><span class="line">4010c2:       85 c0                   test   %eax,%eax</span><br><span class="line">4010c4:       74 13                   je     4010d9 &lt;phase_5+0x77&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å°†0x40245eèµ‹å€¼ç»™%esi</p><p>çœ‹ä¸€ä¸‹æ˜¯ä»€ä¹ˆ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) x /s 0x40245e</span><br><span class="line">0x40245e:       &quot;flyers&quot;</span><br></pre></td></tr></table></figure><p>è¡¨æ˜æˆ‘ä»¬çš„%rdiçš„éœ€è¦ç­‰äºè¿™ä¸ªå­—ç¬¦ä¸².</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">40108b:       0f b6 0c 03             movzbl (%rbx,%rax,1),%ecx</span><br><span class="line">40108f:       88 0c 24                mov    %cl,(%rsp)</span><br><span class="line">401092:       48 8b 14 24             mov    (%rsp),%rdx</span><br><span class="line">401096:       83 e2 0f                and    $0xf,%edx</span><br><span class="line">401099:       0f b6 92 b0 24 40 00    movzbl 0x4024b0(%rdx),%edx</span><br><span class="line">4010a0:       88 54 04 10             mov    %dl,0x10(%rsp,%rax,1)</span><br><span class="line">4010a4:       48 83 c0 01             add    $0x1,%rax</span><br><span class="line">4010a8:       48 83 f8 06             cmp    $0x6,%rax</span><br><span class="line">4010ac:       75 dd                   jne    40108b &lt;phase_5+0x29&gt;</span><br><span class="line">4010ae:       c6 44 24 16 00          movb   $0x0,0x16(%rsp)</span><br></pre></td></tr></table></figure><p>æ³¨æ„åˆ°å°†0x4024b0åé¢çš„å­—èŠ‚ç§»åŠ¨åˆ°%edi.è€Œä¹‹å‰çš„%rdxæ˜¯ç”±æˆ‘ä»¬è¾“å…¥çš„å­—ç¬¦çš„asciiç ä¸0xfç›¸ä¸å¾—åˆ°çš„.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(gdb) x 0x4024b0</span><br><span class="line">0x4024b0 &lt;array.3449&gt;:  &quot;maduiersnfotvbylSo you think you can stop the bomb with ctrl-c, do you?&quot;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥éœ€è¦é¦–å…ˆå¾—åˆ°flyersæ¯ä¸ªå­—æ¯åœ¨ä¸Šé¢å­—ç¬¦ä¸²ä¸­çš„ä½ç½®,åˆ†åˆ«æ˜¯(ä»0å¼€å§‹)9 15 14 5 6.</p><p>æˆ‘ä»¬è¾“å…¥çš„6ä¸ªå­—ç¬¦çš„asciiç ä¸0xfç›¸ä¸åå¿…é¡»æ˜¯ä»¥ä¸Šçš„å€¼.æ‰€ä»¥ç­”æ¡ˆæœ‰å¾ˆå¤š.</p><p>æ¯”å¦‚0x69 0x6f 0x6e 0x65 0x66.å³ionefg</p><h3 id="phase-6"><a href="#phase-6" class="headerlink" title="phase_6"></a>phase_6</h3><p><img data-src="http://cdn.sekyoro.top/imgs/093829.png" alt="phase_6"></p><p>ä¸€å¼€å§‹è¿›è¡Œæ¯”è¾ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> 0x401145 &lt;phase_6+81&gt;   add    $0x1,%ebx                                                                                           â”‚</span><br><span class="line">â”‚  &gt;0x401148 &lt;phase_6+84&gt;   cmp    $0x5,%ebx                                                                                           â”‚</span><br><span class="line">â”‚   0x40114b &lt;phase_6+87&gt;   jle    0x401135 &lt;phase_6+65&gt;                                                                               â”‚</span><br><span class="line">â”‚   0x40114d &lt;phase_6+89&gt;   add    $0x4,%r13                                                                                           â”‚</span><br><span class="line">â”‚   0x401151 &lt;phase_6+93&gt;   jmp    0x401114 &lt;phase_6+32&gt;                                                                               â”‚</span><br><span class="line">â”‚   0x401153 &lt;phase_6+95&gt;   lea    0x18(%rsp),%rsi  </span><br></pre></td></tr></table></figure><p>6ä¸ªæ•°å‡å°äºç­‰äº6ä¸”ä¸èƒ½ç›¸ç­‰.</p><p>åé¢è·³è½¬åˆ°0x0000000000401153,ç”¨7å»å‡å»æ¯ä¸€ä¸ªæ•°</p><p>0x40116f  0x40116f 0x401188  </p><p>0x4011abè¿™é‡Œçš„ä»£ç å°†é“¾è¡¨åå‘ä¸²è”,ä¾¿äºæ¯”è¾ƒ.</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">x</span> /<span class="number">24</span>wx <span class="number">0</span>x<span class="number">6032</span>d<span class="number">0</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093831.png" alt="é“¾è¡¨ç»“æ„"></p><p><img data-src="http://cdn.sekyoro.top/imgs/093832.png" alt="å­˜å‚¨çš„å€¼"></p><p>æ‰§è¡Œå®Œå</p><p><img data-src="http://cdn.sekyoro.top/imgs/093836.png" alt="å¾ªç¯æ‰§è¡Œå®Œæ¯•"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065701.png" alt="nodeç»“æ„"></p><p><strong>å…³é”®ä»£ç </strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  0x4011d0 &lt;phase_6+220&gt;  jmp    0x4011bd &lt;phase_6+201&gt;                                                                              â”‚</span><br><span class="line">â”‚   0x4011d2 &lt;phase_6+222&gt;  movq   $0x0,0x8(%rdx)                                                                                      â”‚</span><br><span class="line">â”‚   0x4011da &lt;phase_6+230&gt;  mov    $0x5,%ebp                                                                                           â”‚</span><br><span class="line">â”‚   0x4011df &lt;phase_6+235&gt;  mov    0x8(%rbx),%rax                                                                                      â”‚</span><br><span class="line">â”‚   0x4011e3 &lt;phase_6+239&gt;  mov    (%rax),%eax                                                                                         â”‚</span><br><span class="line">â”‚  &gt;0x4011e5 &lt;phase_6+241&gt;  cmp    %eax,(%rbx)                                                                                         â”‚</span><br><span class="line">â”‚   0x4011e7 &lt;phase_6+243&gt;  jge    0x4011ee &lt;phase_6+250&gt;                                                                              â”‚</span><br><span class="line">â”‚   0x4011e9 &lt;phase_6+245&gt;  callq  0x40143a &lt;explode_bomb&gt; </span><br></pre></td></tr></table></figure><p>000032d0æ˜¯node1çš„åœ°å€,è¿™é‡Œéœ€è¦ä¿®æ”¹äºŒè¿›åˆ¶æ–‡ä»¶.</p><p>å°†èŠ‚ç‚¹å€¼ä»å¤´åˆ°å°¾ä¾æ¬¡å¢å¤§(å‡è®¾è¾“å…¥ 1 2 3 4 5 6).</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">0x4011e5 &lt;phase_6+241&gt;  cmp    %eax,(%rbx)                                                                                         â”‚</span><br><span class="line">â”‚   0x4011e7 &lt;phase_6+243&gt;  jge    0x4011ee &lt;phase_6+250&gt;                                                                              â”‚</span><br><span class="line">â”‚   0x4011e9 &lt;phase_6+245&gt;  callq  0x40143a &lt;explode_bomb&gt;                                                                             â”‚</span><br><span class="line">â”‚   0x4011ee &lt;phase_6+250&gt;  mov    0x8(%rbx),%rbx                                                                                      â”‚</span><br><span class="line">â”‚   0x4011f2 &lt;phase_6+254&gt;  sub    $0x1,%ebp                                                                                           â”‚</span><br><span class="line">â”‚   0x4011f5 &lt;phase_6+257&gt;  jne    0x4011df &lt;phase_6+235&gt;                                                                              â”‚</span><br><span class="line">â”‚   0x4011f7 &lt;phase_6+259&gt;  add    $0x50,%rsp                                                                                          â”‚</span><br><span class="line">â”‚  &gt;0x4011fb &lt;phase_6+263&gt;  pop    %rbx                                                                                                â”‚</span><br><span class="line">â”‚   0x4011fc &lt;phase_6+264&gt;  pop    %rbp                                                                                                â”‚</span><br><span class="line">â”‚   0x4011fd &lt;phase_6+265&gt;  pop    %r12 </span><br></pre></td></tr></table></figure><h3 id="secret-phase"><a href="#secret-phase" class="headerlink" title="secret_phase"></a>secret_phase</h3><p>strings bombå‘ç°æœ‰ä¸€ä¸ªsecret_phaseå¾ˆå¯ç–‘.</p><p>æŸ¥çœ‹åæ±‡ç¼–æ–‡ä»¶å‘ç°ä¸phase_defusedæœ‰å…³</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">00000000004015c4 &lt;phase_defused&gt;:</span><br><span class="line">  4015c4:       48 83 ec 78             sub    $0x78,%rsp</span><br><span class="line">  4015c8:       64 48 8b 04 25 28 00    mov    %fs:0x28,%rax</span><br><span class="line">  4015cf:       00 00 </span><br><span class="line">  4015d1:       48 89 44 24 68          mov    %rax,0x68(%rsp)</span><br><span class="line">  4015d6:       31 c0                   xor    %eax,%eax</span><br><span class="line">  4015d8:       83 3d 81 21 20 00 06    cmpl   $0x6,0x202181(%rip)        # 603760 &lt;num_input_strings&gt;</span><br><span class="line">  4015df:       75 5e                   jne    40163f &lt;phase_defused+0x7b&gt;</span><br><span class="line">  4015e1:       4c 8d 44 24 10          lea    0x10(%rsp),%r8</span><br><span class="line">  4015e6:       48 8d 4c 24 0c          lea    0xc(%rsp),%rcx</span><br><span class="line">  4015eb:       48 8d 54 24 08          lea    0x8(%rsp),%rdx</span><br><span class="line">  4015f0:       be 19 26 40 00          mov    $0x402619,%esi</span><br><span class="line">  4015f5:       bf 70 38 60 00          mov    $0x603870,%edi</span><br><span class="line">  4015fa:       e8 f1 f5 ff ff          callq  400bf0 &lt;__isoc99_sscanf@plt&gt;</span><br><span class="line">  4015ff:       83 f8 03                cmp    $0x3,%eax</span><br><span class="line">  401602:       75 31                   jne    401635 &lt;phase_defused+0x71&gt;</span><br><span class="line">  401604:       be 22 26 40 00          mov    $0x402622,%esi</span><br><span class="line">  401609:       48 8d 7c 24 10          lea    0x10(%rsp),%rdi</span><br><span class="line">  40160e:       e8 25 fd ff ff          callq  401338 &lt;strings_not_equal&gt;</span><br><span class="line">  401613:       85 c0                   test   %eax,%eax</span><br><span class="line">  401615:       75 1e                   jne    401635 &lt;phase_defused+0x71&gt;</span><br><span class="line">  401617:       bf f8 24 40 00          mov    $0x4024f8,%edi</span><br><span class="line">  40161c:       e8 ef f4 ff ff          callq  400b10 &lt;puts@plt&gt;</span><br><span class="line">  401621:       bf 20 25 40 00          mov    $0x402520,%edi</span><br><span class="line">  401626:       e8 e5 f4 ff ff          callq  400b10 &lt;puts@plt&gt;</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093840.png" alt="è¿›å…¥secret_phaseçš„æ–¹æ³•"></p><p>éœ€è¦åœ¨ç¬¬å››é¢˜ç­”æ¡ˆååŠ ä¸Šè¿™ä¸ªå­—ç¬¦ä¸².</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(gdb) x /s 0x603870</span><br><span class="line">0x603870 &lt;input_strings+240&gt;:   &quot;7 0&quot;</span><br><span class="line">(gdb) x /s 0x402619</span><br><span class="line">0x402619:       &quot;%d %d %s&quot;</span><br></pre></td></tr></table></figure><p>æ¯”è¾ƒè¾“å…¥è¿‡çš„ç­”æ¡ˆæ•°é‡,ç­‰äº6åˆ™è¿›è¡Œç‰¹æ®Šçš„æµ‹è¯•.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">0x4015d8 &lt;phase_defused+20&gt;     cmpl   $0x6,0x202181(%rip)        # 0x603760 &lt;num_input_strings&gt;                                   â”‚</span><br><span class="line">â”‚  &gt;0x4015df &lt;phase_defused+27&gt;     jne    0x40163f &lt;phase_defused+123&gt;                                                                â”‚</span><br><span class="line">â”‚   0x4015e1 &lt;phase_defused+29&gt;     lea    0x10(%rsp),%r8                                                                              â”‚</span><br><span class="line">â”‚   0x4015e6 &lt;phase_defused+34&gt;     lea    0xc(%rsp),%rcx                                                                              â”‚</span><br><span class="line">â”‚   0x4015eb &lt;phase_defused+39&gt;     lea    0x8(%rsp),%rdx                                                                              â”‚</span><br><span class="line">â”‚   0x4015f0 &lt;phase_defused+44&gt;     mov    $0x402619,%esi                                                                              â”‚</span><br><span class="line">â”‚   0x4015f5 &lt;phase_defused+49&gt;     mov    $0x603870,%edi     </span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093844.png" alt="secrete_phase"></p><p>æœ€åç»“æœéœ€è¦ç­‰äº2</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">0000000000401204 &lt;fun7&gt;:</span><br><span class="line">  401204:       48 83 ec 08             sub    $0x8,%rsp</span><br><span class="line">  401208:       48 85 ff                test   %rdi,%rdi</span><br><span class="line">  40120b:       74 2b                   je     401238 &lt;fun7+0x34&gt;</span><br><span class="line">  40120d:       8b 17                   mov    (%rdi),%edx</span><br><span class="line">  40120f:       39 f2                   cmp    %esi,%edx</span><br><span class="line">  401211:       7e 0d                   jle    401220 &lt;fun7+0x1c&gt;</span><br><span class="line">  401213:       48 8b 7f 08             mov    0x8(%rdi),%rdi</span><br><span class="line">  401217:       e8 e8 ff ff ff          callq  401204 &lt;fun7&gt;</span><br><span class="line">  40121c:       01 c0                   add    %eax,%eax</span><br><span class="line">  40121e:       eb 1d                   jmp    40123d &lt;fun7+0x39&gt;</span><br><span class="line">  401220:       b8 00 00 00 00          mov    $0x0,%eax</span><br><span class="line">  401225:       39 f2                   cmp    %esi,%edx</span><br><span class="line">  401227:       74 14                   je     40123d &lt;fun7+0x39&gt;</span><br><span class="line">  401229:       48 8b 7f 10             mov    0x10(%rdi),%rdi</span><br><span class="line">  40122d:       e8 d2 ff ff ff          callq  401204 &lt;fun7&gt;</span><br><span class="line">  401232:       8d 44 00 01             lea    0x1(%rax,%rax,1),%eax</span><br><span class="line">  401236:       eb 05                   jmp    40123d &lt;fun7+0x39&gt;</span><br><span class="line">  401238:       b8 ff ff ff ff          mov    $0xffffffff,%eax</span><br><span class="line">  40123d:       48 83 c4 08             add    $0x8,%rsp</span><br><span class="line">  401241:       c3                      retq</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>éœ€è¦ç­‰äºä¸€ä¸ªç±»ä¼¼äºŒå‰æ ‘ä¸­èŠ‚ç‚¹çš„å€¼æ‰èƒ½è·³å‡ºæ¥.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093846.png" alt="fun7é€»è¾‘"></p><p>åŒæ—¶ä¸èƒ½éšä¾¿ç­‰äºä¸€ä¸ªèŠ‚ç‚¹å€¼,2 = 1+1,éœ€è¦ç­‰ä¸ç¬¬äºŒä¸ªèŠ‚ç‚¹å€¼.å¦‚æœç»™çš„å‚æ•°å€¼å¤§äºç­‰äºèŠ‚ç‚¹å€¼æ‰èƒ½è¿›è¡Œè¿›ä¸€æ­¥ç­‰äºçš„æ¯”è¾ƒ</p><p><img data-src="http://cdn.sekyoro.top/imgs/093854.png" alt="å…¨éƒ¨å®Œæˆ"></p><p>gdbè®¾ç½®æ±‡ç¼–ä»£ç é£æ ¼,Linuxä¸‹æ˜¯AT&amp;T.</p><p><a href="https://blog.csdn.net/freezing111/article/details/70576865">Linuxä¸‹gdbæ˜¾ç¤ºintelå’Œat&amp;tæ±‡ç¼–_freezing111çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/astrotycoon/article/details/8211754">ä½¿ç”¨vimç¼–è¾‘å¯æ‰§è¡Œæ–‡ä»¶â€”16è¿›åˆ¶æ¨¡å¼_astrotycoon-CSDNåšå®¢</a></p><h2 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h2><p>ç½‘ä¸Šæœåˆ°çš„èµ„æ–™</p><p><a href="https://www.jianshu.com/p/c219e4df2521">CSAPP: Bomb Lab å®éªŒè§£æ - ç®€ä¹¦ (jianshu.com)</a></p><p>IDAåæ±‡ç¼–å·¥å…·</p><p>åšåˆ°åé¢ä¸æƒ³å†™äº†â€¦æ ¸å¿ƒè¿˜æ˜¯å‡½æ•°çš„ä¸€äº›çŸ¥è¯†å’Œå¾ªç¯åˆ†æ”¯è¯­å¥çš„æ±‡ç¼–ä»£ç ,ä¼ å‚ç”¨çš„å¯„å­˜å™¨.</p><p>æ³¨æ„ç¬¬å…­é¢˜å…¶å®å¹¶ä¸éœ€è¦æ”¹å˜å¯æ‰§è¡Œæ–‡ä»¶,éœ€è¦æŒ‰é¡ºåºæ’åˆ—1-6,è¿™é‡Œæˆ‘ç›´æ¥æ”¹å˜çš„å¯æ‰§è¡Œæ–‡ä»¶â€¦</p>]]></content>
      
      
      
        <tags>
            
            <tag> csapp </tag>
            
            <tag> bomb lab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç–«æƒ…å¡«æŠ¥å­—æ®µè§£æ</title>
      <link href="2022/02/22/%E7%96%AB%E6%83%85%E5%A1%AB%E6%8A%A5%E5%AD%97%E6%AE%B5%E8%A7%A3%E6%9E%90/"/>
      <url>2022/02/22/%E7%96%AB%E6%83%85%E5%A1%AB%E6%8A%A5%E5%AD%97%E6%AE%B5%E8%A7%A3%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å¼„ç€ç©ç©.<br><span id="more"></span></p><h2 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h2><p>é¦–å…ˆå»ç–«æƒ…å¡«æŠ¥è¿™ä¸ªç½‘é¡µä¸‹æŠ“æŠ“æŠ¥æ–‡.å¯ä»¥åœ¨æµè§ˆå™¨ç½‘ç»œä¸‹çœ‹ä¸€ä¸‹,å‡­å€Ÿ<del>æ•é”</del>ç›´è§‰,jspç»“å°¾çš„æ¯”è¾ƒå¯ç–‘,è¡¨æ˜æ˜¯java webåå°. jspæ–‡ä»¶jrsb_xs.jsp</p><p>æ³¨æ„ä¸€ä¸‹æ–‡ä»¶ä¸­çš„é‡è¦å­—æ®µ.æ¯”å¦‚è¿™é‡Œç”¨$.ajax()æäº¤è¯·æ±‚.æ¯”è¾ƒç»å…¸çš„ç”¨JQueryæäº¤å¼‚æ­¥è¯·æ±‚.</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯,æ ¹æ®ä»£ç ,åœ¨æ ¡å­¦ç”Ÿå’Œä¸åœ¨æ ¡å­¦ç”Ÿæäº¤çš„è¡¨å•ä¸ä¸€æ ·.</p><h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><p>å¯ä»¥å…ˆçœ‹çœ‹ç‚¹å‡»æäº¤æŒ‰é’®ä¼šå‘ç”Ÿä»€ä¹ˆ.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065539.png" alt="æ‰§è¡Œä¸€ä¸ªjså‡½æ•°"></p><p>ç‚¹å‡»å¡«æŠ¥ä¿¡æ¯è·³è½¬åˆ°jså‡½æ•°,ç„¶åä¼šæœ‰ä¸€ä¸ªæ‰¿è¯º,æ³¨æ„go_subå‡½æ•°å¹¶æ²¡æœ‰æäº¤ä¿¡æ¯.è€Œæ˜¯å°†ä¿¡æ¯å­˜äº†.</p><p>åé¢ä¼šè¯´.ç„¶åç‚¹å‡»ç¡®è®¤æäº¤.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093603.png" alt="confirm"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065539-1.png" alt="æ‰§è¡Œsaveå‡½æ•°"></p><p>æœ‰æ„æ€çš„æ˜¯,åœ¨go_subä¸­ä»£ç å°†æ‚¨å¡«å†™çš„æ•°æ®è¿›è¡Œäº†æ£€éªŒ(æ’é™¤ç©ºå€¼ç­‰),ç„¶åç»™äº†ä¸ªparamData,å¾ˆé•¿.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093604.png" alt="go_subä¸­çš„è¡¨å•æ•°æ®"></p><p>å¯æƒœçš„æ˜¯è²Œä¼¼è¿™ä¸ªå€¼å¹¶æ²¡æœ‰ç”¨åˆ°.å› ä¸ºgo_subä¸­å¹¶æ²¡æœ‰æäº¤è¡¨å•è¯·æ±‚,ä¾‹å¦‚$.ajax().</p><p>è€Œæ˜¯åœ¨saveå‡½æ•°ä¸­.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093606.png" alt="saveå‡½æ•°"></p><p>å¯ä»¥çœ‹åˆ°saveå‡½æ•°ä¸­åˆè¿›è¡Œäº†ç±»ä¼¼çš„æ“ä½œ.æˆ‘å¯¹è¿™ä¸¤ä¸ªå‡½æ•°è¿›è¡Œäº†å¯¹æ¯”.</p><p>å‘ç°saveè¿™ä¸ªå‡½æ•°è¿˜æ˜¯æ¯”è¾ƒæ–°çš„,åº”è¯¥è·Ÿgo_sub()ä¸æ˜¯åŒä¸€æ—¶å€™å†™çš„,æˆ–è€…æ˜¯åé¢æ”¹äº†çš„.</p><p>æ¯”å¦‚è¯´go_subä¸­è¿˜æ˜¯æœ‰å¯¹äºç»åœæ­¦æ±‰çš„çš„æé†’.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065544.png" alt="go_subå‡½æ•°"></p><p>saveä¸­æ¢æˆäº†ç»åœä¸­é«˜é£é™©åœ°åŒº,åŒæ—¶saveä¸­å¢åŠ äº†æ›´å¤šçš„å­—æ®µè¿˜æœ‰æäº¤çš„å‡½æ•°,è¿™ä¸ªæ‰æ˜¯æ¯”è¾ƒé‡è¦çš„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093607.png" alt="èŠ­æ¯”qäº†"></p><p>åŒæ—¶å‘ç°äº†ä¸€ä¸ªsavefxå‡½æ•°,é‡Œé¢çš„å­—æ®µæ¯”è¾ƒå°‘,ä½†æ˜¯ç°åœ¨è¿˜æ²¡ä½¿ç”¨,ä¼°è®¡æ˜¯ä¹‹å‰ç”¨çš„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093609.png" alt="hsjcå­—æ®µ"></p><p><img data-src="http://cdn.sekyoro.top/imgs/093610.png" alt="savefxçš„è¡¨å•"></p><p>postè¯·æ±‚çš„æ­£æ–‡å°±æ˜¯æˆ‘ä»¬è¦äº¤çš„æ•°æ®.ä¸€ä¸ªä¸€ä¸ªçœ‹çœ‹.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093612.png" alt="image-20220222150256115"></p><h3 id="1-hsjc"><a href="#1-hsjc" class="headerlink" title="1.hsjc"></a>1.hsjc</h3><p>æ˜æ˜¾çš„æ˜¯æ˜¯å¦è¿›è¡Œäº†æ ¸é…¸æ£€æµ‹.é‚£ä¸ªé€‰é¡¹checkedçš„è¯å°±æ˜¯1.</p><p>æœ‰æ„æ€çš„æ˜¯å› ä¸ºæˆªæ­¢åˆ°ç°åœ¨(2022.2.22)æ²¡æœ‰åœ¨åšæ ¸é…¸äº†.è¿™ä¸ªä¸œè¥¿è¢«éšè—äº†.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093613.png" alt="å·²ç»è¢«éšè—äº†"></p><p>åŒæ—¶æˆ‘ä»¬å‘ç°hsjcä½¿ç”¨æ‹¼éŸ³è¡¨ç¤ºæ ¸é…¸æ£€æµ‹çš„,æ‰€ä»¥çŒœæµ‹å…¶ä»–å­—æ®µåŸºæœ¬éƒ½æ˜¯æ‹¼éŸ³è¡¨ç¤ºçš„.</p><p>å¤§å®¶ç°åœ¨å¯ä»¥çŒœçŒœå…¶ä»–å­—æ®µæ˜¯ä»€ä¹ˆæ„æ€.</p><p>åé¢å°±ç›´æ¥åœ¨jrsb_xs.jspè¿™ä¸ªæŠ¥æ–‡ä¸‹æœç´¢å…³é”®å­—å°±è¡Œäº†.</p><h3 id="2-sfczbcqca"><a href="#2-sfczbcqca" class="headerlink" title="2.sfczbcqca"></a>2.sfczbcqca</h3><p>è¿™ä¸ªå­—æ®µè²Œä¼¼å·²ç»æ²¡ç”¨äº†.ä»£ç ç›´æ¥ç»™å®ƒèµ‹ç©ºå­—ç¬¦.å¯ä»¥çŒœçŒœæ˜¯ä»€ä¹ˆæ„æ€.æˆ‘å°±ä¸çŒœäº†.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065545.png" alt="èµ‹ä¸ºç©ºå€¼"></p><p>ä¸Šå›¾çš„å…¶ä»–å››ä¸ªå­—æ®µç°åœ¨ä¹Ÿæ˜¯æ²¡ç”¨çš„.</p><h3 id="3-actionType"><a href="#3-actionType" class="headerlink" title="3.actionType"></a>3.actionType</h3><p><img data-src="http://cdn.sekyoro.top/imgs/065547.png" alt="æ‰¾å€¼"></p><p>ç›´æ¥æœç´¢å°±è¡Œäº†</p><p><img data-src="http://cdn.sekyoro.top/imgs/065549.png" alt="image-20220222151112854"></p><p>ç„¶åå‘ç°äº†è¿™å‡ ä¸ªå­—æ®µ,ä¸è¿‡éƒ½è®¾ç½®ä¸ºéšè—äº†.</p><p>addRbxxæˆ‘å¹¶ä¸å¤ªæ‡‚æ˜¯ä»€ä¹ˆæ„æ€,ä¸è¿‡å¦‚æœéƒ½æ˜¯è¿™ä¸ªå­—æ®µé‚£å°±æ˜¯é»˜è®¤å€¼äº†.</p><p>åé¢å°±æ˜¯å­¦å·.</p><h3 id="4-szcsbm"><a href="#4-szcsbm" class="headerlink" title="4.szcsbm"></a>4.szcsbm</h3><p>æ‰€åœ¨åŸå¸‚ç¼–ç ,ä¸è¿‡è¿™ä¸ªç¼–ç æ˜¯è¿™ä¸ªä»£ç è¡¨ç¤ºçš„.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> szcsbm = $(<span class="string">&quot;input[name=&#x27;szcsbm&#x27;]:checked&quot;</span>).val();</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093615.png" alt="å››ä¸ªé€‰é¡¹"></p><p>å››ä¸ªé€‰é¡¹ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡ä¸º1,2,3,4.å¯¹åº”ç€szcsdmçš„å€¼.ä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ åœ¨æ ¡,å°±æ˜¯1.</p><p>æ¥ä¸‹æ¥å°±è¦åšåˆ¤æ–­äº†.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (szcsbm == <span class="string">&#x27;2&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> qx = $(<span class="string">&quot;#district&quot;</span>).val(); <span class="comment">//å–å€¼</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">&quot;dsad&quot;</span> + qx);  <span class="comment">//debug??</span></span><br><span class="line">                <span class="keyword">if</span> (qx == <span class="string">&quot;610100&quot;</span> || qx == <span class="string">&quot;&quot;</span> || qx == <span class="literal">undefined</span>) &#123;</span><br><span class="line">                    $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©å½“å‰æ‰€åœ¨çœå¸‚åŒº/å¿ï¼&quot;</span>);</span><br><span class="line">                    $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">                    $(<span class="string">&quot;#district&quot;</span>).focus();</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">var</span> xaxxdz = $(<span class="string">&quot;#xaxxdz&quot;</span>).val();</span><br><span class="line">                <span class="keyword">if</span> (xaxxdz == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">                    $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;æ ¹æ®é˜²æ§è¦æ±‚ï¼Œåœ¨è¥¿å®‰äººå‘˜éœ€è¦å¡«å†™å½“å‰è¯¦ç»†å±…ä½ä¿¡æ¯&quot;</span>);</span><br><span class="line">                    $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">                    $(<span class="string">&quot;#xaxxdz&quot;</span>).focus();</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                szcsbm = $(<span class="string">&quot;#district&quot;</span>).val();</span><br><span class="line">                szcsmc = $(<span class="string">&#x27;#province option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">                &#125;).text() + $(<span class="string">&#x27;#city option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">                &#125;).text() + $(<span class="string">&#x27;#district option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">                &#125;).text();</span><br><span class="line">                szcsmc += $(<span class="string">&quot;#xaxxdz&quot;</span>).val();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (szcsbm == <span class="string">&#x27;3&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> szcsbm = $(<span class="string">&quot;#district&quot;</span>).val();</span><br><span class="line">                <span class="keyword">if</span> ($(<span class="string">&#x27;#district&#x27;</span>).css(<span class="string">&#x27;display&#x27;</span>) == <span class="string">&#x27;none&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> city = $(<span class="string">&quot;#city&quot;</span>).val();</span><br><span class="line">                    <span class="keyword">if</span> (city == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">                        $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©å½“å‰æ‰€åœ¨çœå¸‚ï¼&quot;</span>);</span><br><span class="line">                        $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">                        $(<span class="string">&quot;#city&quot;</span>).focus();</span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    szcsbm = city + <span class="string">&quot;00&quot;</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (szcsbm == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">                        $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©å½“å‰æ‰€åœ¨çœå¸‚åŒº/å¿ï¼&quot;</span>);</span><br><span class="line">                        $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">                        $(<span class="string">&quot;#district&quot;</span>).focus();</span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                szcsmc = $(<span class="string">&#x27;#province option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">                &#125;).text();</span><br><span class="line">                szcsmc += $(<span class="string">&#x27;#city option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">                &#125;).text();</span><br><span class="line">                <span class="keyword">if</span> ($(<span class="string">&#x27;#district&#x27;</span>).css(<span class="string">&#x27;display&#x27;</span>) != <span class="string">&#x27;none&#x27;</span>) &#123;</span><br><span class="line">                    szcsmc += $(<span class="string">&#x27;#district option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                        <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">                    &#125;).text();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (szcsbm == <span class="string">&#x27;4&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> gwcs = $(<span class="string">&quot;#gwcs&quot;</span>).val();</span><br><span class="line">                <span class="keyword">if</span> (gwcs == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">                    $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·è¾“å…¥å½“å‰æ‰€åœ¨å›½å¤–åŸå¸‚ï¼&quot;</span>);</span><br><span class="line">                    $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">                    $(<span class="string">&quot;#gwcs&quot;</span>).focus();</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                szcsmc = $(<span class="string">&quot;#gwcs&quot;</span>).val();</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (szcsbm == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">                szcsmc = <span class="string">&quot;åœ¨å­¦æ ¡&quot;</span>;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>ç²—ç•¥çœ‹ä¸€çœ‹,å®ƒä¼šæ ¹æ®æ‰€é€‰æ‹©çš„åœ°æ–¹äº§ç”Ÿä¸€ä¸ªszcsmc,å¦‚æœæ˜¯åœ¨å­¦æ ¡é‚£szcsmcå°±æ˜¯åœ¨å­¦æ ¡.å¦‚æœä¸æ˜¯å°±æ¯”è¾ƒéº»çƒ¦äº†.</p><p>å¦‚æœé€‰æ‹©åœ¨è¥¿å®‰,å°±è¦æ±‚é€‰æ‹©è¥¿å®‰çš„æŸä¸ªåŒºå¿.ç„¶åæ ¹æ®é€‰æ‹©çš„åŒºå¿å¯¹åº”çš„å€¼,å°±æ˜¯ä¸‹é¢é€‰é¡¹optionçš„value.è¿™ä¸ªæ˜¯åŸå¸‚ç¼–ç ,ç½‘ä¸Šæœ‰.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093617.png" alt="é€‰æ‹©åœ¨è¥¿å®‰"></p><p>è¿˜éœ€è¦å¡«å†™ä¸€ä¸ªå±…ä½åœ°å€,ä¸èƒ½ä¸ºç©º.æœ‰æ„æ€çš„æ˜¯,è¿™é‡Œszcsmcè¿˜æ·»åŠ äº†å…¶ä»–çš„å€¼.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸å¾—ä¸åæ§½ä¸€ä¸‹,è¿™ä¸ªçœŸæ˜¯jqueryä¸€æŠŠæ¢­...æˆ‘Jqueryå°±ç¨å¾®çœ‹äº†ä¸€ç‚¹çœŸé¡¶ä¸ä½</span></span><br><span class="line">szcsmc = $(<span class="string">&#x27;#province option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">                &#125;).text() + $(<span class="string">&#x27;#city option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">                &#125;).text() + $(<span class="string">&#x27;#district option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">                &#125;).text();</span><br><span class="line">                szcsmc += $(<span class="string">&quot;#xaxxdz&quot;</span>).val();</span><br></pre></td></tr></table></figure><p>éœ€è¦ç”¨åˆ°Jqueryçš„çŸ¥è¯†,è¿™é‡Œä¼šæŠŠæ²¡æœ‰é€‰æ‹©çš„å€¼éƒ½ä»é‡Œé¢åˆ é™¤.å…¶å®å°±æ˜¯å‰©ä¸‹äº†é™•è¥¿çœè¥¿å®‰å¸‚.</p><p>æ‰€ä»¥æœ€åszcsmcå­—æ®µå°±æ˜¯é™•è¥¿çœè¥¿å®‰å¸‚+åŒº/å¿+ç°å±…ä½åœ°å€.</p><p>å½“æ˜ç™½å…¶ä¸­ä¸€ä¸ªå…¶ä»–çš„å°±å¥½åŠäº†.</p><p>å¦‚æœszcsbm==3,é‚£ä¹ˆå°±å»å–#cityçš„å€¼,ç„¶åå°†szcsdmèµ‹å€¼city+â€00â€,è¿™å°±æ˜¯szcsdmçš„å€¼.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">szcsmc = $(<span class="string">&#x27;#province option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">        &#125;).text();</span><br><span class="line">        szcsmc += $(<span class="string">&#x27;#city option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">        &#125;).text();</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="string">&#x27;#district&#x27;</span>).css(<span class="string">&#x27;display&#x27;</span>) != <span class="string">&#x27;none&#x27;</span>) &#123;</span><br><span class="line">            szcsmc += $(<span class="string">&#x27;#district option&#x27;</span>).not(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> !<span class="built_in">this</span>.selected;</span><br><span class="line">            &#125;).text();</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>è€Œszcsmcå°±æ˜¯çœ+åŸå¸‚+(å¦‚æœå­˜åœ¨çš„åŒº/å¿)ç¼–ç .</p><p>å¦‚æœåœ¨å›½å¤–çš„è¯,szcsmcç›´æ¥å–è¾“å…¥æ¡†çš„å€¼.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (szcsbm == <span class="string">&#x27;4&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> gwcs = $(<span class="string">&quot;#gwcs&quot;</span>).val();</span><br><span class="line">        <span class="keyword">if</span> (gwcs == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·è¾“å…¥å½“å‰æ‰€åœ¨å›½å¤–åŸå¸‚ï¼&quot;</span>);</span><br><span class="line">            $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">            $(<span class="string">&quot;#gwcs&quot;</span>).focus();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        szcsmc = $(<span class="string">&quot;#gwcs&quot;</span>).val();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œå…¶å®æœ€å¤æ‚çš„å°±è¿‡å»äº†,ä¸»è¦å°±æ˜¯è·å¾—åŸå¸‚çš„ç¼–ç .</p><h3 id="5-sfjt"><a href="#5-sfjt" class="headerlink" title="5.sfjt"></a>5.sfjt</h3><p>è¿™ä¸ªå­—æ®µè¡¨ç¤ºæ˜¯å¦ç»åœ.åˆ«é—®æˆ‘æ€ä¹ˆçŸ¥é“çš„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093618.png" alt="sfjt"></p><p>æœ‰ä¸‰ä¸ªå€¼,è·Ÿä¸‰ä¸ªé€‰é¡¹å¯¹åº”.ä»ä¸Šåˆ°ä¸‹åˆ†åˆ«æ˜¯0,1,2.æˆ‘æ€•éº»çƒ¦,ç›´æ¥é»˜è®¤1å³å¯ä¸ç„¶è¿˜è¦å¡«å†™ç»åœçš„ä¿¡æ¯.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093620.png" alt="æ£€æµ‹ä»£ç "></p><p>å¯ä»¥çœ‹åˆ°sfjtè®¾ç½®ä¸º0çš„è¯å°±ä¸ç”¨å»å¡«å†™sfjtsmäº†.</p><h3 id="6-sfjcry"><a href="#6-sfjcry" class="headerlink" title="6.sfjcry"></a>6.sfjcry</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sfjcry = $(<span class="string">&quot;input[name=&#x27;radio3&#x27;]:checked&quot;</span>).val();</span><br><span class="line">    <span class="keyword">var</span> sfjcrysm = $(<span class="string">&quot;#hbjry_ms&quot;</span>).val();</span><br><span class="line">    <span class="keyword">if</span> (sfjcry == <span class="string">&#x27;1&#x27;</span> || sfjcry == <span class="string">&#x27;2&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sfjcrysm == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©è¿‘15å¤©æ¥è§¦è¿‡å‡ºå…¥æˆ–å±…ä½åœ¨ä¸­é«˜é£é™©åœ°åŒºçš„äººå‘˜ï¼Œä»¥åŠå…¶ä»–æœ‰æ–°å† æ‚£è€…ç—…ä¾‹æŠ¥å‘Šçš„å‘çƒ­æˆ–å‘¼å¸é“ç—‡çŠ¶æ‚£è€…ï¼&quot;</span>);</span><br><span class="line">            $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">            $(<span class="string">&quot;#hbjry_ms&quot;</span>).focus();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æ˜¯å¦æ¥è§¦äººå‘˜,é“ç†ç±»ä¼¼.ä¸‰ä¸ªé€‰é¡¹ä¾æ¬¡ä¸º0,1,2.åªè¦è®¾ç½®sfjcryä¸º0,å°±èƒ½ä¸ç”¨å¡«sfjcrysmäº†.</p><h3 id="7-sfjcqz"><a href="#7-sfjcqz" class="headerlink" title="7.sfjcqz"></a>7.sfjcqz</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sfjcqz = $(<span class="string">&quot;input[name=&#x27;radio4&#x27;]:checked&quot;</span>).val();</span><br><span class="line">   <span class="keyword">var</span> sfjcqzsm = $(<span class="string">&quot;#sfjcqzsm&quot;</span>).val();</span><br><span class="line">   <span class="keyword">if</span> (sfjcqz == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">       <span class="keyword">if</span> (sfjcqzsm == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">           $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©è¿‘15å¤©æ‚¨æˆ–å®¶å±æ˜¯å¦æ¥è§¦è¿‡ç–‘ä¼¼æˆ–ç¡®è¯Šæ‚£è€…ï¼Œæˆ–æ— ç—‡çŠ¶æ„ŸæŸ“æ‚£è€…ï¼ˆæ ¸é…¸æ£€æµ‹é˜³æ€§è€…ï¼‰ï¼&quot;</span>);</span><br><span class="line">           $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">           $(<span class="string">&quot;#sfjcqzsm&quot;</span>).focus();</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>æ˜¯å¦æ¥è§¦ç¡®è¯Š.ä¸¤ä¸ªé€‰é¡¹,0,1.è®¾ç½®ä¸º0å³å¯.è¿™æ ·åé¢çš„ä¿¡æ¯ä¸ç”¨å¡«.</p><h3 id="8-sfyzz"><a href="#8-sfyzz" class="headerlink" title="8.sfyzz"></a>8.sfyzz</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sfyzz = $(<span class="string">&quot;input[name=&#x27;radio5&#x27;]:checked&quot;</span>).val();</span><br><span class="line">    <span class="keyword">var</span> sfqz_array = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    $(<span class="string">&#x27;input[name=&quot;radio6&quot;]:checked&#x27;</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        sfqz_array.push($(<span class="built_in">this</span>).val());</span><br><span class="line">        <span class="comment">//å‘æ•°ç»„ä¸­æ·»åŠ å…ƒç´   </span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>æ˜¯å¦æœ‰ç—‡çŠ¶,è¯´å®è¯æˆ‘å°±ç…§ç€æ•²æ‹¼éŸ³å°±çŸ¥é“å­—æ®µçš„æ„æ€äº†.</p><p><del>ä¸¤ä¸ªå€¼,0,1.è®¾ç½®0æ— ç—‡çŠ¶.</del>å¦ˆçš„æŠŠæˆ‘éª—äº†,è¿™ä¸ªå­—æ®µè¡¨ç¤ºä½“æ¸©èŒƒå›´.4ä¸ªå€¼0~3.</p><p>sfqz_arrayç–‘ä¼¼ç—‡çŠ¶,å¯å¤šé€‰.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093621.png" alt="ç–‘ä¼¼ç—‡çŠ¶"></p><p>ä»ä¸Šåˆ°ä¸‹å€¼ä¾æ¬¡ä¸º0,1,6,7,8.ä¼šæŠŠè¿™äº›å€¼åŠ å…¥æ•°ç»„.ç„¶åjoinä¸ºå­—ç¬¦ä¸².å¾—åˆ°sfqz</p><h3 id="9-ycqksm"><a href="#9-ycqksm" class="headerlink" title="9.ycqksm"></a>9.ycqksm</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ycqksm = $(<span class="string">&quot;#ycqk_ms&quot;</span>).val();</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">undefined</span> == sfqz || sfqz == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©æ‚¨æˆ–å®¶å±æœ‰æ— ç–‘ä¼¼ç—‡çŠ¶ï¼&quot;</span>);</span><br><span class="line">        $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sfqz != <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ycqksm == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·ç®€å•æè¿°ä¸€ä¸‹æ‚¨æˆ–å®¶å±çš„ç–‘ä¼¼æƒ…å†µï¼&quot;</span>);</span><br><span class="line">            $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">            $(<span class="string">&quot;#ycqk_ms&quot;</span>).focus();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå­—æ®µæ˜¯é€‰æ‹©äº†æœ‰ç–‘ä¼¼ç—‡çŠ¶,ä¹Ÿå°±æ˜¯sfqzä¸æ˜¯0æ—¶éœ€è¦å¡«å†™çš„.å¦‚æœsfqzæ˜¯0çš„è¯å°±ä¸ç”¨å†™äº†.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093622.png" alt="ycqksmå­—æ®µ"></p><h3 id="10-glqk"><a href="#10-glqk" class="headerlink" title="10.glqk"></a>10.glqk</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> glqk = $(<span class="string">&quot;input[name=&#x27;radio7&#x27;]:checked&quot;</span>).val();</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">undefined</span> == glqk || glqk == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©æ˜¯å¦éš”ç¦»åŠéš”ç¦»æƒ…å†µï¼&quot;</span>);</span><br><span class="line">        $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>éš”ç¦»æƒ…å†µ.<img data-src="http://cdn.sekyoro.top/imgs/093624.png" alt="éš”ç¦»æƒ…å†µ"></p><p>4ä¸ªå€¼0~3.è®¾ç½®0å°±å¯¹äº†.</p><h3 id="11-glksrq"><a href="#11-glksrq" class="headerlink" title="11.glksrq"></a>11.glksrq</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> glksrq = $(<span class="string">&quot;#glksrq&quot;</span>).val();</span><br><span class="line">   <span class="keyword">var</span> gljsrq = $(<span class="string">&quot;#gljsrq&quot;</span>).val();</span><br><span class="line">   <span class="keyword">var</span> glyy = $(<span class="string">&quot;#glyy&quot;</span>).val();</span><br><span class="line">   <span class="keyword">if</span> (glqk != <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">       <span class="keyword">if</span> (glksrq == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">           $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©éš”ç¦»å¼€å§‹æ—¥æœŸï¼&quot;</span>);</span><br><span class="line">           $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (gljsrq == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">           $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©éš”ç¦»ç»“æŸæ—¥æœŸï¼&quot;</span>);</span><br><span class="line">           $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (glyy == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">           $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·è¾“å…¥éš”ç¦»åŸå› ï¼&quot;</span>);</span><br><span class="line">           $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>è¿™äº›å…¶å®å°±æ˜¯éš”ç¦»æƒ…å†µäº†.åªè¦ä¸é€‰æ‹©éš”ç¦»å°±è¡Œäº†.å¤ªéº»çƒ¦,</p><p><img data-src="http://cdn.sekyoro.top/imgs/093625.png" alt="éš”ç¦»ä¿¡æ¯"></p><p>glksrq,gljsrq,glyyå­—æ®µå°±æ˜¯ä¸Šé¢è¿™ä¸‰ä¸ªå€¼.æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç›´æ¥ç©ºå€¼(æˆ–è€…ä¸å‘é€è¿™ä¸ªæ•°æ®éƒ½è¡Œ)</p><h3 id="12-tbly"><a href="#12-tbly" class="headerlink" title="12.tbly"></a>12.tbly</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tbly = $(<span class="string">&quot;#tbly&quot;</span>).val();</span><br><span class="line"><span class="keyword">var</span> qtqksm = $(<span class="string">&quot;#qtqksm&quot;</span>).val();</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093627.png" alt="é»˜è®¤çš„å€¼"></p><p>ssoåº”è¯¥æ˜¯é»˜è®¤å€¼,æ˜¯å§,åº”è¯¥æ˜¯å§.ã ã‚ˆã­ï¼</p><p>qtqksmå°±æ˜¯æœ€åçš„æƒ…å†µè¯´æ˜.ç©ºå³å¯.</p><h3 id="13-sfjkqk"><a href="#13-sfjkqk" class="headerlink" title="13.sfjkqk"></a>13.sfjkqk</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sfjkqk = $(<span class="string">&quot;input[name=&#x27;radio8&#x27;]:checked&quot;</span>).val();</span><br><span class="line">    <span class="keyword">var</span> jkqksm = $(<span class="string">&quot;#jkqk_ms&quot;</span>).val();</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">undefined</span> == sfjkqk || sfjkqk == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©æ‚¨æˆ–å®¶å±å½“å‰å¥åº·çŠ¶æ€ï¼&quot;</span>);</span><br><span class="line">        $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sfjkqk != <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (jkqksm == <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·ç®€å•æè¿°ä¸€ä¸‹æ‚¨æˆ–å®¶å±çš„å¥åº·æƒ…å†µï¼&quot;</span>);</span><br><span class="line">            $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">            $(<span class="string">&quot;#jkqk_ms&quot;</span>).focus();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºæ˜¯å¦å¥åº·æƒ…å†µ</p><p><img data-src="http://cdn.sekyoro.top/imgs/093629.png" alt="å¥åº·æƒ…å†µ"></p><p>äº”ä¸ªå€¼æ³¨æ„æ˜¯0,2,3,4,5.é€‰0å³å¯.å¦åˆ™jkqksmå­—æ®µåˆè¦å¡«å†™ä¿¡æ¯.</p><p>OK,å‰©ä¸‹çš„å­—æ®µéƒ½æ˜¯æœåŠ¡å™¨å‘è¿‡æ¥çš„,æˆ‘ä»¬çˆ¬å–åˆ°æŠ¥æ–‡åæ­£åˆ™æˆ–è€…å…¶ä»–æ–¹å¼ç›´æ¥è·å–å°±å¯ä»¥äº†.</p><p>æ­¤å¤–æ³¨æ„ä¸€ä¸‹$.ajaxå‘çš„ç½‘å€,è¿™ä¸ªå­—æ®µå¾ˆé‡è¦.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url: <span class="string">&#x27;ry_util.jsp?sign=xxx&amp;timeStamp=xxx&#x27;</span></span><br></pre></td></tr></table></figure><p>æŠ“å–æŠ¥æ–‡åç›´æ¥å¾€è¿™ä¸ªç½‘å€å‘.</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å¯ä»¥çœ‹åˆ°å¾ˆå¤šå­—æ®µå…¶å®ä¸ç”¨å†™éƒ½è¡Œ,å› ä¸ºåªè¦æ²¡æœ‰è¢«éš”ç¦»æˆ–è€…å‡ºç°ç—‡çŠ¶,é‚£äº›ä¿¡æ¯å°±ä¸ç”¨å¡«.</p><p>æœ€é‡è¦çš„æ˜¯åŸå¸‚ç¼–ç (1,2,3,4)å’ŒåŸå¸‚åç§°(è¡Œæ”¿åŒºåˆ’åˆ†ç¼–ç ).</p><p>åŒæ—¶,æˆ‘åœ¨æœ€å¼€å§‹æåˆ°,è¿”æ ¡åçš„ç¨‹åºæ˜¯go_subfxä»¥åŠsavefx.æœ‰ä¸€ç‚¹å·®åˆ«.</p><p>æ¯”å¦‚è¯´æœ‰xasymtå­—æ®µ.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//xasymt å­—æ®µ è¡¨ç¤ºè¥¿å®‰å¸‚ä¸€ç é€š  </span></span><br><span class="line"><span class="keyword">var</span> xasymt = $(<span class="string">&#x27;input[type=radio][name=radio11]:checked&#x27;</span>).val();</span><br><span class="line">            <span class="keyword">if</span> (!xasymt) &#123;</span><br><span class="line">                $(<span class="string">&#x27;#iosDialog2 .weui-dialog__bd&#x27;</span>).html(<span class="string">&quot;è¯·é€‰æ‹©è¥¿å®‰å¸‚ä¸€ç é€šæ˜¯å¦ç»¿ç ï¼&quot;</span>);</span><br><span class="line">                $(<span class="string">&#x27;#iosDialog2&#x27;</span>).fadeIn(<span class="number">200</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>åŒæ ·çš„æ“ä½œ,æˆ‘å°è¯•åœ¨htmlä¸­æ‰¾åˆ°è¿™ä¸ªinput,å¯æƒœå¹¶æ²¡æœ‰.è¿éšè—éƒ½æ²¡æœ‰.ä¹Ÿå°±æ˜¯ç°åœ¨å¹¶æ²¡æœ‰è¿™ä¸ªè¥¿å®‰ä¸€ç é€šæ˜¯å¦ç»¿ç çš„é€‰é¡¹äº†.</p><h2 id="é¢˜å¤–è¯"><a href="#é¢˜å¤–è¯" class="headerlink" title="é¢˜å¤–è¯"></a>é¢˜å¤–è¯</h2><p>è¿™ç¯‡æ–‡ç« å¹¶ä¸æ˜¯æƒ³å†™ä¸€ä¸ªçˆ¬è™«è‡ªåŠ¨æ‰“å¡çš„(äº‹å®ä¸Šæˆ‘çš„åšå®¢ä¸­å·²ç»å†™è¿‡äº†,ä¸ç®¡æ˜¯ç¬¨é‡çš„seleniumè¿˜æ˜¯ç›´æ¥post),ä¹Ÿä¸æ˜¯é€†å‘,å› ä¸ºè¿™ä¹Ÿä¸è¶³ä»¥æ¶‰åŠåˆ°é€†å‘çš„çŸ¥è¯†.ä¸»è¦ç›®çš„æ˜¯åœ¨è‡ªåŠ¨æ‰“å¡æ—¶é¿å…å‡ºç°æ‰“å¡å¤±è´¥æˆ–è€…é”™è¯¯çš„æƒ…å†µ,äº†è§£è¿™äº›å­—æ®µçš„æ„ä¹‰è¿˜æ˜¯å¾ˆé‡è¦çš„.</p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Electronå­¦ä¹ </title>
      <link href="2022/02/18/Electron%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/02/18/Electron%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¸ªäººçœ‹æ³•æ˜¯åˆ©ç”¨ä¸»è¦åˆ©ç”¨å‰ç«¯æŠ€æœ¯<strong>å¿«é€Ÿ</strong>å¼€å‘è·¨å¹³å°åº”ç”¨ç¨‹åº.è¶ç°åœ¨å‘å±•è¿˜ä¸é”™(è‡³å°‘æ¯”winform,wpf,qt,å®‰å“å¼€å‘æ›´å¹´è½»)</p><span id="more"></span>]]></content>
      
      
      
        <tags>
            
            <tag> Electron </tag>
            
            <tag> front </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pyqtå­¦ä¹ </title>
      <link href="2022/02/04/pyqt%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/02/04/pyqt%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æ¡Œé¢ç¼–ç¨‹,åŸºæœ¬å°±æ˜¯Qtå’Œwinformã€WPF.æˆ‘ä¸ºä»€ä¹ˆä¼šç”¨PyQtå‘¢?å¤§æ¦‚æ˜¯å¯¹äºc++æ²¡æ„Ÿè§‰.winformåˆä¸èƒ½è·¨å¹³å°è€Œä¸”pythonå¥½å¼€å‘å§.å½“ç„¶,è¿™ä¹Ÿæ³¨å®šäº†è¿™ç§ä¸€èˆ¬éƒ½æ˜¯å°å·¥å…·å•¥çš„.<br><span id="more"></span><br>åœ¨è¿›è¡Œè¿™ç§ç¼–ç¨‹æ—¶,æˆ‘çš„ä½“ä¼šå°±æ˜¯ä¸è¦å¤ªå…³æ³¨æ§ä»¶.åº”è¯¥å…³æ³¨è¿™ç§è®¾è®¡.<br>è¿™ç§å¼€å‘ä¸€èˆ¬æ˜¯ä¼šæ¶‰åŠåˆ°å¤šçº¿ç¨‹ç¼–ç¨‹çš„.åº”è¯¥å…³æ³¨è¿™ç§æœºåˆ¶.</p><p><strong>PyQt5 ä¸»è¦å­¦ä¹ å†…å®¹</strong></p><ul><li>PyQt5 åŸºæœ¬çª—å£æ§ä»¶ï¼šQMainWindowã€Qwidgetã€Qlabelã€QLineEditã€èœå•ã€å·¥å…·æ ç­‰</li><li>PyQt5 é«˜çº§ç»„ä»¶ï¼šQTableViewã€å®¹å™¨ç­‰</li><li>PyQt5 å¸ƒå±€ç®¡ç†ï¼šQBoxLayoutã€QGridLayoutã€QFormLayoutã€åµŒå¥—å¸ƒå±€ç­‰</li><li>PyQt5 ä¿¡å·ä¸æ§½ï¼šäº‹ä»¶å¤„ç†ã€æ•°æ®ä¼ é€’ç­‰</li><li>PyQt5 å›¾å½¢ä¸ç‰¹æ•ˆï¼šå®šåˆ¶çª—å£é£æ ¼ã€QSS æ ·å¼è¡¨ä¸ GUI ç•Œé¢ç¾åŒ–ç­‰</li><li>PyQt5 æ‰©å±•åº”ç”¨ï¼šåˆ¶ä½œ PyQt5 å®‰è£…ç¨‹åºå’Œæ•°æ®å¤„ç†ç­‰</li></ul><p>å€¼å¾—æ³¨æ„çš„æ˜¯,ç°åœ¨Qt6éƒ½æœ‰äº†.</p><div class="table-container"><table><thead><tr><th>æ¨¡å—</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>QtCore</td><td>åŒ…å«äº†æ ¸å¿ƒçš„é GUI çš„åŠŸèƒ½ï¼Œä¸»è¦å’Œæ—¶é—´ã€æ–‡ä»¶ä¸æ–‡ä»¶å¤¹ã€å„ç§æ•°æ®ã€æµã€URLã€mime ç±»æ–‡ä»¶ã€è¿›ç¨‹ä¸çº¿ç¨‹ä¸€èµ·ä½¿ç”¨ã€‚</td></tr><tr><td>QtGui</td><td>åŒ…å«äº†çª—å£ç³»ç»Ÿã€äº‹ä»¶å¤„ç†ã€2D å›¾åƒã€åŸºæœ¬ç»˜ç”»ã€å­—ä½“å’Œæ–‡å­—ç±»ã€‚</td></tr><tr><td>QtWidgets</td><td>ç±»åŒ…å«äº†ä¸€ç³»åˆ—åˆ›å»ºæ¡Œé¢åº”ç”¨çš„ UI å…ƒç´ ã€‚</td></tr><tr><td>QtMultimedia</td><td>åŒ…å«äº†å¤„ç†å¤šåª’ä½“çš„å†…å®¹å’Œè°ƒç”¨æ‘„åƒå¤´ API çš„ç±»ã€‚</td></tr><tr><td>QtBluetooth</td><td>æ¨¡å—åŒ…å«äº†æŸ¥æ‰¾å’Œè¿æ¥è“ç‰™çš„ç±»ã€‚</td></tr><tr><td>QtNetwork</td><td>åŒ…å«äº†ï¼ˆTCP/IP/UDPï¼‰ç½‘ç»œç¼–ç¨‹çš„ç±»ã€‚</td></tr><tr><td>QtPositioning</td><td>åŒ…å«äº†å®šä½çš„ç±»ï¼Œå¯ä»¥ä½¿ç”¨å«æ˜Ÿã€WiFi ç”šè‡³æ–‡æœ¬ã€‚</td></tr><tr><td>Engine</td><td>åŒ…å«äº†é€šè¿‡å®¢æˆ·ç«¯è¿›å…¥å’Œç®¡ç† Qt Cloud çš„ç±»ã€‚</td></tr><tr><td>QtWebSockets</td><td>åŒ…å«äº† WebSocket åè®®çš„ç±»ã€‚</td></tr><tr><td>QtWebKit</td><td>åŒ…å«äº†ä¸€ä¸ªåŸº WebKit2 çš„ web æµè§ˆå™¨ã€‚</td></tr><tr><td>QtWebKitWidgets</td><td>åŒ…å«äº†åŸºäº QtWidgets çš„ WebKit1 çš„ç±»ã€‚</td></tr><tr><td>QtXml</td><td>åŒ…å«äº†å¤„ç† xml çš„ç±»ï¼Œæä¾›äº† SAX å’Œ DOM API çš„å·¥å…·ã€‚</td></tr><tr><td>QtSvg</td><td>æä¾›äº†æ˜¾ç¤º SVG å†…å®¹çš„ç±»ã€‚</td></tr><tr><td>QtSql</td><td>æä¾›äº†å¤„ç†æ•°æ®åº“çš„å·¥å…·ã€‚</td></tr><tr><td>QtTest</td><td>æä¾›äº†æµ‹è¯• PyQt5 åº”ç”¨çš„å·¥å…·ã€‚</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>æ¨¡å—</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>QtCore</td><td>åŒ…å«äº†æ ¸å¿ƒçš„é GUI çš„åŠŸèƒ½ï¼Œä¸»è¦å’Œæ—¶é—´ã€æ–‡ä»¶ä¸æ–‡ä»¶å¤¹ã€å„ç§æ•°æ®ã€æµã€URLã€mime ç±»æ–‡ä»¶ã€è¿›ç¨‹ä¸çº¿ç¨‹ä¸€èµ·ä½¿ç”¨ã€‚</td></tr><tr><td>QtGui</td><td>åŒ…å«äº†çª—å£ç³»ç»Ÿã€äº‹ä»¶å¤„ç†ã€2D å›¾åƒã€åŸºæœ¬ç»˜ç”»ã€å­—ä½“å’Œæ–‡å­—ç±»ã€‚</td></tr><tr><td>QtWidgets</td><td>ç±»åŒ…å«äº†ä¸€ç³»åˆ—åˆ›å»ºæ¡Œé¢åº”ç”¨çš„ UI å…ƒç´ ã€‚</td></tr><tr><td>QtMultimedia</td><td>åŒ…å«äº†å¤„ç†å¤šåª’ä½“çš„å†…å®¹å’Œè°ƒç”¨æ‘„åƒå¤´ API çš„ç±»ã€‚</td></tr><tr><td>QtBluetooth</td><td>æ¨¡å—åŒ…å«äº†æŸ¥æ‰¾å’Œè¿æ¥è“ç‰™çš„ç±»ã€‚</td></tr><tr><td>QtNetwork</td><td>åŒ…å«äº†ï¼ˆTCP/IP/UDPï¼‰ç½‘ç»œç¼–ç¨‹çš„ç±»ã€‚</td></tr><tr><td>QtPositioning</td><td>åŒ…å«äº†å®šä½çš„ç±»ï¼Œå¯ä»¥ä½¿ç”¨å«æ˜Ÿã€WiFi ç”šè‡³æ–‡æœ¬ã€‚</td></tr><tr><td>Engine</td><td>åŒ…å«äº†é€šè¿‡å®¢æˆ·ç«¯è¿›å…¥å’Œç®¡ç† Qt Cloud çš„ç±»ã€‚</td></tr><tr><td>QtWebSockets</td><td>åŒ…å«äº† WebSocket åè®®çš„ç±»ã€‚</td></tr><tr><td>QtWebKit</td><td>åŒ…å«äº†ä¸€ä¸ªåŸº WebKit2 çš„ web æµè§ˆå™¨ã€‚</td></tr><tr><td>QtWebKitWidgets</td><td>åŒ…å«äº†åŸºäº QtWidgets çš„ WebKit1 çš„ç±»ã€‚</td></tr><tr><td>QtXml</td><td>åŒ…å«äº†å¤„ç† xml çš„ç±»ï¼Œæä¾›äº† SAX å’Œ DOM API çš„å·¥å…·ã€‚</td></tr><tr><td>QtSvg</td><td>æä¾›äº†æ˜¾ç¤º SVG å†…å®¹çš„ç±»ã€‚</td></tr><tr><td>QtSql</td><td>æä¾›äº†å¤„ç†æ•°æ®åº“çš„å·¥å…·ã€‚</td></tr><tr><td>QtTest</td><td>æä¾›äº†æµ‹è¯• PyQt5 åº”ç”¨çš„å·¥å…·ã€‚</td></tr></tbody></table></div><p>é‡ç‚¹æŒæ¡ QtWidgetsã€QtGuiã€QtCore æ¨¡å—çš„åŠŸèƒ½</p><h2 id="æ­å»ºç¯å¢ƒ"><a href="#æ­å»ºç¯å¢ƒ" class="headerlink" title="æ­å»ºç¯å¢ƒ"></a>æ­å»ºç¯å¢ƒ</h2><p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒé¿å…æ¨¡å—å†²çª.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">virtualenv qt5env <span class="comment">#æˆ–ä½¿ç”¨pycharmç›´æ¥åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ.</span></span><br><span class="line">source qt5env/<span class="built_in">bin</span>/activate  <span class="comment">#Linuxç¯å¢ƒä¸‹æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip intall pyqt5</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯,pythonä¸qtæœ‰ä¸¤ä¸ªåŒ….å¦ä¸€ä¸ªæ˜¯pyside Qtå®˜æ–¹çš„.å…è´¹å¯å•†ç”¨.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    w = QWidget()</span><br><span class="line"></span><br><span class="line">    w.resize(<span class="number">250</span>,<span class="number">150</span>)</span><br><span class="line">    w.move(<span class="number">300</span>,<span class="number">300</span>)</span><br><span class="line">    w.setWindowTitle(<span class="string">&quot;æˆ‘çš„ç¬¬ä¸€ä¸ªqtåº”ç”¨&quot;</span>)</span><br><span class="line">    w.show()</span><br><span class="line">    sys.exit(app.<span class="built_in">exec</span>())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QApplication,QWidget</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span>(<span class="params">QWidget</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span>  <span class="comment">#æ„é€ å‡½æ•°</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.initUI()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initUI</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.setGeometry(<span class="number">400</span>,<span class="number">300</span>,<span class="number">400</span>,<span class="number">300</span>)</span><br><span class="line">        self.show()</span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;ä½ å¥½&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app = QApplication(sys.argv)</span><br><span class="line">    e = Example()</span><br><span class="line">    sys.exit(app.exec_())</span><br></pre></td></tr></table></figure><ul><li>æ§ä»¶ + å¸ƒå±€ï¼šæ§ä»¶ä¸å¸ƒå±€ç±»ä¼¼äº HMTL ä¸­çš„æ ‡ç­¾å’Œå®šä½ï¼Œè¦æ˜¯æœ‰ HTML åŸºç¡€ï¼Œå­¦ä¹ è¿™ä¸€å—ä¸Šæ‰‹éå¸¸å®¹æ˜“ï¼Œè¦æ˜¯æ²¡æœ‰æ¥è§¦è¿‡ä¹Ÿæ²¡å…³ç³»ï¼Œæœ¬è¯¾ç¨‹å°†æ‰‹æŠŠæ‰‹æ•™å¤§å®¶å­¦ä¹ </li><li>QSS æ ·å¼ï¼šQSS ç±»ä¼¼äº CSS æ ·å¼è¡¨ï¼Œè¯­æ³•ä¸Šéƒ½æ˜¯ç›¸é€šçš„</li><li>ä¿¡å·ä¸æ§½ï¼šä¿¡å·ä¸æ§½å……å½“ JS çš„è§’è‰²ï¼Œä½†æ˜¯æ¯” JS æ›´åŠ å¼ºå¤§ï¼Œå®ƒèƒ½å¤Ÿå®Œå…¨å°†ç•Œé¢å’Œä»£ç éš”ç¦»ï¼Œä½ åªéœ€è¦è´Ÿè´£å¼€å‘ç›¸åº”çš„ä¸šåŠ¡é€»è¾‘å³å¯ï¼Œä¸éœ€è¦äº†è§£ç•Œé¢æ˜¯å¦‚ä½•è¿è¡Œçš„</li></ul><h3 id="QtGUI"><a href="#QtGUI" class="headerlink" title="QtGUI"></a>QtGUI</h3><p>åœ¨ Qt ä¸­ï¼ŒQIcon ç±»æä¾›äº†å¤„äºä¸åŒæ¨¡å¼å’ŒçŠ¶æ€ä¸‹çš„å¯ç¼©æ”¾å›¾æ ‡ï¼ŒQIcon å¯ä»¥æŠŠç»™å®šçš„ä¸€ç»„åƒç´ å›¾ç”Ÿæˆè¾ƒå°çš„åƒç´ å›¾æˆ–è¾ƒå¤§çš„åƒç´ å›¾ï¼Œä¹Ÿå¯ä»¥å°†è¯¥ç»„åƒç´ å›¾è®¾ç½®ä¸ºæ¿€æ´»æ ·å¼æˆ–ç¦ç”¨æ ·å¼ï¼ŒQt çª—å£ä½¿ç”¨è¿™äº›åƒç´ å›¾æ¥æ˜¾ç¤ºç‰¹å®šåŠ¨ä½œçš„å›¾æ ‡ã€‚</p><p>QIcon å¯ä»¥æ¥å—çš„å‚æ•°ç±»å‹ï¼š</p><ul><li><p>QIcon()ï¼šæ— å‚æ•°ï¼Œè¡¨ç¤ºç©ºå›¾æ ‡</p></li><li><p><strong>QIcon(str)ï¼šstrï¼Œstr ä¸ºæœ¬åœ°å›¾ç‰‡æ–‡ä»¶çš„è·¯å¾„</strong></p></li><li><p>QIcon(QPixmap)ï¼šå‚æ•°ä¸º QPixmapï¼Œå¯ä»¥åŠ è½½åˆ°ä¸€ä¸ªæ§ä»¶ä¸­ï¼Œé€šå¸¸æ˜¯æ ‡ç­¾æˆ–è€…æŒ‰é’®æ§ä»¶ï¼Œç”¨äºåœ¨æ ‡ç­¾æˆ–æŒ‰é’®ä¸Šæ˜¾ç¤ºå›¾åƒ</p></li><li><p>QIcon(QIcon)ï¼šå‚æ•°ä¸º QIcon ä¸ºå¯¹è±¡</p></li><li><pre><code class="lang-python">import sysfrom PyQt5.QtGui import QIconfrom PyQt5.QtWidgets import QApplication, QWidget,QStyleclass Example(QWidget):    def __init__(self,icon):        super().__init__()        self.initui(icon)    def initui(self,icon=None):        self.move(100,0)        self.setWindowTitle(&quot;åº”ç”¨&quot;)        # self.setWindowIcon(icon)        self.setWindowIcon(QApplication.style().standardIcon(10))        # self.setWindowIcon(QIcon())        self.show()if __name__ == &#39;__main__&#39;:    app = QApplication(sys.argv)    # print(sys.argv)    icon = QIcon(&quot;./bella.png&quot;)    e = Example(icon)    sys.exit(app.exec_())</code></pre></li></ul><p>ä¹‹å‰æ‘†äº†ä¸€æ®µæ—¶é—´.ç°åœ¨ç›´æ¥æ‹¿åº”ç”¨æ¥å†™.</p><p>æ¨èä¸€ä¸‹githubä»“åº“</p><blockquote><p>git@github.com:taseikyo/PyQt5-Apps.git</p></blockquote><p>æœ‰å¾ˆå¤šåº”ç”¨å°demo,æŒºå®ç”¨çš„.(æ„Ÿè§‰æ¡Œé¢åº”ç”¨æ˜¯ä¸€ä¸ªæ— åº•æ´å•Š)</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Qt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Webæ¼æ´å­¦ä¹ </title>
      <link href="2022/02/04/Web%E6%BC%8F%E6%B4%9E%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/02/04/Web%E6%BC%8F%E6%B4%9E%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å¥½å¥‡<br><span id="more"></span></p><p>å¯¹äºç½‘ç»œä¿¡æ¯å®‰å…¨æŒºæ„Ÿå…´è¶£çš„.</p><h2 id="SQLæ³¨å…¥æ¼æ´åŸºç¡€"><a href="#SQLæ³¨å…¥æ¼æ´åŸºç¡€" class="headerlink" title="SQLæ³¨å…¥æ¼æ´åŸºç¡€"></a>SQLæ³¨å…¥æ¼æ´åŸºç¡€</h2><ul><li>SQL æ³¨å…¥æ¼æ´çš„åŸç†</li><li>SQL æ³¨å…¥æ¼æ´çš„åˆ†ç±»</li><li>SQL æ³¨å…¥çš„åˆ©ç”¨æŠ€å·§</li></ul><blockquote><p>SQL æ³¨å…¥æ”»å‡»é€šè¿‡æ„å»ºç‰¹æ®Šçš„è¾“å…¥ä½œä¸ºå‚æ•°ä¼ å…¥ Web åº”ç”¨ç¨‹åºï¼Œè€Œè¿™äº›è¾“å…¥å¤§éƒ½æ˜¯ SQL è¯­æ³•é‡Œçš„ä¸€äº›ç»„åˆï¼Œé€šè¿‡æ‰§è¡Œ SQL è¯­å¥è¿›è€Œæ‰§è¡Œæ”»å‡»è€…æ‰€è¦çš„æ“ä½œ</p></blockquote><p>SQL æ³¨å…¥æ”»å‡»æ˜¯é€šè¿‡å°†æ¶æ„çš„ SQL è¯­å¥æ’å…¥åˆ°åº”ç”¨çš„è¾“å…¥å‚æ•°ä¸­ï¼Œå†åœ¨åå°æ•°æ®åº“æœåŠ¡å™¨ä¸Šè§£ææ‰§è¡Œè¿›è¡Œçš„æ”»å‡»ï¼Œå®ƒæ˜¯ç›®å‰é»‘å®¢å¯¹æ•°æ®åº“è¿›è¡Œæ”»å‡»çš„æœ€å¸¸ç”¨æ‰‹æ®µä¹‹ä¸€.</p><p><strong>ä¸‰å±‚æ¶æ„</strong>ï¼ˆ<code>3-tier architecture</code>ï¼‰ é€šå¸¸æ„ä¹‰ä¸Šå°±æ˜¯å°†æ•´ä¸ªä¸šåŠ¡åº”ç”¨åˆ’åˆ†ä¸ºï¼š</p><ul><li>ç•Œé¢å±‚ï¼ˆUser Interface layerï¼‰</li><li>ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBusiness Logic Layerï¼‰</li><li>æ•°æ®è®¿é—®å±‚ï¼ˆData access layerï¼‰</li></ul><p>ç”±æ•°æ®åº“é©±åŠ¨çš„ Web åº”ç”¨ç¨‹åºä¾ä»ä¸‰å±‚æ¶æ„çš„æ€æƒ³åˆ†ä¸ºäº†ä¸‰å±‚ï¼š</p><ul><li>è¡¨ç¤ºå±‚ã€‚</li><li>ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆåˆç§°é¢†åŸŸå±‚ï¼‰</li><li>æ•°æ®è®¿é—®å±‚ï¼ˆåˆç§°å­˜å‚¨å±‚ï¼‰</li></ul><p>å†™æ­»åˆ°ä»£ç é‡Œçš„ SQL è¯­å¥æ‰§è¡Œä¸ä¼šæœ‰å±é™©ï¼Œä½†å®é™…æƒ…å†µæ˜¯å¾ˆå¤šæ—¶å€™éœ€è¦<strong>ç»“åˆç”¨æˆ·çš„è¾“å…¥æ•°æ®åŠ¨æ€æ„é€  SQL è¯­å¥</strong>ï¼Œå¦‚æœç”¨æˆ·è¾“å…¥çš„æ•°æ®è¢«æ„é€ æˆæ¶æ„ SQL ä»£ç ï¼ŒWeb åº”ç”¨åˆæœªå¯¹åŠ¨æ€æ„é€ çš„ SQL è¯­å¥ä½¿ç”¨çš„å‚æ•°è¿›è¡Œå®¡æŸ¥ï¼Œåˆ™ä¼šå¸¦æ¥æ„æƒ³ä¸åˆ°çš„å±é™©ã€‚</p><p>SQL æ³¨å…¥å¸¦æ¥çš„å¨èƒä¸»è¦æœ‰å¦‚ä¸‹å‡ ç‚¹</p><ul><li>çŒœè§£åå°æ•°æ®åº“ï¼Œè¿™æ˜¯åˆ©ç”¨æœ€å¤šçš„æ–¹å¼ï¼Œç›—å–ç½‘ç«™çš„æ•æ„Ÿä¿¡æ¯ã€‚</li><li>ç»•è¿‡è®¤è¯ï¼Œåˆ—å¦‚ç»•è¿‡éªŒè¯ç™»å½•ç½‘ç«™åå°ã€‚</li><li>æ³¨å…¥å¯ä»¥å€ŸåŠ©æ•°æ®åº“çš„å­˜å‚¨è¿‡ç¨‹è¿›è¡Œææƒç­‰æ“ä½œã€‚</li></ul><p>æ­¥éª¤:</p><ul><li><strong>å¯»æ‰¾æ³¨å…¥ç‚¹</strong>ï¼šæŒ‡æ‰¾åˆ°å­˜åœ¨ SQL æ³¨å…¥çš„å‚æ•°ï¼ŒSQL æ³¨å…¥å¤§å¤šå‘ç”Ÿåœ¨ GET æˆ– POST è¯·æ±‚çš„å‚æ•°ä¸­ï¼Œå½“ç„¶ä¹Ÿæœ‰å¯èƒ½å‘ç”Ÿåœ¨å…¶ä»–åœ°æ–¹ï¼Œä¾‹å¦‚ UserAgentã€Cookie ç­‰</li><li><strong>åˆ¤æ–­æ³¨å…¥ç±»å‹/æ•°æ®åº“ç±»å‹</strong>ï¼šSQL æ³¨å…¥æŒ‰ç…§ä¸åŒçš„åˆ†ç±»æ ‡å‡†ï¼Œå¯ä»¥åˆ†æˆä¸åŒçš„ç§ç±»ã€‚<ul><li>æŒ‰ç…§å‚æ•°ç±»å‹å¯åˆ†ä¸ºä¸¤ç§ï¼šæ•°å­—å‹å’Œå­—ç¬¦å‹ã€‚</li><li>æ ¹æ®æ•°æ®åº“è¿”å›çš„ç»“æœï¼Œå¯åˆ†ä¸ºå›æ˜¾æ³¨å…¥ã€æŠ¥é”™æ³¨å…¥ã€ç›²æ³¨ã€‚</li><li>æŒ‰ç…§æ³¨å…¥æ–¹æ³•ï¼Œè¿˜å¯ä»¥åˆ†ä¸ºè”åˆæ³¨å…¥ã€å †å æ³¨å…¥ã€å®½å­—èŠ‚æ³¨å…¥ã€å»¶æ—¶æ³¨å…¥ç­‰ã€‚</li></ul></li><li><strong>çŒœè§£æ•°æ®åº“å</strong>ï¼šçŒœè§£åå°æ•°æ®åº“çš„åº“å</li><li><strong>çŒœè§£æ•°æ®è¡¨å</strong>ï¼šæˆåŠŸçŒœè§£åˆ°æ•°æ®åº“åç§°åï¼Œè¿›ä¸€æ­¥çŒœè§£æŸä¸€ä¸ªç‰¹å®šæ•°æ®åº“ä¸­æ•°æ®è¡¨çš„åç§°</li><li><strong>çŒœè§£æ•°æ®å­—æ®µå</strong>ï¼šæœ€åæ˜¯æŸä¸ªç‰¹å®šæ•°æ®åº“ä¸­ç‰¹å®šæ•°æ®è¡¨ä¸­çš„å­—æ®µï¼Œå› ä¸ºè·å–åˆ°å­—æ®µæ‰èƒ½æŸ¥è¯¢æ•°æ®</li></ul><p>æ­å»ºDVWA,ä¸€ä¸ªå­¦ä¹ å¹³å°.</p><p>æŸ¥åˆ°æ³¨å…¥ç‚¹åæ­¥éª¤.</p><p>æŸ¥è¯¢æ•°æ®åº“ç‰ˆæœ¬</p><p>version()  @@version_compile_os</p><ul><li><code>version()</code> è·å–å½“å‰æ•°æ®åº“ç‰ˆæœ¬.</li><li><code>@@version_compile_os</code> è·å–å½“å‰æ“ä½œç³»ç»Ÿã€‚</li></ul><p>æŸ¥è¯¢æ•°æ®åº“å</p><ul><li><code>database()</code>å°†ä¼šè¿”å›å½“å‰ç½‘ç«™æ‰€ä½¿ç”¨çš„æ•°æ®åº“åå­—.</li><li><code>user()</code>å°†ä¼šè¿”å›æ‰§è¡Œå½“å‰æŸ¥è¯¢çš„ç”¨æˆ·å.</li></ul><p>æŸ¥è¯¢æ•°æ®åº“è¡¨å</p><blockquote><p><em><code>information_schema</code> æ˜¯ mySQL è‡ªå¸¦çš„ä¸€å¼ è¡¨ï¼Œè¿™å¼ æ•°æ®è¡¨ä¿å­˜äº† MySQL æœåŠ¡å™¨æ‰€æœ‰æ•°æ®åº“çš„ä¿¡æ¯,å¦‚æ•°æ®åº“åï¼Œæ•°æ®åº“çš„è¡¨ï¼Œè¡¨æ çš„æ•°æ®ç±»å‹ä¸è®¿é—®æƒé™ç­‰ã€‚è¯¥æ•°æ®åº“æ‹¥æœ‰ä¸€ä¸ªåä¸º tables çš„æ•°æ®è¡¨ï¼Œè¯¥è¡¨åŒ…å«ä¸¤ä¸ªå­—æ®µ table_name å’Œ table_schemaï¼Œåˆ†åˆ«è®°å½• DBMS ä¸­çš„å­˜å‚¨çš„è¡¨åå’Œè¡¨åæ‰€åœ¨çš„æ•°æ®åº“ã€‚</em></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> table_name,table_schema <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span> <span class="string">&#x27;dvwa&#x27;</span></span><br></pre></td></tr></table></figure><p>çŒœè§£æ•°æ®åº“å­—æ®µåå’Œçˆ†åº“</p><p>ä¾æ—§åˆ©ç”¨information_schema</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">1</span>,group_concat(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span> </span><br></pre></td></tr></table></figure><p>usersæ˜¯ç”¨æˆ·è¡¨,è¿™é‡Œæ˜¯çŒœæµ‹çš„.</p><p>å¾—åˆ°ç»“æœusers è¡¨ä¸­æœ‰ 8 ä¸ªå­—æ®µï¼Œåˆ†åˆ«æ˜¯ user_id,first_name,last_name,<strong>user</strong>,<strong>password</strong>,avatar,last_login,failed_loginã€‚</p><p>ç„¶åç›´æ¥æŸ¥è¯¢userè¡¨çš„è¿™äº›å­—æ®µ.</p>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonçˆ¬è™«</title>
      <link href="2022/02/04/python%E7%88%AC%E8%99%AB/"/>
      <url>2022/02/04/python%E7%88%AC%E8%99%AB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¸€æ—¶å…´èµ·,åšä¸€ä¸ªæ•´ç†.ä¸å®šæœŸæ›´æ–°.<br><span id="more"></span></p><p>ç©pythonçˆ¬è™«æ–­æ–­ç»­ç»­ä¸€å¹´äº†,<del>å½“ç„¶å®é™…æ—¶é—´å¯èƒ½æ‰å‡ å°æ—¶</del>&gt;</p><p>å½“ç†è§£åˆ°è¿™ä¸ªçˆ¬è™«æœ¬è´¨å°±æ˜¯å‘é€HTTPæˆ–HTTPSè¯·æ±‚å¹¶å¯¹å¾—åˆ°çš„æ•°æ®è¿›è¡Œåˆ†æå°±æ¯”è¾ƒç®€å•äº†.</p><h2 id="å•ä»¶"><a href="#å•ä»¶" class="headerlink" title="å•ä»¶"></a>å•ä»¶</h2><p>requests æ„é€ è¯·æ±‚  ä¼ å…¥headers,cookie,refererç­‰å¸¸ä¼šæ ¡éªŒçš„å­—æ®µ.å¦‚æœæ˜¯POSTè¯·æ±‚è¿˜è¦ä¼ å…¥è¡¨å•æ•°æ®data.è¿™é‡Œå°±æ˜¯å‘é€è¯·æ±‚.å½“ç„¶æ¶‰åŠåˆ°åçˆ¬è™«,è¿™ä¸­é—´æ¶‰åŠåˆ°ä¸œè¥¿å°±å¾ˆå¤šäº†,å…‰åçˆ¬è™«å°±å¯ä»¥å‡ºæœ¬ä¹¦.JSé€†å‘,è¡¨å•å­—æ®µçš„åˆ†æç­‰.å¯ä»¥å¤šçœ‹çœ‹è§†é¢‘å®æˆ˜åˆ†æ.</p><blockquote><p>æ³¨:ç°åœ¨æœ‰requests-html,ä¸€æ ·çš„ä½œè€….è¿™ä¸ªåº”è¯¥æ›´å¥½.</p></blockquote><p>å¾—åˆ°çš„æ•°æ®éœ€è¦åˆ†æ.re lxml BeautifulSoup. å®é™…ä¸Šå¹¶ä¸å¸¸ç”¨Bs,å› ä¸ºè§£æé€Ÿåº¦æ¯”è¾ƒæ…¢,è€Œä¸”å®Œå…¨å¯ä»¥è¢«ä»£æ›¿.ä¸€èˆ¬ä¿¡æ¯ä¸å¤šç›´æ¥æ­£åˆ™å°±è¡Œäº†.</p><p><code>lxml</code> æ˜¯ Python ä¸­ä¸€ä¸ªå¸¸è§çš„è§£æåº“ï¼Œæ”¯æŒ HTML ä¸ XML çš„è§£æï¼Œæ”¯æŒ <code>XPath</code> è§£ææ–¹å¼</p><p>lxmlè§£ææ–‡æœ¬ä¸ºå­—ç¬¦ä¸²åå¯ä»¥ç”¨xpathæˆ–cssselecté€‰æ‹©èŠ‚ç‚¹.é€šè¿‡ <code>lxml</code> è§£æä¹‹åçš„å†…å®¹ä¸ºä¸€ç§ç‰¹å®šç±»å‹çš„å¯¹è±¡ï¼Œä¸€èˆ¬ç§°ä½œ <code>Element</code> å¯¹è±¡.  html.fromstring(string) etree.HTML(string)</p><p>cssselectå°±æ˜¯cssé€‰æ‹©å™¨.è·å–å±æ€§get()  è·å–æ–‡æœ¬text() text_content()</p><p>xpathå…¨ç§° XML Path Languageï¼Œå³ XML è·¯å¾„è¯­è¨€ï¼ŒXPath å¯ä»¥åŸºäº XML çš„æ ‘çŠ¶ç»“æ„ï¼Œæä¾›åœ¨æ•°æ®ç»“æ„æ ‘ä¸­æ‰¾å¯»èŠ‚ç‚¹çš„èƒ½åŠ›ã€‚</p><p>bs  Beautiful Soup 4 æ˜¯ Python çš„ä¸€æ¬¾è§£æåº“ï¼Œä¸ºäº†ä¹¦å†™æ–¹ä¾¿ä¸‹æ–‡ç»Ÿä¸€ç”¨ bs4 æ¥æè¿°ã€‚è·Ÿ <code>lxml</code> ä¸€æ ·ï¼Œbs4 ä¹Ÿæ˜¯ä¸€ä¸ª HTML/XML è§£æåº“ï¼Œä¸»è¦é…åˆ requests åº“å®ç°çˆ¬è™«ç¨‹åºã€‚</p><p>bs4 åº“é»˜è®¤ä½¿ç”¨çš„ Python æ ‡å‡†åº“ä¸­çš„ HTML è§£æå™¨ï¼Œå³ <code>html.parser</code>ï¼ˆPython çš„å†…ç½®æ ‡å‡†åº“ï¼‰ï¼Œä½¿ç”¨è¯¥æ–¹å¼çš„è§£æé€Ÿåº¦æ…¢ï¼ŒåŸå› æ˜¯è¯¥æ–¹å¼åœ¨è§£æçš„æ—¶å€™ä¼šè½½å…¥æ•´ä¸ªæ–‡æ¡£ä¹‹åå†è§£ææ•´ä¸ª DOM æ ‘ï¼Œå¯¼è‡´å†…å­˜å¼€é”€å˜å¤§ï¼Œæ€§èƒ½é™ä½ï¼Œæ‰€ä»¥ç°åœ¨ä½¿ç”¨ bs4 çš„æ—¶å€™éƒ½æ˜¯é…åˆ <code>lxml</code> åº“è¿›è¡Œï¼Œæœ¬å®éªŒä¹Ÿå›´ç»• bs4 ä¸ lxml å±•å¼€</p><p>ajax XHR </p><p>ç§»åŠ¨ç«™ç‚¹çš„çˆ¬å–</p><blockquote><p>å¦‚æœå‘ç°ä¸€ä¸ªç½‘ç«™ï¼Œå½“åˆ‡æ¢åˆ°ç§»åŠ¨ç«¯è®¿é—®çš„æ—¶å€™ï¼ŒåŸŸåå‘ç”Ÿäº†å˜åŒ–ï¼Œä¾‹å¦‚ä¸Šè¿°æ¡ˆä¾‹ä¸­ 58 åŒåŸç½‘ç«™ç”± <code>https://www.58.com/</code> å˜ä¸ºäº† <code>https://m.58.com/</code>ï¼Œæ­¤æ—¶å¤§æ¦‚ç‡ç½‘ç«™çš„æ¥å£ä¹Ÿæ˜¯å•ç‹¬ä¸ºç§»åŠ¨ç«¯ç ”å‘çš„ï¼Œåªè¦æ¥å£æ˜¯å•ç‹¬ç ”å‘ï¼Œå¾ˆå®¹æ˜“å‡ºç°é€»è¾‘ä¸Šçš„ç–æ¼ï¼Œå¯¼è‡´ç§»åŠ¨ç«¯ç«™ç‚¹çš„åçˆ¬åº¦é™ä½ï¼Œæ‰€ä»¥å½“ä½ æ‰¾åˆ°ä¸€ä¸ªç½‘ç«™å­˜åœ¨ç§»åŠ¨ç«™ç‚¹ï¼Œå»ºè®®é’ˆå¯¹è¯¥ç§»åŠ¨ç«™ç‚¹ç¼–å†™çˆ¬è™«ã€‚</p></blockquote><p>åœ¨çˆ¬å–ç§»åŠ¨ç«¯æ¥å£çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä¸€é¡¹å†…å®¹ï¼Œè¯¥å†…å®¹ä¸ºè¯·æ±‚å¤´ä¸­çš„ <code>User-Agent</code> å‚æ•°ï¼Œå‰é¢çš„å®éªŒä¸­å·²ç»å¯¹è¯¥å‚æ•°è¿›è¡Œäº†ç›¸å…³è¯´æ˜ã€‚è¯¥å‚æ•°çš„å†…å®¹ä¼šå‘ŠçŸ¥æœåŠ¡å™¨å®¢æˆ·ç«¯è®¿é—®è®¾å¤‡ä¿¡æ¯ï¼Œæ‰€ä»¥åœ¨è®¿é—®ç§»åŠ¨ç«¯ç½‘ç«™çš„æ—¶å€™ï¼Œå»ºè®®ä½¿ç”¨ç‰¹å®šçš„æ‰‹æœºç«¯æµè§ˆå™¨ <code>UA</code>ï¼Œè¯¥å†…å®¹å¯ç›´æ¥åœ¨å¼€å‘è€…å·¥å…·ä¸­è·å–ã€‚</p><p>cookieçš„è·å–</p><h2 id="å­¦ä¹ æ–¹å‘"><a href="#å­¦ä¹ æ–¹å‘" class="headerlink" title="å­¦ä¹ æ–¹å‘"></a>å­¦ä¹ æ–¹å‘</h2><p>å§‹ç»ˆçˆ¬ç‚¹å›¾ç‰‡æˆ–è€…æ–‡æœ¬æ€»æ˜¯æ²¡ä»€ä¹ˆæ„æ€.</p><p>å­¦ä¹ æ–¹å‘æ˜¯ä»åŸºç¡€éƒ¨åˆ†æé«˜ï¼Œåˆ°çˆ¬è™«æ¡†æ¶ï¼Œåˆ°æ‰‹æœº APP çˆ¬è™«ï¼Œå†åˆ°åˆ†å¸ƒå¼çˆ¬è™«ï¼Œæ¯ä¸ªé¢†åŸŸéƒ½éœ€è¦æŠ•å…¥ç²¾åŠ›å»å­¦ä¹ ä¸ç ”ç©¶ã€‚</p><p><strong>å¤šçº¿ç¨‹çˆ¬è™«</strong></p><ol><li>Python <strong>threading</strong> æ¨¡å—ï¼›</li><li>Python <strong>Queue</strong> æ¨¡å—ï¼›</li><li>Python <strong>multiprocessing</strong> æ¨¡å—ï¼›</li><li>Python <strong>asyncio</strong> æ¨¡å—ã€‚</li></ol><p><strong>åçˆ¬</strong></p><p>åŸºç¡€éƒ¨åˆ†é™¤äº†çˆ¬è™«æ•ˆç‡å¤–ï¼Œè¿˜éœ€è¦äº†è§£å¸¸è§çš„åçˆ¬æ‰‹æ®µã€‚ä¹‹å‰çš„è¯¾ç¨‹åªæåŠäº†æœ€ç®€å•çš„åçˆ¬æ‰‹æ®µï¼ŒUA åˆ¤æ–­ï¼Œé™¤äº†å®ƒä»¥å¤–ï¼Œå¸¸è§çš„åçˆ¬æ–¹å¼å¦‚ä¸‹ã€‚</p><ol><li>éªŒè¯ç ï¼Œéœ€è¦æŒæ¡éªŒè¯ç è¯†åˆ«æŠ€æœ¯ï¼›</li><li>IP é™åˆ¶ï¼Œéœ€è¦å­¦ä¹ ä»£ç†ç›¸å…³çŸ¥è¯†ï¼›</li><li>å­—ä½“åçˆ¬ï¼ŒJS åŠ å¯†ï¼Œéœ€è¦å­¦ä¹ å‰ç«¯åŠ å¯†ç›¸å…³çŸ¥è¯†ã€‚</li></ol><h4 id="çˆ¬è™«æ¡†æ¶"><a href="#çˆ¬è™«æ¡†æ¶" class="headerlink" title="çˆ¬è™«æ¡†æ¶"></a>çˆ¬è™«æ¡†æ¶</h4><p>åœ¨å®é™…ç¼–ç ä¸­ requests åªæ˜¯æœ€ç®€å•ä¸æœ€å¸¸ç”¨çš„çˆ¬è™«åº“ï¼Œåœ¨å·¥ä½œä¸­è¿˜æœ‰ 2 ä¸ªå¸¸ç”¨çˆ¬è™«æ¡†æ¶éœ€è¦æŒæ¡ã€‚</p><ol><li>scrapy</li><li>pyspider</li></ol><h4 id="æ‰‹æœº-APP-çˆ¬è™«"><a href="#æ‰‹æœº-APP-çˆ¬è™«" class="headerlink" title="æ‰‹æœº APP çˆ¬è™«"></a>æ‰‹æœº APP çˆ¬è™«</h4><p>æœ¬è¯¾ç¨‹ä¸­æ‰€æœ‰å®éªŒéƒ½æ˜¯é’ˆå¯¹ Web ç«¯ PC ç«™ç‚¹è¿›è¡Œçˆ¬å–ï¼Œä½†è¿™åªæ˜¯çˆ¬è™«çš„ä¸€ä¸ªæ–¹å‘ã€‚</p><p>éšç€ç§»åŠ¨äº’è”ç½‘æ—¶ä»£çš„å…´èµ·ï¼Œæ‰‹æœº APP çˆ¬å–ï¼Œä¹Ÿæˆä¸ºäº†çˆ¬è™«å·¥ç¨‹å¸ˆæ—¥å¸¸å·¥ä½œä¹‹ä¸€ã€‚</p><p>å¦‚ä½•çˆ¬å–æ‰‹æœº APP å†…å®¹ï¼Œå¯ä»¥ä»ä¸‹è¿°å†…å®¹å¼€å§‹å­¦ä¹ ã€‚</p><ol><li>Fiddler å·¥å…·çš„ä½¿ç”¨ï¼›</li><li>Charles å·¥å…·çš„ä½¿ç”¨ï¼›</li><li>mitmproxy ä¸ mitmdumpï¼›</li><li>Appiumã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NLPå­¦ä¹ </title>
      <link href="2022/02/03/NLP%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/02/03/NLP%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>NLPå³è‡ªç„¶è¯­è¨€å¤„ç†,å…¥é—¨å­¦ä¹ ä¸€ä¸‹.<br><span id="more"></span></p><p>ä»è‡ªç„¶è¯­è¨€çš„è§’åº¦å‡ºå‘ï¼ŒåŸºæœ¬å¯ä»¥åˆ’åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šè‡ªç„¶è¯­è¨€çš„ç†è§£å’Œè‡ªç„¶è¯­è¨€çš„ç”Ÿæˆ</p><p>ä½†æ€»çš„æ¥è¯´ï¼Œè‡ªç„¶è¯­è¨€ç†è§£åˆå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªæ–¹é¢ï¼š</p><ol><li>è¯ä¹‰åˆ†æ</li><li>å¥æ³•åˆ†æ</li><li>è¯­ä¹‰åˆ†æ</li></ol><p>è‡ªç„¶è¯­è¨€çš„ç”Ÿæˆåˆ™æ˜¯ä»ç»“æ„åŒ–çš„æ•°æ®ï¼ˆå¯ä»¥é€šä¿—ç†è§£ä¸ºè‡ªç„¶è¯­è¨€ç†è§£åˆ†æåçš„æ•°æ®ï¼‰ä»¥è¯»å–çš„æ–¹å¼è‡ªåŠ¨ç”Ÿæˆæ–‡æœ¬ã€‚ä¸»è¦æœ‰ä¸‰ä¸ªé˜¶æ®µï¼š</p><ol><li>æ–‡æœ¬è§„åˆ’ï¼šå®Œæˆç»“æ„åŒ–æ•°æ®ä¸­çš„åŸºç¡€å†…å®¹è§„åˆ’ã€‚</li><li>è¯­å¥è§„åˆ’ï¼šä»ç»“æ„åŒ–æ•°æ®ä¸­ç»„åˆè¯­å¥æ¥è¡¨è¾¾ä¿¡æ¯æµã€‚</li><li>å®ç°ï¼šäº§ç”Ÿè¯­æ³•é€šé¡ºçš„è¯­å¥æ¥è¡¨è¾¾æ–‡æœ¬ã€‚</li></ol><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>NLP çš„ä¸€äº›åŸºç¡€ä¸“ä¸šæœ¯è¯­ã€‚</p><ul><li>åˆ†è¯ï¼šè¯æ˜¯ NLP ä¸­èƒ½å¤Ÿç‹¬ç«‹æ´»åŠ¨çš„æœ‰æ„ä¹‰çš„è¯­è¨€æˆåˆ†ã€‚å³ä½¿æŸä¸ªä¸­æ–‡å•å­—ä¹Ÿæœ‰æ´»åŠ¨çš„æ„ä¹‰ï¼Œä½†å…¶å®è¿™äº›å•å­—ä¹Ÿæ˜¯è¯ï¼Œå±äºå•å­—æˆè¯ã€‚</li><li>è¯æ€§æ ‡æ³¨ï¼šç»™æ¯ä¸ªè¯è¯­çš„è¯æ€§è¿›è¡Œæ ‡æ³¨ï¼Œæ¯”å¦‚ ï¼šè·‘/åŠ¨è¯ã€ç¾ä¸½çš„/å½¢å®¹è¯ç­‰ç­‰ã€‚</li><li>å‘½åå®ä½“è¯†åˆ«ï¼šä»æ–‡æœ¬ä¸­è¯†åˆ«å‡ºå…·æœ‰ç‰¹å®šç±»åˆ«çš„å®ä½“ã€‚åƒæ˜¯è¯†åˆ«æ–‡æœ¬ä¸­çš„æ—¥æœŸï¼Œåœ°åç­‰ç­‰ã€‚</li><li>è¯ä¹‰æ¶ˆæ­§ï¼šå¤šä¹‰è¯åˆ¤æ–­æœ€åˆç†çš„è¯ä¹‰ã€‚</li><li>å¥æ³•åˆ†æï¼šè§£æå¥å­ä¸­å„ä¸ªæˆåˆ†çš„ä¾èµ–å…³ç³»ã€‚</li><li>æŒ‡ä»£æ¶ˆè§£ï¼šæ¶ˆé™¤å’Œè§£é‡Šä»£è¯ã€Œè¿™ä¸ªï¼Œä»–ï¼Œä½ ã€ç­‰çš„æŒ‡ä»£é—®é¢˜ã€‚</li></ul><p>åŒæ—¶è¿˜è¦å­¦ä¹ ä¸€äº›å­—ç¬¦ä¸²çš„ä¸€äº›å¸¸è§æ“ä½œ.æ­£åˆ™è¡¨è¾¾å¼è¿™äº›è‚¯å®šæ˜¯è¦æ¯”è¾ƒç†Ÿç»ƒçš„.</p><p>demo.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç»Ÿè®¡å­—ä¸²çš„å‡ºç°æ¬¡æ•°</span></span><br><span class="line"><span class="comment"># .count() æ–¹æ³•è¿”å›ç‰¹å®šçš„å­ä¸²åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_example</span>():</span></span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&quot;jalfjsalf;&quot;</span></span><br><span class="line">    n = <span class="built_in">str</span>.count(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(n)</span><br><span class="line">    <span class="comment"># å¯ä»¥çœ‹åˆ°pythonåœ¨å¤„ç†è¿™äº›æ“ä½œæ—¶æ˜¯ååˆ†ç®€ä¾¿çš„</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å»é™¤å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"># .strip()æ–¹æ³•å¯ä»¥å»é™¤å­—ç¬¦ä¸²é¦–å°¾çš„æŒ‡å®šç¬¦å·ã€‚</span></span><br><span class="line"><span class="comment"># æ— æŒ‡å®šæ—¶ï¼Œé»˜è®¤å»é™¤ç©ºæ ¼ç¬¦ &#x27; &#x27; å’Œæ¢è¡Œç¬¦ &#x27;\n&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">strip_example</span>():</span></span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&quot;asdfhjkasjkfas&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>.strip(<span class="string">&#x27;as&#x27;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#     åªæƒ³è¦å»é™¤å­—ç¬¦ä¸²å¼€å¤´çš„æŸä¸ªå­—ç¬¦ä¸²ï¼Œä½†æ˜¯å­—ç¬¦ä¸²çš„æœ«å°¾æœ‰ä¸€ä¸ªåŒæ ·çš„å­—ç¬¦ä¸²å¹¶ä¸éœ€è¦å»æ‰ã€‚</span></span><br><span class="line"><span class="comment">#     è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨ .lstrip() æ–¹æ³•</span></span><br><span class="line"><span class="comment">#     åŒç†å»æ‰æœ«å°¾ä½¿ç”¨ .rstrip()</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">concate_example</span>():</span></span><br><span class="line">    seq1 = <span class="string">&quot;ä½ &quot;</span></span><br><span class="line">    seq2 = <span class="string">&quot;å¥½&quot;</span></span><br><span class="line">    seq = seq1 + seq2</span><br><span class="line">    <span class="built_in">print</span>(seq)</span><br><span class="line">    <span class="comment"># éœ€è¦å°†å­—ç¬¦ä¸²ç”¨ç‰¹å®šçš„ç¬¦å·æ‹¼æ¥èµ·æ¥çš„å­—ç¬¦çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨.join()</span></span><br><span class="line">    <span class="comment"># æ–¹æ³•æ¥è¿›è¡Œæ‹¼æ¥</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;,&#x27;</span>.join([<span class="string">&quot;ä½ å¥½&quot;</span>, <span class="string">&quot;å†è§&quot;</span>]))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å­—ç¬¦ä¸²æ¯”è¾ƒ</span></span><br><span class="line"><span class="comment"># å½“æƒ³è¦æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°æ—¶ï¼Œè¿™é‡Œéœ€è¦åŠ è½½ operator å·¥å…·ï¼Œ</span></span><br><span class="line"><span class="comment"># å®ƒæ˜¯ Python çš„æ ‡å‡†åº“ã€‚ä¸éœ€è¦é¢å¤–ä¸‹è½½ï¼Œ</span></span><br><span class="line"><span class="comment"># ç›´æ¥é€šè¿‡ import è°ƒç”¨å³å¯ã€‚</span></span><br><span class="line"><span class="comment"># operator ä»å·¦åˆ°å³ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œæ ¹æ®è®¾å®šçš„è§„åˆ™æ¯”è¾ƒï¼Œè¿”å›å¸ƒå°”å€¼ï¼ˆ Trueï¼ŒFalse ï¼‰</span></span><br><span class="line"><span class="keyword">import</span> operator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compare_example</span>():</span></span><br><span class="line">    seq1 = <span class="string">&quot;å­—ç¬¦ä¸²1å·&quot;</span></span><br><span class="line">    seq2 = <span class="string">&quot;å­—ç¬¦ä¸²2å·&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(operator.lt(seq1, seq2))</span><br><span class="line">    <span class="built_in">print</span>(operator.le(seq1, seq2))</span><br><span class="line">    <span class="built_in">print</span>(operator.eq(seq1, seq2))</span><br><span class="line">    <span class="built_in">print</span>(operator.ne(seq1, seq2))</span><br><span class="line">    <span class="comment"># å¦å¤–å¯ä»¥ç›´æ¥ä½¿ç”¨&gt; &lt;æ¯”è¾ƒå­—ç¬¦ä¸²å­—å…¸åº</span></span><br><span class="line">    <span class="built_in">print</span>(seq1 &lt; seq2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ulcase</span>():</span></span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&quot;LkfLkas&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>.upper())</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>.lower())</span><br><span class="line"></span><br><span class="line"><span class="comment"># å­—ç¬¦ä¸²æŸ¥æ‰¾   findä¸index å¦‚æœæ²¡æœ‰æ‰¾åˆ° indexä¼šæŠ¥é”™ findè¿”å›-1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_str</span>():</span></span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&quot;è¿™æ˜¯ä¸€æ®µå­—ç¬¦ä¸²&quot;</span></span><br><span class="line">    seq = <span class="string">&quot;ä¸€æ®µ&quot;</span></span><br><span class="line">    n = <span class="built_in">str</span>.find(seq)</span><br><span class="line">    <span class="built_in">print</span>(n)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡åˆ†å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"># æœ‰ä¸¤ç§å¸¸ç”¨çš„æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ˜¯ç›´ç”¨åºåˆ—æˆªå–çš„æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment"># è¿™ç§æ–¹æ³•ååˆ†çš„ç®€å•ï¼Œå°±æ˜¯æ ¹æ®é¡ºåºæ¥æˆªå–åºåˆ—ä¸Šä½ æƒ³è¦çš„æŸäº›ç‰‡æ®µã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">spit_str</span>():</span></span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&quot;ä½ å¥½,å¾ˆå¥½&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>[<span class="number">0</span>])</span><br><span class="line">    <span class="comment"># split() å‡½æ•°å¯ä»¥å®Œæˆè¿™ä¸ªæ“ä½œ, å‡½æ•°è¿”å›ä¸€ä¸ªç”±åˆ‡åˆ†å¥½çš„å­—ç¬¦ä¸²ç»„æˆçš„åˆ—è¡¨ã€‚</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>.split(<span class="string">&#x27;,&#x27;</span>))</span><br><span class="line"><span class="comment"># éœ€è¦ç¿»è½¬å­—ç¬¦ä¸²çš„æ—¶å€™,é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥ç”¨åºåˆ—æ“ä½œï¼Œ</span></span><br><span class="line"><span class="comment"># ç›´æ¥ä»¥ä¸Šé¢æˆªå–åºåˆ—çš„æ–¹æ³•ï¼Œä½†æ˜¯æŒ‰ç…§é€†å‘çš„æ¥æˆªå–å®ç°ç¿»è½¬</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">str</span>[::-<span class="number">1</span>])</span><br><span class="line"><span class="comment"># åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment"># in å…³é”®å­—å¯ä»¥ç”¨åœ¨ä»»ä½•å®¹å™¨å¯¹è±¡ä¸Šï¼Œåˆ¤æ–­ä¸€ä¸ªå­å¯¹è±¡æ˜¯å¦å­˜åœ¨äºå®¹å™¨å½“ä¸­ï¼Œå¹¶ä¸å±€é™äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨æŸå­ä¸²ï¼Œ</span></span><br><span class="line"><span class="comment"># è¿˜å¯ä»¥ç”¨åœ¨å…¶ä»–å®¹å™¨å¯¹è±¡ä¾‹å¦‚ list []ï¼Œtuple ()ï¼Œset &#123;&#125; ç­‰ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">in_example</span>():</span></span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&quot;232434&quot;</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;2&#x27;</span> <span class="keyword">in</span> <span class="built_in">str</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;exists&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æœ‰æ—¶éœ€è¦æŠŠå­—ç¬¦ä¸²ä¸­çš„æŸæ®µå­—ç¬¦ä¸²ç”¨å¦ä¸€æ®µå­—ç¬¦ä¸²ä»£æ›¿</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">replace_str</span>():</span></span><br><span class="line">    seq = <span class="string">&quot;l;fjasfkfkla&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(seq.replace(<span class="string">&quot;l&quot;</span>,<span class="string">&quot;a&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“é‡åˆ°éœ€è¦åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŸæ®µå­—ç¬¦å¼€å¤´çš„æ—¶å€™ã€‚æ¯”å¦‚æƒ³è¦åˆ¤æ–­ â€˜abcdefgâ€™ æ˜¯å¦ä»¥ &#x27;a&#x27; å¼€å¤´ã€‚</span></span><br><span class="line"><span class="comment"># å¯ä»¥ç”¨ .startswish() æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">startswith</span>():</span></span><br><span class="line">    seq = <span class="string">&quot;afljsaakl&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(seq.startswith(<span class="string">&#x27;akl&#x27;</span>))</span><br><span class="line">    <span class="built_in">print</span>(seq.endswith(<span class="string">&#x27;akl&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isDigit</span>():</span></span><br><span class="line">    <span class="comment"># å½“æƒ³è¦æ£€æŸ¥å­—ç¬¦ä¸²çš„æ„æˆï¼Œåƒæ˜¯æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ç”±çº¯æ•°å­—æ„æˆã€‚</span></span><br><span class="line">    seq = <span class="string">&quot;hjkhfahkjas&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(seq.isdigit())</span><br><span class="line">    <span class="comment"># seq.isalnum()</span></span><br><span class="line">    <span class="comment"># seq.isalpha()</span></span><br><span class="line">    <span class="comment"># seq.isdecimal()</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">regresson</span>():</span></span><br><span class="line">    pattern = re.<span class="built_in">compile</span>(<span class="string">r&#x27;[0-9]&#123;4&#125;&#x27;</span>)</span><br><span class="line">    <span class="comment"># æ­£åˆ™è§„åˆ™</span></span><br><span class="line">    match = pattern.search(<span class="string">&quot;432432532564&quot;</span>)  <span class="comment">#searchæŸ¥æ‰¾</span></span><br><span class="line">    <span class="comment"># print(match) #å¯¹è±¡ &lt;re.Match object; span=(0, 4), match=&#x27;4324&#x27;&gt;</span></span><br><span class="line">    <span class="built_in">print</span>(match.group(<span class="number">0</span>))  <span class="comment">#groupä¸­æœ‰åŒ¹é…ç»“æœ</span></span><br><span class="line"><span class="comment">#    è¿™ä¸ªæ–¹æ³•æ˜¯å°†æ­£åˆ™è¡¨è¾¾å¼ä¸å­—ç¬¦ä¸²è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœæ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„ç»“æœï¼Œå°±ä¼šè¿”å›ï¼Œ</span></span><br><span class="line"><span class="comment">#       ç„¶ååŒ¹é…ç»“æœå­˜å…¥group()ä¸­ä¾›åç»­æ“ä½œã€‚</span></span><br><span class="line">    result = pattern.findall(<span class="string">&quot;423425334&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(result)  <span class="comment">#.findall()ï¼š</span></span><br><span class="line"><span class="comment"># è¿™ä¸ªæ–¹æ³•å¯ä»¥æ‰¾åˆ°ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„æ‰€æœ‰åŒ¹é…ç»“æœ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># .match() æ–¹æ³•ä¸ .search() æ–¹æ³•ç±»ä¼¼ï¼ŒåªåŒ¹é…ä¸€æ¬¡ï¼Œå¹¶ä¸”åªä»å­—ç¬¦ä¸²çš„å¼€å¤´å¼€å§‹åŒ¹é…</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># count_example()</span></span><br><span class="line">    <span class="comment"># strip_example()</span></span><br><span class="line">    <span class="comment"># concate_example()</span></span><br><span class="line">    <span class="comment"># compare_example()</span></span><br><span class="line">    <span class="comment"># find_str()</span></span><br><span class="line">    <span class="comment"># spit_str()</span></span><br><span class="line">    <span class="comment"># replace_str()</span></span><br><span class="line">    <span class="comment"># startswith()</span></span><br><span class="line">    regresson()</span><br></pre></td></tr></table></figure><p>æ­£åˆ™è¡¨è¾¾å¼çš„åº”ç”¨åœºæ™¯ååˆ†å¹¿æ³›ï¼šåœ¨å»é™¤ç½‘é¡µç±»æ–‡æœ¬è¯­æ–™åº“ä¸­ html ç¬¦å·ï¼Œå»é™¤ä¸€äº›èŠå¤©çš„è¡¨æƒ…ç¬¦å·åƒæ˜¯ Orz ï¼ŒT_T ç­‰ç­‰æœ‰ç€ååˆ†é‡è¦çš„åº”ç”¨ã€‚å› æ­¤å­¦ä¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå°†ä¼šå¯¹è‡ªç„¶è¯­è¨€å¤„ç†å®ç°æœ‰ç€ä¸å°çš„å¸®åŠ©.</p><h2 id="ä¸­è‹±æ–‡åˆ†è¯æ–¹æ³•"><a href="#ä¸­è‹±æ–‡åˆ†è¯æ–¹æ³•" class="headerlink" title="ä¸­è‹±æ–‡åˆ†è¯æ–¹æ³•"></a>ä¸­è‹±æ–‡åˆ†è¯æ–¹æ³•</h2><p>åˆ†è¯ä½œä¸ºè‡ªç„¶è¯­è¨€å¤„ç†å®é™…è¿ç”¨å½“ä¸­å½“ä¸­æœ€åŸºæœ¬çš„ä»»åŠ¡ï¼Œå¯¹æ–‡æœ¬é¢„å¤„ç†æ¥è¯´ååˆ†çš„é‡è¦</p><p>åœ¨è¯­è¨€ç†è§£ä¸­ï¼Œè¯æ˜¯æœ€å°çš„èƒ½å¤Ÿç‹¬ç«‹æ´»åŠ¨çš„æœ‰æ„ä¹‰çš„ç²’åº¦ã€‚ç”±è¯åˆ°å¥ï¼Œç”±å¥æˆæ–‡ã€‚å› æ­¤ï¼Œå°†è¯ç¡®å®šä¸‹æ¥æ˜¯ç†è§£è‡ªç„¶è¯­è¨€å¤„ç†çš„ç¬¬ä¸€æ­¥ï¼Œåªæœ‰è·¨è¶Šäº†è¿™ä¸€æ­¥ï¼Œæ‰èƒ½è¿›è¡Œåç»­ä»»åŠ¡</p><p>æˆ‘çš„ç†è§£å°±æ˜¯æŠŠè¯åˆ†å¼€.</p><h3 id="è‹±æ–‡åˆ†è¯"><a href="#è‹±æ–‡åˆ†è¯" class="headerlink" title="è‹±æ–‡åˆ†è¯"></a>è‹±æ–‡åˆ†è¯</h3><p>å¯¹äºè‹±æ–‡æ¥è¯´,ç©ºæ ¼æˆ–æ˜¯ä¸€äº›æ ‡ç‚¹ç¬¦å·å°±è¶³ä»¥.</p><blockquote><p>è‹±æ–‡æ–‡æœ¬è¯ä¸è¯ä¹‹é—´æœ‰ç©ºæ ¼æˆ–è€…æ ‡ç‚¹ç¬¦å·ï¼Œå¦‚æœæƒ³è¦å¯¹è¿™ç§æ™®é€šçš„è‹±æ–‡æ–‡æœ¬è¿›è¡Œåˆ†è¯çš„è¯æ˜¯ä¸éœ€è¦ä»€ä¹ˆç®—æ³•æ”¯æ’‘ï¼Œåªéœ€æš´åŠ›æ‹†åˆ†å³å¯ï¼Œå³ç›´æ¥é€šè¿‡ç©ºæ ¼æˆ–è€…æ ‡ç‚¹æ¥å°†æ–‡æœ¬è¿›è¡Œåˆ†å¼€å°±å¯ä»¥å®Œæˆè‹±æ–‡åˆ†è¯ã€‚</p></blockquote><p>å‡è®¾å¯¹äºä¸€å¥è‹±æ–‡,åˆ©ç”¨ç©ºæ ¼,é€—å·,å¥å·,é—®å·å’Œæ„Ÿå¹å·æ¥åˆ†å‰²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tokenize_Entext</span>(<span class="params">text</span>):</span></span><br><span class="line">    tokenize_text = []</span><br><span class="line">    <span class="keyword">for</span> data <span class="keyword">in</span> text:</span><br><span class="line">        tokenize_data = []</span><br><span class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> data.split(<span class="string">&#x27;.&#x27;</span>):</span><br><span class="line">            <span class="keyword">for</span> s1 <span class="keyword">in</span> s.split(<span class="string">&#x27;?&#x27;</span>):</span><br><span class="line">                <span class="keyword">for</span> s2 <span class="keyword">in</span> s1.split(<span class="string">&quot;!&quot;</span>):</span><br><span class="line">                    <span class="keyword">for</span> s3 <span class="keyword">in</span> s2.split(<span class="string">&quot;,&quot;</span>):</span><br><span class="line">                        tokenize_data.extend(</span><br><span class="line">                            s4 <span class="keyword">for</span> s4 <span class="keyword">in</span> s3.split()</span><br><span class="line">                        )</span><br><span class="line">        tokenize_text.append(tokenize_data)</span><br><span class="line">    <span class="keyword">return</span> tokenize_text</span><br></pre></td></tr></table></figure><p>å¯¹äºä¸­æ–‡åˆ†è¯å°±éš¾å¾—å¤šäº†.</p><h3 id="ä¸­æ–‡åˆ†è¯"><a href="#ä¸­æ–‡åˆ†è¯" class="headerlink" title="ä¸­æ–‡åˆ†è¯"></a>ä¸­æ–‡åˆ†è¯</h3><p>æˆ‘ä»¬æƒ³è¦é€šè¿‡è®¡ç®—æœºå°†å¥å­è½¬åŒ–æˆè¯çš„è¡¨ç¤ºï¼Œè‡ªåŠ¨è¯†åˆ«å¥å­ä¸­çš„è¯ï¼Œåœ¨è¯ä¸è¯ä¹‹é—´åŠ å…¥è¾¹ç•Œåˆ†éš”ç¬¦ï¼Œåˆ†å‰²å‡ºå„ä¸ªè¯æ±‡ã€‚è¿™ä¸ªåˆ‡è¯è¿‡ç¨‹å°±å«åšä¸­æ–‡åˆ†è¯.</p><p>ä¸­æ–‡åˆ†è¯å­˜åœ¨æ­§ä¹‰ä¸åˆ†è¯ç•Œé™ç­‰é—®é¢˜.</p><p>ä¸­æ–‡åˆ†è¯è¿™ä¸ªæ¦‚å¿µè‡ªæå‡ºä»¥æ¥ï¼Œç»è¿‡å¤šå¹´çš„å‘å±•ï¼Œä¸»è¦å¯ä»¥åˆ†ä¸ºä¸‰ä¸ªæ–¹æ³•ï¼š</p><ul><li>æœºæ¢°åˆ†è¯æ–¹æ³•ï¼›</li><li>ç»Ÿè®¡åˆ†è¯æ–¹æ³•ï¼›</li><li>ä¸¤ç§ç»“åˆèµ·æ¥çš„åˆ†è¯æ–¹æ³•</li></ul><p>æœºæ¢°åˆ†è¯æ–¹æ³•åˆå«åšåŸºäºè§„åˆ™çš„åˆ†è¯æ–¹æ³•ï¼šè¿™ç§åˆ†è¯æ–¹æ³•æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å°†å¾…å¤„ç†çš„å­—ç¬¦ä¸²ä¸ä¸€ä¸ªè¯è¡¨è¯å…¸ä¸­çš„è¯è¿›è¡Œé€ä¸€åŒ¹é…ï¼Œè‹¥åœ¨è¯å…¸ä¸­æ‰¾åˆ°æŸä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™åˆ‡åˆ†ï¼Œå¦åˆ™ä¸åˆ‡åˆ†ã€‚æœºæ¢°åˆ†è¯æ–¹æ³•æŒ‰ç…§åŒ¹é…è§„åˆ™çš„æ–¹å¼ï¼Œåˆå¯ä»¥åˆ†ä¸ºï¼šæ­£å‘æœ€å¤§åŒ¹é…æ³•ï¼Œé€†å‘æœ€å¤§åŒ¹é…æ³•å’ŒåŒå‘åŒ¹é…æ³•ä¸‰ç§ã€‚</p><h3 id="æœºæ¢°åˆ†è¯æ–¹æ³•"><a href="#æœºæ¢°åˆ†è¯æ–¹æ³•" class="headerlink" title="æœºæ¢°åˆ†è¯æ–¹æ³•"></a>æœºæ¢°åˆ†è¯æ–¹æ³•</h3><h4 id="æ­£å‘æœ€å¤§åŒ¹é…"><a href="#æ­£å‘æœ€å¤§åŒ¹é…" class="headerlink" title="æ­£å‘æœ€å¤§åŒ¹é…"></a>æ­£å‘æœ€å¤§åŒ¹é…</h4><p>æ­£å‘æœ€å¤§åŒ¹é…æ³•ï¼ˆMaximum Match Methodï¼ŒMM æ³•ï¼‰æ˜¯æŒ‡ä»å·¦å‘å³æŒ‰æœ€å¤§åŸåˆ™ä¸è¯å…¸é‡Œé¢çš„è¯è¿›è¡ŒåŒ¹é…ã€‚å‡è®¾è¯å…¸ä¸­æœ€é•¿è¯æ˜¯ ğ‘šm ä¸ªå­—ï¼Œé‚£ä¹ˆä»å¾…åˆ‡åˆ†æ–‡æœ¬çš„æœ€å·¦è¾¹å– ğ‘šm ä¸ªå­—ç¬¦ä¸è¯å…¸è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™åˆ†è¯ã€‚å¦‚æœåŒ¹é…ä¸æˆåŠŸï¼Œé‚£ä¹ˆå– ğ‘šâˆ’1mâˆ’1 ä¸ªå­—ç¬¦ä¸è¯å…¸åŒ¹é…ï¼Œä¸€ç›´å–ç›´åˆ°æˆåŠŸåŒ¹é…ä¸ºæ­¢ã€‚</p><h4 id="é€†å‘æœ€å¤§åŒ¹é…"><a href="#é€†å‘æœ€å¤§åŒ¹é…" class="headerlink" title="é€†å‘æœ€å¤§åŒ¹é…"></a>é€†å‘æœ€å¤§åŒ¹é…</h4><p>é€†å‘æœ€å¤§åŒ¹é…æ³•ï¼ˆ Reverse Maximum Match Method, RMM æ³•ï¼‰çš„åŸç†ä¸æ­£å‘æ³•åŸºæœ¬ç›¸åŒï¼Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯åˆ‡åˆ†çš„æ–¹å‘ä¸ MM æ³•ç›¸åã€‚é€†å‘æ³•ä»æ–‡æœ¬æœ«ç«¯å¼€å§‹åŒ¹é…ï¼Œæ¯æ¬¡ç”¨æœ«ç«¯çš„æœ€é•¿è¯é•¿åº¦ä¸ªå­—ç¬¦è¿›è¡ŒåŒ¹é…</p><h4 id="åŒå‘æœ€å¤§åŒ¹é…"><a href="#åŒå‘æœ€å¤§åŒ¹é…" class="headerlink" title="åŒå‘æœ€å¤§åŒ¹é…"></a>åŒå‘æœ€å¤§åŒ¹é…</h4><p>åŒå‘æœ€å¤§åŒ¹é…æ³•ï¼ˆBi-direction Matching Method ï¼ŒBMMï¼‰åˆ™æ˜¯å°†æ­£å‘åŒ¹é…æ³•å¾—åˆ°çš„åˆ†è¯ç»“æœä¸é€†å‘åŒ¹é…æ³•å¾—åˆ°çš„åˆ†è¯ç»“æœè¿›è¡Œæ¯”è¾ƒï¼Œç„¶åæŒ‰ç…§æœ€å¤§åŒ¹é…åŸåˆ™ï¼Œé€‰å–æ¬¡æ•°åˆ‡åˆ†æœ€å°‘çš„ä½œä¸ºç»“æœ</p><p><strong>ä¸€èˆ¬æ­¥éª¤</strong>(æ­£å‘åŒ¹é…)</p><p>ç®—æ³•æ­¥éª¤ï¼š</p><ol><li><p>å¯¼å…¥åˆ†è¯è¯å…¸ <code>dic</code>ï¼Œå¾…åˆ†è¯æ–‡æœ¬ <code>text</code>ï¼Œåˆ›å»ºç©ºé›† <code>words</code> ã€‚</p></li><li><p>éå†åˆ†è¯è¯å…¸ï¼Œæ‰¾åˆ°æœ€é•¿è¯çš„é•¿åº¦ï¼Œ<code>max_len_word</code> ã€‚</p></li><li><p>å°†å¾…åˆ†è¯æ–‡æœ¬ä»å·¦å‘å³å– <code>max_len=max_len_word</code> ä¸ªå­—ç¬¦ä½œä¸ºå¾…åŒ¹é…å­—ç¬¦ä¸² <code>word</code> ã€‚</p></li><li><p>å°† <code>word</code> ä¸è¯å…¸ <code>dic</code> åŒ¹é…</p></li><li><p>è‹¥åŒ¹é…å¤±è´¥ï¼Œåˆ™ <code>max_len = max_len - 1</code> ï¼Œç„¶å</p></li><li><p>é‡å¤ 3 - 4 æ­¥éª¤</p></li><li><p>åŒ¹é…æˆåŠŸï¼Œå°† <code>word</code> æ·»åŠ è¿› <code>words</code> å½“ä¸­ã€‚</p></li><li><p>å»æ‰å¾…åˆ†è¯æ–‡æœ¬å‰ <code>max_len</code> ä¸ªå­—ç¬¦</p></li><li><p>é‡ç½® <code>max_len</code> å€¼ä¸º <code>max_len_word</code></p></li><li><p>é‡å¤ 3 - 8 æ­¥éª¤</p></li><li><p>è¿”å›åˆ—è¡¨ <code>words</code></p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹æœ€é•¿è¯é•¿åº¦ä¸º 0</span></span><br><span class="line">max_len_word0 = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dic:</span><br><span class="line">    <span class="comment"># è‹¥å½“å‰è¯é•¿åº¦å¤§äº max_len_wordï¼Œåˆ™å°† len(key)å€¼èµ‹å€¼ç»™ max_len_word</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(key) &gt; max_len_word0:</span><br><span class="line">        max_len_word0 = <span class="built_in">len</span>(key)</span><br></pre></td></tr></table></figure><p>max_len_word0æ˜¯è¯å…¸ä¸­è¯çš„æœ€å¤§é•¿åº¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">sent = text</span><br><span class="line">words = []   <span class="comment"># å»ºç«‹ä¸€ä¸ªç©ºæ•°ç»„æ¥å­˜æ”¾åˆ†è¯ç»“æœï¼š</span></span><br><span class="line">max_len_word = max_len_word0</span><br><span class="line"><span class="comment"># åˆ¤æ–­ text çš„é•¿åº¦æ˜¯å¦å¤§äº 0ï¼Œå¦‚æœå¤§äº 0 åˆ™è¿›è¡Œä¸‹é¢çš„å¾ªç¯</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">len</span>(sent) &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–æƒ³è¦å–çš„å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">    <span class="comment"># æŒ‰ç…§æœ€é•¿è¯é•¿åº¦åˆå§‹åŒ–</span></span><br><span class="line">    word_len = max_len_word</span><br><span class="line">    <span class="comment"># å¯¹æ¯ä¸ªå­—ç¬¦ä¸²å¯èƒ½ä¼šæœ‰(max_len_word)æ¬¡å¾ªç¯</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, max_len_word):</span><br><span class="line">        <span class="comment"># ä»¤ word ç­‰äº text çš„å‰ word_len ä¸ªå­—ç¬¦</span></span><br><span class="line">        word = sent[<span class="number">0</span>:word_len]</span><br><span class="line">        <span class="comment"># ä¸ºäº†ä¾¿äºè§‚å¯Ÿè¿‡ç¨‹ï¼Œæˆ‘ä»¬æ‰“å°ä¸€ä¸‹å½“å‰åˆ†å‰²ç»“æœ</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;ç”¨ ã€&#x27;</span>, word, <span class="string">&#x27;ã€‘ è¿›è¡ŒåŒ¹é…&#x27;</span>)</span><br><span class="line">        <span class="comment"># åˆ¤æ–­ word æ˜¯å¦åœ¨è¯å…¸ dic å½“ä¸­</span></span><br><span class="line">        <span class="comment"># å¦‚æœä¸åœ¨è¯å…¸å½“ä¸­</span></span><br><span class="line">        <span class="keyword">if</span> word <span class="keyword">not</span> <span class="keyword">in</span> dic:</span><br><span class="line">            <span class="comment"># åˆ™ä»¥ word_len - 1</span></span><br><span class="line">            word_len -= <span class="number">1</span></span><br><span class="line">            <span class="comment"># æ¸…ç©º word</span></span><br><span class="line">            word = []</span><br><span class="line">        <span class="comment"># å¦‚æœ word åœ¨è¯å…¸å½“ä¸­</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># æ›´æ–° text ä¸²èµ·å§‹ä½ç½®</span></span><br><span class="line">            sent = sent[word_len:]</span><br><span class="line">            <span class="comment"># ä¸ºäº†æ–¹ä¾¿è§‚å¯Ÿè¿‡ç¨‹ï¼Œæˆ‘ä»¬æ‰“å°ä¸€ä¸‹å½“å‰ç»“æœ</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;ã€&#123;&#125;ã€‘ åŒ¹é…æˆåŠŸï¼Œæ·»åŠ è¿› words å½“ä¸­&#x27;</span>.<span class="built_in">format</span>(word))</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;-&#x27;</span>*<span class="number">50</span>)</span><br><span class="line">            <span class="comment"># æŠŠåŒ¹é…æˆåŠŸçš„wordæ·»åŠ è¿›ä¸Šé¢åˆ›å»ºå¥½çš„wordså½“ä¸­</span></span><br><span class="line">            words.append(word)</span><br><span class="line">            <span class="comment"># æ¸…ç©ºword</span></span><br><span class="line">            word = []</span><br></pre></td></tr></table></figure><p>è¿™ç§åˆ†è¯çš„æ–¹æ³•ç¼ºé™·ä¸»è¦åœ¨è¯åº“.</p><h3 id="ç»Ÿè®¡åˆ†è¯æ–¹æ³•"><a href="#ç»Ÿè®¡åˆ†è¯æ–¹æ³•" class="headerlink" title="ç»Ÿè®¡åˆ†è¯æ–¹æ³•"></a>ç»Ÿè®¡åˆ†è¯æ–¹æ³•</h3><p>ç›®å‰åŸºäºç»Ÿè®¡çš„åˆ†è¯æ–¹æ³•å¤§ä½“å¯ä»¥åˆ†ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li>è¯­æ–™ç»Ÿè®¡æ–¹æ³•</li><li>åºåˆ—æ ‡æ³¨æ–¹æ³•</li></ul><h4 id="è¯­æ–™ç»Ÿè®¡æ–¹æ³•"><a href="#è¯­æ–™ç»Ÿè®¡æ–¹æ³•" class="headerlink" title="è¯­æ–™ç»Ÿè®¡æ–¹æ³•"></a>è¯­æ–™ç»Ÿè®¡æ–¹æ³•</h4><p>è¯­æ–™å°±æ˜¯æˆ‘ä»¬çš„è‡ªå¤‡çš„æ–‡æœ¬åº“</p><blockquote><p>å¯¹äºè¯­æ–™ç»Ÿè®¡æ–¹æ³•å¯ä»¥è¿™æ ·ç†è§£ï¼šæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªç”±å¾ˆå¤šä¸ªæ–‡æœ¬ç»„æˆçš„çš„è¯­æ–™åº“ <code>D</code> ï¼Œå‡è®¾ç°åœ¨å¯¹ä¸€ä¸ªå¥å­ã€æˆ‘æœ‰ä¸€ä¸ªè‹¹æœã€‘è¿›è¡Œåˆ†è¯ã€‚å…¶ä¸­ä¸¤ä¸ªç›¸è¿çš„å­— ã€è‹¹ã€‘ã€æœã€‘åœ¨ä¸åŒçš„æ–‡æœ¬ä¸­è¿ç»­å‡ºç°çš„æ¬¡æ•°è¶Šå¤šï¼Œå°±è¯´æ˜è¿™ä¸¤ä¸ªç›¸è¿å­—å¾ˆå¯èƒ½æ„æˆä¸€ä¸ªè¯ã€è‹¹æœã€‘ã€‚ä¸æ­¤åŒæ—¶ ã€ä¸ªã€‘ã€è‹¹ã€‘ è¿™ä¸¤ä¸ªç›¸è¿çš„è¯åœ¨åˆ«çš„æ–‡æœ¬ä¸­è¿ç»­å‡ºç°çš„æ¬¡æ•°å¾ˆå°‘ï¼Œå°±è¯´æ˜è¿™ä¸¤ä¸ªç›¸è¿çš„å­—ä¸å¤ªå¯èƒ½æ„æˆä¸€ä¸ªè¯ã€ä¸ªè‹¹ã€‘ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªç»Ÿè®¡è§„åˆ™æ¥ååº”å­—ä¸å­—æˆè¯çš„å¯ä¿¡åº¦ã€‚å½“å­—è¿ç»­ç»„åˆçš„æ¦‚ç‡é«˜è¿‡ä¸€ä¸ªä¸´ç•Œå€¼æ—¶ï¼Œå°±è®¤ä¸ºè¯¥ç»„åˆæ„æˆäº†ä¸€ä¸ªè¯è¯­</p></blockquote><h4 id="åºåˆ—æ ‡æ³¨æ–¹æ³•"><a href="#åºåˆ—æ ‡æ³¨æ–¹æ³•" class="headerlink" title="åºåˆ—æ ‡æ³¨æ–¹æ³•"></a>åºåˆ—æ ‡æ³¨æ–¹æ³•</h4><p>åºåˆ—æ ‡æ³¨æ–¹æ³•åˆ™å°†ä¸­æ–‡åˆ†è¯çœ‹åšæ˜¯ä¸€ä¸ªåºåˆ—æ ‡æ³¨é—®é¢˜ã€‚é¦–å…ˆï¼Œè§„å®šæ¯ä¸ªå­—åœ¨ä¸€ä¸ªè¯è¯­å½“ä¸­æœ‰ç€ 4 ä¸ªä¸åŒçš„ä½ç½®ï¼Œè¯é¦– Bï¼Œè¯ä¸­ Mï¼Œè¯å°¾ Eï¼Œå•å­—æˆè¯ Sã€‚æˆ‘ä»¬é€šè¿‡ç»™ä¸€å¥è¯ä¸­çš„æ¯ä¸ªå­—æ ‡è®°ä¸Šè¿°çš„å±æ€§ï¼Œæœ€åé€šè¿‡æ ‡æ³¨æ¥ç¡®å®šåˆ†è¯ç»“æœã€‚</p><p>åœ¨è®­ç»ƒæ—¶ï¼Œè¾“å…¥ä¸­æ–‡å¥å­å’Œå¯¹åº”çš„æ ‡æ³¨åºåˆ—ï¼Œè®­ç»ƒå®Œæˆå¾—åˆ°ä¸€ä¸ªæ¨¡å‹ã€‚åœ¨æµ‹è¯•æ—¶ï¼Œè¾“å…¥ä¸­æ–‡å¥å­ï¼Œé€šè¿‡æ¨¡å‹è¿ç®—å¾—åˆ°ä¸€ä¸ªæ ‡æ³¨åºåˆ—ã€‚ç„¶åé€šè¿‡æ ‡æ³¨åºåˆ—æ¥è¿›è¡Œåˆ‡åˆ†å¥å­ã€‚</p><p>åœ¨ç»Ÿè®¡å­¦ä¹ æ–¹æ³•ä¸­ï¼Œå¯ä»¥ç”¨äºåºåˆ—æ ‡æ³¨ä»»åŠ¡çš„æ–¹æ³•æœ‰å¾ˆå¤šã€‚ä¾‹å¦‚ï¼Œéšé©¬å°”å¯å¤«æ¨¡å‹ï¼Œæ¡ä»¶éšæœºåœºç­‰.</p><h2 id="Jieba"><a href="#Jieba" class="headerlink" title="Jieba"></a>Jieba</h2><p>ç¬¬ä¸‰æ–¹åº“ jiebaå¸®åŠ©æˆ‘ä»¬è§£å†³è®­ç»ƒæ¨¡å‹å¾—åˆ°æ ‡æ³¨åºåˆ—çš„é—®é¢˜.jieba å·¥å…·ç”¨çš„æ˜¯éšé©¬å°”å¯å¤«æ¨¡å‹ä¸å­—å…¸ç›¸ç»“åˆçš„æ–¹æ³•ï¼Œæ¯”ç›´æ¥å•ç‹¬ä½¿ç”¨éšé©¬å°”å¯å¤«æ¨¡å‹æ¥åˆ†è¯æ•ˆç‡é«˜å¾ˆå¤šï¼Œå‡†ç¡®ç‡ä¹Ÿé«˜å¾ˆå¤š.</p><ul><li>åŸºäºå‰ç¼€è¯å…¸å®ç°é«˜æ•ˆçš„è¯å›¾æ‰«æï¼Œç”Ÿæˆå¥å­ä¸­æ±‰å­—æ‰€æœ‰å¯èƒ½æˆè¯æƒ…å†µæ‰€æ„æˆçš„æœ‰å‘æ— ç¯å›¾ (DAG)</li><li>é‡‡ç”¨äº†åŠ¨æ€è§„åˆ’æŸ¥æ‰¾æœ€å¤§æ¦‚ç‡è·¯å¾„, æ‰¾å‡ºåŸºäºè¯é¢‘çš„æœ€å¤§åˆ‡åˆ†ç»„åˆ</li><li>å¯¹äºæœªç™»å½•è¯ï¼Œé‡‡ç”¨äº†åŸºäºæ±‰å­—æˆè¯èƒ½åŠ›çš„ HMM æ¨¡å‹ï¼Œä½¿ç”¨äº† Viterbi ç®—æ³•</li></ul><h3 id="åˆ†è¯"><a href="#åˆ†è¯" class="headerlink" title="åˆ†è¯"></a>åˆ†è¯</h3><p><img data-src="http://cdn.sekyoro.top/imgs/092904.png" alt="jieba"></p><p>åœ¨ä½¿ç”¨ jieba è¿›è¡Œåˆ†è¯æ—¶ï¼Œæœ‰ä¸‰ç§æ¨¡å¼å¯é€‰ï¼š</p><ol><li>å…¨æ¨¡å¼ å°†å¥ä¸­å¯ä»¥æˆè¯çš„è¯è¯­éƒ½æ‰«æå‡ºæ¥</li><li>ç²¾ç¡®æ¨¡å¼  å°†å¥å­ç²¾ç¡®åˆ†å¼€ </li><li>æœç´¢å¼•æ“æ¨¡å¼ å†ç²¾ç¡®æ¨¡å¼ä¸‹,å¯¹é•¿è¯å†æ¬¡åˆ‡åˆ†</li></ol><p><img data-src="http://cdn.sekyoro.top/imgs/092908.png" alt="åˆ†è¯åŠŸèƒ½"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span> = <span class="string">&quot;ä½ å¥½,æˆ‘æ˜¯å¼ ä¸‰.ä½ æ˜¯è°&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">all</span>():</span></span><br><span class="line">    seg_list = jieba.cut(<span class="built_in">str</span>,cut_all=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># print(seg_list)</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;|&quot;</span>.join(seg_list))</span><br><span class="line"><span class="comment">#     seg_list æ— æ³•ç›´æ¥æ˜¾ç¤ºï¼Œè‹¥æƒ³è¦æ˜¾ç¤ºï¼Œå¯ä»¥ä¸‹é¢è¿™æ ·ã€‚</span></span><br><span class="line"><span class="comment">#     ç”¨ â€˜|â€™ æŠŠç”Ÿæˆå™¨ä¸­çš„è¯ä¸²èµ·æ¥æ˜¾ç¤ºã€‚</span></span><br><span class="line"><span class="comment">#     è¿™ä¸ªæ–¹æ³•åœ¨ä¸‹é¢æåˆ°çš„ç²¾ç¡®æ¨¡å¼å’Œæœç´¢å¼•æ“æ¨¡å¼ä¸­åŒæ ·é€‚ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pre</span>():</span></span><br><span class="line">    seg_list = jieba.cut(<span class="built_in">str</span>,cut_all=<span class="literal">False</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;|&quot;</span>.join(seg_list))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search</span>():</span></span><br><span class="line">    seg_list = jieba.cut_for_search(<span class="built_in">str</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;|&quot;</span>.join(seg_list))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># all()</span></span><br><span class="line">    <span class="comment"># pre()</span></span><br><span class="line">    search()</span><br></pre></td></tr></table></figure><p>å…¨æ¨¡å¼å’Œæœç´¢å¼•æ“æ¨¡å¼ï¼Œjieba ä¼šæŠŠå…¨éƒ¨å¯èƒ½ç»„æˆçš„è¯éƒ½æ‰“å°å‡ºæ¥ã€‚åœ¨ä¸€èˆ¬çš„ä»»åŠ¡å½“ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨é»˜è®¤çš„ç²¾ç¡®æ¨¡å¼å°±è¡Œäº†ï¼Œåœ¨æ¨¡ç³ŠåŒ¹é…æ—¶ï¼Œåˆ™éœ€è¦ç”¨åˆ°å…¨æ¨¡å¼æˆ–è€…æœç´¢å¼•æ“æ¨¡å¼</p><h3 id="è½½å…¥å­—å…¸"><a href="#è½½å…¥å­—å…¸" class="headerlink" title="è½½å…¥å­—å…¸"></a>è½½å…¥å­—å…¸</h3><p>ä¸ºäº†è§£å†³æœªåˆ†è¯é—®é¢˜(å³è¯åº“ä¸­æ²¡æœ‰éœ€è¦çš„åˆ†è¯) jieba å…è®¸ç”¨æˆ·è‡ªå·±æ·»åŠ è¯¥é¢†åŸŸçš„è‡ªå®šä¹‰è¯å…¸ï¼Œæˆ‘ä»¬å¯ä»¥æå‰æŠŠè¿™äº›è¯åŠ è¿›è‡ªå®šä¹‰è¯å…¸å½“ä¸­ï¼Œæ¥å¢åŠ åˆ†è¯çš„æ•ˆæœã€‚è°ƒç”¨çš„æ–¹æ³•æ˜¯ï¼š<code>jieba.load_userdic()</code></p><p>è‡ªå®šä¹‰è¯å…¸çš„æ ¼å¼è¦æ±‚æ¯ä¸€è¡Œä¸€ä¸ªè¯ï¼Œæœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼Œè¯è¯­ï¼Œè¯é¢‘ï¼ˆè¯è¯­å‡ºç°çš„é¢‘ç‡ï¼‰ï¼Œè¯æ€§ï¼ˆåè¯ï¼ŒåŠ¨è¯â€¦â€¦ï¼‰ã€‚å…¶ä¸­ï¼Œè¯é¢‘å’Œè¯æ€§å¯çœç•¥ã€‚ç”¨æˆ·è‡ªå®šä¹‰è¯å…¸å¯ä»¥ç›´æ¥ç”¨è®°äº‹æœ¬åˆ›ç«‹å³å¯ï¼Œä½†æ˜¯éœ€è¦ä»¥ utf-8 ç¼–ç æ¨¡å¼ä¿å­˜ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/092910.png" alt="è½½å…¥è¯å…¸"></p><p>åˆ›å»ºtxtæ–‡ä»¶ æ¯ä¸€è¡Œæ ¼å¼ è¯è¯­ è¯é¢‘ è¯æ€§</p><div class="table-container"><table><thead><tr><th>æ ‡ç­¾</th><th>å«ä¹‰</th><th>æ ‡ç­¾</th><th>å«ä¹‰</th><th>æ ‡ç­¾</th><th>å«ä¹‰</th><th>æ ‡ç­¾</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>n</td><td>æ™®é€šåè¯</td><td>f</td><td>æ–¹ä½åè¯</td><td>s</td><td>å¤„æ‰€åè¯</td><td>t</td><td>æ—¶é—´</td></tr><tr><td>nr</td><td>äººå</td><td>ns</td><td>åœ°å</td><td>nt</td><td>æœºæ„å</td><td>nw</td><td>ä½œå“å</td></tr><tr><td>nz</td><td>å…¶ä»–ä¸“å</td><td>v</td><td>æ™®é€šåŠ¨è¯</td><td>vd</td><td>åŠ¨å‰¯è¯</td><td>vn</td><td>ååŠ¨è¯</td></tr><tr><td>a</td><td>å½¢å®¹è¯</td><td>ad</td><td>å‰¯å½¢è¯</td><td>an</td><td>åå½¢è¯</td><td>d</td><td>å‰¯è¯</td></tr><tr><td>m</td><td>æ•°é‡è¯</td><td>q</td><td>é‡è¯</td><td>r</td><td>ä»£è¯</td><td>p</td><td>ä»‹è¯</td></tr><tr><td>c</td><td>è¿è¯</td><td>u</td><td>åŠ©è¯</td><td>xc</td><td>å…¶ä»–è™šè¯</td><td>w</td><td>æ ‡ç‚¹ç¬¦å·</td></tr><tr><td>PER</td><td>äººå</td><td>LOC</td><td>åœ°å</td><td>ORG</td><td>æœºæ„å</td><td>TIME</td><td>æ—¶é—´</td></tr></tbody></table></div><p>é™¤äº†ä½¿ç”¨ <code>jieba.load_userdic()</code> å‡½æ•°åœ¨åˆ†è¯å¼€å§‹å‰åŠ è½½è‡ªå®šä¹‰è¯å…¸ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸¤ç§æ–¹æ³•åœ¨å¯ä»¥åœ¨ç¨‹åºä¸­åŠ¨æ€ä¿®æ”¹è¯å…¸ã€‚</p><ul><li>ä½¿ç”¨ <code>add_word(word, freq=None, tag=None)</code> å’Œ <code>del_word(word)</code> å¯åœ¨ç¨‹åºä¸­åŠ¨æ€ä¿®æ”¹è¯å…¸ã€‚</li><li>ä½¿ç”¨ <code>suggest_freq(segment, tune=True)</code> å¯è°ƒèŠ‚å•ä¸ªè¯è¯­çš„è¯é¢‘ï¼Œä½¿å…¶èƒ½ï¼ˆæˆ–ä¸èƒ½ï¼‰è¢«åˆ†å‡ºæ¥</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># suggest_freq</span></span><br><span class="line">jieba.suggest_freq((<span class="string">&#x27;ä»Šå¤©&#x27;</span>, <span class="string">&#x27;å¤©æ°”&#x27;</span>), <span class="literal">True</span>)</span><br><span class="line">seg_list = jieba.cut(string, cut_all=<span class="literal">False</span>)</span><br><span class="line"><span class="string">&#x27;|&#x27;</span>.join(seg_list)</span><br><span class="line"></span><br><span class="line"><span class="comment"># del_word</span></span><br><span class="line">jieba.del_word(<span class="string">&#x27;ä»Šå¤©å¤©æ°”&#x27;</span>)</span><br><span class="line">seg_list = jieba.cut(string, cut_all=<span class="literal">False</span>)</span><br><span class="line"><span class="string">&#x27;|&#x27;</span>.join(seg_list)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> NLPå­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>typoraè§£ç»‘åå‡ºç°é—®é¢˜</title>
      <link href="2022/01/30/typora%E8%A7%A3%E7%BB%91%E5%90%8E%E5%87%BA%E7%8E%B0%E9%97%AE%E9%A2%98/"/>
      <url>2022/01/30/typora%E8%A7%A3%E7%BB%91%E5%90%8E%E5%87%BA%E7%8E%B0%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¼—æ‰€å‘¨çŸ¥,typoraä½œä¸ºä¸€æ¬¾è‰¯å¥½çš„markdownç¼–è¾‘å™¨,å†™å†™åšå®¢å•¥çš„å¾ˆæ–¹ä¾¿.å›¾åºŠ,è½¬pdfçš„åŠŸèƒ½ä¹Ÿå¾ˆå®ç”¨.<br><span id="more"></span><br>æœ¬äººä½¿ç”¨è¿™æ¬¾è½¯ä»¶ä¹Ÿæœ‰ä¸€ä¸¤å¹´äº†,ç»¼åˆæ„Ÿå—å°±æ˜¯å†™ä¸€äº›å‡ åƒå­—æˆ–è€…å‡ ç™¾å­—çš„å›¾æ–‡æŠ€æœ¯åšå®¢æ˜¯å¾ˆé€‚åˆçš„,å¾ˆå¤šå¹³å°ä¹Ÿéƒ½æ”¯æŒmarkdown.ç¼ºç‚¹å°±æ˜¯å¯¹äºä¸€äº›æ•°å­¦ç¬¦å·, ç§‘å­¦è®¡ç®—ç­‰ç¬¦å·ä½¿ç”¨è¿˜æ˜¯æœ‰ä¸€ç‚¹éº»çƒ¦,ä¸è¿‡ä½œä¸ºä¸€æ¬¾è¿˜ç®—æ¯”è¾ƒè½»ä¾¿çš„è½¯ä»¶,è¿™ä¹Ÿä¸ç®—ä»€ä¹ˆ.åŒæ—¶å¯¹äºdocè½¬æ¢æ•ˆæœè¿˜æ˜¯æœ‰ä¸€ç‚¹å·®.å› ä¸ºæœ‰äº›äººå–œæ¬¢çœ‹docæ–‡æ¡£,æ‰€ä»¥è¿™ä¸ªåŠŸèƒ½è¿˜æœ‰å¾…æå‡.</p><p>ç°åœ¨è½¯ä»¶æ”¶è´¹äº†,æˆ‘ä¹Ÿç›´æ¥14.99$å…¥æ‰‹äº†.ä¸è¿‡å­˜åœ¨ä¸€äº›é—®é¢˜,ç‰ˆæœ¬çš„æ›´æ–°æç¤ºä¸çŸ¥é“æ˜¯ä¸æ˜¯å¢™çš„é—®é¢˜,ç›´æ¥æ›´æ–°ä¸äº†,å¯¼è‡´ç‰ˆæœ¬éƒ½1.0.3äº†,æˆ‘ä¸€ç›´éƒ½è¿˜åœ¨ç”¨1.0.0.</p><p>æ–°ç‰ˆæœ¬ä½œè€…è´´å¿ƒåœ°åŠ äº†å›½åŒºç‰¹ä¾›,æˆ‘éƒ½ä¸å¥½è¯´è¿™åˆ°åº•æ˜¯ä»¶å¥½äº‹è¿˜æ˜¯åäº‹äº†.å¦å¤–,ç”±äºæŸäº›åŸå› ,æˆ‘è´­ä¹°ååˆå–æ¶ˆäº†,å†æ¬¡æƒ³è¦æ¿€æ´»æ—¶å‘ç°ä¸€ç›´æç¤ºæœåŠ¡å™¨è¿æ¥ä¸ä¸Š.ç½‘ä¸Šå·²ç»æœ‰äº†è§£å†³æ–¹æ¡ˆ.</p><blockquote><p>åœ¨typora1.0.3ç‰ˆæœ¬ä¸­æœ‰äº†å›½å†…æœåŠ¡å™¨è¿æ¥çš„åŠŸèƒ½,æ‰“å¼€åå°±èƒ½è§£å†³. </p></blockquote><p><img data-src="http://cdn.sekyoro.top/imgs/094224.png" alt="æ¿€æ´»æ’’èŠ±"></p><p>ä¸è¿‡ç‚¹å‡»æ£€æŸ¥æ›´æ–°ä»¥åŠæç¤ºè¿ä¸ä¸Š</p><p><img data-src="http://cdn.sekyoro.top/imgs/094229.png" alt="æ£€æŸ¥æ›´æ–°å¤±è´¥"></p><p>å½“ç„¶è¿™ä¸ªè½¯ä»¶è¿˜åœ¨ä¸€äº›é—®é¢˜,ä¸è¿‡è¿™ä¸ªæœ¬è´¨å°±æ˜¯å†™markdownçš„,æ²¡å¿…è¦èŠ±é‡Œèƒ¡å“¨.</p>]]></content>
      
      
      
        <tags>
            
            <tag> typora </tag>
            
            <tag> issue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cousera_MLå­¦ä¹ </title>
      <link href="2022/01/20/cousera-ML%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/01/20/cousera-ML%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Couseraçš„Andrewæœºå™¨å­¦ä¹ è¯¾ç¨‹.</p><span id="more"></span><p>Maching Learningçš„ä¸¤ä¸ªå®šä¹‰</p><p>ç›‘ç£å­¦ä¹ ä¸éç›‘ç£å­¦ä¹ </p><p>ç›‘ç£å­¦ä¹ :classificatonä¸regression</p><p>liner regression</p><p><img data-src="http://cdn.sekyoro.top/imgs/093030.png" alt="liner regression"></p><p>æŸå¤±å‡½æ•°</p><p>éç›‘ç£å­¦ä¹ :clusteringå’Œnon-clustering å¯†åº¦ä¼°è®¡</p><p>cost function</p><p><img data-src="http://cdn.sekyoro.top/imgs/065307.png" alt="cost function"></p><p>ç­‰é«˜çº¿å›¾</p><p>æ¢¯åº¦ä¸‹é™ç®—æ³•å°†ä»£ä»·å‡½æ•°æœ€å°åŒ–</p><p> <img data-src="http://cdn.sekyoro.top/imgs/065308.png" alt="gradient descending"></p><p>Gradient Descent and norm Equation</p><p><del>æ‘†çƒ‚äº†</del>ç”±äºä¸å¤ªæƒ³å†™æ‰€ä»¥ä¹‹å‰æ²¡æ›´æ–°äº†.ç°åœ¨å†™ä¸€ä¸‹svmè¿™ä¸€ç« çš„é¢˜.</p><p>æ¨èå»çœ‹æ–¯å¦ç¦çš„è¿™é—¨è¯¾,ä¹Ÿæ˜¯ngè®²çš„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093033.png" alt="é«˜æ–¯æ ¸"></p><p><strong>update</strong></p><p>æˆ‘ç°åœ¨è¯¾ç¨‹çœ‹å®Œäº†,ä½œä¸šå¯ä»¥åœ¨æˆ‘çš„githubä»“åº“ä¸­çœ‹ä¸€çœ‹</p>]]></content>
      
      
      <categories>
          
          <category> ML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºå™¨å­¦ä¹ å…¥é—¨</title>
      <link href="2022/01/19/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8/"/>
      <url>2022/01/19/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ç°åœ¨å…¥é—¨å¯èƒ½éƒ½æ™šäº†<br><span id="more"></span><br>æœºå™¨å­¦ä¹ å†å²</p><p>1956 å¹´æå‡º AI æ¦‚å¿µï¼ŒçŸ­çŸ­3å¹´åï¼ˆ1959)<a href="https://en.wikipedia.org/wiki/Arthur_Samuel">Arthur Samuel</a>å°±æå‡ºäº†æœºå™¨å­¦ä¹ çš„æ¦‚å¿µ.</p><blockquote><p>æœºå™¨å­¦ä¹ ç ”ç©¶å’Œæ„å»ºçš„æ˜¯ä¸€ç§ç‰¹æ®Šç®—æ³•ï¼ˆ<strong>è€ŒéæŸä¸€ä¸ªç‰¹å®šçš„ç®—æ³•</strong>ï¼‰ï¼Œèƒ½å¤Ÿè®©è®¡ç®—æœºè‡ªå·±åœ¨æ•°æ®ä¸­å­¦ä¹ ä»è€Œè¿›è¡Œé¢„æµ‹ã€‚</p></blockquote><p>æ‰€ä»¥ï¼Œ<strong>æœºå™¨å­¦ä¹ ä¸æ˜¯æŸç§å…·ä½“çš„ç®—æ³•ï¼Œè€Œæ˜¯å¾ˆå¤šç®—æ³•çš„ç»Ÿç§°ã€‚</strong></p><p>æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªç»å…¸æ¦‚å¿µ.</p><blockquote><p>å‡è®¾ç”¨ P æ¥è¯„ä¼°è®¡ç®—æœºç¨‹åºåœ¨æŸä»»åŠ¡ç±» T ä¸Šçš„æ€§èƒ½ï¼Œè‹¥ä¸€ä¸ªç¨‹åºåˆ©ç”¨ç»éªŒ E åœ¨ä»»åŠ¡ T ä¸Šè·å¾—äº†æ€§èƒ½æ”¹å–„ï¼Œåˆ™æˆ‘ä»¬å°±è¯´å…³äº T å’Œ P, è¯¥ç¨‹åºå¯¹ E è¿›è¡Œäº†å­¦ä¹ ã€‚</p></blockquote><p>æœºå™¨å­¦ä¹ ä¸­ä¸€äº›æµè¡Œçš„ä»»åŠ¡ T åŒ…æ‹¬ï¼š</p><ul><li>åˆ†ç±»ï¼šåŸºäºç‰¹å¾å°†å®ä¾‹åˆ†ä¸ºæŸä¸€ç±»ã€‚</li><li>å›å½’ï¼šåŸºäºå®ä¾‹çš„å…¶ä»–ç‰¹å¾é¢„æµ‹è¯¥å®ä¾‹çš„æ•°å€¼å‹ç›®æ ‡ç‰¹å¾ã€‚</li><li>èšç±»ï¼šåŸºäºå®ä¾‹çš„ç‰¹å¾å®ç°å®ä¾‹çš„åˆ†ç»„ï¼Œä»è€Œè®©ç»„å†…æˆå‘˜æ¯”ç»„é—´æˆå‘˜æ›´ä¸ºç›¸ä¼¼ã€‚</li><li>å¼‚å¸¸æ£€æµ‹ï¼šå¯»æ‰¾ä¸å…¶ä»–æ ·æœ¬æˆ–ç»„å†…å®ä¾‹æœ‰å¾ˆå¤§åŒºåˆ«çš„å®ä¾‹ã€‚</li><li>å…¶ä»–æ›´å¤šä»»åŠ¡</li></ul><blockquote><p>ç»éªŒ E æŒ‡çš„æ˜¯æ•°æ®ï¼ˆæ²¡æœ‰æ•°æ®æˆ‘ä»¬ä»€ä¹ˆä¹Ÿå¹²ä¸äº†ï¼‰ã€‚æ ¹æ®è®­ç»ƒæ–¹å¼ï¼Œæœºå™¨å­¦ä¹ ç®—æ³•å¯ä»¥åˆ†ä¸ºç›‘ç£ï¼ˆsupervisedï¼‰å’Œæ— ç›‘ç£ï¼ˆunsupervisedï¼‰ä¸¤ç±»ã€‚æ— ç›‘ç£å­¦ä¹ éœ€è¦è®­ç»ƒå«æœ‰å¾ˆå¤šç‰¹å¾çš„æ•°æ®é›†ï¼Œç„¶åå­¦ä¹ å‡ºè¿™ä¸ªæ•°æ®é›†ä¸Šæœ‰ç”¨çš„ç»“æ„æ€§è´¨ã€‚è€Œç›‘ç£å­¦ä¹ çš„æ•°æ®é›†é™¤äº†å«æœ‰å¾ˆå¤šç‰¹å¾å¤–ï¼Œå®ƒçš„æ¯ä¸ªæ ·æœ¬éƒ½è¦æœ‰ä¸€ä¸ªæ ‡ç­¾ï¼ˆlabelï¼‰æˆ–ç›®æ ‡ï¼ˆtargetï¼‰</p></blockquote><p>æœºå™¨å­¦ä¹ åŒ…å«äº†å¾ˆå¤šç§ä¸åŒçš„ç®—æ³•ï¼Œæ·±åº¦å­¦ä¹ å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œå…¶ä»–æ–¹æ³•åŒ…æ‹¬å†³ç­–æ ‘ï¼Œèšç±»ï¼Œè´å¶æ–¯ç­‰ã€‚</p><p>éœ€è¦çš„çŸ¥è¯†:å­¦ä¼šNumpy,matplotlib,seaborn,pandaså’Œscipy.åŸºæœ¬çš„ä¸€äº›æ–¹æ³•è¦çŸ¥é“åŒæ—¶è¦çŸ¥é“å¦‚ä½•æŸ¥é˜…æ–‡æ¡£,è¿™ä¸ªå¯èƒ½æ›´é‡è¦.</p><p>åŒæ—¶éœ€è¦ä¸€äº›åŸºç¡€çš„æ•°å­¦çŸ¥è¯†.</p><p>ç›‘ç£å­¦ä¹ :regressionå’Œclassification.</p><p>æ— ç›‘ç£å­¦ä¹ :clusteringå’Œå¯†åº¦ä¼°è®¡.</p><p><strong>ä¸€èˆ¬æ­¥éª¤</strong></p><ol><li><p>æ”¶é›†æ•°æ®  </p><p>åˆ©ç”¨çˆ¬è™«æˆ–æ˜¯å·²æœ‰æ•°æ®å¾—åˆ°ä¸€èˆ¬çš„æœªå¤„ç†çš„æ–‡æœ¬æ–‡ä»¶ç­‰ æ ¼å¼å¯ä»¥ä¸ºjson,csv,xmlæˆ–è€…ä¸€èˆ¬çš„txt.</p></li><li><p>å‡†å¤‡æ•°æ®</p><p>ä½¿ç”¨pythonè§£ææ–‡æœ¬æ–‡ä»¶,ä¸€èˆ¬åˆ©ç”¨ç®€å•çš„openè¯»å–,pandasç­‰èƒ½å¤Ÿå¯¹æ‰€æœ‰æ•°æ®è¿›è¡Œè§£æ.</p><p>ç›®çš„å¾—åˆ°æ•°æ®çš„ç‰¹å¾å€¼å’Œç›®æ ‡å‘é‡.</p></li><li><p>åˆ†ææ•°æ®<br> ä½¿ç”¨matplotlibç­‰å¯è§†åŒ–æ•°æ®è¿›è¡Œåˆæ­¥åˆ†æ(é€šå¸¸éœ€è¦å¾—åˆ°äºŒç»´æ‰©æ•£å›¾)</p></li><li><p>è®­ç»ƒç®—æ³•<br> åé¢ä¼šæåˆ° </p></li><li><p>æµ‹è¯•ç®—æ³•<br>ä½¿ç”¨æµ‹è¯•æ•°æ®ä½œä¸ºæµ‹è¯•æ ·æœ¬,é€šè¿‡è¿™ä¸€æ­¥å¾—åˆ°ç®—æ³•çš„æ­£ç¡®ç‡</p></li><li><p>ä½¿ç”¨ç®—æ³•<br> è¾“å…¥æ•°æ®åˆ¤æ–­</p></li></ol><h2 id="Classification"><a href="#Classification" class="headerlink" title="Classification"></a>Classification</h2><p>è¿›è¡Œåˆ†ç±»  æ ‡ç§°å€¼</p><h3 id="KNN"><a href="#KNN" class="headerlink" title="KNN"></a>KNN</h3><p>ç¬¬ä¸€ä¸ªåˆ†ç±»å™¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> operator</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createDataSet</span>():</span></span><br><span class="line">    group = np.array([[<span class="number">1.0</span>, <span class="number">1.1</span>], [<span class="number">1.0</span>, <span class="number">1.0</span>], [<span class="number">0</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0.1</span>]]) <span class="comment">#åˆ›å»º numpyæ•°ç»„  ç‰¹å¾å€¼</span></span><br><span class="line">    labels = [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]  <span class="comment">#ç›®æ ‡å˜é‡</span></span><br><span class="line">    <span class="keyword">return</span> group, labels</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">classify0</span>(<span class="params">inX, dataSet, labels, k</span>):</span></span><br><span class="line">    dataSetSize = dataSet.shape[<span class="number">0</span>] <span class="comment">#è·å¾—æ•°æ®é›†çš„æ•°ç›®</span></span><br><span class="line">    diffMat = np.tile(inX, (dataSetSize, <span class="number">1</span>)) - dataSet  <span class="comment">#inXæ˜¯åˆ†ç±»å‘é‡(1X2) åˆ—æ•°ä¸ºç‰¹å¾æ•° å¹¿æ’­åä¸æ•°æ®é›†ç›¸å‡</span></span><br><span class="line">    sqDiffMat = diffMat ** <span class="number">2</span> <span class="comment">#æ¯ä¸ªå€¼å¹³æ–¹</span></span><br><span class="line">    sqDistances = sqDiffMat.<span class="built_in">sum</span>(axis=<span class="number">1</span>) <span class="comment">#è¿”å›ä¸€ä¸ªList,å€¼æ˜¯æ¯ä¸€è¡Œå€¼ç›¸åŠ   ç›¸å½“äºå¾—åˆ°æ¯ä¸€ä¸ªç‚¹ä¸éœ€è¦æµ‹è¯•ç‚¹çš„è·ç¦»(è¿˜æœªå¼€æ ¹)</span></span><br><span class="line">    distances = sqDistances ** <span class="number">0.5</span> <span class="comment">#å¼€æ ¹</span></span><br><span class="line">    sortedDistIndices = distances.argsort() <span class="comment">#è¿”å›ä¸€ä¸ªlist å€¼æ˜¯è¾“å…¥æ•°ç»„çš„å€¼ä»å°åˆ°å¤§çš„ç´¢å¼•  ç›¸å½“äºæŒ‰ç…§è·ç¦»ç»™å€¼æ’åº</span></span><br><span class="line">    classCount = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">        voteIlabel = labels[sortedDistIndices[i]]  <span class="comment">#å–å¾—æœ€è¿‘çš„ç¬¬iä¸ªå€¼ </span></span><br><span class="line">        classCount[voteIlabel] = classCount.get(voteIlabel, <span class="number">0</span>) + <span class="number">1</span> <span class="comment">#ä¸ªæ•°+1</span></span><br><span class="line">    sortdClassCount = <span class="built_in">sorted</span>(classCount.items(),</span><br><span class="line">                             key=operator.itemgetter(<span class="number">1</span>), reverse=<span class="literal">True</span>) <span class="comment">#æ’åº è¿”å›ä¸€ä¸ªList</span></span><br><span class="line">    <span class="keyword">return</span> sortdClassCount[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="è§£ææ•°æ®"><a href="#è§£ææ•°æ®" class="headerlink" title="è§£ææ•°æ®"></a>è§£ææ•°æ®</h4><p>å‡è®¾æˆ‘ä»¬å·²ç»æœ‰äº†æ–‡æœ¬æˆ–æ˜¯å…¶ä»–æ ¼å¼çš„æ•°æ®,éœ€è¦ç”¨pythonè§£ææ•°æ®å°†ç‰¹å¾å’Œæ ‡ç­¾æå–å‡ºæ¥è½¬ä¸ºnumpyæ ¼å¼.</p><p>ä¸‹é¢æ˜¯ä»æ–‡æœ¬ä¸­æå–.æ ¼å¼ä¸º</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">valuevalue valuelabel</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">file2matrix</span>(<span class="params">filename</span>):</span></span><br><span class="line">    fr = <span class="built_in">open</span>(filename)</span><br><span class="line">    arrayOLines = fr.readlines()</span><br><span class="line">    numberOfLines = <span class="built_in">len</span>(arrayOLines)</span><br><span class="line">    returnMat = np.zeros((numberOfLines,<span class="number">3</span>))  <span class="comment">#3ä¸ªç‰¹å¾</span></span><br><span class="line">    classLabelVector = []</span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> arrayOLines:</span><br><span class="line">        line = line.strip()</span><br><span class="line">        listFromLine = line.split(<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        returnMat[index,] = listFromLine[<span class="number">0</span>:<span class="number">3</span>]</span><br><span class="line">        classLabelVector.append(<span class="built_in">int</span>(listFromLine[-<span class="number">1</span>]))</span><br><span class="line">        index += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> returnMat,classLabelVector</span><br></pre></td></tr></table></figure><h4 id="åˆ†ææ•°æ®"><a href="#åˆ†ææ•°æ®" class="headerlink" title="åˆ†ææ•°æ®"></a>åˆ†ææ•°æ®</h4><p>åˆ©ç”¨matplotlibå¯è§†åŒ–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scatter = plt.scatter(datingDataMat[:,<span class="number">1</span>],datingDataMat[:,<span class="number">2</span>],<span class="number">15</span>*np.array(labelvector),<span class="number">12</span>*np.array(labelvector))</span><br><span class="line">i, j = scatter.legend_elements()</span><br><span class="line"><span class="comment"># print(i, j)</span></span><br><span class="line">j = [<span class="string">&#x27;$\\mathdefault&#123;ä¸å—æ¬¢è¿&#125;$&#x27;</span>, <span class="string">&#x27;$\\mathdefault&#123;å—æ¬¢è¿&#125;$&#x27;</span>, <span class="string">&#x27;$\\mathdefault&#123;ä¸€èˆ¬&#125;$&#x27;</span>]</span><br><span class="line">ax.legend(i,j,loc=<span class="string">&#x27;best&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h4 id="å‡†å¤‡æ•°æ®"><a href="#å‡†å¤‡æ•°æ®" class="headerlink" title="å‡†å¤‡æ•°æ®"></a>å‡†å¤‡æ•°æ®</h4><h5 id="å½’ä¸€åŒ–"><a href="#å½’ä¸€åŒ–" class="headerlink" title="å½’ä¸€åŒ–"></a>å½’ä¸€åŒ–</h5><p>ä¸€ä¸ªæ ·æœ¬æœ‰å¤šä¸ªç‰¹å¾,è¿™äº›ç‰¹å¾çš„å€¼æ˜¯ä¸ä¸€æ ·çš„,æœ‰äº›å¯èƒ½ä¸€èˆ¬çš„å€¼æ˜¯å‡ åå·¦å³,ä½†æ˜¯å…¶ä»–ç‰¹å¾ä¸€èˆ¬çš„å€¼è¦é«˜ä¸Šå¾ˆå¤§çš„æ•°é‡çº§,ä½†è¿™äº›ç‰¹å¾æ˜¯ç­‰ä»·çš„.æˆ‘ä»¬éœ€è¦ç‰¹å¾å½’ä¸€åŒ–,å°†å–å€¼èŒƒå›´ç¼©å°.æ¯”å¦‚å‡ç¼©ä¸º(0,1)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">newvalue = (oldValue-<span class="built_in">min</span>)/(<span class="built_in">max</span>-<span class="built_in">min</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">autonorm</span>(<span class="params">dataSet</span>):</span></span><br><span class="line">    minVals = dataSet.<span class="built_in">min</span>(<span class="number">0</span>)</span><br><span class="line">    maxVals = dataSet.<span class="built_in">max</span>(<span class="number">0</span>)</span><br><span class="line">    ranges = maxVals - minVals</span><br><span class="line">    normDataSet = np.zeros(dataSet.shape)</span><br><span class="line">    m = dataSet.shape[<span class="number">0</span>]</span><br><span class="line">    normDataSet = dataSet - np.tile(minVals,(m,<span class="number">1</span>))</span><br><span class="line">    normDataSet = normDataSet/np.tile(ranges,(m,<span class="number">1</span>))</span><br><span class="line">    <span class="keyword">return</span> normDataSet,ranges,minVals</span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•ç®—æ³•"><a href="#æµ‹è¯•ç®—æ³•" class="headerlink" title="æµ‹è¯•ç®—æ³•"></a>æµ‹è¯•ç®—æ³•</h4><p>è¯„ä¼°ç®—æ³•çš„æ­£ç¡®ç‡</p><p>å°†å·²æœ‰æ•°æ®çš„ä¸€éƒ¨åˆ†ç”¨æ¥è®­ç»ƒ(åœ¨KNNè¿™é‡Œä¸éœ€è¦è®­ç»ƒ),å¦ä¸€éƒ¨åˆ†ç”¨æ¥æµ‹è¯•é”™è¯¯ç‡,å³è¿™ä¸ªç®—æ³•æ˜¯å¦ä¼˜ç§€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">datingClassTest</span>():</span></span><br><span class="line">    hoRatio = <span class="number">0.1</span>  <span class="comment">#æµ‹è¯•æ•°æ® 10%</span></span><br><span class="line">    datingDataMat,datingLabels = file2matrix(<span class="string">&#x27;datingTestSet2.txt&#x27;</span>)</span><br><span class="line">    normMat,ranges,minVals = autonorm(datingDataMat)</span><br><span class="line">    m = normMat.shape[<span class="number">0</span>]</span><br><span class="line">    numTestVecs = <span class="built_in">int</span>(m*hoRatio)</span><br><span class="line">    errorCount = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numTestVecs):</span><br><span class="line">        classifierResult = classify0(normMat[i],normMat[numTestVecs:m],datingLabels[numTestVecs:m],<span class="number">3</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;the classifier came back with:%d,the real answer is %d&quot;</span> %(classifierResult,datingLabels[i]))</span><br><span class="line">        <span class="keyword">if</span> classifierResult!=datingLabels[i]:</span><br><span class="line">            errorCount +=<span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;the total error rate is:%f&quot;</span> %(errorCount/<span class="built_in">float</span>(numTestVecs)))</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨ç®—æ³•"><a href="#ä½¿ç”¨ç®—æ³•" class="headerlink" title="ä½¿ç”¨ç®—æ³•"></a>ä½¿ç”¨ç®—æ³•</h4><p>å½“æµ‹è¯•ç®—æ³•åå³å¯ç›´æ¥ä½¿ç”¨äº†,è¾“å…¥è‡ªå·±çš„æ•°æ®é¢„æµ‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">classifyPerson</span>():</span></span><br><span class="line">    resultList = [<span class="string">&#x27;not at all&#x27;</span>,<span class="string">&#x27;in small doses&#x27;</span>,<span class="string">&#x27;in large doses&#x27;</span>]</span><br><span class="line">    percentTats = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;percentage of time spent playing games?&quot;</span>))</span><br><span class="line">    ffMiles = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;frequent flier miles earned per year?&quot;</span>))</span><br><span class="line">    iceCream = <span class="built_in">float</span>(<span class="built_in">input</span>(<span class="string">&quot;liters of ice cream consumed per year?&quot;</span>))</span><br><span class="line">    datingDataMat,datingLabels = file2matrix(<span class="string">&quot;./datingTestSet2.txt&quot;</span>)</span><br><span class="line">    normMat,ranges,minVals = autonorm(datingDataMat)</span><br><span class="line">    inArr = np.array([ffMiles,percentTats,iceCream])</span><br><span class="line">    classifierResult = classify0((inArr-minVals)/ranges,normMat,datingLabels,<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;you will probably look like this person:&quot;</span>,resultList[classifierResult-<span class="number">1</span>])</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€ä¸ªåˆ†ç±»å™¨å°±å®ç°äº†.ä¸è¿‡æ¯”è¾ƒç®€å•è€Œä¸”æ˜¯KNN,æ²¡æœ‰ç»è¿‡ç®—æ³•è®­ç»ƒ.</p><h4 id="æ‰‹å†™è¯†åˆ«ç³»ç»Ÿ"><a href="#æ‰‹å†™è¯†åˆ«ç³»ç»Ÿ" class="headerlink" title="æ‰‹å†™è¯†åˆ«ç³»ç»Ÿ"></a>æ‰‹å†™è¯†åˆ«ç³»ç»Ÿ</h4><p><strong>æ­¥éª¤</strong>:</p><ol><li>æ”¶é›†æ•°æ® æä¾›æ–‡æœ¬æ–‡ä»¶</li><li>å‡†å¤‡æ•°æ® ç¼–å†™å‡½æ•°img2vector() å°†å›¾åƒæ ¼å¼è½¬ä¸ºåˆ†ç±»å™¨ä½¿ç”¨çš„å‘é‡</li><li>åˆ†ææ•°æ® </li><li>è®­ç»ƒç®—æ³•,knnä¸éœ€è¦</li><li>æµ‹è¯•ç®—æ³•</li><li>ä½¿ç”¨ç®—æ³• </li></ol><p>æ‰‹å†™è¯†åˆ«ä¹Ÿå°±æ˜¯è¯†åˆ«å›¾åƒ,è€Œå›¾åƒçš„ç‰¹å¾å¯ä»¥æœ‰å¾ˆå¤š.</p><p>è¿™é‡Œè¯†åˆ«32<em>32çš„å›¾åƒ,å°†æ¯ä¸ªåƒç´ å½“ä½œç‰¹å¾,ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ ·æœ¬æ•°æ®æ˜¯1\</em>1024çš„å‘é‡</p><p>é¦–å…ˆç¼–å†™å‡½æ•°32<em>32çš„äºŒåº¦å›¾è½¬ä¸º1\</em>1024çš„ä¸€ä¸ªæ ·æœ¬,ç‰¹å¾æœ‰1024ä¸ª</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">img2vector</span>(<span class="params">filename</span>):</span></span><br><span class="line">    returnVect = np.zeros((<span class="number">1</span>, <span class="number">1024</span>))</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&quot;r+&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>):</span><br><span class="line">            lineStr = f.readline()</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>):</span><br><span class="line">                returnVect[<span class="number">0</span>, i * <span class="number">32</span> + j] = <span class="built_in">int</span>(lineStr[j])</span><br><span class="line">    <span class="keyword">return</span> returnVect</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€è½¬åŒ–å°±è·Ÿä¸Šé¢ä¸€ä¸ªä¾‹å­ç±»ä¼¼äº†.</p><p>ç„¶ååªè¦æ ¹æ®å·²ç»™æ•°æ®å¾—åˆ°ç‰¹å¾é›†å’Œå¯¹åº”label</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handwritingClassTest</span>():</span></span><br><span class="line">    hwLabel = []</span><br><span class="line">    trainingDataFileList = os.listdir(<span class="string">&quot;trainingDigits&quot;</span>)</span><br><span class="line">    <span class="comment"># print(trainingDataFileList)</span></span><br><span class="line">    m = <span class="built_in">len</span>(trainingDataFileList)</span><br><span class="line">    trainingMat = np.zeros((m, <span class="number">1024</span>))  <span class="comment"># æ•°æ®é›† mä¸ªæ ·æœ¬ 1024ä¸ªç‰¹å¾</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">        fileNameStr = trainingDataFileList[i]</span><br><span class="line">        fileStr = fileNameStr.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        classNumStr = fileStr.split(<span class="string">&#x27;_&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        hwLabel.append(<span class="built_in">int</span>(classNumStr))   <span class="comment">#label ç›®æ ‡å‘é‡</span></span><br><span class="line">        trainingMat[i, :] = img2vector(<span class="string">&#x27;trainingDigits/%s&#x27;</span> % fileNameStr) <span class="comment">#å¾—åˆ°æ¯ä¸€ä¸ªæ ·æœ¬çš„ç‰¹å¾</span></span><br><span class="line">    testFileList = os.listdir(<span class="string">&#x27;testDigits&#x27;</span>)</span><br><span class="line">    errorCount = <span class="number">0</span></span><br><span class="line">    mTest = <span class="built_in">len</span>(testFileList)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(mTest):  <span class="comment">#ç±»ä¼¼çš„å¤„ç†æµç¨‹  é€šè¿‡å¾—åˆ°ç»“æœè¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">        fileNameStr = testFileList[i]</span><br><span class="line">        fileStr = fileNameStr.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        classNumStr = <span class="built_in">int</span>(fileNameStr.split(<span class="string">&#x27;_&#x27;</span>)[<span class="number">0</span>])</span><br><span class="line">        vectorUnderTest = img2vector(<span class="string">&quot;testDigits/%s&quot;</span> % fileNameStr)</span><br><span class="line">        classifierResult = classify0(vectorUnderTest, trainingMat, hwLabel, <span class="number">3</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;the classifier came back with:%d,and the real answer is %s&quot;</span> % (classifierResult, classNumStr))</span><br><span class="line">        <span class="keyword">if</span> classifierResult != classNumStr:</span><br><span class="line">            errorCount += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the total number of errors is %d\n&quot;</span> % errorCount)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;the total error rate is %f\n&quot;</span> % (errorCount / <span class="built_in">float</span>(mTest)))</span><br></pre></td></tr></table></figure><p>å› ä¸ºç‰¹å¾å€¼éƒ½æ˜¯0æˆ–1,åœ¨ä¸€ä¸ªé‡çº§ä¸éœ€è¦å½’ä¸€åŒ–.</p><p>é€šè¿‡ä¸Šé¢çš„KNNå­¦ä¹ ,å¯ä»¥äº†è§£åˆ°KNNçš„æ—¶é—´å’Œç©ºé—´æ•ˆç‡å¹¶ä¸é«˜,éœ€è¦æ”¹è¿›.</p><p>ç‰¹ç‚¹:ç®€å•æœ‰æ•ˆ,ä½¿ç”¨ç®—æ³•æ—¶å¿…é¡»æœ‰æ¥è¿‘å®é™…æ•°æ®çš„è®­ç»ƒæ ·æœ¬æ•°æ®.å¿…é¡»ä¿å­˜å…¨éƒ¨æ•°æ®é›†,å¿…é¡»å¯¹æ¯ä¸ªæ•°æ®è®¡ç®—è·ç¦»å€¼,å®é™…ä½¿ç”¨æ—¶å¯èƒ½éå¸¸è€—æ—¶.</p><h3 id="å†³ç­–æ ‘"><a href="#å†³ç­–æ ‘" class="headerlink" title="å†³ç­–æ ‘"></a>å†³ç­–æ ‘</h3><p><del>ä¸å¥½æ„æ€é¸½äº†è¿™ä¹ˆä¹…</del></p><p>å†³ç­–æ ‘å¸¸å¸¸æ˜¯ä¸“å®¶ç»éªŒçš„æ¦‚æ‹¬ï¼Œæ˜¯ä¸€ç§åˆ†äº«ç‰¹å®šè¿‡ç¨‹çŸ¥è¯†çš„æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œåœ¨å¼•å…¥å¯æ‰©å±•æœºå™¨å­¦ä¹ ç®—æ³•ä¹‹å‰ï¼Œé“¶è¡Œä¸šçš„ä¿¡ç”¨è¯„åˆ†ä»»åŠ¡æ˜¯ç”±ä¸“å®¶è§£å†³çš„ï¼Œèƒ½å¦æ”¾è´·æ˜¯åŸºäºä¸€äº›ç›´è§‚ï¼ˆæˆ–ç»éªŒï¼‰çš„è§„åˆ™ï¼Œè¿™äº›è§„åˆ™å°±å¯ä»¥è¡¨ç¤ºä¸ºå†³ç­–æ ‘çš„å½¢å¼.å®ƒåˆå¹¶ä¸€è¿ä¸²é€»è¾‘è§„åˆ™ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªæ ‘å½¢çš„æ•°æ®ç»“æ„ï¼Œè¿™äº›è§„åˆ™çš„å½¢å¼ä¸ºã€Œç‰¹å¾ a çš„å€¼å°äº xï¼Œç‰¹å¾ b çš„å€¼å°äº y â€¦ =&gt; ç±»åˆ« 1ã€</p><p><img data-src="http://cdn.sekyoro.top/imgs/092956.png" alt="å†³ç­–æ ‘"></p><p>å¯ä»¥ç®€å•åœ°å‘ç°,å†³ç­–æ ‘å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§çŠ¶æ€å›¾.</p><p>æ ¹æ®ä¸åŒçš„å†³ç­–å‰”é™¤é€‰é¡¹.é‚£ä¹ˆå¦‚ä½•åˆ¤æ–­å“ªäº›å†³ç­–èƒ½å‰”é™¤æ›´å¤šçš„é€‰é¡¹å‘¢?</p><h4 id="é‡è¦æ¦‚å¿µ"><a href="#é‡è¦æ¦‚å¿µ" class="headerlink" title="é‡è¦æ¦‚å¿µ"></a>é‡è¦æ¦‚å¿µ</h4><p><strong>ç†µ</strong></p><p>ç†µæ˜¯ä¸€ä¸ªåœ¨ç‰©ç†ã€ä¿¡æ¯è®ºå’Œå…¶ä»–é¢†åŸŸä¸­å¹¿æ³›åº”ç”¨çš„é‡è¦æ¦‚å¿µï¼Œå¯ä»¥è¡¡é‡è·å¾—çš„ä¿¡æ¯é‡ã€‚</p><p>å¯¹äºå…·æœ‰ N ç§å¯èƒ½çŠ¶æ€çš„ç³»ç»Ÿè€Œè¨€,ç†µå®šä¹‰ä¸º</p><script type="math/tex; mode=display">S = -\sum_{i=1}^{N}p_i \log_2{p_i},</script><p>å…¶ä¸­ï¼Œ$p_i$ æ˜¯ç³»ç»Ÿä½äºç¬¬ i ä¸ªçŠ¶æ€çš„æ¦‚ç‡ã€‚ç†µå¯ä»¥æè¿°ä¸ºç³»ç»Ÿçš„æ··æ²Œç¨‹åº¦ï¼Œç†µè¶Šé«˜ï¼Œç³»ç»Ÿçš„æœ‰åºæ€§è¶Šå·®ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p><strong>ä¿¡æ¯å¢ç›Š</strong></p><p>ç†µçš„ä¸‹é™è¢«ç§°ä¸ºä¿¡æ¯å¢ç›Š</p><script type="math/tex; mode=display">IG(Q) = S_O - \sum_{i=1}^{q}\frac{N_i}{N}S_i,</script><p>å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„å,å¯¹æ¯ä¸€ç»„è¿›è¡Œç†µçš„è®¡ç®—,å†å°†æ¯ç»„çš„ç†µä¹˜ä»¥è¯¥ç»„æ‰€å çš„æ¯”ä¾‹.å¾—åˆ°çš„å°±æ˜¯åˆ†ç»„åçš„ç†µ</p><p>æ‰€ä»¥å†³ç­–æ ‘çš„æ„å»ºå°±å¾ˆé‡è¦.éœ€è¦é¿å…è¿‡æ‹Ÿåˆçš„é—®é¢˜.ä¸ºäº†é¿å…è¿‡æ‹Ÿåˆï¼Œç›´åˆ°ç†µä¸ºæŸä¸ªè¾ƒå°çš„å€¼ã€‚ä¸åŒçš„ç®—æ³•ä½¿ç”¨ä¸åŒçš„æ¨æ–­ï¼Œé€šè¿‡ã€Œæå‰åœæ­¢ã€æˆ–ã€Œæˆªæ–­ã€ä»¥é¿å…æ„å»ºå‡ºè¿‡æ‹Ÿåˆçš„æ ‘.</p><p>ä¸åŒçš„å†³ç­–æ ‘æ„å»ºç®—æ³•ä¾æ®çš„æŒ‡æ ‡ä¸ä¸€æ ·.</p><p>C4.5æ˜¯ä¿¡æ¯å¢ç›Šç‡,ID3æ˜¯ä¿¡æ¯å¢ç›Š.åŒæ—¶è¿˜æœ‰åŸºå°¼ä¸ç¡®å®šæ€§,$G = 1 - \sum\limits_k (p_k)^2$</p><p>é”™åˆ†ç‡ $E = 1 - \max\limits_k p_k$</p><p>åŸºå°¼ä¸ç¡®å®šæ€§å’Œä¿¡æ¯å¢ç›Šçš„æ•ˆæœå·®ä¸å¤š</p><p>äºŒå…ƒåˆ†ç±»ç†µçš„è®¡ç®— <script type="math/tex">S = -p_+ \log_2{p_+} -p_- \log_2{p_-} = -p_+ \log_2{p_+} -(1 - p_{+}) \log_2{(1 - p_{+})}</script></p><p>åŸºå°¼ä¸ç¡®å®šæ€§ <script type="math/tex">G = 1 - p_+^2 - p_-^2 = 1 - p_+^2 - (1 - p_+)^2 = 2p_+(1-p_+)</script></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">6</span>, <span class="number">4</span>))</span><br><span class="line">xx = np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">50</span>)</span><br><span class="line">plt.plot(xx, [<span class="number">2</span> * x * (<span class="number">1</span>-x) <span class="keyword">for</span> x <span class="keyword">in</span> xx], label=<span class="string">&#x27;gini&#x27;</span>)</span><br><span class="line">plt.plot(xx, [<span class="number">4</span> * x * (<span class="number">1</span>-x) <span class="keyword">for</span> x <span class="keyword">in</span> xx], label=<span class="string">&#x27;2*gini&#x27;</span>)</span><br><span class="line">plt.plot(xx, [-x * np.log2(x) - (<span class="number">1</span>-x) * np.log2(<span class="number">1</span> - x)</span><br><span class="line">              <span class="keyword">for</span> x <span class="keyword">in</span> xx], label=<span class="string">&#x27;entropy&#x27;</span>)</span><br><span class="line">plt.plot(xx, [<span class="number">1</span> - <span class="built_in">max</span>(x, <span class="number">1</span>-x) <span class="keyword">for</span> x <span class="keyword">in</span> xx], label=<span class="string">&#x27;missclass&#x27;</span>)</span><br><span class="line">plt.plot(xx, [<span class="number">2</span> - <span class="number">2</span> * <span class="built_in">max</span>(x, <span class="number">1</span>-x) <span class="keyword">for</span> x <span class="keyword">in</span> xx], label=<span class="string">&#x27;2*missclass&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;p+&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;criterion&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Criteria of quality as a function of p+ (binary classification)&#x27;</span>)</span><br><span class="line">plt.legend()</span><br></pre></td></tr></table></figure><p>åŒºåˆ†ä¸åŒçš„æ ‡å‡† </p><h2 id="é™„ä»¶"><a href="#é™„ä»¶" class="headerlink" title="é™„ä»¶"></a>é™„ä»¶</h2><p>1936å›¾çµ è‡ªåŠ¨æœºç†è®º</p><p>è‡ªåŠ¨æœºæœ‰å¦‚ä¸‹åŸºæœ¬æ¦‚å¿µï¼š</p><p>ç¬¦å· ï¼šæœ‰æŸç§æ„ä¹‰æˆ–åœ¨è¿™ä¸ªæœºå™¨ä¸Šæœ‰æ•ˆçš„ä»»æ„æ•°æ®(datum)ã€‚ç¬¦å·æœ‰æ—¶å°±å«åšâ€œå­—æ¯â€ã€‚</p><p>å­—ï¼šé€šè¿‡ä¸€äº›ç¬¦å·ä¸²æ¥è€Œå½¢æˆçš„æœ‰é™å­—ç¬¦ä¸²ã€‚</p><p>å­—æ¯è¡¨ ï¼šç¬¦å·çš„æœ‰é™é›†åˆã€‚å­—æ¯è¡¨ç»å¸¸æŒ‡ç¤ºä¸ºSigma,å®ƒæ˜¯åœ¨å­—æ¯è¡¨ä¸­æ‰€æœ‰å­—æ¯çš„é›†åˆã€‚</p><p>è¯­è¨€ ï¼šå­—çš„é›†åˆï¼Œç”±ç»™é¡¶å­—æ¯è¡¨ä¸­çš„ç¬¦å·å½¢æˆã€‚å¯ä»¥æ˜¯ä¹Ÿå¯ä»¥ä¸æ˜¯æ— é™çš„ã€‚</p><h2 id="å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æ–™" class="headerlink" title="å­¦ä¹ èµ„æ–™"></a>å­¦ä¹ èµ„æ–™</h2><p>Couseraå´æ©è¾¾çš„æœºå™¨å­¦ä¹ è¯¾ç¨‹</p><p><a href="https://easyai.tech/">å¾ˆå¥½çš„aiå­¦ä¹ ç½‘ç«™</a></p><p>ã€Šæœºå™¨å­¦ä¹ å®æˆ˜ã€‹python2.x</p><p>è“æ¡¥äº‘è¯¾ç¨‹.</p>]]></content>
      
      
      
        <tags>
            
            <tag> ML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯è§†åŒ–å›¾çš„å·¥å…·</title>
      <link href="2022/01/19/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%9B%BE%E7%9A%84%E5%B7%A5%E5%85%B7/"/>
      <url>2022/01/19/%E5%8F%AF%E8%A7%86%E5%8C%96%E5%9B%BE%E7%9A%84%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>pandaså­¦ä¹ </title>
      <link href="2022/01/17/pandas%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/01/17/pandas%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æœºå™¨å­¦ä¹ æœ‰å¿…è¦å¥½å¥½å­¦ä¼šnumpy,pandaså’Œmatplotlib<br><span id="more"></span></p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pandas</span><br></pre></td></tr></table></figure><p>å®‰è£….</p><p>Pandas ä¸€ä¸ªå¼ºå¤§çš„åˆ†æç»“æ„åŒ–æ•°æ®çš„å·¥å…·é›†ï¼ŒåŸºç¡€æ˜¯ <a href="https://www.runoob.com/numpy/numpy-tutorial.html">Numpy</a>ï¼ˆæä¾›é«˜æ€§èƒ½çš„çŸ©é˜µè¿ç®—ï¼‰ã€‚</p><p>Pandas å¯ä»¥ä»å„ç§æ–‡ä»¶æ ¼å¼æ¯”å¦‚ CSVã€JSONã€SQLã€Microsoft Excel å¯¼å…¥æ•°æ®ã€‚</p><p>Pandas å¯ä»¥å¯¹å„ç§æ•°æ®è¿›è¡Œè¿ç®—æ“ä½œï¼Œæ¯”å¦‚å½’å¹¶ã€å†æˆå½¢ã€é€‰æ‹©ï¼Œè¿˜æœ‰æ•°æ®æ¸…æ´—å’Œæ•°æ®åŠ å·¥ç‰¹å¾</p><h3 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h3><p>Series,DataFrame</p><p>å‰è€…æ˜¯ä¸€åˆ—,ç±»ä¼¼ä¸€ç»´æ•°ç»„,åè€…æ˜¯è¡¨æ ¼ã€‚</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">pandas.Series( data, index, dtype, name, copy)</span><br><span class="line">å‚æ•°è¯´æ˜ï¼š</span><br><span class="line"></span><br><span class="line">dataï¼šä¸€ç»„æ•°æ®(ndarray ç±»å‹)ã€‚</span><br><span class="line"></span><br><span class="line">indexï¼šæ•°æ®ç´¢å¼•æ ‡ç­¾ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä» 0 å¼€å§‹ã€‚</span><br><span class="line"></span><br><span class="line">dtypeï¼šæ•°æ®ç±»å‹ï¼Œé»˜è®¤ä¼šè‡ªå·±åˆ¤æ–­ã€‚</span><br><span class="line"></span><br><span class="line">nameï¼šè®¾ç½®åç§°ã€‚</span><br><span class="line"></span><br><span class="line">copyï¼šæ‹·è´æ•°æ®ï¼Œé»˜è®¤ä¸º Falseã€‚</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">myvar = pd.Series(a)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(myvar)</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/094014.png" alt="Series"></p><p>ç´¢å¼•é»˜è®¤ä»0å¼€å§‹,å¯ä»¥ä¿®æ”¹ç´¢å¼•åå­—.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">a = [<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Runoob&quot;</span>, <span class="string">&quot;Wiki&quot;</span>]</span><br><span class="line"></span><br><span class="line">myvar = pd.Series(a, index = [<span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>, <span class="string">&quot;z&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(myvar)</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/094015.png" alt="å¯¹è±¡ä½œä¸ºæ•°æ®"></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨å­—å…¸åˆ›å»ºå¯¹è±¡,</p><p>DataFrame æ„é€ æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pandas.<span class="constructor">DataFrame( <span class="params">data</span>, <span class="params">index</span>, <span class="params">columns</span>, <span class="params">dtype</span>, <span class="params">copy</span>)</span></span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><strong>data</strong>ï¼šä¸€ç»„æ•°æ®(ndarrayã€series, map, lists, dict ç­‰ç±»å‹)ã€‚</li><li><strong>index</strong>ï¼šç´¢å¼•å€¼ï¼Œæˆ–è€…å¯ä»¥ç§°ä¸ºè¡Œæ ‡ç­¾ã€‚</li><li><strong>columns</strong>ï¼šåˆ—æ ‡ç­¾ï¼Œé»˜è®¤ä¸º RangeIndex (0, 1, 2, â€¦, n) ã€‚</li><li><strong>dtype</strong>ï¼šæ•°æ®ç±»å‹ã€‚</li><li><strong>copy</strong>ï¼šæ‹·è´æ•°æ®ï¼Œé»˜è®¤ä¸º Falseã€‚</li></ul><p>ä½¿ç”¨äºŒç»´æ•°ç»„åˆ›å»º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">data = [[<span class="string">&#x27;Google&#x27;</span>,<span class="number">10</span>],[<span class="string">&#x27;Runoob&#x27;</span>,<span class="number">12</span>],[<span class="string">&#x27;Wiki&#x27;</span>,<span class="number">13</span>]]</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data,columns=[<span class="string">&#x27;Site&#x27;</span>,<span class="string">&#x27;Age&#x27;</span>],dtype=<span class="built_in">float</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨numpyç±»å‹åˆ›å»º</p><p><img data-src="http://cdn.sekyoro.top/imgs/094017.png" alt="åˆ›å»ºdataframe"></p><p>locå±æ€§è¿”å›æŒ‡å®šè¡Œæˆ–åˆ—</p><p><img data-src="http://cdn.sekyoro.top/imgs/094018.png" alt="loc"></p><h3 id="è¯»å–csvæ–‡ä»¶"><a href="#è¯»å–csvæ–‡ä»¶" class="headerlink" title="è¯»å–csvæ–‡ä»¶"></a>è¯»å–csvæ–‡ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv()</span><br><span class="line">df.tostring() <span class="comment">#to_string() ç”¨äºè¿”å› DataFrame ç±»å‹çš„æ•°æ®ï¼Œå¦‚æœä¸ä½¿ç”¨è¯¥å‡½æ•°ï¼Œåˆ™è¾“å‡ºç»“æœä¸ºæ•°æ®çš„å‰é¢ 5 è¡Œå’Œæœ«å°¾ 5 è¡Œ</span></span><br><span class="line">df</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/094019.png" alt="è¯»å–csv"></p><p>å­˜ä¸ºcsvæ–‡ä»¶</p><p>to_csv()å°†DataFrameæ•°æ®å­˜ä¸ºcsv</p><p><img data-src="http://cdn.sekyoro.top/imgs/094021.png" alt="å­˜ä¸ºcsvæ–‡ä»¶"></p><h3 id="æ•°æ®å¤„ç†"><a href="#æ•°æ®å¤„ç†" class="headerlink" title="æ•°æ®å¤„ç†"></a>æ•°æ®å¤„ç†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">head() <span class="comment">#å‰é¢å‡ è¡Œ</span></span><br><span class="line">tail() <span class="comment">#åé¢å‡ è¡Œ</span></span><br><span class="line">info() <span class="comment">#è¿”å›è¡¨æ ¼åŸºæœ¬ä¿¡æ¯</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/094021-1.png" alt="æŸ¥çœ‹csvæ–‡ä»¶"></p><h3 id="è¯»å–jsonæ–‡ä»¶"><a href="#è¯»å–jsonæ–‡ä»¶" class="headerlink" title="è¯»å–jsonæ–‡ä»¶"></a>è¯»å–jsonæ–‡ä»¶</h3><p>å­˜å‚¨å’Œäº¤æ¢æ–‡æœ¬ä¿¡æ¯çš„è¯­æ³•ï¼Œç±»ä¼¼ XML</p><p>JSON æ¯” XML æ›´å°ã€æ›´å¿«ï¼Œæ›´æ˜“è§£æ</p><p>ä¸»è¦æ˜¯å†…åµŒçš„json.</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">read_json</span><span class="params">()</span></span> #è¯»å–jsonæ–‡ä»¶</span><br><span class="line"><span class="function"><span class="title">json_normalize</span><span class="params">()</span></span> #å°†å†…åµŒçš„æ•°æ®å®Œæ•´è§£æ</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;school_name&quot;</span>: <span class="string">&quot;ABC primary school&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;class&quot;</span>: <span class="string">&quot;Year 1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;students&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;A001&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;math&quot;</span>: <span class="number">60</span>,</span><br><span class="line">        <span class="attr">&quot;physics&quot;</span>: <span class="number">66</span>,</span><br><span class="line">        <span class="attr">&quot;chemistry&quot;</span>: <span class="number">61</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;A002&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;James&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;math&quot;</span>: <span class="number">89</span>,</span><br><span class="line">        <span class="attr">&quot;physics&quot;</span>: <span class="number">76</span>,</span><br><span class="line">        <span class="attr">&quot;chemistry&quot;</span>: <span class="number">51</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;A003&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Jenny&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;math&quot;</span>: <span class="number">79</span>,</span><br><span class="line">        <span class="attr">&quot;physics&quot;</span>: <span class="number">90</span>,</span><br><span class="line">        <span class="attr">&quot;chemistry&quot;</span>: <span class="number">78</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯»å–studentså¹¶åŒ…æ‹¬äº†school_name,class</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ Python JSON æ¨¡å—è½½å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;nested_list.json&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.loads(f.read())</span><br><span class="line"></span><br><span class="line"><span class="comment"># å±•å¹³æ•°æ®</span></span><br><span class="line">df_nested_list = pd.json_normalize(</span><br><span class="line">    data,</span><br><span class="line">    record_path =[<span class="string">&#x27;students&#x27;</span>],</span><br><span class="line">    meta=[<span class="string">&#x27;school_name&#x27;</span>, <span class="string">&#x27;class&#x27;</span>]</span><br><span class="line">)</span><br><span class="line"><span class="built_in">print</span>(df_nested_list)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨glomæ¨¡å—å¤„ç†æ•°æ®åµŒå¥—</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;school_name&quot;</span>: <span class="string">&quot;local primary school&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;class&quot;</span>: <span class="string">&quot;Year 1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;students&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;A001&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;grade&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;math&quot;</span>: <span class="number">60</span>,</span><br><span class="line">            <span class="attr">&quot;physics&quot;</span>: <span class="number">66</span>,</span><br><span class="line">            <span class="attr">&quot;chemistry&quot;</span>: <span class="number">61</span></span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;A002&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;James&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;grade&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;math&quot;</span>: <span class="number">89</span>,</span><br><span class="line">            <span class="attr">&quot;physics&quot;</span>: <span class="number">76</span>,</span><br><span class="line">            <span class="attr">&quot;chemistry&quot;</span>: <span class="number">51</span></span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;A003&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Jenny&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;grade&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;math&quot;</span>: <span class="number">79</span>,</span><br><span class="line">            <span class="attr">&quot;physics&quot;</span>: <span class="number">90</span>,</span><br><span class="line">            <span class="attr">&quot;chemistry&quot;</span>: <span class="number">78</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åªè¯»å–mathå­—æ®µ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> glom <span class="keyword">import</span> glom</span><br><span class="line"></span><br><span class="line">df = pd.read_json(<span class="string">&#x27;nested_deep.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line">data = df[<span class="string">&#x27;students&#x27;</span>].apply(<span class="keyword">lambda</span> row: glom(row, <span class="string">&#x27;grade.math&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(data)</span><br></pre></td></tr></table></figure><p>è¯´å®è¯,åŒ…æ‹¬numpyè¿™äº›ä¸œè¥¿æ‰¾å®˜ç½‘æ‰¾apiå°±è¡Œäº†.ç°åœ¨åªéœ€è¦å¤§æ¦‚è¿‡ä¸€é.</p><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><p><a href="https://www.runoob.com/pandas/pandas-series.html">Pandas æ•°æ®ç»“æ„ â€“ Series | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><p><a href="http://www.pypandas.cn/">Pandas ä¸­æ–‡ (pypandas.cn)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ±‡ç¼–å®æˆ˜</title>
      <link href="2022/01/12/%E6%B1%87%E7%BC%96%E5%AE%9E%E6%88%98/"/>
      <url>2022/01/12/%E6%B1%87%E7%BC%96%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¸å¤šè¯´,ç›´æ¥å¼€å†²<br><span id="more"></span></p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>ç¯å¢ƒ Ubuntu 20.0.4</p><p>å·¥å…· GNUå¥—è£…åŒ…æ‹¬gcc gdb</p><p>è¯æ³•åˆ†æå™¨flex,Bison,å°±æ˜¯å‘åå…¼å®¹çš„lexå’Œyacc</p><p>è¯æ³•åˆ†ææ˜¯ç¼–è¯‘è¿‡ç¨‹ç¬¬ä¸€é˜¶æ®µ,å°†è¾“å…¥çš„å„ç§ç¬¦å·è½¬ä¸ºç›¸åº”çš„æ ‡è¯†ç¬¦å·.æˆ‘ä»¬è¦ä½¿æ ‡è¯†ç¬¦å·ä¾¿äºåç»­å¤„ç†.</p><p>lexå°†*.læ–‡ä»¶ç¼–è¯‘åç”Ÿæˆlex.yy.cæ–‡ä»¶,ç„¶åç”±ä»ç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªè¯æ³•åˆ†æå™¨.ç„¶åç”±cç¼–è¯‘å™¨ç¼–è¯‘ç”Ÿæˆè¯æ³•åˆ†æå™¨.lexæ¥æ”¶è¾“å…¥å¹¶å°†è¾“å…¥æŒ‰ç…§è§„åˆ™è½¬æ¢.lexå°†è¾“å…¥çš„è¡¨è¾¾å¼å’ŒåŠ¨ä½œä»£ç è½¬æ¢ä¸ºå®¿ä¸»è¯­è¨€(è¿™é‡Œæ˜¯c),ç”Ÿæˆyylexå‡½æ•°.yylexè¯†åˆ«å­—ç¬¦æµä¸­çš„è¡¨è¾¾å¼,å½“åŒ¹é…åå°±è¾“å‡ºç›¸åº”åŠ¨ä½œ.</p><h3 id="Lexæ–‡ä»¶ç»“æ„"><a href="#Lexæ–‡ä»¶ç»“æ„" class="headerlink" title="Lexæ–‡ä»¶ç»“æ„"></a>Lexæ–‡ä»¶ç»“æ„</h3><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">declarations</span><br><span class="line"><span class="variable">%%</span></span><br><span class="line"><span class="variable"></span>translation rules</span><br><span class="line"><span class="variable">%%</span></span><br><span class="line"><span class="variable"></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> æ±‡ç¼– </tag>
            
            <tag> å®æˆ˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python_opencvå­¦ä¹ </title>
      <link href="2022/01/11/python-opencv%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/01/11/python-opencv%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¹‹å‰ç¢°è¿‡,ç°åœ¨æƒ³ç³»ç»Ÿå­¦ä¸€ä¸‹.è®¾è®¡opencv-python,Numpy,Matploylibè¿™å‡ ä¸ªåº“<br><span id="more"></span></p><h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><p>å°†æ¶‰åŠåˆ°çš„åº“å®‰è£…å,å¯¼å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="comment">#å¯¼å…¥éœ€è¦ç”¨cv2</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure><p>å®‰è£…opencv-pythonæ—¶å·²ç»è£…äº†numpyäº†.</p><p>æ¶‰åŠæ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">imread()  <span class="comment">#ä¼ å…¥å›¾åƒè·¯å¾„</span></span><br><span class="line">imsave()  <span class="comment">#ä¿å­˜å›¾åƒåå­—ä»¥åŠimage</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¯»å…¥ä¸€ä¸ªå›¾åƒå¹¶å°è¯•æ‰“å°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">image = imread(<span class="string">&quot;image.jpg&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(image)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(image))</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093951.png" alt="æ‰“å°image"></p><p>å¯ä»¥çœ‹åˆ°ç»“æœæ˜¯å¤šç»´æ•°ç»„,ç±»å‹å…¶å®æ˜¯Numpyçš„æ•°ç»„ç±»å‹,æ‰€ä»¥æ­é…Numpyå¾ˆå¥½æ“ä½œ.</p><p>è¿™é‡Œæ¶‰åŠåˆ°å›¾åƒçš„çŸ¥è¯†,å›¾åƒåœ¨è®¡ç®—æœºä¸­çš„å­˜å‚¨.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065829.png" alt="ä¸‰ä¿¡é“çŸ©é˜µ"></p><p><strong>å€¼å¾—æ³¨æ„çš„:opencvå¾—åˆ°çš„ä¸‰é€šé“åƒç´ ç‚¹æ˜¯BGRæ ¼å¼.</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¾—åˆ°imageå¯¹è±¡å</span></span><br><span class="line">image[<span class="number">0</span>,<span class="number">0</span>]  <span class="comment">#0,0ä½ç½®ä¸Šåƒç´   ç›´æ¥ä¿®æ”¹å³å¯</span></span><br><span class="line">image[<span class="number">0</span>:<span class="number">100</span>,<span class="number">0</span>:<span class="number">200</span>] = (<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>) <span class="comment">#å°†ä¸€ä¸ªçŸ©å½¢åŒºåŸŸæ”¹ä¸ºé»‘è‰²</span></span><br></pre></td></tr></table></figure><h3 id="æ‹†åˆ†å’Œåˆå¹¶å›¾åƒä¿¡é“"><a href="#æ‹†åˆ†å’Œåˆå¹¶å›¾åƒä¿¡é“" class="headerlink" title="æ‹†åˆ†å’Œåˆå¹¶å›¾åƒä¿¡é“"></a>æ‹†åˆ†å’Œåˆå¹¶å›¾åƒä¿¡é“</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">split() <span class="comment">#æ‹†åˆ†ä¿¡é“</span></span><br><span class="line">merge() <span class="comment">#åˆå¹¶ä¿¡é“</span></span><br><span class="line"><span class="comment">#æ‹†åˆ†ä¿¡é“  ç»“æœä¸ºbgr</span></span><br><span class="line"><span class="comment">#imageæ‰“å°å¾—åˆ°ä¸€ä¸ªnumpyçŸ©é˜µ</span></span><br><span class="line">b,g,r = cv2.split(image)</span><br><span class="line"><span class="comment">#åˆå¹¶ä¿¡é“</span></span><br><span class="line"><span class="built_in">sum</span> = cv2.merge([r,g,b])</span><br><span class="line">cv2.imwrite(<span class="string">&#x27;reverse.jpg&#x27;</span>,<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure><p>ä¸»è¦ç”¨äºå°†ä¸‰ä¿¡é“å½©è‰²å›¾åƒæ‹†åˆ†ä¸ºb,g,rä¸‰ä¸ªå•ä¿¡é“,ä¹Ÿå°±æ˜¯ä¸‰ä¸ªç°åº¦å›¾.</p><h3 id="è®¿é—®å›¾åƒå±æ€§"><a href="#è®¿é—®å›¾åƒå±æ€§" class="headerlink" title="è®¿é—®å›¾åƒå±æ€§"></a>è®¿é—®å›¾åƒå±æ€§</h3><p>ä¸€å¼ å›¾åƒå…·æœ‰å¤šä¸ªå±æ€§ï¼šè¡Œæ•°ã€åˆ—æ•°ã€é€šé“æ•°ã€å›¾åƒæ•°æ®ç±»å‹ã€åƒç´ æ•°ç­‰.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">image = imread(<span class="string">&quot;&quot;</span>)  <span class="comment">#å‚æ•°æ˜¯ä¸€ä¸ªå›¾åƒåœ°å€</span></span><br><span class="line">image.shape <span class="comment">#å›¾åƒå±æ€§</span></span><br><span class="line">image.dtype <span class="comment">#å›¾åƒçš„æ•°å€¼ç±»å‹</span></span><br><span class="line">image.size  <span class="comment">#å›¾åƒå¤§å°,å…¶å®å°±æ˜¯é«˜xå®½</span></span><br></pre></td></tr></table></figure><p>å½“æ„è¯†åˆ°imreadè¿”å›çš„å…¶å®æ˜¯ä¸€ä¸ªçŸ©é˜µ,æˆ‘ä»¬å°±èƒ½åˆ©ç”¨numpyçš„ä¸€äº›æ–¹æ³•.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065830.png" alt="image-20220111172001806"></p><p>å¯ä»¥çœ‹åˆ° <code>image.shape</code> è¿”å›çš„æ˜¯ä¸€ç»„åŒ…å«å›¾ç‰‡å±æ€§çš„å…ƒç»„ã€‚ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å›¾ç‰‡çš„é«˜ï¼Œè¡¨ç¤ºå›¾ç‰‡æœ‰å¤šå°‘è¡Œåƒç´ ã€‚ç¬¬äºŒä¸ªå…ƒç´ æ˜¯å›¾ç‰‡çš„å®½ï¼Œè¡¨ç¤ºå›¾ç‰‡æœ‰å¤šå°‘åˆ—åƒç´ ã€‚æœ€åä¸€ä¸ªå…ƒç´  <code>3</code> æ˜¯å›¾ç‰‡çš„é€šé“æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ RGB å½©è‰²å›¾ç‰‡ï¼Œæ‰€ä»¥ä¸€å…±æœ‰ä¸‰ä¸ªé€šé“.æ˜¯å½©è‰²å›¾åƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(image))</span><br><span class="line"><span class="comment"># ndarray</span></span><br></pre></td></tr></table></figure><p><code>image.dtype</code> è·å–åƒç´ å€¼çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥çœ‹åˆ°åƒç´ å€¼çš„æ•°æ®ç±»å‹æ˜¯ <code>uint8</code> è¡¨ç¤º 8 ä½æ— ç¬¦å·æ•´æ•°ã€‚å› ä¸ºåƒç´ å€¼çš„èŒƒå›´æ˜¯ 0 åˆ° 255ï¼Œè€Œ <code>uint8</code> ä¹Ÿæ˜¯åœ¨è¿™ä¸€èŒƒå›´.</p><div class="table-container"><table><thead><tr><th style="text-align:left">å±æ€§</th><th style="text-align:left">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left">ndarray.ndim</td><td style="text-align:left">ç§©ï¼Œå³è½´çš„æ•°é‡æˆ–ç»´åº¦çš„æ•°é‡</td></tr><tr><td style="text-align:left">ndarray.shape</td><td style="text-align:left">æ•°ç»„çš„ç»´åº¦ï¼Œå¯¹äºçŸ©é˜µï¼Œn è¡Œ m åˆ—</td></tr><tr><td style="text-align:left">ndarray.size</td><td style="text-align:left">æ•°ç»„å…ƒç´ çš„æ€»ä¸ªæ•°ï¼Œç›¸å½“äº .shape ä¸­ n*m çš„å€¼</td></tr><tr><td style="text-align:left">ndarray.dtype</td><td style="text-align:left">ndarray å¯¹è±¡çš„å…ƒç´ ç±»å‹</td></tr><tr><td style="text-align:left">ndarray.itemsize</td><td style="text-align:left">ndarray å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½</td></tr><tr><td style="text-align:left">ndarray.flags</td><td style="text-align:left">ndarray å¯¹è±¡çš„å†…å­˜ä¿¡æ¯</td></tr><tr><td style="text-align:left">ndarray.real</td><td style="text-align:left">ndarrayå…ƒç´ çš„å®éƒ¨</td></tr><tr><td style="text-align:left">ndarray.imag</td><td style="text-align:left">ndarray å…ƒç´ çš„è™šéƒ¨</td></tr><tr><td style="text-align:left">ndarray.data</td><td style="text-align:left">åŒ…å«å®é™…æ•°ç»„å…ƒç´ çš„ç¼“å†²åŒºï¼Œç”±äºä¸€èˆ¬é€šè¿‡æ•°ç»„çš„ç´¢å¼•è·å–å…ƒç´ ï¼Œæ‰€ä»¥é€šå¸¸ä¸éœ€è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ã€‚</td></tr></tbody></table></div><h2 id="ç”»å›¾"><a href="#ç”»å›¾" class="headerlink" title="ç”»å›¾"></a>ç”»å›¾</h2><h3 id="ç”»ç›´çº¿"><a href="#ç”»ç›´çº¿" class="headerlink" title="ç”»ç›´çº¿"></a>ç”»ç›´çº¿</h3><p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå›¾åƒ,åˆ©ç”¨numpyæ•°ç»„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">region = np.zeros((<span class="number">500</span>,<span class="number">500</span>,<span class="number">3</span>),dtype=np.uint8)</span><br></pre></td></tr></table></figure><p>é»˜è®¤dtypeæ˜¯æµ®ç‚¹æ•°,æœ€å¥½æ”¹ä¸ºnp.uint8æˆ–int.</p><p>è¿”å›å€¼æ˜¯ä¸€ä¸ªå…¨ä¸º0çš„ä¸‰ç»´çŸ©é˜µ,æ•°æ®ç±»å‹æ˜¯uint8.</p><p>ç„¶ååˆ©ç”¨cv2line()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">line = cv2.line(region,(<span class="number">50</span>,<span class="number">50</span>),(<span class="number">450</span>,<span class="number">450</span>),(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>),<span class="number">5</span>) <span class="comment">#regionæ˜¯èƒŒæ™¯å›¾åƒ,ä¹Ÿå°±æ˜¯åˆ›å»ºçš„å›¾ç‰‡,æ¥ç€çš„å‚æ•°æ˜¯çº¿çš„èµ·å§‹å’Œç»ˆæ­¢ç‚¹,bgré¢œè‰²å’Œåšåº¦</span></span><br></pre></td></tr></table></figure><p>æœ€åä½¿ç”¨imwriteä¿å­˜å³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.imwrite(<span class="string">&#x27;line.jpg&#x27;</span>,line) <span class="comment">#lineæ˜¯ä¸€ä¸ªnumpyç±»å‹</span></span><br></pre></td></tr></table></figure><p>å½“ç„¶ä¹Ÿå¯ä»¥å®šä¹‰çº¿çš„ç±»å‹,è¯¦è§å®˜æ–¹æ–‡æ¡£</p><p>å…¶ä»–çš„åˆ›å»ºæ•°ç»„æ–¹å¼æœ‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">numpy.empty()  <span class="comment">#np.empty([3,2], dtype = int) </span></span><br><span class="line">numpy.ones() <span class="comment">#np.ones([2,2], dtype = int)</span></span><br><span class="line">numpy.randn() <span class="comment">#numpy.random.randn(2,3)</span></span><br><span class="line">numpy.arange() <span class="comment">#ä»èŒƒå›´å†…åˆ›å»ºæ•°ç»„</span></span><br><span class="line">numpy.eye()  <span class="comment">#å¯¹è§’çŸ©é˜µ å‚æ•°æ˜¯è¡Œåˆ—æ•°</span></span><br><span class="line">numpy.full() <span class="comment">#ä»»æ„å€¼çš„åˆå§‹åŒ–</span></span><br></pre></td></tr></table></figure><h3 id="ç”»çŸ©å½¢"><a href="#ç”»çŸ©å½¢" class="headerlink" title="ç”»çŸ©å½¢"></a>ç”»çŸ©å½¢</h3><p>ä¸ç”»ç›´çº¿ç±»ä¼¼,éœ€è¦å®šä¹‰å·¦ä¸Šè§’å’Œå³ä¸Šè§’.åšåº¦ä¸ºè´Ÿæ•°åˆ™ä¸ºå¡«å……å›¾å½¢.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">region = np.zeros((<span class="number">500</span>,<span class="number">500</span>,<span class="number">3</span>))</span><br><span class="line">rectangle = cv.rectangle(region,(<span class="number">50</span>,<span class="number">50</span>),(<span class="number">150</span>,<span class="number">150</span>),(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),-<span class="number">1</span>)</span><br><span class="line">cv.imwrite(<span class="string">&quot;rectangle.jpg&quot;</span>,rectangle)</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093954.png" alt="çŸ©å½¢å›¾åƒ"></p><p>ç”»åœ†å’Œæ¤­åœ†ç±»ä¼¼,å°±æ˜¯ç”¨çš„æ–¹æ³•ä¸ä¸€æ ·è€Œå·²</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cv2.circle() <span class="comment">#ç”»åœ†</span></span><br><span class="line">cv2.ellipse() <span class="comment">#æ¤­åœ†</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#ç”»åœ†</span></span><br><span class="line">region = np.zeros((<span class="number">500</span>,<span class="number">500</span>,<span class="number">3</span>))</span><br><span class="line">circle = cv.circle(region,(<span class="number">250</span>,<span class="number">250</span>),<span class="number">200</span>,(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>),-<span class="number">1</span>)</span><br><span class="line">cv.imwrite(<span class="string">&quot;circle.jpg&quot;</span>,circle)</span><br></pre></td></tr></table></figure><p>æŒ‡å®šåœ†å¿ƒä¸åŠå¾„å³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">region = np.zeros((<span class="number">500</span>,<span class="number">500</span>,<span class="number">3</span>))</span><br><span class="line">ellipse = cv2.ellipse(region, (<span class="number">200</span>, <span class="number">200</span>), (<span class="number">150</span>, <span class="number">50</span>), <span class="number">0</span>, <span class="number">0</span>, <span class="number">180</span>, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), -<span class="number">1</span>)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;ellipse.jpg&quot;</span>, ellipse)</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ <code>cv2.ellipse</code> å‡½æ•°ç»˜åˆ¶æ¤­åœ†ã€‚ç¬¬ä¸€ä¸ªå‚æ•° <code>region</code> æ˜¯è¦åœ¨ä¸Šé¢ç»˜åˆ¶æ¤­åœ†çš„å›¾ç‰‡ã€‚ç¬¬äºŒä¸ªå‚æ•° <code>(200, 200)</code> æ˜¯æ¤­åœ†ä¸­å¿ƒçš„åæ ‡ã€‚ç¬¬ä¸‰ä¸ªå‚æ•° <code>(150, 50)</code> è¡¨ç¤ºæ¤­åœ†çš„è½´é•¿ï¼Œå…¶ä¸­ <code>150</code> è¡¨ç¤ºé•¿è½´ï¼Œ<code>50</code> è¡¨ç¤ºçŸ­è½´ã€‚ç¬¬å››ä¸ªå‚æ•° <code>0</code> è¡¨ç¤ºæ¤­åœ†å¤„äºä¸€ä¸ªæ°´å¹³çš„çŠ¶æ€ï¼Œç¬¬å››ä¸ªå‚æ•°è¡¨ç¤ºæ²¿é¡ºæ—¶é’ˆæ–¹å‘æ¤­åœ†çš„æ—‹è½¬è§’åº¦ ã€‚ç¬¬äº”ä¸ªå‚æ•° <code>0</code> è¡¨ç¤ºæ²¿é¡ºæ—¶é’ˆæ–¹å‘ç»˜åˆ¶æ¤­åœ†çš„èµ·å§‹è§’åº¦ï¼Œç¬¬å…­ä¸ªå‚æ•° <code>180</code> è¡¨ç¤ºæ²¿é¡ºæ—¶é’ˆæ–¹å‘ç»˜åˆ¶æ¤­åœ†çš„ç»“æŸè§’åº¦ ï¼Œæ‰€ä»¥ç¬¬äº”ã€ç¬¬å…­å‚æ•°è¡¨ç¤ºæˆ‘ä»¬å°†ç»˜åˆ¶åŠä¸ªæ¤­åœ†ã€‚ç¬¬ä¸ƒä¸ªå‚æ•° <code>(0, 255, 0)</code> è¡¨ç¤ºç»˜åˆ¶æ¤­åœ†çš„é¢œè‰²ä¸ºç»¿è‰²ã€‚ç¬¬å…«ä¸ªå‚æ•° <code>-1</code> è¡¨ç¤ºç”¨ç»¿è‰²å°†è¿™åŠä¸ªæ¤­åœ†å¡«å……æ»¡</p><p>è¿˜æœ‰å¤šè¾¹å½¢å’Œæ·»åŠ æ–‡æœ¬,ä¸è¿‡è¯´å®è¯,æ„Ÿè§‰ç”¨å¤„ä¸å¤§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pts = np.array([[[<span class="number">10</span>, <span class="number">60</span>]], [[<span class="number">290</span>, <span class="number">250</span>]], [[<span class="number">300</span>, <span class="number">350</span>]], [[<span class="number">470</span>, <span class="number">390</span>]]], np.int32)  <span class="comment">#åˆ—è¡¨æ˜¯é¡¶ç‚¹æ•°*1*2</span></span><br><span class="line">polylines = cv2.polylines(region, [pts], <span class="literal">True</span>, (<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">5</span>)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;polylines.jpg&quot;</span>, polylines)</span><br></pre></td></tr></table></figure><p> Trueè¡¨ç¤ºå„ä¸ªé¡¶ç‚¹è¿çº¿é—­åˆå¾—åˆ°å¤šè¾¹å½¢,å…¶ä½™å‚æ•°ç±»ä¼¼.</p><p>æ·»åŠ æ–‡å­—</p><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv2.putText()  <span class="meta">#å‚æ•°åˆ†åˆ«ä¸ºæ·»åŠ æ–‡å­—çš„å›¾åƒ,æ·»åŠ çš„å­—ç¬¦ä¸²,æ·»åŠ çš„ä½ç½®</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">words = cv2.putText(region, <span class="string">&quot;Vision&quot;</span>, (<span class="number">100</span>, <span class="number">250</span>), cv2.FONT_HERSHEY_SIMPLEX, <span class="number">3</span>, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">10</span>, cv2.LINE_AA)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;words.jpg&quot;</span>, words)</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093955.png" alt="æ’å…¥æ–‡æœ¬"></p><p>ç¬¬å››ä¸ªå‚æ•° <code>cv2.FONT_HERSHEY_SIMPLEX</code> æ˜¯å­—ä½“ç±»å‹ï¼Œç¬¬äº”ä¸ªå‚æ•° <code>3</code> æ˜¯å­—ä½“çš„å¤§å°ï¼Œç¬¬å…­ä¸ªå‚æ•° <code>(0, 255, 0)</code> æ˜¯å­—ä½“çš„é¢œè‰²ï¼Œç¬¬ä¸ƒä¸ªå‚æ•° <code>10</code> æ˜¯æ–‡å­—çº¿æ¡çš„ç²—ç»†ï¼Œç¬¬å…«ä¸ªå‚æ•° <code>cv2.LINE_AA</code> æ˜¯çº¿æ¡çš„ç±»å‹ã€‚</p><h2 id="å›¾åƒçš„å¤„ç†"><a href="#å›¾åƒçš„å¤„ç†" class="headerlink" title="å›¾åƒçš„å¤„ç†"></a>å›¾åƒçš„å¤„ç†</h2><h3 id="å›¾åƒçš„ç¼©æ”¾"><a href="#å›¾åƒçš„ç¼©æ”¾" class="headerlink" title="å›¾åƒçš„ç¼©æ”¾"></a>å›¾åƒçš„ç¼©æ”¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cv2.resize()</span><br><span class="line">resized = cv2.resize(image, (<span class="number">0</span>, <span class="number">0</span>), fx=<span class="number">0.5</span>, fy=<span class="number">0.5</span>, interpolation = cv2.INTER_AREA)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;resized.jpg&quot;</span>,resized)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>cv2.resize</code> å‡½æ•°æ¥å¯¹å›¾ç‰‡çš„å°ºå¯¸è¿›è¡Œç¼©æ”¾ï¼Œè¯¥å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•° <code>image</code> æ˜¯è¦è¢«ç¼©æ”¾çš„å›¾ç‰‡ã€‚ç¬¬äºŒä¸ªå‚æ•° <code>(0, 0)</code> æ˜¯ä¸€ä¸ªå…ƒç»„ï¼Œè¡¨ç¤ºè¾“å‡ºå›¾ç‰‡çš„å°ºå¯¸ï¼Œå…ƒç»„å†…çš„ç¬¬ä¸€ä¸ªå…ƒç´ è¡¨ç¤ºå›¾ç‰‡çš„å®½ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºå›¾ç‰‡çš„é«˜ã€‚ç¬¬ä¸‰å‚æ•° <code>fx = 0.5</code> è¡¨ç¤ºæ²¿å›¾ç‰‡çš„å®½çš„ç¼©æ”¾ç³»æ•°ï¼Œç¬¬å››å‚æ•° <code>fy = 0.5</code> è¡¨ç¤ºæ²¿å›¾ç‰‡çš„é«˜çš„ç¼©æ”¾ç³»æ•°ã€‚ç¬¬äº”ä¸ªå‚æ•° <code>interpolation = cv2.INTER_AREA)</code> æ˜¯æ’å€¼æ–¹æ³•ï¼Œè¡¨æ˜å›¾ç‰‡æ˜¯ç”¨å“ªç§æ–¹æ³•è¢«ç¼©æ”¾çš„ï¼Œ<code>cv2.resize</code> é»˜è®¤çš„æ’å€¼æ–¹æ³•æ˜¯ <code>cv2.INTER_LINEAR</code>ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨å…¶ä»–æ–¹æ³•ï¼š <code>cv2.INTER_NEAREST</code>ã€<code>cv2.INTER_CUBIC</code>ã€<code>cv2.INTER_LANCZ0S4</code>ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å°è¯•å®šä¹‰è¾“å‡ºå›¾ç‰‡å°ºå¯¸æ¥å¯¹å›¾ç‰‡è¿›è¡Œç¼©æ”¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">resized = cv2.resize(image, (<span class="number">0</span>, <span class="number">0</span>), fx=<span class="number">0.5</span>, fy=<span class="number">0.5</span>, \</span><br><span class="line">interpolation = cv2.INTER_AREA)</span><br><span class="line">height, width = image.shape[:<span class="number">2</span>]</span><br><span class="line"><span class="comment"># height width -&gt; h w</span></span><br><span class="line">w = <span class="number">200</span></span><br><span class="line">h = <span class="built_in">int</span>(height*(w / width))</span><br><span class="line"><span class="built_in">print</span>(height,width)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;resized.jpg&quot;</span>,resized)</span><br></pre></td></tr></table></figure><p>å½“å°†æ­¤å‚æ•°è®¾ç½®ä¸º <code>(0, 0)</code> æ—¶ï¼Œå›¾ç‰‡çš„è¾“å‡ºå°ºå¯¸ç”±åé¢ä¸¤ä¸ªç¼©æ”¾ç³»æ•° <code>fx</code> å’Œ <code>fy</code> åˆ†åˆ«ä¸å‡½æ•°çš„è¾“å…¥å›¾ç‰‡çš„å®½å’Œé«˜ç›¸ä¹˜å¾—å‡ºï¼Œå½“æ­¤å‚æ•°ä¸ç­‰äº <code>(0, 0)</code> æ—¶ï¼Œè¾“å‡ºå›¾ç‰‡çš„å°ºå¯¸ç­‰äºæˆ‘ä»¬è‡ªå·±è®¾å®šçš„å€¼</p><h3 id="å›¾åƒå¹³ç§»"><a href="#å›¾åƒå¹³ç§»" class="headerlink" title="å›¾åƒå¹³ç§»"></a>å›¾åƒå¹³ç§»</h3><p>å›¾ç‰‡çš„å¹³ç§»æ˜¯è®©å›¾ç‰‡ä¸­æ‰€æœ‰çš„åƒç´ ç‚¹æ²¿ç€åæ ‡è½´ç§»åŠ¨ç›¸åŒçš„è·ç¦»ï¼Œè§†è§‰ä¸Šçœ‹èµ·æ¥å°±æ˜¯å›¾ç‰‡åœ¨è¿›è¡Œä¸Šã€ä¸‹ã€å·¦ã€å³ç§»åŠ¨.</p><p>å¯¹å›¾ç‰‡è¿›è¡Œå¹³ç§»æ—¶ï¼Œæˆ‘ä»¬è¦å…ˆç¡®å®šå›¾ç‰‡å‘å“ªä¸ªæ–¹å‘ç§»åŠ¨ã€ç§»åŠ¨å¤šå°‘</p><p><img data-src="http://cdn.sekyoro.top/imgs/093958.png" alt="å›¾åƒå¹³ç§»"></p><p>ä½¿ç”¨ <code>cv2.warpAffine</code> å‡½æ•°å¯¹å›¾ç‰‡è¿›è¡Œå¹³ç§»ï¼Œç¬¬ä¸€ä¸ªå‚æ•° <code>image</code> æ˜¯è¦è¢«å¹³ç§»çš„å›¾ç‰‡ã€‚ç¬¬äºŒä¸ªå‚æ•° <code>M</code> æ˜¯æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„çŸ©é˜µ <code>M</code>ã€‚ç¬¬ä¸‰ä¸ªå‚æ•° <code>(width, height)</code> æ˜¯è¾“å‡ºçš„å›¾ç‰‡å°ºå¯¸ï¼Œè¿™é‡Œæˆ‘ä»¬è¾“å‡ºçš„å°ºå¯¸å’Œè¾“å…¥çš„åŸå§‹å›¾ç‰‡å°ºå¯¸ä¸€æ ·ï¼Œ<code>width</code> è¡¨ç¤ºå›¾ç‰‡çš„å®½ï¼Œ<code>height</code> è¡¨ç¤ºå›¾ç‰‡çš„é«˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">height,width = image.shape[:<span class="number">2</span>]</span><br><span class="line">M = np.float32([[<span class="number">1</span>,<span class="number">0</span>,<span class="number">100</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">50</span>]])</span><br><span class="line">translation = cv2.warpAffine(image,M,(width,height))</span><br><span class="line">cv2.imwrite(<span class="string">&#x27;translation.jpg&#x27;</span>,translation)</span><br></pre></td></tr></table></figure><h2 id="å›¾åƒçš„è¿ç®—"><a href="#å›¾åƒçš„è¿ç®—" class="headerlink" title="å›¾åƒçš„è¿ç®—"></a>å›¾åƒçš„è¿ç®—</h2><p><strong>ç®—æœ¯è¿ç®—å’ŒæŒ‰ä½è¿ç®—</strong></p><p>å›¾åƒçš„ç®—æœ¯è¿ç®—åœ¨å›¾åƒå¢å¼ºä¸­æ™®éåº”ç”¨ï¼Œå…¶å¯å¯¹å›¾ç‰‡è¿›è¡Œå¢åŠ äº®åº¦ã€å‡å°‘äº®åº¦ã€å¢å¼ºå¯¹æ¯”åº¦ç­‰æ“ä½œä»¥æ»¡è¶³ç‰¹å®šçš„å›¾åƒå¤„ç†éœ€æ±‚ï¼Œè¿˜å¯ä»¥é€šè¿‡å°†ä¸¤å¹…å›¾ç‰‡è¿›è¡Œç®—æœ¯è¿ç®—ä»¥è¾¾åˆ°å›¾åƒèåˆçš„æ•ˆæœã€‚</p><p>å›¾åƒçš„æŒ‰ä½è¿ç®—åœ¨å›¾åƒåˆ†å‰²ã€ç›®æ ‡æ£€æµ‹å’Œè¯†åˆ«ã€æ¨¡å¼è¯†åˆ«ä¸­å¾—åˆ°å¹¿æ³›çš„åº”ç”¨</p><h3 id="ç®—æœ¯è¿ç®—"><a href="#ç®—æœ¯è¿ç®—" class="headerlink" title="ç®—æœ¯è¿ç®—"></a>ç®—æœ¯è¿ç®—</h3><p>ä½¿ç”¨ <code>cv2.add</code> ã€<code>cv2.subtract</code>ã€<code>cv2.multiply</code>ã€<code>cv2.divide</code> å³å¯å®ç°åŠ ã€å‡ã€ä¹˜ã€é™¤è¿ç®—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">M = img1.shape</span><br><span class="line">    x = np.ones(M,dtype=np.uint8)</span><br><span class="line">    x =x *<span class="number">150</span></span><br><span class="line"></span><br><span class="line">    sums = cv2.add(img1,x)</span><br><span class="line">    cv2.imwrite(<span class="string">&quot;sums.jpg&quot;</span>,sums)  <span class="comment">#å›¾åƒå˜äº®  å³åƒç´ å¢åŠ </span></span><br><span class="line">     <span class="comment"># å›¾åƒå˜æš—</span></span><br><span class="line">    sub = cv2.subtract(img2,x)</span><br><span class="line">    cv2.imwrite(<span class="string">&quot;sub.jpg&quot;</span>,sub)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç›¸ä¹˜</span></span><br><span class="line">    mul = cv2.multiply(img1,x)</span><br><span class="line">    cv2.imwrite(<span class="string">&quot;mul.jpg&quot;</span>,mul)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç›¸é™¤</span></span><br><span class="line">    div = cv2.divide(img1,x)</span><br><span class="line">    cv2.imwrite(<span class="string">&quot;div.jpg&quot;</span>,div)</span><br></pre></td></tr></table></figure><p>å¯¹äºä¸¤å¼ å›¾ç‰‡ç›¸åŠ å‡,éœ€è¦å°†å›¾ç‰‡å¤§å°è°ƒæ•´ä¸ºç›¸åŒ.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">image2 = cv2.resize(image2, (image1.shape[<span class="number">1</span>], image1.shape[<span class="number">0</span>]), interpolation=cv2.INTER_CUBIC)</span><br><span class="line">sums = cv2.add(image1, image2)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;sums.jpg&quot;</span>, sums)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sums = cv2.add(image1, image2)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;sums.jpg&quot;</span>, sums)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sub = cv2.subtract(image1, image2)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;sub.jpg&quot;</span>, sub)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mul = cv2.multiply(image1, image2)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;mul.jpg&quot;</span>, mul)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">div = cv2.divide(image1, image2)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;div.jpg&quot;</span>, div)</span><br></pre></td></tr></table></figure><p>è¿ç®—åçš„ç»“æœä¸å•çº¯çš„åè¿›åˆ¶ç®—æœ¯è¿ç®—ç»“æœä¸åŒã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬ç”¨ <code>8</code> ä½æ— ç¬¦å·æ•´æ•°è¡¨ç¤º 0 åˆ° 255ï¼ŒOpenCV çš„ç®—æœ¯è¿ç®—å‡½æ•°æ˜¯é¥±å’Œè¿ç®—ï¼Œå½“è¿ç®—ç»“æœå¤§äº 255 æ—¶å‡½æ•°è¾“å‡º <code>255</code>ï¼Œå½“è¿ç®—ç»“æœå°äº 0 æ—¶å‡½æ•°è¾“å‡º <code>0</code>ã€‚è¿™é‡Œéœ€è¦åŒ NumPy çš„ç®—æœ¯è¿ç®—åŒºåˆ†å¼€ï¼ŒNumPy çš„è¿ç®—æ˜¯å–æ¨¡è¿ç®—ï¼Œå³å½“è¿ç®—ç»“æœå¤§äº 255 æ—¶åˆ™æœ€åå¾—åˆ°çš„æ˜¯è¿ç®—ç»“æœå¯¹ 256 å–æ¨¡</p><h3 id="æŒ‰ä½è¿ç®—"><a href="#æŒ‰ä½è¿ç®—" class="headerlink" title="æŒ‰ä½è¿ç®—"></a>æŒ‰ä½è¿ç®—</h3><p><code>and</code> è¿ç®—æ˜¯å½“ä¸¤ä¸ªåƒç´ å€¼éƒ½å¤§äº 0 æ—¶ä¸ºçœŸï¼Œ<code>or</code> è¿ç®—æ˜¯å½“ä¸¤ä¸ªåƒç´ å€¼æœ‰ä¸€ä¸ªå¤§äº 0 æ—¶ä¸ºçœŸï¼Œ<code>xor</code> è¿ç®—æ˜¯å½“ä¸¤ä¸ªåƒç´ å€¼æœ‰ä¸€ä¸ªå¤§äº 0 ä½†ä¸åŒæ—¶éƒ½å¤§äº 0 åˆ™ä¸ºçœŸã€‚<code>not</code> åˆ™æ˜¯ä¸€ä¸ªå–åçš„è¿ç®—.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cv2.bitwise_and(a, b)</span><br><span class="line">cv2.bitwise_or(a, b)</span><br><span class="line">cv2.bitwise_xor(a, b)</span><br><span class="line">cv2.bitwise_not(a)</span><br></pre></td></tr></table></figure><p>å›¾ç‰‡çš„æŒ‰ä½è¿ç®—ã€‚ä¸¤å¼ å›¾ç‰‡çš„æŒ‰ä½è¿ç®—å°±æ˜¯å°†ä¸¤å¼ å°ºå¯¸é€šé“æ•°ç›¸åŒçš„å›¾ç‰‡ä¸­çš„æ¯ä¸ªåƒç´ å€¼åˆ†åˆ«è¿›è¡Œ <code>and</code>ã€<code>or</code>ã€<code>xor</code>ã€<code>not</code> è¿ç®—</p><p><img data-src="http://cdn.sekyoro.top/imgs/065833.png" alt="å›¾ç‰‡ç›¸ä¸"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065836.png" alt="å›¾ç‰‡ç›¸æˆ–"></p><p>ç›¸ä¸å¯ä»¥åªå–ç™½è‰²éƒ¨åˆ†,æˆ–å¯ä»¥å»æ‰ç™½è‰²éƒ¨åˆ†</p><p>æ‰€ä»¥è¿™å°±æ¶‰åŠåˆ°æ©ç (mask)</p><p>åˆ©ç”¨np.zerosåˆ›é€ é»‘å›¾,åˆ›å»ºä¸€å¼ é»‘è‰²å›¾ç‰‡ï¼Œå› ä¸ºè¿™å¼ å›¾ç‰‡çš„å°ºå¯¸è¦å’Œè¿›è¡Œæ©è†œæ“ä½œçš„åŸå›¾ç‰‡çš„å°ºå¯¸ä¸€æ ·.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mask = np.zeros(image1.shape[:<span class="number">2</span>], np.uint8)</span><br><span class="line">mask[<span class="number">100</span>:<span class="number">300</span>, <span class="number">200</span>:<span class="number">300</span>] = <span class="number">255</span></span><br></pre></td></tr></table></figure><p>ç„¶ååˆ©ç”¨æ”¹å˜åƒç´ å¾—åˆ°ç™½å›¾.ä½¿ç”¨ <code>cv2.bitwise_and</code> å‡½æ•°è¿›è¡Œæ©è†œæ“ä½œï¼Œå‡½æ•°ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå‚æ•°ç›¸åŒï¼Œéƒ½æ˜¯æˆ‘ä»¬çš„åŸå§‹å›¾ç‰‡ <code>image1</code> ï¼Œç¬¬ä¸‰ä¸ªå‚æ•° <code>mask</code> å°±æ˜¯æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„æ©è†œå›¾ç‰‡ã€‚è¯¥å‡½æ•°ä¼šæŠŠåŸå›¾ç‰‡ä¸­å¯¹åº”äºæ©è†œå›¾ç‰‡çš„ç™½è‰²åŒºåŸŸæ˜¾ç¤ºå‡ºæ¥ï¼Œå…¶ä»–åŒºåŸŸä¼šè¢«é»‘è‰²é®ç›–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">imagemask = cv2.bitwise_and(image1, image1, mask = mask)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;imagemask.jpg&quot;</span>, imagemask)</span><br></pre></td></tr></table></figure><h3 id="é¢œè‰²ç©ºé—´"><a href="#é¢œè‰²ç©ºé—´" class="headerlink" title="é¢œè‰²ç©ºé—´"></a>é¢œè‰²ç©ºé—´</h3><p>é™¤äº†RGBè¿˜æœ‰HSVå’ŒLAB,æè¿°è‰²å½©æ¨¡å‹.</p><p>é¢œè‰²ç©ºé—´æ˜¯ä¸€ç§æè¿°è‰²å½©çš„æ¨¡å‹ï¼Œå…¶ä½œç”¨æ˜¯åœ¨ä¸åŒçš„æ ‡å‡†ä¸‹å¯¹ä¸åŒé¢œè‰²çš„è¯´æ˜ã€‚OpenCV ä¸­æœ‰ä¸Šç™¾ç§é¢œè‰²ç©ºé—´è½¬æ¢æ–¹æ³•</p><h3 id="å›¾åƒçš„æ—‹è½¬"><a href="#å›¾åƒçš„æ—‹è½¬" class="headerlink" title="å›¾åƒçš„æ—‹è½¬"></a>å›¾åƒçš„æ—‹è½¬</h3><p><img data-src="http://cdn.sekyoro.top/imgs/094000.png" alt="å›¾åƒæ—‹è½¬"></p><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv.getRotatio<span class="symbol">nMatrix2</span>D<span class="comment">()</span> <span class="attr">#å‚æ•°åˆ†åˆ«ä¸ºæ—‹è½¬ä¸­å¿ƒ,è§’åº¦,ç¼©æ”¾</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">img = cv.imread(<span class="string">&#x27;messi5.jpg&#x27;</span>,<span class="number">0</span>)</span><br><span class="line">rows,cols = img.shape</span><br><span class="line"><span class="comment"># cols-1 å’Œ rows-1 æ˜¯åæ ‡é™åˆ¶</span></span><br><span class="line">M = cv.getRotationMatrix2D(((cols-<span class="number">1</span>)/<span class="number">2.0</span>,(rows-<span class="number">1</span>)/<span class="number">2.0</span>),<span class="number">90</span>,<span class="number">1</span>)</span><br><span class="line">dst = cv.warpAffine(img,M,(cols,rows))</span><br></pre></td></tr></table></figure><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">height</span>,width = image.shape[:<span class="number">2</span>]</span><br><span class="line"><span class="attribute">M</span> = cv<span class="number">2</span>.getRotationMatrix<span class="number">2</span>D((<span class="number">50</span>,<span class="number">50</span>),<span class="number">30</span>,<span class="number">1</span>)</span><br><span class="line"><span class="attribute">rotation</span> = cv<span class="number">2</span>.warpAffine(image,M,(width,height)) </span><br><span class="line"><span class="attribute">cv2</span>.imwrite(<span class="string">&quot;rotation1.jpg&quot;</span>, rotation)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å›¾åƒçš„ç¿»è½¬"><a href="#å›¾åƒçš„ç¿»è½¬" class="headerlink" title="å›¾åƒçš„ç¿»è½¬"></a>å›¾åƒçš„ç¿»è½¬</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¿»è½¬</span></span><br><span class="line">turn = cv2.flip(image, <span class="number">1</span>)  <span class="comment">#1è¡¨ç¤ºæ°´å¹³</span></span><br><span class="line">cv2.imwrite(<span class="string">&quot;turn1.jpg&quot;</span>, turn)</span><br><span class="line"></span><br><span class="line">turn = cv2.flip(image, <span class="number">0</span>) <span class="comment"># 0è¡¨ç¤ºå‚ç›´</span></span><br><span class="line">cv2.imwrite(<span class="string">&quot;turn2.jpg&quot;</span>, turn)</span><br><span class="line"></span><br><span class="line">turn = cv2.flip(image, -<span class="number">1</span>)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;turn3.jpg&quot;</span>, turn) <span class="comment"># -1è¡¨ç¤ºä¸¤ä¸ªåå‘</span></span><br></pre></td></tr></table></figure><p>æ­¤å¤–è¿˜æœ‰ä»¿å°„å˜æ¢å’Œé€è§†å˜æ¢</p><h2 id="å›¾åƒåˆ†å‰²"><a href="#å›¾åƒåˆ†å‰²" class="headerlink" title="å›¾åƒåˆ†å‰²"></a>å›¾åƒåˆ†å‰²</h2><h3 id="é˜ˆå€¼æ–¹æ³•"><a href="#é˜ˆå€¼æ–¹æ³•" class="headerlink" title="é˜ˆå€¼æ–¹æ³•"></a>é˜ˆå€¼æ–¹æ³•</h3><p>é€šè¿‡è®¾å®šä¸€ä¸ªå€¼,é€šè¿‡è¿™ä¸ªå€¼å»é™¤å›¾åƒä¸­çš„å¤šäºä¿¡æ¯.è¿™ä¸ªå€¼å°±å«é˜ˆå€¼.</p><p>é˜ˆå€¼æ³•æ˜¯ä¸€ç§å›¾åƒåˆ†å‰²çš„æ–¹æ³•ï¼Œé˜ˆå€¼æ³•å› å…¶ç®€å•ã€ç¨³å®šã€è®¡ç®—é‡å°çš„ç‰¹å¾ä½¿å…¶åœ¨ä¼ ç»Ÿç®—æ³•ä¸­å¾—åˆ°å¹¿æ³›åº”ç”¨ã€‚é˜ˆå€¼æ³•æ˜¯å°†ç°åº¦å›¾åƒè¿›è¡ŒäºŒå€¼åŒ–ä»¥è¾¾åˆ°åˆ†å‰²å›¾åƒï¼Œè·å¾—ç‰¹å®šæ„Ÿå…´è¶£åŒºåŸŸçš„æ–¹æ³•ã€‚é˜ˆå€¼æ³•çš„é€šå¸¸åšæ³•æ˜¯å°†ç°åº¦å›¾è½¬æ¢ä¸ºäºŒå€¼å›¾ï¼Œä½¿å¾—å›¾ç‰‡ä¸­çš„åƒç´ å€¼åªæœ‰ 0 å’Œ 255 è¿™ä¸¤ç§å€¼</p><h4 id="ç®€å•é˜ˆå€¼"><a href="#ç®€å•é˜ˆå€¼" class="headerlink" title="ç®€å•é˜ˆå€¼"></a>ç®€å•é˜ˆå€¼</h4><p>ä¸ºçš„é€‰å®šä¸€ä¸ªé˜ˆå€¼ <code>T</code> ï¼Œå¯¹äºç°åº¦å›¾ç‰‡ä¸­æ‰€æœ‰å°äº <code>T</code> çš„åƒç´ å€¼è®¾ç½®ä¸º 0ï¼Œå°†å›¾ç‰‡ä¸­æ‰€æœ‰å¤§äº <code>T</code> çš„åƒç´ å€¼è®¾ç½®ä¸º 255ã€‚ä¹Ÿå¯å°†å¤§äºé˜ˆå€¼çš„åƒç´ å€¼è®¾ç½®ä¸º 0ï¼Œå°äºé˜ˆå€¼çš„è®¾ç½®ä¸º 255</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç®€å•é˜ˆå€¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">simple</span>():</span></span><br><span class="line">    image = cv2.imread(<span class="string">&quot;1.jpg&quot;</span>)</span><br><span class="line">    grayimage = cv2.cvtColor(image,cv2.COLOR_BGR2GRAY)</span><br><span class="line">    cv2.imwrite(<span class="string">&#x27;gray.jpg&#x27;</span>,grayimage)</span><br><span class="line">    T,thresh = cv2.threshold(grayimage,<span class="number">200</span>,<span class="number">255</span>,cv2.THRESH_BINARY)</span><br><span class="line">    cv2.imwrite(<span class="string">&#x27;thresh1.jpg&#x27;</span>,thresh)</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä¸Šé¢å¾—åˆ°çš„ç°åº¦å›¾ã€‚ç¬¬äºŒä¸ªå‚æ•° <code>200</code> æ˜¯æˆ‘ä»¬è¦è®¾ç½®çš„é˜ˆå€¼ï¼Œç¬¬ä¸‰ä¸ªå‚æ•° <code>255</code> è¡¨ç¤ºå½“å›¾åƒä¸­çš„åƒç´ å€¼å¤§äº <code>200</code> é‚£ä¹ˆè¯¥åƒç´ å€¼å°†è¢«æ›¿æ¢æˆ <code>255</code>ï¼Œå¦åˆ™åƒç´ å€¼å°†ä¼šè¢«è®¾ç½®ä¸º <code>0</code>ã€‚ç¬¬å››ä¸ªå‚æ•°æ˜¯è®¾ç½®é˜ˆå€¼çš„æ–¹æ³•ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯ <code>cv2.THRESH_BINARY</code>ï¼Œè¯¥æ–¹æ³•å°†ä¼šæŠŠæ‰€æœ‰å¤§äºç¬¬äºŒä¸ªå‚æ•°çš„åƒç´ å€¼è®¾ç½®ä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¹Ÿå°±æ˜¯ <code>255</code>ã€‚</p><h4 id="è‡ªé€‚åº”é˜ˆå€¼"><a href="#è‡ªé€‚åº”é˜ˆå€¼" class="headerlink" title="è‡ªé€‚åº”é˜ˆå€¼"></a>è‡ªé€‚åº”é˜ˆå€¼</h4><p>è‡ªé€‚åº”é˜ˆå€¼æ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¼˜åŒ–ç®€å•é˜ˆå€¼æ³•çš„å¼Šç«¯ã€‚è‡ªé€‚åº”é˜ˆå€¼æ˜¯åŸºäºä¸€å°ç‰‡åŒºåŸŸçš„åƒç´ å€¼æ¥ç¡®å®šé˜ˆå€¼çš„ï¼Œæ‰€ä»¥å¤„ç†ä¸€å¼ å›¾ç‰‡å¯ä»¥è·å¾—å¤šä¸ªé˜ˆå€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è‡ªé€‚åº”é˜ˆå€¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">adapt</span>():</span></span><br><span class="line">    image = cv2.imread(<span class="string">&quot;1.jpg&quot;</span>)</span><br><span class="line">    grayimage = cv2.cvtColor(image,cv2.COLOR_BGR2GRAY)</span><br><span class="line">    thresh = cv2.adaptiveThreshold(grayimage,<span class="number">255</span>,cv2.ADAPTIVE_THRESH_MEAN_C,cv2.THRESH_BINARY,<span class="number">9</span>,<span class="number">3</span>)</span><br><span class="line">    cv2.imwrite(<span class="string">&#x27;thresh1.jpg&#x27;</span>, thresh)</span><br></pre></td></tr></table></figure><p>å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•° <code>grayimage</code> æ˜¯è¦äºŒå€¼åŒ–çš„çš„ç°åº¦å›¾ã€‚ç¬¬äºŒä¸ªå‚æ•° <code>255</code> æ˜¯åƒç´ çš„æœ€å¤§å€¼ï¼Œä½œç”¨åŒ <code>cv2.threshold</code> ç¬¬ä¸‰ä¸ªå‚æ•°ä¸€æ ·ã€‚ç¬¬ä¸‰ä¸ªå‚æ•° <code>cv2.ADAPTIVE_THRESH_MEAN_C</code> æ˜¯è®¡ç®—é˜ˆå€¼çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šè®¡ç®—åƒç´ é‚»è¿‘åŒºåŸŸçš„å¹³å‡å€¼ç„¶åå‡å»ä¸€ä¸ªå¸¸æ•° <code>C</code>ï¼Œè¿™ä¸ªå¸¸æ•°æ˜¯æ•´æ•°ä¸”æ˜¯è¯¥å‡½æ•°çš„ç¬¬å…­ä¸ªå‚æ•°ã€‚ç¬¬å››ä¸ªå‚æ•° <code>cv2.THRESH_BINARY</code> æ˜¯å‰é¢è®²è¿‡çš„è®¾ç½®é˜ˆå€¼çš„æ–¹æ³•ã€‚ç¬¬äº”ä¸ªå‚æ•° <code>9</code> æ˜¯ç”¨æ¥è®¡ç®—é˜ˆå€¼çš„åŒºåŸŸçš„å¤§å°ï¼Œè¯¥å‚æ•°å¿…é¡»æ˜¯å¥‡æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®å…¶å€¼ä¸º <code>9</code> è¡¨ç¤ºæˆ‘ä»¬å°†è®¡ç®— <code>9*9</code> åŒºåŸŸå†…çš„é˜ˆå€¼ã€‚ç¬¬å…­ä¸ªå‚æ•° <code>3</code> å°±æ˜¯å‰é¢æåˆ°çš„å¸¸æ•° <code>C</code></p><p>ä¹Ÿå¯ä»¥å°†ç¬¬ä¸‰ä¸ªå‚æ•°è®¾ç½®ä¸º <code>cv2.ADAPTIVE_THRESH_GAUSSIAN_C</code> è¡¨ç¤ºç”¨é¢†åŸŸå€¼çš„é«˜æ–¯åŠ æƒæ€»å’Œå‡å»å¸¸æ•° <code>C</code></p><h4 id="Otsué˜ˆå€¼"><a href="#Otsué˜ˆå€¼" class="headerlink" title="Otsué˜ˆå€¼"></a>Otsué˜ˆå€¼</h4><p>Otsu æ–¹æ³•æ˜¯å¦ä¸€ç§è‡ªåŠ¨è®¡ç®—é˜ˆå€¼çš„æ–¹æ³•ï¼Œæ˜¯ä¸€ç§å¯»æ‰¾ä¸€ä¸ªé˜ˆå€¼å°†å›¾ç‰‡åˆ†ä¸ºå‰æ™¯å’ŒèƒŒæ™¯çš„æ–¹æ³•ï¼Œå…¶ä¼˜ç‚¹æ˜¯ä¸å—å›¾åƒçš„äº®åº¦å’Œå¯¹æ¯”åº¦çš„å½±å“</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Otsué˜ˆå€¼</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Otsu</span>():</span></span><br><span class="line">    image = cv2.imread(<span class="string">&quot;1.jpg&quot;</span>)</span><br><span class="line">    grayimage = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)</span><br><span class="line">    T,thresh = cv2.threshold(grayimage,<span class="number">0</span>,<span class="number">255</span>,cv2.THRESH_OTSU)</span><br><span class="line">    cv2.imwrite(<span class="string">&#x27;thresh.jpg&#x27;</span>, thresh)</span><br><span class="line">    <span class="built_in">print</span>(T)</span><br><span class="line">    T, thresh = cv2.threshold(grayimage, <span class="number">0</span>, <span class="number">255</span>, cv2.THRESH_OTSU+cv2.THRESH_BINARY_INV)</span><br><span class="line">    cv2.imwrite(<span class="string">&#x27;rthresh.jpg&#x27;</span>, thresh)</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥åœ¨ <code>cv2.threshold</code> å‡½æ•°çš„ç¬¬å››ä¸ªå‚æ•° <code>cv2.THRESH_OTSU</code> åé¢æ·»åŠ è®¾ç½®é˜ˆå€¼çš„æ–¹æ³•æ¥å‘ˆç°ä¸åŒçš„å¤„ç†ç»“æœã€‚</p><h2 id="å›¾åƒå¹³æ»‘"><a href="#å›¾åƒå¹³æ»‘" class="headerlink" title="å›¾åƒå¹³æ»‘"></a>å›¾åƒå¹³æ»‘</h2><p>å›¾åƒå¹³æ»‘ä¹Ÿå¯ç§°ä¸ºæ»¤æ³¢ï¼Œæ˜¯ä¸€ç§ç”¨äºå‡å°‘å›¾åƒå™ªå£°ä¸”ä¼šè®©å›¾åƒå˜å¾—æ¨¡ç³Šçš„æ–¹æ³•ã€‚å›¾åƒå¹³æ»‘å¸¸å¸¸åœ¨å›¾åƒé¢„å¤„ç†æ—¶ä½¿ç”¨ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯å‡å°‘å›¾åƒä¸­çš„å™ªå£°ï¼Œä½¿å¾—åç»­çš„å¤„ç†æ“ä½œèƒ½å¤Ÿè·å¾—æ›´å¥½çš„æ•ˆæœå’Œå¯é æ€§ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/094001.png" alt="åƒç´ å€¼"></p><p>æ¯ä¸ªæ•°å­—è¡¨ç¤ºåƒç´ å€¼ï¼Œçº¢è‰²æ–¹æ¡†æ˜¯ä¸€ä¸ª <code>3*3</code> çŸ©é˜µæˆ–è€…ç§°ä¹‹ä¸ºå·ç§¯æ ¸ã€‚å›¾åƒå¹³æ»‘å®é™…ä¸Šæ˜¯ä½¿ç”¨ä¸€ä¸ª <code>m*k</code> çš„çŸ©é˜µåœ¨å›¾ç‰‡ä¸Šç§»åŠ¨å¹¶ä¸åƒç´ å€¼è¿›è¡Œç›¸åº”è®¡ç®—æ¥å®ç°çš„</p><h3 id="å‡å€¼æ»¤æ³¢"><a href="#å‡å€¼æ»¤æ³¢" class="headerlink" title="å‡å€¼æ»¤æ³¢"></a>å‡å€¼æ»¤æ³¢</h3><p>å‡å€¼æ»¤æ³¢å°±æ˜¯çº¿æ€§æ»¤æ³¢ï¼Œæ˜¯æŒ‡ç”¨ä¸€ä¸ª <code>m*m</code> çš„æ¨¡æ¿ï¼ˆå·ç§¯æ ¸ï¼‰åœ¨å›¾åƒä¸Šæ»‘åŠ¨ï¼Œå…¶ä¸­ <code>m</code> æ˜¯æ­£æ•´æ•°ä¸”æ˜¯å¥‡æ•°ï¼Œå½“æ¨¡æ¿åœ¨æ»‘åŠ¨æ—¶ï¼Œå¤„äºæ¨¡æ¿ä¸­å¿ƒçš„åƒç´ å€¼å°†ä¼šè¢«å…¶å‘¨å›´çš„åƒç´ å€¼çš„å¹³å‡å€¼æ‰€æ›¿ä»£ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‡å€¼æ»¤æ³¢</span></span><br><span class="line">image = cv2.imread(<span class="string">&quot;1.jpg&quot;</span>)</span><br><span class="line">blur = cv2.blur(image, (<span class="number">5</span>, <span class="number">5</span>))</span><br><span class="line">blur = cv2.resize(blur, (<span class="number">0</span>, <span class="number">0</span>), fx=<span class="number">0.5</span>, fy=<span class="number">0.3</span>)</span><br><span class="line">cv2.imshow(<span class="string">&#x27;blur&#x27;</span>, blur)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h3 id="é«˜æ–¯æ»¤æ³¢"><a href="#é«˜æ–¯æ»¤æ³¢" class="headerlink" title="é«˜æ–¯æ»¤æ³¢"></a>é«˜æ–¯æ»¤æ³¢</h3><p>é«˜æ–¯æ»¤æ³¢æ˜¯ä¸ºäº†å…‹æœå¹³æ»‘å¤„ç†å¯¼è‡´çš„å›¾åƒè¾¹ç¼˜ä¿¡æ¯ä¸¢å¤±çš„é—®é¢˜ã€‚é«˜æ–¯æ»¤æ³¢æ¯”è¾ƒç±»ä¼¼å‡å€¼æ»¤æ³¢ï¼Œä½†æ˜¯é«˜æ–¯æ»¤æ³¢åœ¨è®¡ç®—å‡å€¼æ—¶ä½¿ç”¨äº†æƒé‡ã€‚å·ç§¯æ ¸çš„ä¸­å¿ƒåƒç´ å€¼æ˜¯ç”±ç›¸é‚»åƒç´ çš„åŠ æƒå¹³å‡å¾—åˆ°çš„ï¼Œè¶Šé è¿‘ä¸­å¿ƒåƒç´ çš„åƒç´ å€¼çš„æƒé‡è¶Šå¤§</p><p>é€šè¿‡ <code>cv2.GaussianBlur</code> å‡½æ•°æ¥å®ç°é«˜æ–¯æ»¤æ³¢ã€‚ç¬¬ä¸€ä¸ªå‚æ•° <code>image</code> æ˜¯è¦è¿›è¡Œé«˜æ–¯å¹³æ»‘çš„å›¾ç‰‡ï¼Œç¬¬äºŒä¸ªå‚æ•° <code>(5, 5)</code> æ˜¯é«˜æ–¯å·ç§¯æ ¸çš„å¤§å°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•° <code>0</code> æ˜¯ <code>x</code> è½´æ–¹å‘çš„é«˜æ–¯å·ç§¯æ ¸çš„æ ‡å‡†å·®ï¼Œè¿™é‡Œè®¾ç½®ä¸º <code>0</code> è¡¨ç¤ºè®© OpenCV æ ¹æ®å·ç§¯æ ¸å¤§å°è‡ªåŠ¨è®¡ç®—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é«˜æ–¯æ»¤æ³¢</span></span><br><span class="line">image = cv2.imread(<span class="string">&quot;1.jpg&quot;</span>)</span><br><span class="line">blur = cv2.GaussianBlur(image, (<span class="number">5</span>, <span class="number">5</span>), <span class="number">0</span>)</span><br><span class="line">blur = cv2.resize(blur, (<span class="number">0</span>, <span class="number">0</span>), fx=<span class="number">0.5</span>, fy=<span class="number">0.3</span>)</span><br><span class="line">cv2.imshow(<span class="string">&#x27;blur&#x27;</span>, blur)</span><br><span class="line">cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h3 id="ä¸­ä½æ»¤æ³¢"><a href="#ä¸­ä½æ»¤æ³¢" class="headerlink" title="ä¸­ä½æ»¤æ³¢"></a>ä¸­ä½æ»¤æ³¢</h3><p>ä¸­ä½æ»¤æ³¢é¦–å…ˆéœ€è¦è®¾å®šä¸€ä¸ª <code>m*m</code> çš„å·ç§¯æ ¸ï¼Œå½“å·ç§¯æ ¸åœ¨å›¾ç‰‡ä¸Šæ»‘åŠ¨æ—¶å°†å·ç§¯æ ¸ä¸­çš„æ¯ä¸ªå€¼è¿›è¡Œæ’åºï¼Œå–æ’åºåçš„ä¸­é—´å€¼ä½œä¸ºå·ç§¯æ ¸ä¸­å¿ƒçš„åƒç´ å€¼ã€‚ä¸­ä½æ»¤æ³¢å¯¹å»é™¤å›¾ç‰‡ä¸­çš„æ¤’ç›å™ªå£°æœ‰è¾ƒå¥½çš„æ•ˆæœ.</p><p>æ¤’ç›å™ªå£°å°±æ˜¯å›¾ç‰‡ä¸­å­˜åœ¨è®¸å¤šç™½è‰²å’Œé»‘è‰²çš„ç‚¹ï¼Œå…¶ä¼šç»™å›¾åƒå¤„ç†å¸¦æ¥ä¸€å®šçš„å›°éš¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸­ä½æ»¤æ³¢</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">median</span>():</span></span><br><span class="line">    image = cv2.imread(<span class="string">&quot;2.jpg&quot;</span>)</span><br><span class="line">    blur = cv2.medianBlur(image, <span class="number">3</span>)</span><br><span class="line">    blur = cv2.resize(blur, (<span class="number">0</span>, <span class="number">0</span>), fx=<span class="number">0.5</span>, fy=<span class="number">0.3</span>)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;median&#x27;</span>, blur)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h3 id="åŒè¾¹æ»¤æ³¢"><a href="#åŒè¾¹æ»¤æ³¢" class="headerlink" title="åŒè¾¹æ»¤æ³¢"></a>åŒè¾¹æ»¤æ³¢</h3><p>åŒè¾¹æ»¤æ³¢æ˜¯ä¸€ç§ä½¿ç”¨ä¸¤ä¸ªé«˜æ–¯å‡½æ•°ï¼Œåœ¨å‡å°‘å™ªå£°åŒæ—¶ä¹Ÿå¯ä»¥ä¿ç•™è¾¹ç¼˜ä¿¡æ¯çš„å¹³æ»‘æ–¹æ³•ã€‚åŒè¾¹æ»¤æ³¢ä½¿ç”¨ä¸¤ä¸ªæƒé‡ï¼Œè·ç¦»å·ç§¯æ ¸çš„ä¸­å¿ƒç‚¹è¶Šè¿‘çš„åƒç´ æƒé‡è¶Šå¤§ï¼Œç›¸é‚»åŒºåŸŸå†…åƒç´ çš„å¼ºåº¦ä¸ä¸­å¿ƒåƒç´ çš„å¼ºåº¦è¶Šç›¸ä¼¼ï¼Œå…¶æ‰€è·å¾—çš„æƒé‡å°±è¶Šå¤§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒè¾¹æ»¤æ³¢</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bila</span>():</span></span><br><span class="line">    image = cv2.imread(<span class="string">&quot;2.jpg&quot;</span>)</span><br><span class="line">    blur = cv2.bilateralFilter(image,<span class="number">9</span>,<span class="number">45</span>,<span class="number">45</span>)</span><br><span class="line">    blur = cv2.resize(blur, (<span class="number">0</span>, <span class="number">0</span>), fx=<span class="number">0.5</span>, fy=<span class="number">0.3</span>)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;median&#x27;</span>, blur)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªå‚æ•° <code>9</code> æ˜¯åœ¨è¿›è¡Œæ»¤æ³¢è¿‡ç¨‹ä¸­æ¯ä¸ªåƒç´ å…¶ç›¸é‚»åŒºåŸŸåƒç´ çš„ç›´å¾„ï¼Œç¬¬ä¸‰ä¸ªå‚æ•° <code>45</code> æ˜¯é¢œè‰²æ ‡å‡†å·®ï¼Œè¿™ä¸ªå€¼è¶Šå¤§è¡¨ç¤ºæ›´å¤šçš„ç›¸é‚»åŒºåŸŸå†…é¢œè‰²åœ¨è¿›è¡Œæ»¤æ³¢æ—¶ä¼šè¢«è€ƒè™‘ã€‚ç¬¬å››ä¸ªå‚æ•° <code>45</code> æ˜¯åæ ‡ç©ºé—´çš„æ ‡å‡†å·®ï¼Œè¿™ä¸ªå€¼è¶Šå¤§è¡¨ç¤ºè·ç¦»ä¸­å¿ƒåƒç´ è¾ƒè¿œçš„åƒç´ ä¼šå½±å“è®¡ç®—.</p><h2 id="è¾¹ç¼˜æ£€æµ‹"><a href="#è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="è¾¹ç¼˜æ£€æµ‹"></a>è¾¹ç¼˜æ£€æµ‹</h2><p>è¾¹ç¼˜æ˜¯å›¾åƒä¸­çš„ä¸€ç§é‡è¦ä¿¡æ¯ï¼Œè¾¹ç¼˜å°†å›¾ç‰‡åˆ†æˆä¸åŒçš„åŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸä»£è¡¨ä¸åŒçš„ç‰©ä½“ã€‚è¾¹ç¼˜æœ‰ä¸€ä¸ªé‡è¦çš„ç‰¹å¾ï¼šåœ¨è¾¹ç¼˜ä¸¤ä¾§åŒºåŸŸçš„åƒç´ ç°åº¦å€¼å·®å¼‚è¾ƒå¤§ï¼Œè€Œè¾¹ç¼˜ä¸Šçš„åƒç´ ç°åº¦å€¼å·®å¼‚ä¸æ˜æ˜¾ã€‚</p><p>ä¸ºäº†æ£€æµ‹åˆ°è¾¹ç¼˜ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ç§æ–¹æ³•ç¡®å®šå“ªäº›åŒºåŸŸæ˜¯å­˜åœ¨ç°åº¦å€¼çš„â€œçªå˜â€çš„ï¼Œä½¿ç”¨æ¢¯åº¦å¯ä»¥æ‰¾åˆ°ç°åº¦å€¼å˜åŒ–æ˜æ˜¾çš„åœ°æ–¹ï¼Œæ¢¯åº¦å˜åŒ–çš„å¹…åº¦å¯ä»¥ç”¨æ¥æ£€æµ‹è¾¹ç¼˜</p><h3 id="Sobelç®—å­"><a href="#Sobelç®—å­" class="headerlink" title="Sobelç®—å­"></a>Sobelç®—å­</h3><p>ä½¿ç”¨ <code>cv2.Sobel</code> å‡½æ•°æ¥è®¡ç®—æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘çš„æ¢¯åº¦,å€¼å¾—æ³¨æ„çš„æ˜¯æ¢¯åº¦å€¼å¯èƒ½ä¸ºè´Ÿæ•°(ç”±å¤§åˆ°å°).æ‰€ä»¥éœ€è¦å–ç»å¯¹å€¼.åŒæ—¶æœ€åè¦å°†ä¸¤ä¸ªæ–¹å‘çš„å›¾é‡åˆ,åˆ©ç”¨ç›¸æˆ–æ“ä½œ.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sobel</span>():</span></span><br><span class="line">    x = cv2.Sobel(image, cv2.CV_64F, <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line">    y = cv2.Sobel(image, cv2.CV_64F, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">    x = np.uint8(np.absolute(x))  <span class="comment"># æ¢¯åº¦å€¼å¯èƒ½ä¸ºè´Ÿæ•°,æ‰€ä»¥æ±‚ç»å¯¹å€¼</span></span><br><span class="line">    y = np.uint8(np.absolute(y))  <span class="comment"># æ¢¯åº¦å€¼å¯èƒ½ä¸ºè´Ÿæ•°,æ‰€ä»¥æ±‚ç»å¯¹å€¼</span></span><br><span class="line">    <span class="comment"># æ¢¯åº¦å€¼æœ‰æ­£è´Ÿä¹‹åˆ†ï¼Œå¦‚æœç›´æ¥å°†å…¶ä¿å­˜ä¸ºå›¾ç‰‡ï¼Œé‚£ä¹ˆ OpenCV</span></span><br><span class="line">    <span class="comment"># ä¼šå°†å°äº 0 çš„å€¼è®¾ç½®ä¸º 0å¯¼è‡´ä¸¢å¤±å€¼ä¸ºè´Ÿæ•°çš„æ¢¯åº¦</span></span><br><span class="line">    cv2.imshow(<span class="string">&quot;horizon&quot;</span>, x)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;vertical&quot;</span>, y)</span><br><span class="line">    cv2.imshow(<span class="string">&quot;edge&quot;</span>, cv2.bitwise_or(x,y))</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Laplacianç®—å­"><a href="#Laplacianç®—å­" class="headerlink" title="Laplacianç®—å­"></a>Laplacianç®—å­</h3><p>Laplacian ç®—å­åªäº§ç”Ÿä¸€ä¸ªç»“æœå³ä¸æ°´å¹³å’Œå‚ç›´æ–¹å‘æ— å…³ã€‚å› ä¸ºè¿™ä¸ªç®—å­å¯¹å™ªå£°æ¯”è¾ƒæ•æ„Ÿï¼Œæ‰€ä»¥å½“å›¾ç‰‡ä¸­å­˜åœ¨å™ªå£°æ—¶æœ€å¥½å…ˆå¯¹å›¾ç‰‡è¿›è¡Œé™å™ªå¤„ç†ã€‚æˆ‘ä»¬ä½¿ç”¨ <code>cv2.Laplacian</code> å‡½æ•°å¯¹å›¾ç‰‡è¿›è¡Œè¾¹ç¼˜æ£€æµ‹.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lap</span>():</span></span><br><span class="line">    edge = cv2.Laplacian(image,cv2.CV_64F)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;edge&#x27;</span>,edge)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><h3 id="Cannyç®—å­"><a href="#Cannyç®—å­" class="headerlink" title="Cannyç®—å­"></a>Cannyç®—å­</h3><p>Canny è¾¹ç¼˜æ£€æµ‹æ˜¯ä¸€ç§æ¯”è¾ƒæµè¡Œçš„ç®—æ³•ï¼Œå…¶åœ¨è¿›è¡Œè¾¹ç¼˜æ£€æµ‹è¿‡ç¨‹ä¸­åŒ…å«å¤šä¸ªæ­¥éª¤ï¼šå¯¹å›¾ç‰‡è¿›è¡Œé™å™ªå¤„ç†ã€è®¡ç®—æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„æ¢¯åº¦ã€å‰”é™¤å¹²æ‰°çš„è¾¹ç¼˜ã€ä½¿ç”¨åŒé˜ˆå€¼ç¡®å®šå“ªäº›åƒç´ åœ¨è¾¹ç¼˜ä¸Š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">canny</span>():</span></span><br><span class="line">    edge = cv2.Canny(image,<span class="number">20</span>,<span class="number">140</span>)</span><br><span class="line">    cv2.imshow(<span class="string">&#x27;edge&#x27;</span>,edge)</span><br><span class="line">    cv2.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>äºŒä¸ªå‚æ•° <code>20</code> å’Œç¬¬ä¸‰ä¸ªå‚æ•° <code>140</code> æ˜¯è¦è®¾ç½®çš„é˜ˆå€¼ã€‚å°äº <code>20</code> çš„æ¢¯åº¦å€¼å°†è¢«åˆ’åˆ†ä¸ºéè¾¹ç¼˜ï¼Œå¤§äº <code>140</code> çš„æ¢¯åº¦å€¼å°†è¢«åˆ’åˆ†ä¸ºè¾¹ç¼˜ï¼›ä»‹äº <code>20</code> å’Œ <code>140</code> ä¸­é—´çš„å€¼ï¼Œå¦‚æœè¯¥å€¼ä¸å¤§äº <code>140</code> çš„å€¼ç›¸é‚»æ¥ï¼Œé‚£ä¹ˆåˆ¤å®šå…¶ä¸ºè¾¹ç¼˜ã€‚</p><h2 id="ç›´æ–¹å›¾"><a href="#ç›´æ–¹å›¾" class="headerlink" title="ç›´æ–¹å›¾"></a>ç›´æ–¹å›¾</h2><p>å›¾åƒçš„ç›´æ–¹å›¾æ˜¯ä¸€ç§é€šè¿‡ç®€å•çš„ç»Ÿè®¡åˆ†ææ‰‹æ®µå¯¹åƒç´ å€¼çš„åˆ†å¸ƒæƒ…å†µè¿›è¡Œå¯è§†åŒ–çš„æ–¹æ³•ã€‚é€šè¿‡ç»˜åˆ¶å›¾åƒç›´æ–¹å›¾æˆ‘ä»¬å¯ä»¥ç›´è§‚çš„äº†è§£å›¾åƒçš„ä¸€äº›ç‰¹å¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">image = cv.imread(<span class="string">&quot;1.jpg&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(image)</span><br><span class="line">image = cv.cvtColor(image,cv.COLOR_BGR2GRAY)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;ç°åº¦å›¾&#x27;</span>,image)</span><br><span class="line"><span class="comment">#  ç…§ç‰‡ é€šé“ æ©ç  256ä»½ åƒç´ èŒƒå›´0-255</span></span><br><span class="line"><span class="comment"># fig = cv.calcHist([image],[0],None,[256],[0,256])</span></span><br><span class="line">mask = np.zeros(image.shape[:<span class="number">2</span>],dtype=<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">mask = cv.circle(mask,(<span class="number">150</span>,<span class="number">150</span>),<span class="number">100</span>,<span class="number">255</span>,-<span class="number">1</span>)</span><br><span class="line"><span class="comment"># cv.imshow(&#x27;black&#x27;,mask)</span></span><br><span class="line">mask_area = cv.bitwise_and(image,image,mask=mask)</span><br><span class="line">fig = cv.calcHist([image],[<span class="number">0</span>],<span class="literal">None</span>,[<span class="number">256</span>],[<span class="number">0</span>,<span class="number">256</span>])</span><br><span class="line">plt.figure()</span><br><span class="line">plt.plot(fig)</span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"><span class="comment"># plt.savefig(&quot;histogram_mask.png&quot;)</span></span><br><span class="line">plt.savefig(<span class="string">&quot;histogram.png&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ç°åº¦å›¾çš„ç›´æ–¹å›¾.</p><p>ä¹Ÿå¯ä»¥å¯¹ä¸‰é€šé“å½©å›¾å¤„ç†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">image = cv.imread(<span class="string">&quot;1.jpg&quot;</span>)</span><br><span class="line">channel = [<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;r&#x27;</span>]</span><br><span class="line"><span class="comment"># plt.figure()</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    fig = cv2.calcHist([image],[i],<span class="literal">None</span>,[<span class="number">256</span>],[<span class="number">0</span>,<span class="number">256</span>])</span><br><span class="line">    plt.plot(fig,color=channel[i])</span><br><span class="line">    plt.xlim([<span class="number">0</span>,<span class="number">256</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h3 id="äºŒç»´ç›´æ–¹å›¾"><a href="#äºŒç»´ç›´æ–¹å›¾" class="headerlink" title="äºŒç»´ç›´æ–¹å›¾"></a>äºŒç»´ç›´æ–¹å›¾</h3><p>å³åŒæ—¶è€ƒè™‘å¤šä¸ªé€šé“çš„ç›´æ–¹å›¾.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fig = cv.calcHist([image],[<span class="number">0</span>,<span class="number">1</span>],<span class="literal">None</span>,[<span class="number">16</span>,<span class="number">16</span>],[<span class="number">0</span>,<span class="number">256</span>,<span class="number">0</span>,<span class="number">256</span>])</span><br><span class="line"><span class="comment"># plt.imshow(fig)</span></span><br><span class="line">plt.colorbar(plt.imshow(fig))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h3 id="å‡è¡¡åŒ–"><a href="#å‡è¡¡åŒ–" class="headerlink" title="å‡è¡¡åŒ–"></a>å‡è¡¡åŒ–</h3><p>æ‹æ‘„çš„ç…§ç‰‡ä¼šå‡ºç°æ›å…‰è¿‡åº¦æˆ–è€…æ›å…‰ä¸è¶³å¯¼è‡´å›¾ç‰‡çš„å†…å®¹ç¼ºä¹è¾¨è¯†åº¦ï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬å¯ä»¥é€šè¿‡å‡è¡¡åŒ–çš„æ–¹æ³•æ¥ç¼“è§£è¿™ç§é—®é¢˜</p><p>é¦–å…ˆå°†ä¸‰é€šé“åˆ†ç¦»ä¸ºä¸‰ä¸ªå•é€šé“</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">splits = cv2.split(image)</span><br><span class="line">plt.figure()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">    splits[i] = cv2.equalizeHist(splits[i])</span><br><span class="line">    fig = cv2.calcHist([splits[i]], [<span class="number">0</span>], <span class="literal">None</span>, [<span class="number">256</span>], [<span class="number">0</span>,<span class="number">256</span>])</span><br><span class="line">    plt.plot(fig, color = channel[i])</span><br><span class="line">    plt.xlim([<span class="number">0</span>,<span class="number">256</span>])</span><br><span class="line">equalized = cv2.merge(splits)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;equalized.png&quot;</span>, equalized)</span><br></pre></td></tr></table></figure><h2 id="æŠ å›¾"><a href="#æŠ å›¾" class="headerlink" title="æŠ å›¾"></a>æŠ å›¾</h2><h3 id="è½®å»“æå–å’Œåˆ†å‰²"><a href="#è½®å»“æå–å’Œåˆ†å‰²" class="headerlink" title="è½®å»“æå–å’Œåˆ†å‰²"></a>è½®å»“æå–å’Œåˆ†å‰²</h3><p>åˆ©ç”¨è¿™æŒ‰ä½è¿ç®—å’Œè¾¹ç¼˜æ£€æµ‹æ–¹æ³•å®ç°ä»å›¾ç‰‡ä¸­æŠ å–ç‰¹å®šåŒºåŸŸï¼Œç„¶åå°†å…¶èåˆè¿›ä¸€å¼ æ–°çš„å›¾ç‰‡ä¸­å»ã€‚è¦æƒ³ä»ä¸€å¼ å›¾ç‰‡ä¸­æŠ å–ç‰¹å®šçš„åŒºåŸŸæˆ‘ä»¬éœ€è¦ç”¨åˆ°è½®å»“æå–çš„æ–¹æ³•ï¼Œè½®å»“æ˜¯æè¿°ç‰©ä½“å¤–å½¢çš„ä¸€æ®µé—­åˆçš„æ›²çº¿ï¼Œæ˜¯ç‰©ä½“çš„ä¸€ä¸ªé‡è¦ç‰¹å¾ï¼Œè½®å»“ç‰¹å¾åœ¨å›¾åƒå¤„ç†ä¸­å¹¿æ³›åº”ç”¨ï¼Œåœ¨å›¾åƒåˆ†å‰²ä¸­æˆ‘ä»¬åˆ©ç”¨è½®å»“ç‰¹å¾å°†ç‰©ä½“ä»èƒŒæ™¯ä¸­åˆ†å‰²å¼€ã€‚</p><ol><li><p>é¦–å…ˆéœ€è¦è¾¹ç¼˜æ£€æµ‹,åˆ©ç”¨ä¹‹å‰çš„ç®—å­å¾—åˆ°è¾¹ç¼˜.</p></li><li><p>ä½¿ç”¨cv.findContouræ ¹æ®è¾¹ç¼˜å¾—åˆ°è½®å»“.</p><p><code>cv2.findContours</code> æœ‰ä¸¤ä¸ªè¿”å›å€¼ <code>contours</code> å’Œ <code>h</code>ã€‚<code>contours</code> æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”æ£€æµ‹åˆ°çš„è½®å»“ï¼Œå¦ä¸€ä¸ª <code>h</code> è¡¨ç¤ºæ£€æµ‹åˆ°çš„è½®å»“æ‰€å¯¹åº”çš„å±æ€§.</p><p>ç¬¬ä¸€ä¸ªå‚æ•° <code>edge</code> æ˜¯ <code>cv2.Canny</code> å‡½æ•°è¾“å‡ºçš„è¾¹ç¼˜å›¾ï¼Œè¿™ä¸ªå‚æ•°å¿…é¡»æ˜¯äºŒå€¼å›¾ä¸”å‡½æ•°ä¼šä¿®æ”¹è¾“å…¥çš„å›¾ç‰‡ã€‚ç¬¬äºŒä¸ªå‚æ•° <code>cv2.RETR_EXTERNAL</code> æ˜¯æ£€ç´¢è½®å»“çš„æ–¹å¼ï¼Œè¡¨ç¤ºåªæ£€æµ‹æœ€å¤–å±‚çš„è½®å»“ï¼›å¯ä»¥å°è¯•ä½¿ç”¨ <code>cv2.RETR_LIST</code>ï¼Œ<code>cv2.RETR_CCOMP</code> æˆ– <code>cv2.RETR_TREE</code> å‚æ•°ã€‚ç¬¬ä¸‰ä¸ªå‚æ•° <code>cv2.CHAIN_APPROX_SIMPLE</code> è¡¨ç¤ºé€¼è¿‘è½®å»“çš„æ–¹æ³•ï¼Œæˆ–è€…å¯ä»¥ç§°ä¸ºå­˜å‚¨è½®å»“çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°†ä¼šå¯¹è½®å»“ä¸Šçš„æ‰€æœ‰åæ ‡ç‚¹è¿›è¡Œå‹ç¼©ï¼Œåªä¿ç•™æ°´å¹³ã€å‚ç›´ã€å¯¹è§’çº¿æ–¹å‘ä¸Šçš„ç«¯ç‚¹åæ ‡ï¼›å¯ä»¥å°è¯• <code>cv2.CHAIN_APPROX_NONE</code>ï¼Œ<code>cv2.CHAIN_APPROX_TC89_L1</code> å’Œ <code>cv2.CHAIN_APPROX_TC89_KCOS</code> æ–¹æ³•ã€‚</p></li><li><p>drawCountoursç»˜åˆ¶è½®å»“.æ ¹æ®findContourså¾—åˆ°çš„è½®å»“,è§„å®šé¢œè‰²å’Œç²—ç»†.</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">image = cv.imread(<span class="string">&#x27;1.jpg&#x27;</span>)</span><br><span class="line">edge = cv.Canny(cv.cvtColor(image, cv.COLOR_BGR2GRAY), <span class="number">60</span>, <span class="number">150</span>)</span><br><span class="line">cv.imshow(<span class="string">&#x27;edge.img&#x27;</span>,edge)</span><br><span class="line"><span class="comment"># cv.imshow(&#x27;edge.jpg&#x27;, edge)</span></span><br><span class="line"><span class="comment"># cv.waitKey(0)</span></span><br><span class="line"><span class="comment"># ç¬¬ä¸€ä¸ªå‚æ•° edge æ˜¯ cv2.Canny å‡½æ•°è¾“å‡ºçš„è¾¹ç¼˜å›¾ï¼Œè¿™ä¸ªå‚æ•°å¿…é¡»æ˜¯äºŒå€¼å›¾ä¸”</span></span><br><span class="line"><span class="comment"># å‡½æ•°ä¼šä¿®æ”¹è¾“å…¥çš„å›¾ç‰‡ã€‚ç¬¬äºŒä¸ªå‚æ•° cv2.RETR_EXTERNAL æ˜¯æ£€ç´¢è½®å»“çš„æ–¹å¼ï¼Œ</span></span><br><span class="line"><span class="comment"># è¡¨ç¤ºåªæ£€æµ‹æœ€å¤–å±‚çš„è½®å»“ï¼›å¯ä»¥å°è¯•ä½¿ç”¨ cv2.RETR_LISTï¼Œcv2.RETR_CCOMP æˆ–</span></span><br><span class="line"><span class="comment"># cv2.RETR_TREE å‚æ•°ã€‚ç¬¬ä¸‰ä¸ªå‚æ•° cv2.CHAIN_APPROX_SIMPLE è¡¨ç¤ºé€¼è¿‘è½®å»“çš„æ–¹</span></span><br><span class="line"><span class="comment"># æ³•ï¼Œæˆ–è€…å¯ä»¥ç§°ä¸ºå­˜å‚¨è½®å»“çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°†ä¼šå¯¹è½®å»“ä¸Šçš„æ‰€æœ‰åæ ‡ç‚¹è¿›è¡Œå‹ç¼©ï¼Œåªä¿ç•™</span></span><br><span class="line"><span class="comment"># æ°´å¹³ã€å‚ç›´ã€å¯¹è§’çº¿æ–¹å‘ä¸Šçš„ç«¯ç‚¹åæ ‡ï¼›å¯ä»¥å°è¯• cv2.CHAIN_APPROX_NONEï¼Œ</span></span><br><span class="line"><span class="comment"># cv2.CHAIN_APPROX_TC89_L1 å’Œ cv2.CHAIN_APPROX_TC89_KCOS æ–¹æ³•ã€‚</span></span><br><span class="line">countours,h = cv.findContours(edge,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE)</span><br><span class="line"><span class="comment"># cv2.findContours æœ‰ä¸¤ä¸ªè¿”å›å€¼ contours å’Œ hã€‚</span></span><br><span class="line"><span class="comment"># contours æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ å¯¹åº”æ£€æµ‹åˆ°çš„è½®å»“ï¼Œ</span></span><br><span class="line"><span class="comment"># å¦ä¸€ä¸ª h è¡¨ç¤ºæ£€æµ‹åˆ°çš„è½®å»“æ‰€å¯¹åº”çš„å±æ€§</span></span><br><span class="line">drawc = image.copy()</span><br><span class="line">cv.drawContours(drawc,countours,-<span class="number">1</span>,(<span class="number">255</span>,<span class="number">0</span>,<span class="number">0</span>),<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h3 id="åˆ†å‰²ç‰©ä½“"><a href="#åˆ†å‰²ç‰©ä½“" class="headerlink" title="åˆ†å‰²ç‰©ä½“"></a>åˆ†å‰²ç‰©ä½“</h3><p>ä¸Šä¸€æ­¥å¾—åˆ°äº†è½®å»“.ç°åœ¨ç›´æ¥æ ¹æ®è½®å»“ç»˜åˆ¶å³å¯.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mask = np.zeros(image.shape,dtype=<span class="string">&quot;uint8&quot;</span>)</span><br><span class="line">mask = cv2.drawContours(mask, contours, <span class="number">1</span>, (<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>), -<span class="number">1</span>)<span class="comment">#è¿™é‡Œçš„1è¡¨ç¤ºç¬¬äºŒä¸ªç‰©ä½“çš„è½®å»“</span></span><br><span class="line">cv2.imwrite(<span class="string">&quot;mask.jpg&quot;</span>, mask)</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥æ ¹æ®è½®å»“ç”»å‡ºç™½è‰²å›¾å½¢.</p><p><code>cv2.drawContours</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•° <code>1</code> è¡¨ç¤ºç»˜åˆ¶æ£€æµ‹åˆ°çš„ç¬¬äºŒä¸ªç‰©ä½“çš„è½®å»“ï¼Œç¬¬å››ä¸ªå‚æ•° <code>(255, 255, 255)</code> è¡¨ç¤ºè½®å»“çš„é¢œè‰²ä¸ºç™½è‰²ï¼Œç¬¬äº”ä¸ªå‚æ•° <code>-1</code> è¡¨ç¤ºå°†æ•´ä¸ªè½®å»“å†…çš„åŒºåŸŸå¡«å……ä¸ºç™½è‰²ã€‚ç„¶åä¿å­˜å›¾ç‰‡</p><p>ç„¶åå°†è¿™ä¸ªå›¾å½¢ä¸åŸå›¾ç›´æ¥ç›¸ä¸.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">divide = cv2.bitwise_and(mask, image1)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;divide.jpg&quot;</span>, divide)</span><br></pre></td></tr></table></figure><h3 id="å‰ªè£å’Œå›¾ç‰‡åˆå¹¶"><a href="#å‰ªè£å’Œå›¾ç‰‡åˆå¹¶" class="headerlink" title="å‰ªè£å’Œå›¾ç‰‡åˆå¹¶"></a>å‰ªè£å’Œå›¾ç‰‡åˆå¹¶</h3><p>è¦ä» <code>divide</code> ä¸­è£å‰ªå‡ºè¾£æ¤’ã€‚æˆ‘ä»¬ä½¿ç”¨ <code>cv2.boundingRect</code> å‡½æ•°è·å¾—è¿™ä¸ªè¾£æ¤’æœ€å°çš„å¤–æ¥çŸ©å½¢çš„åæ ‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(x, y, w, h) = cv2.boundingRect(contours[<span class="number">1</span>])</span><br></pre></td></tr></table></figure><p>å¾—åˆ°æˆªå–å›¾å½¢çš„çŸ©å½¢å°ºå¯¸</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cut_pepper = divide[y:y + h, x:x + w]</span><br><span class="line">cv2.imwrite(<span class="string">&quot;cutpepper.jpg&quot;</span>, cut_pepper)</span><br><span class="line">cut_not = cv2.bitwise_not(cut_mask)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;cut_not.jpg&quot;</span>, cut_not)</span><br></pre></td></tr></table></figure><p>å°†æˆªå–çš„åŒºåŸŸé¢œè‰²å˜æ¢,æ–¹ä¾¿åç»­ä¸æˆ–.</p><p>æ³¨æ„å›¾åƒè¿ç®—è¦æ±‚å›¾åƒå¤§å°ç›¸åŒ.</p><p>å°†è¦åˆå¹¶çš„å›¾åƒæˆªå–ç›¸åŒå¤§å°.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cut_image2 = image2[<span class="number">50</span>:<span class="number">50</span> + h, <span class="number">50</span>:<span class="number">50</span> + w]</span><br><span class="line">cv2.imwrite(<span class="string">&quot;cut_image2.jpg&quot;</span>, cut_image2)</span><br></pre></td></tr></table></figure><p>å°†ä¸¤ä¸ªå›¾åƒç›¸ä¸</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cut_image2 = cv2.bitwise_and(cut_not, cut_image2)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;cut_image2.jpg&quot;</span>, cut_image2)</span><br></pre></td></tr></table></figure><p>å†å°†åˆ†å‰²çš„å›¾åƒç›¸æˆ–</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cut_image2 = cv2.bitwise_or(cut_pepper, cut_image2)</span><br><span class="line">cv2.imwrite(<span class="string">&quot;cut_image2.jpg&quot;</span>, cut_image2)</span><br></pre></td></tr></table></figure><p>æœ€åç›´æ¥ä¿®æ”¹åŸå›¾ç›¸åº”ä½ç½®çš„åƒç´ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">image2[<span class="number">50</span>:<span class="number">50</span> + h, <span class="number">50</span>:<span class="number">50</span> + w] = cut_image2[:,:]</span><br><span class="line">cv2.imwrite(<span class="string">&quot;merge.jpg&quot;</span>, image2)</span><br></pre></td></tr></table></figure><h2 id="å®˜æ–¹æ–‡æ¡£"><a href="#å®˜æ–¹æ–‡æ¡£" class="headerlink" title="å®˜æ–¹æ–‡æ¡£"></a>å®˜æ–¹æ–‡æ¡£</h2><p><a href="http://www.woshicver.com/">OpenCVä¸­æ–‡å®˜æ–¹æ–‡æ¡£ (woshicver.com)</a></p><p><a href="https://matplotlib.org/">Matplotlib â€” Visualization with Python</a></p><p><a href="https://numpy.org/">NumPy</a></p><p>å›½å†…ä¹Ÿæœ‰å¾ˆå¤šç¿»è¯‘çš„æ–‡æ¡£,éƒ½æŒºä¸é”™çš„,åŸºæœ¬ç”¨æ³•æ˜¯éƒ½è¦†ç›–çš„.</p><p>æˆ–è€…ç›´æ¥çœ‹èœé¸Ÿé©¿ç«™.</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gdb&amp;&amp;gccå­¦ä¹ </title>
      <link href="2022/01/08/gdb-gcc%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/01/08/gdb-gcc%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å­¦ä¸€ä¸‹gccå’Œgdb,å·©å›ºåŸºç¡€.<br><span id="more"></span><br>gccä¸gdbéƒ½æ˜¯GNUè½¯ä»¶,æ˜¯GNUç»„ç»‡,è¿™ä¸ªç»„ç»‡æ˜¯ç”±ä¸€ä¸ªé»‘å®¢å¤§ä½¬å…¬å¼€å‘èµ·åˆ›å»ºå¯¹æŠ—å•†ä¸šè½¯ä»¶,å¹¶å¼€å‘æ“ä½œç³»ç»Ÿçš„.</p><p>GCCæ˜¯Cè¯­è¨€ç¼–è¯‘å™¨,ç°åœ¨åœ¨windowsä¸Šæœ‰MinGW.</p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><h3 id="GCC"><a href="#GCC" class="headerlink" title="GCC"></a>GCC</h3><p>åœ¨ä½¿ç”¨ GCC ç¼–è¯‘ç¨‹åºæ—¶ï¼Œç¼–è¯‘è¿‡ç¨‹å¯ä»¥è¢«ç»†åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š</p><ul><li>é¢„å¤„ç†ï¼ˆPre-Processingï¼‰</li><li>ç¼–è¯‘ï¼ˆCompilingï¼‰</li><li>æ±‡ç¼–ï¼ˆAssembingï¼‰</li><li>é“¾æ¥ï¼ˆLinkingï¼‰</li></ul><p>åœ¨windowsä¸Šè£…çš„gcc.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065519.png" alt="gccç‰ˆæœ¬"></p><p>å¯ä»¥çœ‹åˆ°æ˜¯mingw</p><p>Linuxä¸Šä¸€èˆ¬æ˜¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/093506.png" alt="Linux gcc"></p><h3 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc xx.c </span><br></pre></td></tr></table></figure><p>å°†cæºæ–‡ä»¶ç»è¿‡å¤„ç†å¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶a.out,åå­—æ˜¯é»˜è®¤çš„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc xx.c -o demo.out</span><br></pre></td></tr></table></figure><p>-oæŒ‡å®šè¾“å‡ºæ–‡ä»¶å</p><p>è¿™æ ·å°±èƒ½ç›´æ¥å¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶</p><p>ä¸‹é¢ç®€å•ä»‹ç»å››ä¸ªè¿‡ç¨‹çš„å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gcc -E  //é¢„å¤„ç†</span><br><span class="line">gcc -S  //ç¼–è¯‘</span><br><span class="line">gcc -c   //æ±‡ç¼–</span><br><span class="line">gcc -o   //é“¾æ¥</span><br></pre></td></tr></table></figure><p>å¦å¤–è¿˜æœ‰ä¸€äº›æ¯”è¾ƒæœ‰ç”¨çš„å‘½ä»¤</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">gcc -o xx xx.o xx.o .. -static  <span class="regexp">//</span>é™æ€é“¾æ¥</span><br><span class="line">gcc -Wall ... <span class="regexp">//</span>ç”Ÿæˆæ‰€æœ‰è­¦å‘Šä¿¡æ¯</span><br><span class="line">gcc -O0 </span><br><span class="line">gcc -O1</span><br><span class="line">gcc -O2 ...<span class="regexp">//</span>ä¼˜åŒ–ä»£ç </span><br><span class="line">gcc -g <span class="regexp">//</span>ç”Ÿæˆè°ƒè¯•ä¿¡æ¯,æ–¹ä¾¿debug</span><br></pre></td></tr></table></figure><h3 id="è­¦å‘Šä¸ä¼˜åŒ–"><a href="#è­¦å‘Šä¸ä¼˜åŒ–" class="headerlink" title="è­¦å‘Šä¸ä¼˜åŒ–"></a>è­¦å‘Šä¸ä¼˜åŒ–</h3><p>é™¤äº†ä¸Šè¿°å››ä¸ªè¿‡ç¨‹,gccè¿˜æœ‰ä»£ç è­¦å‘Šå’Œä¼˜åŒ–.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-pedantic</span><br><span class="line">-Wall</span><br></pre></td></tr></table></figure><p>ä¸»è¦è¿™ä¸¤ä¸ªå‘½ä»¤,å…¶å®ä¸€èˆ¬ç”¨-Wallå°±è¡Œäº†,è¿™æ ·èƒ½äº§ç”Ÿæ›´å¤šçš„è­¦å‘Šä¿¡æ¯.</p><p>pedanticæ˜¯å°½é‡è®©ä»£ç ç¬¦åˆANSI/ISOæ ‡å‡†.</p><p>ä¼˜åŒ–å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-O0</span><br><span class="line">-O1</span><br><span class="line">-O2</span><br><span class="line">-O3</span><br></pre></td></tr></table></figure><p>å€¼è¶Šå¤§,ä¼˜åŒ–ç­‰çº§è¶Šé«˜.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065520.png" alt="gcc ä¼˜åŒ–"></p><p>ç»è¿‡æµ‹è¯•å‘ç°è²Œä¼¼æ–‡ä»¶å¤§å°ä¸€æ ·.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065523.png" alt="ä¼˜åŒ–æ–‡ä»¶å¤§å°"></p><p>ä½†æ˜¯è¿è¡Œæ—¶é—´ä¸ä¸€æ ·,å¯ä»¥ç”¨timeæ¥è®¡ç®—</p><ul><li>ç¨‹åºå¼€å‘çš„æ—¶å€™ï¼šä¼˜åŒ–ç­‰çº§è¶Šé«˜ï¼Œæ¶ˆè€—åœ¨ç¼–è¯‘ä¸Šçš„æ—¶é—´å°±è¶Šé•¿ï¼Œå› æ­¤åœ¨å¼€å‘çš„æ—¶å€™æœ€å¥½ä¸è¦ä½¿ç”¨ä¼˜åŒ–é€‰é¡¹ï¼Œåªæœ‰åˆ°è½¯ä»¶å‘è¡Œæˆ–å¼€å‘ç»“æŸçš„æ—¶å€™ï¼Œæ‰è€ƒè™‘å¯¹æœ€ç»ˆç”Ÿæˆçš„ä»£ç è¿›è¡Œä¼˜åŒ–ã€‚</li><li>èµ„æºå—é™çš„æ—¶å€™ï¼šä¸€äº›ä¼˜åŒ–é€‰é¡¹ä¼šå¢åŠ å¯æ‰§è¡Œä»£ç çš„ä½“ç§¯ï¼Œå¦‚æœç¨‹åºåœ¨è¿è¡Œæ—¶èƒ½å¤Ÿç”³è¯·åˆ°çš„å†…å­˜èµ„æºéå¸¸ç´§å¼ (å¦‚ä¸€äº›å®æ—¶åµŒå…¥å¼è®¾å¤‡)ï¼Œé‚£å°±ä¸è¦å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºç”±è¿™å¸¦æ¥çš„è´Ÿé¢å½±å“å¯èƒ½ä¼šäº§ç”Ÿéå¸¸ä¸¥é‡çš„åæœã€‚</li><li>è·Ÿè¸ªè°ƒè¯•çš„æ—¶å€™ï¼šåœ¨å¯¹ä»£ç è¿›è¡Œä¼˜åŒ–çš„æ—¶å€™ï¼ŒæŸäº›ä»£ç å¯èƒ½ä¼šè¢«åˆ é™¤æˆ–æ”¹å†™ï¼Œæˆ–è€…ä¸ºäº†å–å¾—æ›´ä½³çš„æ€§èƒ½è€Œè¿›è¡Œé‡ç»„ï¼Œä»è€Œä½¿è·Ÿè¸ªå’Œè°ƒè¯•å˜å¾—å¼‚å¸¸å›°éš¾</li></ul><div class="table-container"><table><thead><tr><th>é€‰é¡¹å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>-c</td><td>é€šçŸ¥ GCC å–æ¶ˆè¿æ¥æ­¥éª¤ï¼Œå³ç¼–è¯‘æºç å¹¶åœ¨æœ€åç”Ÿæˆç›®æ ‡æ–‡ä»¶ã€‚</td></tr><tr><td>-Dmacro</td><td>å®šä¹‰æŒ‡å®šçš„å®ï¼Œä½¿å®ƒèƒ½å¤Ÿé€šè¿‡æºç ä¸­çš„ <code>#ifdef</code> è¿›è¡Œæ£€éªŒã€‚</td></tr><tr><td>-E</td><td>ä¸ç»è¿‡ç¼–è¯‘é¢„å¤„ç†ç¨‹åºçš„è¾“å‡ºè€Œè¾“é€è‡³æ ‡å‡†è¾“å‡ºã€‚</td></tr><tr><td>-g3</td><td>è·å¾—æœ‰å…³è°ƒè¯•ç¨‹åºçš„è¯¦ç»†ä¿¡æ¯ï¼Œå®ƒä¸èƒ½ä¸ <code>-o</code> é€‰é¡¹è”åˆä½¿ç”¨ã€‚</td></tr><tr><td>-Idirectory</td><td>åœ¨åŒ…å«æ–‡ä»¶æœç´¢è·¯å¾„çš„èµ·ç‚¹å¤„æ·»åŠ æŒ‡å®šç›®å½•ã€‚</td></tr><tr><td>-llibrary</td><td>æç¤ºè¿æ¥ç¨‹åºåœ¨åˆ›å»ºæœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶æ—¶åŒ…å«æŒ‡å®šçš„åº“ã€‚</td></tr><tr><td>-O -O2 -O3</td><td>å°†ä¼˜åŒ–çŠ¶æ€æ‰“å¼€ï¼Œè¯¥é€‰é¡¹ä¸èƒ½ä¸ <code>-g</code> é€‰é¡¹è”åˆä½¿ç”¨ã€‚å½“å‡ºç°å¤šä¸ªä¼˜åŒ–æ—¶ï¼Œä»¥æœ€åä¸€ä¸ªä¸ºå‡†ã€‚</td></tr><tr><td>-O0</td><td>å…³é—­æ‰€æœ‰ä¼˜åŒ–é€‰é¡¹ã€‚</td></tr><tr><td>-S</td><td>è¦æ±‚ç¼–è¯‘ç¨‹åºç”Ÿæˆæ¥è‡ªæºä»£ç çš„æ±‡ç¼–ç¨‹åºè¾“å‡ºã€‚</td></tr><tr><td>-v</td><td>å¯åŠ¨æ‰€æœ‰è­¦æŠ¥ã€‚</td></tr><tr><td>.h</td><td>é¢„å¤„ç†æ–‡ä»¶(æ ‡å¤´æ–‡ä»¶)ã€‚</td></tr><tr><td>-Wall</td><td>åœ¨å‘ç”Ÿè­¦æŠ¥æ—¶å–æ¶ˆç¼–è¯‘æ“ä½œï¼Œå³å°†è­¦æŠ¥çœ‹ä½œæ˜¯é”™è¯¯ã€‚</td></tr><tr><td>-w</td><td>ç¦æ­¢æ‰€æœ‰çš„æŠ¥è­¦ã€‚</td></tr><tr><td>-share</td><td>æ­¤é€‰é¡¹å°†å°½é‡ä½¿ç”¨åŠ¨æ€åº“ï¼Œæ‰€ä»¥ç”Ÿæˆæ–‡ä»¶æ¯”è¾ƒå°ï¼Œä½†æ˜¯éœ€è¦ç³»ç»Ÿç”±åŠ¨æ€åº“ã€‚</td></tr><tr><td>-shared</td><td>äº§ç”Ÿå…±äº«å¯¹è±¡æ–‡ä»¶ã€‚</td></tr><tr><td>-g</td><td>åœ¨ç¼–è¯‘ç»“æœä¸­åŠ å…¥è°ƒè¯•ä¿¡æ¯ã€‚</td></tr><tr><td>-ggdb</td><td>åŠ å…¥ GDB è°ƒè¯•å™¨èƒ½è¯†åˆ«çš„æ ¼å¼ã€‚</td></tr></tbody></table></div><p>è¿™é‡Œå°±ä¸è¯¦ç»†è¯´äº†,åé¢ä¼šå¯¹ç¼–è¯‘è¿›ä¸€æ­¥è¯´æ˜.</p><p>åé¢ä»‹ç»gdb</p><h2 id="GDB"><a href="#GDB" class="headerlink" title="GDB"></a>GDB</h2><p>ä¸€èˆ¬æ¥è¯´ï¼ŒGDB ä¸»è¦å¸®å¿™ä½ å®Œæˆä¸‹é¢å‡ ä¸ªæ–¹é¢çš„åŠŸèƒ½ï¼š</p><ul><li>è®¾ç½®æ–­ç‚¹ï¼ˆæ–­ç‚¹å¯ä»¥æ˜¯æ¡ä»¶è¡¨è¾¾å¼ï¼‰ï¼Œä½¿ç¨‹åºåœ¨æŒ‡å®šçš„ä»£ç è¡Œä¸Šæš‚åœæ‰§è¡Œï¼Œä¾¿äºè§‚å¯Ÿã€‚</li><li>å•æ­¥æ‰§è¡Œç¨‹åºï¼Œä¾¿äºè°ƒè¯•ã€‚</li><li>æŸ¥çœ‹ç¨‹åºä¸­å˜é‡å€¼å¾—å˜åŒ–ã€‚</li><li>åŠ¨æ€æ”¹å˜ç¨‹åºçš„æ‰§è¡Œç¯å¢ƒã€‚</li><li>åˆ†æå´©æºƒç¨‹åºäº§ç”Ÿçš„ core æ–‡ä»¶</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/093509.png" alt="è¿›å…¥gdb"></p><p>ä¸ºäº†ä½¿ GDB æ­£å¸¸å·¥ä½œï¼Œå¿…é¡»ä½¿ç¨‹åºåœ¨ç¼–è¯‘çš„æ—¶å€™åŒ…å«è°ƒè¯•ä¿¡æ¯ï¼Œè¿™éœ€è¦åœ¨ GCC ç¼–è¯‘æ—¶åŠ ä¸Š <code>-g</code> æˆ–è€… <code>-ggdb</code> é€‰é¡¹ã€‚è°ƒè¯•ä¿¡æ¯åŒ…å¥½äº†ç¨‹åºä¸­çš„æ¯ä¸ªå˜é‡çš„ç±»å‹å’Œåœ¨å¯æ‰§è¡Œæ–‡ä»¶ä¸­çš„åœ°å€æ˜ å°„ä»¥åŠæºä»£ç çš„è¡Œå·ã€‚è€Œ GDB æ­£æ˜¯åˆ©ç”¨è¿™äº›ä¿¡æ¯æ˜¯æºä»£ç å’Œæœºå™¨ç ç›¸å…³è”ã€‚</p><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>å«ä¹‰æè¿°</th></tr></thead><tbody><tr><td>file</td><td>è£…å…¥æƒ³è¦çš„è°ƒè¯•çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</td></tr><tr><td>run</td><td>æ‰§è¡Œå½“å‰è¢«è°ƒè¯•çš„ç¨‹åºã€‚</td></tr><tr><td>kill</td><td>ç»ˆæ­¢æ­£åœ¨è°ƒè¯•çš„ç¨‹åºã€‚</td></tr><tr><td>step</td><td>æ‰§è¡Œä¸€è¡Œæºä»£ç è€Œä¸”è¿›å…¥å‡½æ•°å†…éƒ¨ã€‚</td></tr><tr><td>next</td><td>æ‰§è¡Œä¸€è¡Œæºä»£ç ä½†ä¸è¿›å…¥å‡½æ•°å†…éƒ¨ã€‚</td></tr><tr><td>break</td><td>åœ¨ä»£ç é‡Œè®¾ç½®æ–­ç‚¹ï¼Œè¿™å°†ä½¿ç¨‹åºæ‰§è¡Œåˆ°è¿™é‡Œæ—¶è¢«æŒ‚èµ·ã€‚</td></tr><tr><td>print</td><td>æ‰“å°è¡¨è¾¾å¼æˆ–å˜é‡çš„å€¼ï¼Œæˆ–æ‰“å°å†…å­˜ä¸­æŸä¸ªå˜é‡å¼€å§‹çš„ä¸€æ®µè¿ç»­åŒºåŸŸçš„å€¼ï¼Œè¿˜ä»¥ç”¨æ¥å¯¹å˜é‡è¿›è¡Œèµ‹å€¼ã€‚</td></tr><tr><td>display</td><td>è®¾ç½®è‡ªåŠ¨æ˜¾ç¤ºçš„è¡¨è¾¾å¼æˆ–å˜é‡ï¼Œå½“ç¨‹åºåœä½æˆ–åœ¨å•æ­¥è¿½è¸ªæ—¶ï¼Œè¿™äº›å˜é‡ä¼šè‡ªåŠ¨æ˜¾ç¤ºå…¶å½“å‰å€¼ã€‚</td></tr><tr><td>list</td><td>åˆ—å‡ºäº§ç”Ÿæ‰§è¡Œæ–‡ä»¶çš„æºä»£ç çš„ä¸€éƒ¨åˆ†ã€‚</td></tr><tr><td>quit</td><td>é€€å‡º GDBã€‚</td></tr><tr><td>watch</td><td>ä½¿ä½ èƒ½ç›‘è§†ä¸€ä¸ªå˜é‡çš„å€¼è€Œä¸ç®¡å®ƒä½•æ—¶è¢«æ”¹å˜ã€‚</td></tr><tr><td>backtraceï¼ˆæˆ– btï¼‰</td><td>å›æº¯è¿½è¸ªã€‚</td></tr><tr><td>frame n</td><td>å®šä½åˆ°å‘ç”Ÿé”™è¯¯çš„ä»£ç æ®µï¼Œ<code>n</code> ä¸º <code>backtrace</code> å‘½ä»¤çš„è¾“å‡ºç»“æœä¸­çš„è¡Œå·ã€‚</td></tr><tr><td>examine</td><td>æŸ¥çœ‹å†…å­˜åœ°å€ä¸­çš„å€¼ã€‚</td></tr><tr><td>jump</td><td>æ˜¯ç¨‹åºè·³è½¬æ‰§è¡Œã€‚</td></tr><tr><td>signal</td><td>äº§ç”Ÿä¿¡å·é‡ã€‚</td></tr><tr><td>return</td><td>å¼ºåˆ¶å‡½æ•°è¿”å›ã€‚</td></tr><tr><td>call</td><td>å¼ºåˆ¶è°ƒç”¨å‡½æ•°ã€‚</td></tr><tr><td>make</td><td>ä½¿ç”¨æˆ·ä¸é€€å‡º GDB å°±å¯ä»¥é‡æ–°äº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ã€‚</td></tr><tr><td>shell</td><td>ä½¿ç”¨æˆ·ä¸ç¦»å¼€ GDB å°±æ‰§è¡Œ Linux çš„ shell å‘½ä»¤ã€‚</td></tr></tbody></table></div><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><p>listæŸ¥çœ‹æºä»£ç </p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list <span class="number">20</span>  <span class="regexp">//</span>æŸ¥çœ‹ç¬¬<span class="number">20</span>è¡Œä»£ç å‰å<span class="number">10</span>è¡Œä»£ç </span><br><span class="line">list main <span class="regexp">//</span>æŸ¥çœ‹mainå‡½æ•°å·¦å³<span class="number">10</span>è¡Œä»£ç </span><br><span class="line">list   <span class="regexp">//</span>å¾€åæŸ¥çœ‹<span class="number">10</span>è¡Œä»£ç </span><br><span class="line">list - <span class="regexp">//</span>å¾€å‰æŸ¥çœ‹<span class="number">10</span>è¡Œä»£ç </span><br></pre></td></tr></table></figure><p>runè¿è¡Œ,é‡åˆ°æ–­ç‚¹åœ</p><p>file å°†ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶è£…å…¥</p><p>break ç®€å†™b æ‰“æ–­ç‚¹ å¯ä»¥åœ¨è¡Œå·å’Œå‡½æ•°åå¤„æ‰“æ–­ç‚¹,å½“ç„¶,è¿™ä¸ªå‘½ä»¤åŠŸèƒ½å¾ˆå¼º.è¿˜å¯ä»¥åœ¨å†…å­˜åœ°å€æ‰“æ–­ç‚¹.</p><p>info breakç®€å†™i b,æŸ¥çœ‹æ–­ç‚¹ä¿¡æ¯</p><p>delete num åˆ é™¤æ–­ç‚¹  disable num ç¦ç”¨æ–­ç‚¹</p><p>info å‘½ä»¤å¯ä»¥åœ¨è°ƒè¯•æ—¶ç”¨æ¥æŸ¥çœ‹å¯„å­˜å™¨ã€æ–­ç‚¹ã€è§‚å¯Ÿç‚¹å’Œä¿¡å·ç­‰ä¿¡æ¯</p><h4 id="gdbè°ƒè¯•"><a href="#gdbè°ƒè¯•" class="headerlink" title="gdbè°ƒè¯•"></a>gdbè°ƒè¯•</h4><p>å½“ä»£ç å‡ºç°é”™è¯¯æ—¶,é¦–å…ˆé€šè¿‡backtrace(bt)è¿›è¡Œé”™è¯¯å®šä½å¯ä»¥å¾—åˆ°å‡ºé”™çš„è¡Œ</p><p>ç„¶åä½¿ç”¨frameå‘½ä»¤å®šä½åˆ°å‡ºé”™ä»£ç </p><p>ç¨‹åºè¢«åœä½åï¼Œå¯ä»¥ä½¿ç”¨ <code>continue</code> å‘½ä»¤ï¼ˆç¼©å†™ <code>c</code>ï¼‰æ¢å¤ç¨‹åºçš„è¿è¡Œç›´åˆ°ç¨‹åºç»“æŸï¼Œæˆ–åˆ°è¾¾ä¸‹ä¸€ä¸ªæ–­ç‚¹</p><p>ä½¿ç”¨watchå‘½ä»¤æŸ¥çœ‹å˜é‡å€¼çš„å˜åŒ–.</p><ol><li>ä½¿ç”¨ <code>break</code> å‘½ä»¤åœ¨è¦è§‚å¯Ÿçš„å˜é‡æ‰€åœ¨å¤„è®¾ç½®æ–­ç‚¹ã€‚</li><li>ä½¿ç”¨ <code>run</code> å‘½ä»¤æ‰§è¡Œï¼Œç›´åˆ°æ–­ç‚¹ã€‚</li><li>ä½¿ç”¨ <code>watch</code> å‘½ä»¤è®¾ç½®è§‚å¯Ÿç‚¹ã€‚</li><li>ä½¿ç”¨ <code>continue</code> å‘½ä»¤è§‚å¯Ÿè®¾ç½®çš„è§‚å¯Ÿç‚¹æ˜¯å¦æœ‰å˜åŒ–</li></ol><p>printå‘½ä»¤è¾“å‡ºå˜é‡å€¼,</p><ul><li><code>x</code> ï¼šæŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li><code>d</code> ï¼šæŒ‰åè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li><code>u</code> ï¼šæŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºæ— ç¬¦å·æ•´å‹ã€‚</li><li><code>o</code> ï¼šæŒ‰å…«è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li><code>t</code> ï¼šæŒ‰äºŒè¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li><code>a</code> ï¼šæŒ‰åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li><code>c</code> ï¼šæŒ‰å­—ç¬¦æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</li><li><code>f</code> ï¼šæŒ‰æµ®ç‚¹æ•°æ ¼å¼æ˜¾ç¤ºå˜é‡</li></ul><ul><li><code>print a[4]</code>ï¼šæ‰“å° <code>a[4]</code> çš„å€¼ã€‚</li><li><code>print a+4</code>ï¼šæ‰“å° <code>a[4]</code> çš„åœ°å€ã€‚</li><li><code>print &amp;a[4]</code>ï¼šæ‰“å° <code>a[4]</code> çš„åœ°å€ã€‚</li><li><code>x a[4]</code>ï¼šè®¿é—® <code>a[4]</code> å€¼æ‰€ä»£è¡¨çš„å†…å­˜,å³æ‰“å° <code>a[4]</code> å€¼ä»£è¡¨å†…å­˜é‡Œé¢çš„å€¼ã€‚</li><li><code>x a+4</code>ï¼šè®¿é—®æŒ‡é’ˆ <code>a+4</code> ä»£è¡¨å†…å­˜é‡Œé¢çš„å€¼ï¼Œå³ 5ã€‚</li><li><code>x &amp;a[4]</code>ï¼šè®¿é—®æŒ‡é’ˆ <code>a+4</code> ä»£è¡¨å†…å­˜é‡Œé¢çš„å€¼ï¼Œå³ 5ã€‚</li><li><code>x &amp;(a+4)</code>ï¼šè®¿é—® <code>a+4</code> æŒ‡é’ˆæ‰€åœ¨çš„åœ°å€ï¼Œä¸å­˜åœ¨ã€‚</li></ul><p><code>print</code> å°±æ˜¯æ‰“å°ç»™å®šå˜é‡ï¼ˆå‚æ•°æ˜¯ä»€ä¹ˆï¼Œå°±æ‰“å°ä»€ä¹ˆï¼‰ï¼Œ<code>x</code> æ‰“å°ç»™å®šå˜é‡ä»£è¡¨çš„å†…å­˜åœ°å€é‡Œçš„å€¼(å³ <code>x</code> åé¢çš„å‚æ•° æ˜¯åœ°å€å€¼ï¼Œæ‰“å°çš„æ˜¯åœ°å€æ‰€åœ¨å†…å­˜å•å…ƒçš„å€¼</p><p>helpå‘½ä»¤å¸®åŠ©</p><h3 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h3><p><a href="https://www.runoob.com/w3cnote/gcc-parameter-detail.html">GCC å‚æ•°è¯¦è§£ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><p><a href="https://stackoverflow.com/questions/20578196/gdb-info-line-but-contains-no-code">c - gdb info line : â€¦ but contains no code - Stack Overflow</a></p>]]></content>
      
      
      <categories>
          
          <category> gcc </category>
          
          <category> gdb </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gcc </tag>
            
            <tag> gdb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springå­¦ä¹ </title>
      <link href="2022/01/05/Spring%E5%AD%A6%E4%B9%A0/"/>
      <url>2022/01/05/Spring%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä½ è¦é—®æˆ‘Springæ˜¯ä»€ä¹ˆ,æˆ‘ä¸çŸ¥é“<br><span id="more"></span></p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><blockquote><p>Spring æ˜¯ä¸€ä¸ªå¼€æºçš„è½»é‡çº§ Java SEï¼ˆJava æ ‡å‡†ç‰ˆæœ¬ï¼‰/Java EEï¼ˆJava ä¼ä¸šç‰ˆæœ¬ï¼‰å¼€å‘åº”ç”¨æ¡†æ¶ï¼Œå…¶ç›®çš„æ˜¯ç”¨äºç®€åŒ–ä¼ä¸šçº§åº”ç”¨ç¨‹åºå¼€å‘ã€‚åœ¨ä¼ ç»Ÿåº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œä¸€ä¸ªå®Œæ•´çš„åº”ç”¨æ˜¯ç”±ä¸€ç»„ç›¸äº’åä½œçš„å¯¹è±¡ç»„æˆçš„ã€‚æ‰€ä»¥å¼€å‘ä¸€ä¸ªåº”ç”¨é™¤äº†è¦å¼€å‘ä¸šåŠ¡é€»è¾‘ä¹‹å¤–ï¼Œæœ€å¤šçš„æ˜¯å…³æ³¨ä½¿è¿™äº›å¯¹è±¡åä½œæ¥å®Œæˆæ‰€éœ€åŠŸèƒ½çš„åŒæ—¶ï¼Œå®ç°ä½è€¦åˆã€é«˜å†…èšã€‚æ‰€ä»¥ï¼Œä¸šåŠ¡é€»è¾‘å¼€å‘æ˜¯ä¸å¯é¿å…çš„ã€‚å¦‚æœæœ‰ä¸ªæ¡†æ¶å¯ä»¥å¸®æˆ‘ä»¬æ¥åˆ›å»ºå¯¹è±¡åŠç®¡ç†è¿™äº›å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œèƒ½é€šè¿‡é…ç½®æ–¹å¼æ¥åˆ›å»ºå¯¹è±¡ï¼Œç®¡ç†å¯¹è±¡ä¹‹é—´ä¾èµ–å…³ç³»ï¼Œæˆ‘ä»¬ä¸éœ€è¦é€šè¿‡å·¥å‚å’Œç”Ÿæˆå™¨æ¥åˆ›å»ºåŠç®¡ç†å¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œè¿™æ ·æˆ‘ä»¬å¿…ç„¶ä¼šå‡å°‘è®¸å¤šå·¥ä½œé‡ï¼ŒåŠ å¿«å¼€å‘ã€‚Spring æ¡†æ¶é—®ä¸–ä¹‹åˆä¸»è¦å°±æ˜¯æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½</p></blockquote><p>é‡ç‚¹AOP IOC</p><p><img data-src="http://cdn.sekyoro.top/imgs/092901.png" alt="Springæ¶æ„å›¾"></p>]]></content>
      
      
      <categories>
          
          <category> Spring </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vueå®æˆ˜</title>
      <link href="2022/01/05/vue%E5%AE%9E%E6%88%98/"/>
      <url>2022/01/05/vue%E5%AE%9E%E6%88%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>vueå®æˆ˜ ä½¿ç”¨cliè„šæ‰‹æ¶.<br><span id="more"></span></p><h2 id="vue-cliä»‹ç»"><a href="#vue-cliä»‹ç»" class="headerlink" title="@vue/cliä»‹ç»"></a>@vue/cliä»‹ç»</h2><blockquote><p>Vue CLI æ˜¯ä¸€ä¸ªåŸºäº Vue.js è¿›è¡Œå¿«é€Ÿå¼€å‘çš„å®Œæ•´ç³»ç»Ÿï¼Œæä¾›ï¼š</p><ul><li><p>é€šè¿‡ <code>@vue/cli</code> å®ç°çš„äº¤äº’å¼çš„é¡¹ç›®è„šæ‰‹æ¶ã€‚</p></li><li><p>é€šè¿‡ <code>@vue/cli</code> + <code>@vue/cli-service-global</code> å®ç°çš„é›¶é…ç½®åŸå‹å¼€å‘ã€‚</p></li><li><p>ä¸€ä¸ªè¿è¡Œæ—¶ä¾èµ– (</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@vue/cli-service</span><br></pre></td></tr></table></figure><p>)ï¼Œè¯¥ä¾èµ–ï¼š</p><ul><li>å¯å‡çº§ï¼›</li><li>åŸºäº webpack æ„å»ºï¼Œå¹¶å¸¦æœ‰åˆç†çš„é»˜è®¤é…ç½®ï¼›</li><li>å¯ä»¥é€šè¿‡é¡¹ç›®å†…çš„é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®ï¼›</li><li>å¯ä»¥é€šè¿‡æ’ä»¶è¿›è¡Œæ‰©å±•ã€‚</li></ul></li><li><p>ä¸€ä¸ªä¸°å¯Œçš„å®˜æ–¹æ’ä»¶é›†åˆï¼Œé›†æˆäº†å‰ç«¯ç”Ÿæ€ä¸­æœ€å¥½çš„å·¥å…·ã€‚</p></li><li><p>ä¸€å¥—å®Œå…¨å›¾å½¢åŒ–çš„åˆ›å»ºå’Œç®¡ç† Vue.js é¡¹ç›®çš„ç”¨æˆ·ç•Œé¢ã€‚</p></li></ul></blockquote><h3 id="é¦–å…ˆè¿›è¡Œå®‰è£…"><a href="#é¦–å…ˆè¿›è¡Œå®‰è£…" class="headerlink" title="é¦–å…ˆè¿›è¡Œå®‰è£…"></a>é¦–å…ˆè¿›è¡Œå®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure><p>å®‰è£…åè¿è¡Œå‘½ä»¤åˆå§‹åŒ–</p><p><img data-src="http://cdn.sekyoro.top/imgs/065827.png" alt="image-20220105142115077"></p><p>å¯ä»¥é€‰æ‹©ç”¨vue2è¿˜æ˜¯vue3.è¿™é‡Œæ’ä¸€å¥,è™½ç„¶å¯ä»¥ç›´æ¥å­¦ä¹ vue3,ä½†æˆ‘çœ‹å¾ˆå¤šé¡¹ç›®è¿˜æ˜¯vue2,ä¸è¿‡å¯¹æˆ‘è¿™ç§noobæ¥è¯´,ä¸éœ€è¦åŒºåˆ†å¤ªå¤š.æˆ‘ä¹Ÿä¸æ‡‚ :)</p><p>å¸¸ç”¨æ’ä»¶:vue-router è·¯ç”±</p><p>element-ui ç”¨äºui,æœ‰å¾ˆå¤šç±»ä¼¼çš„æ¡†æ¶</p><p>axios å‘é€HTTPè¯·æ±‚ babel-polyfill babelæœ‰äº›è¿˜æ˜¯ä¸æ”¯æŒ,è¿™é‡Œpolyfillä¸€ä¸‹(ä¸æ‡‚çš„å¯ä»¥çœ‹ä¸€ä¸‹èµ„æ–™)</p><blockquote><p>Babelæ˜¯ä¸€ä¸ªå·¥å…·é›†ï¼Œä¸»è¦ç”¨äºå°†ES6ç‰ˆæœ¬çš„JavaScriptä»£ç è½¬ä¸ºES5ç­‰å‘åå…¼å®¹çš„JSä»£ç ï¼Œä»è€Œå¯ä»¥è¿è¡Œåœ¨ä½ç‰ˆæœ¬æµè§ˆå™¨æˆ–å…¶å®ƒç¯å¢ƒä¸­ã€‚</p><p>å› æ­¤ï¼Œä½ å®Œå…¨å¯ä»¥åœ¨å·¥ä½œä¸­ä½¿ç”¨ES6ç¼–å†™ç¨‹åºï¼Œæœ€åä½¿ç”¨Babelå°†ä»£ç è½¬ä¸ºES5çš„ä»£ç ï¼Œè¿™æ ·å°±ä¸ç”¨æ‹…å¿ƒæ‰€åœ¨ç¯å¢ƒæ˜¯å¦æ”¯æŒäº†</p></blockquote><p>åŒæ—¶éœ€è¦å®‰è£…ä¸€äº›æ’ä»¶,ç”¨äºæ–¹ä¾¿çš„UIç®¡ç†</p><p><img data-src="http://cdn.sekyoro.top/imgs/093947.png" alt="image-20220105152556639"></p><h3 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h3><p>src ç›®å½•æ˜¯æˆ‘ä»¬æ•´ä¸ª Vue é¡¹ç›®ä¸­æœ€ä¸ºé‡è¦çš„ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†æˆ‘ä»¬å¤§éƒ¨åˆ†çš„ä»£ç ï¼š</p><ul><li>api è¿™ä¸ªç›®å½•æ˜¯ç”¨äºæ–°å»ºæ¥å£æ¨¡å—å¹¶ä½¿ç”¨ axios å®ä¾‹ã€‚</li><li>assets è¿™ä¸ªç›®å½•ä¾¿æ˜¯æ¨¡å—èµ„æºç›®å½•ï¼Œä¸ static ä¸åŒçš„æ˜¯ï¼Œä»–ä¼šè¢« webpack æ‰€å¤„ç†ï¼Œè€Œ static æ–‡ä»¶åˆ™æ˜¯ç›´æ¥ä½¿ç”¨å³å¯ã€‚</li><li>components è¿™ä¸ªç›®å½•æ˜¯æ¨¡å—ç»„ä»¶ç›®å½•ï¼Œé‡Œé¢å­˜æ”¾ç€æˆ‘ä»¬æ‰€åˆ›å»ºçš„å„ä¸ªç»„ä»¶ï¼Œåœ¨æœ¬æ¬¡é¡¹ç›®ä¸­å°†è¿™äº›ç»„ä»¶åˆ†ä¸ºä¸¤ç»„ï¼š<code>common</code> å…¬å…±ç»„ä»¶å’Œ <code>page</code> é¡µé¢ç»„ä»¶ã€‚</li><li>router è¿™ä¸ªç›®å½•æ˜¯è·¯ç”±é…ç½®ç›®å½•ï¼Œé‡Œé¢å­˜æ”¾ç€æˆ‘ä»¬å»ä¸­å¿ƒåŒ–ä¹‹åçš„è·¯ç”±é…ç½®æ–‡ä»¶ã€‚</li><li>untils è¿™ä¸ªç›®å½•æ˜¯ç”¨äºå­˜æ”¾é¡¹ç›®å…¬ç”¨çš„ js æ–‡ä»¶ã€‚</li><li>App.vue è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸»åº”ç”¨ç¨‹åºç»„ä»¶ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç»„ä»¶ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½éœ€è¦æŒ‚è½½åˆ°è¿™ä¸ªæ ¹ç»„ä»¶ä¸Šé¢ã€‚</li><li>main.js è¿™ä¸ªæ–‡ä»¶æ˜¯é¡¹ç›®çš„æ ¸å¿ƒå…¥å£æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹‹å‰å®‰è£…çš„æ’ä»¶ä¹Ÿæ˜¯åœ¨è¿™ä¸ªæ–‡ä»¶å½“ä¸­å»è¿›è¡Œå¼•å…¥å’ŒæŒ‚è½½ï¼Œåœ¨è¿™é‡Œé¢å¼•å…¥çš„æ’ä»¶æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨æ•´ä¸ªé¡¹ç›®ä¸­è¿›è¡Œä½¿ç”¨</li></ul><h2 id="è·¯ç”±ä¸ç»„ä»¶"><a href="#è·¯ç”±ä¸ç»„ä»¶" class="headerlink" title="è·¯ç”±ä¸ç»„ä»¶"></a>è·¯ç”±ä¸ç»„ä»¶</h2><p>ç»„ä»¶æ˜¯æˆ‘ä»¬æ ¹æ®éœ€æ±‚æ‰€å°è£…å‡ºæ¥çš„ HTML é¡µé¢ã€‚</p><p>è·¯ç”±æ˜¯ä¸€ä¸ªé¡¹ç›®ä¸­çš„æ¢çº½ï¼Œä»–èƒ½å¤Ÿå¯¹æˆ‘ä»¬æ‰€åˆ›å»ºçš„å„ä¸ªç»„ä»¶è¿›è¡Œå¯¹åº”çš„è°ƒé…ï¼Œä½¿ä¸åŒé¡µé¢è¿›è¡Œåˆ‡æ¢ã€‚</p><p>åœ¨äº†è§£æ¦‚å¿µå,å¯ä»¥åˆ©ç”¨å»ä¸­å¿ƒåŒ–è·¯ç”±å’Œæ¨¡å—åŒ–ç»„ä»¶è°ƒæ§é¡µé¢.</p><blockquote><p>æ‰€è°“çš„è·¯ç”±ï¼Œä¾¿æ˜¯é€šè¿‡è®¿é—®ä¸åŒçš„ URL ä»è€Œè®¿é—®ä¸åŒçš„ç½‘é¡µã€‚è¿™æ ·å°±å¯ä»¥è¾¾åˆ°åŠ¨æ€æŒ‚è½½ç»„ä»¶çš„ç›®çš„ã€‚è¦ä½¿ç”¨è·¯ç”±éœ€è¦å¼•å…¥ Vue Routerï¼ŒVue Router æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´åŠ è½»æ¾çš„æ„å»ºå•é¡µé¢åº”ç”¨ã€‚</p></blockquote><p>æ­¥éª¤:</p><ol><li><p>å¯¼å…¥vue-router</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ router/index.js å†™å…¥ä»¥ä¸‹ä»£ç </span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œ</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.use(VueRouter)</span><br></pre></td></tr></table></figure><p>3.è®¾ç½®è·¯ç”±é…ç½®å¹¶å¼•å…¥ç›¸åº”ç»„ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//åœ¨componentä¸‹å†™ç»„ä»¶</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;home-wrap&quot;&gt;</span><br><span class="line">    &lt;span&gt;Loginç»„ä»¶&lt;/span&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ router/index.js å†™å…¥ä»¥ä¸‹ä»£ç </span></span><br><span class="line"><span class="comment">//å°†routerå¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: vHome,</span><br><span class="line">      <span class="attr">meta</span>: &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;Homeç»„ä»¶&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: vLogin,</span><br><span class="line">      <span class="attr">meta</span>: &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;Loginç»„ä»¶&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ol><li>æŒ‚è½½å®ä¾‹</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ main.js å†™å…¥ä»¥ä¸‹ä»£ç </span></span><br><span class="line"><span class="comment">// å¼•å…¥ VueRouter</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ– Vue</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure><p>å¯ä»¥ç”¨vue3å†™ä¸€ä¸‹ç±»ä¼¼çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. å®šä¹‰è·¯ç”±ç»„ä»¶.</span></span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥ä»å…¶ä»–æ–‡ä»¶å¯¼å…¥</span></span><br><span class="line"><span class="keyword">const</span> Home = &#123; <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;Home&lt;/div&gt;&#x27;</span> &#125;</span><br><span class="line"><span class="keyword">const</span> About = &#123; <span class="attr">template</span>: <span class="string">&#x27;&lt;div&gt;About&lt;/div&gt;&#x27;</span> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 2. å®šä¹‰ä¸€äº›è·¯ç”±</span></span><br><span class="line"><span class="comment">// æ¯ä¸ªè·¯ç”±éƒ½éœ€è¦æ˜ å°„åˆ°ä¸€ä¸ªç»„ä»¶ã€‚</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬åé¢å†è®¨è®ºåµŒå¥—è·¯ç”±ã€‚</span></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="attr">component</span>: Home &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>, <span class="attr">component</span>: About &#125;,</span><br><span class="line">]</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 3. åˆ›å»ºè·¯ç”±å®ä¾‹å¹¶ä¼ é€’ `routes` é…ç½®</span></span><br><span class="line"><span class="comment">// ä½ å¯ä»¥åœ¨è¿™é‡Œè¾“å…¥æ›´å¤šçš„é…ç½®ï¼Œä½†æˆ‘ä»¬åœ¨è¿™é‡Œ</span></span><br><span class="line"><span class="comment">// æš‚æ—¶ä¿æŒç®€å•</span></span><br><span class="line"><span class="keyword">const</span> router = VueRouter.createRouter(&#123;</span><br><span class="line">  <span class="comment">// 4. å†…éƒ¨æä¾›äº† history æ¨¡å¼çš„å®ç°ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨ hash æ¨¡å¼ã€‚</span></span><br><span class="line">  <span class="attr">history</span>: VueRouter.createWebHashHistory(),</span><br><span class="line">  routes, <span class="comment">// `routes: routes` çš„ç¼©å†™</span></span><br><span class="line">&#125;)</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 5. åˆ›å»ºå¹¶æŒ‚è½½æ ¹å®ä¾‹</span></span><br><span class="line"><span class="keyword">const</span> app = Vue.createApp(&#123;&#125;)</span><br><span class="line"><span class="comment">//ç¡®ä¿ _use_ è·¯ç”±å®ä¾‹ä½¿</span></span><br><span class="line"><span class="comment">//æ•´ä¸ªåº”ç”¨æ”¯æŒè·¯ç”±ã€‚</span></span><br><span class="line">app.use(router)</span><br><span class="line"> </span><br><span class="line">app.mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">// ç°åœ¨ï¼Œåº”ç”¨å·²ç»å¯åŠ¨äº†ï¼</span></span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨è·¯ç”±"><a href="#ä½¿ç”¨è·¯ç”±" class="headerlink" title="ä½¿ç”¨è·¯ç”±"></a>ä½¿ç”¨è·¯ç”±</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨App.vueä¸­ä½¿ç”¨ </p><p><code>&lt;router-view&gt;&lt;/router-view&gt;</code> ä¾¿æ˜¯æˆ‘ä»¬æœ€é¡¶å±‚çš„å‡ºå£ï¼Œé€šè¿‡è·¯ç”±è°ƒæ§çš„ç»„ä»¶éƒ½ä¼šè¢«æ¸²æŸ“åˆ°è¿™ä¸ªå‡ºå£ä½ç½®</p><p>æ ¹æ®routesé…ç½®çš„pathåˆ‡æ¢url,å°±å¯ä»¥çœ‹åˆ°ä¸åŒçš„å†…å®¹,æ ¹æ®component.</p><p>æ ¹ç»„ä»¶ä¸­çš„ <code>&lt;router-view&gt;&lt;/router-view&gt;</code> æ˜¯æœ€é¡¶å±‚çš„å‡ºå£ï¼Œç”¨äºæ¸²æŸ“æœ€é«˜çº§è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶ã€‚åµŒå¥—è·¯ç”±ä¾¿æ˜¯åœ¨æœ€é«˜çº§è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶ä¸­åµŒå¥—ä¸€ä¸ªæ–°çš„æ¬¡çº§å‡ºå£ï¼Œç”¨äºæ¸²æŸ“æ¬¡çº§è·¯ç”±åŒ¹é…åˆ°çš„ç»„ä»¶ã€‚</p><h3 id="åµŒå¥—è·¯ç”±"><a href="#åµŒå¥—è·¯ç”±" class="headerlink" title="åµŒå¥—è·¯ç”±"></a>åµŒå¥—è·¯ç”±</h3><p>åœ¨ä¸€ä¸ªè·¯ç”±ä¸‹åµŒå¥—,åˆ©ç”¨children</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°† router/index.js ä¿®æ”¹ä¸ºï¼š</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(VueRouter);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/common/Home.vue&#x27;</span>),</span><br><span class="line">      <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;child&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/page/Children.vue&#x27;</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;child1&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/page/Children1.vue&#x27;</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;child2&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/page/Children2.vue&#x27;</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;child3&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../components/page/Children3.vue&#x27;</span>),</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="UI"><a href="#UI" class="headerlink" title="UI"></a>UI</h2><p>ä½¿ç”¨ElementUI</p><p>å­¦ä¹ å¦‚ä½•å°† Element UI å¼•å…¥åˆ°é¡¹ç›®ä¹‹ä¸­ï¼ŒåŒ…æ‹¬å…¨å±€å¼•å…¥å’ŒæŒ‰éœ€å¼•å…¥ä¸¤ç§æ–¹å¼</p><h3 id="æŒ‰éœ€å¼•å…¥"><a href="#æŒ‰éœ€å¼•å…¥" class="headerlink" title="æŒ‰éœ€å¼•å…¥"></a>æŒ‰éœ€å¼•å…¥</h3><p>æ ¹æ®è‡ªèº«éœ€æ±‚å¯¹ Element UI é‡Œé¢çš„ç»„ä»¶è¿›è¡Œå•ç‹¬å¼•å…¥ã€‚è¿™ç§æ–¹æ³•çš„åˆ©å¼Šä¸ºï¼š</p><ul><li>ä¼˜ç‚¹ï¼šå› ä¸ºæ˜¯æŒ‰ç…§éœ€æ±‚è¿›è¡Œå•ç‹¬å¼•å…¥ï¼ŒæŠ›å¼ƒäº†æœªä½¿ç”¨çš„ç»„ä»¶ï¼Œä»è€Œå¯¹é¡¹ç›®ä½“ç§¯é€ æˆçš„å½±å“ä¸å¤§ã€‚</li><li>ç¼ºç‚¹ï¼šæ‰‹åŠ¨æŒ‰éœ€å¼•å…¥ï¼Œéœ€è¦è¿›è¡Œæ›´å¤šçš„ä»£ç å·¥ä½œï¼Œå¢å¤§äº†å¼€å‘äººå‘˜çš„è´Ÿæ‹…ã€‚åŒæ—¶ç¹å¤šçš„ç»„ä»¶æ ·å¼ï¼Œä¼šå¯¼è‡´ä»£ç ç¹æ‚ç´Šä¹±ï¼Œä¸åˆ©äºç¾è§‚</li></ul><h3 id="å…¨å±€å¼•å…¥"><a href="#å…¨å±€å¼•å…¥" class="headerlink" title="å…¨å±€å¼•å…¥"></a>å…¨å±€å¼•å…¥</h3><p>é¡¾åæ€ä¹‰å°±æ˜¯å°†æ•´ä¸ª Element UI é‡Œé¢çš„ç»„ä»¶ç»Ÿç»Ÿå¼•å…¥åˆ°æˆ‘ä»¬é¡¹ç›®ä¸­ã€‚è¿™ç§æ–¹æ³•çš„åˆ©å¼Šä¸ºï¼š</p><ul><li>ä¼˜ç‚¹ï¼šä½¿ç”¨æ–¹ä¾¿ï¼Œåœ¨ç»è¿‡ä¸€æ¬¡å¼•å…¥ä¹‹åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨æ‰€æœ‰æ ·å¼ã€‚</li><li>ç¼ºç‚¹ï¼šå› ä¸ºæ•´ä½“å¼•å…¥äº†æ‰€æœ‰æ ·å¼ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´é¡¹ç›®ä½“ç§¯å¢å¤§ã€‚</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ Element UI</span></span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="comment">// å•ç‹¬å¼•å…¥æ ·å¼æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"><span class="comment">// æ‰§è¡Œ ElementUI</span></span><br><span class="line">Vue.use(ElementUI);</span><br></pre></td></tr></table></figure><p>ç„¶åç›´æ¥ä½¿ç”¨å³å¯</p><h2 id="ç»„ä»¶é€šä¿¡"><a href="#ç»„ä»¶é€šä¿¡" class="headerlink" title="ç»„ä»¶é€šä¿¡"></a>ç»„ä»¶é€šä¿¡</h2><h3 id="çˆ¶å­ç»„ä»¶é€šä¿¡"><a href="#çˆ¶å­ç»„ä»¶é€šä¿¡" class="headerlink" title="çˆ¶å­ç»„ä»¶é€šä¿¡"></a>çˆ¶å­ç»„ä»¶é€šä¿¡</h3><p>props</p><h3 id="éçˆ¶å­ç»„ä»¶é€šä¿¡"><a href="#éçˆ¶å­ç»„ä»¶é€šä¿¡" class="headerlink" title="éçˆ¶å­ç»„ä»¶é€šä¿¡"></a>éçˆ¶å­ç»„ä»¶é€šä¿¡</h3><p>emitä¸on</p><h2 id="å¤´éƒ¨è®¾è®¡"><a href="#å¤´éƒ¨è®¾è®¡" class="headerlink" title="å¤´éƒ¨è®¾è®¡"></a>å¤´éƒ¨è®¾è®¡</h2><p>header</p><p>ä¾§è¾¹æ æŠ˜å æŒ‰é’®ã€ç³»ç»Ÿ logoã€å…¨å±æ˜¾ç¤ºæŒ‰é’®ã€æ¶ˆæ¯ä¸­å¿ƒã€ç”¨æˆ·å¤´åƒä»¥åŠç”¨æˆ·å<strong>ä¸‹æ‹‰èœå•</strong></p><h3 id="ä¾§è¾¹æ æŠ˜å "><a href="#ä¾§è¾¹æ æŠ˜å " class="headerlink" title="ä¾§è¾¹æ æŠ˜å "></a>ä¾§è¾¹æ æŠ˜å </h3><p>ä¾§è¾¹æ æŠ˜å  éœ€è¦ä¸¤ç§ä¸åŒçš„çŠ¶æ€ </p><ol><li><p>åˆ©ç”¨v-if v-elseåˆ¤æ–­ </p></li><li><p>v:on æ”¹å˜çŠ¶æ€</p><p>è®¾ç½®çŠ¶æ€å˜é‡</p></li></ol><h3 id="ç³»ç»Ÿlogo"><a href="#ç³»ç»Ÿlogo" class="headerlink" title="ç³»ç»Ÿlogo"></a>ç³»ç»Ÿlogo</h3><p>ç›´æ¥ä¸€ä¸ªdiv</p><h3 id="åˆ›å»ºå³è¾¹åŠŸèƒ½åŒºçš„ç¬¬ä¸€ä¸ªåŠŸèƒ½-å…¨å±æŒ‰é’®"><a href="#åˆ›å»ºå³è¾¹åŠŸèƒ½åŒºçš„ç¬¬ä¸€ä¸ªåŠŸèƒ½-å…¨å±æŒ‰é’®" class="headerlink" title="åˆ›å»ºå³è¾¹åŠŸèƒ½åŒºçš„ç¬¬ä¸€ä¸ªåŠŸèƒ½-å…¨å±æŒ‰é’®"></a>åˆ›å»ºå³è¾¹åŠŸèƒ½åŒºçš„ç¬¬ä¸€ä¸ªåŠŸèƒ½-å…¨å±æŒ‰é’®</h3><p>ä½¿ç”¨element-ui</p><p>eltooltipæ–‡å­—æç¤º</p><ul><li>effectï¼šè®¾ç½® el-tooltip çš„ä¸»é¢˜æ ·å¼ï¼Œtooltip æä¾›äº†ä¸¤ä¸ªä¸»é¢˜ï¼šdark å’Œ lightã€‚</li><li>contentï¼šè®¾ç½® æç¤ºçš„æ–‡å­—ï¼Œé€šè¿‡ä¸‰å…ƒè¡¨è¾¾å¼æ¥è®¾ç½®ä¸åŒçš„æ–‡å­—æç¤ºã€‚</li><li>placementï¼šè®¾ç½®æ–‡å­—æç¤ºå‡ºç°çš„ä½ç½®</li></ul><p>clickç‚¹å‡»</p><h3 id="æ¶ˆæ¯ä¸­å¿ƒ"><a href="#æ¶ˆæ¯ä¸­å¿ƒ" class="headerlink" title="æ¶ˆæ¯ä¸­å¿ƒ"></a>æ¶ˆæ¯ä¸­å¿ƒ</h3><p>ç±»ä¼¼,ä½¿ç”¨eltooltipè®¾ç½®æ–‡å­—æç¤º.æ¶ˆæ¯ä¸­å¿ƒå¯ä»¥æœ‰ä¸€ä¸ªè·¯ç”±è·³è½¬</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">router-link</span>&gt;</span><span class="tag">&lt;/<span class="name">routerlink</span>&gt;</span></span><br></pre></td></tr></table></figure><p>toæŒ‡å®šè·³è½¬åœ°å€</p><h3 id="ç”¨æˆ·å¤´åƒ"><a href="#ç”¨æˆ·å¤´åƒ" class="headerlink" title="ç”¨æˆ·å¤´åƒ"></a>ç”¨æˆ·å¤´åƒ</h3><p>imgå³å¯</p><h3 id="ç”¨æˆ·åä¸‹æ‹‰èœå•"><a href="#ç”¨æˆ·åä¸‹æ‹‰èœå•" class="headerlink" title="ç”¨æˆ·åä¸‹æ‹‰èœå•"></a>ç”¨æˆ·åä¸‹æ‹‰èœå•</h3><p>å°†ç”¨æˆ·åè®¾ç½®ä¸ºä¸‹æ‹‰èœå•.</p><p>é€šè¿‡ trigger è®¾ç½®è§¦å‘ä¸‹æ‹‰çš„è¡Œä¸ºï¼›command è®¾ç½®ç‚¹å‡»èœå•é¡¹è§¦å‘çš„äº‹ä»¶å›è°ƒã€‚ä¸‹æ‹‰åˆ—è¡¨åˆ™æ˜¯ el-dropdown-menuï¼Œå°†å±æ€§ slot è®¾ç½®ä¸º dropdown æ¥è®¾ç½®ä¸‹æ‹‰èœå•</p><p>ä»¥ä¸Šåˆ©ç”¨element-uiè®¾è®¡,æ²¡æœ‰å¤ªå¤šé€»è¾‘</p><h3 id="jséƒ¨åˆ†"><a href="#jséƒ¨åˆ†" class="headerlink" title="jséƒ¨åˆ†"></a>jséƒ¨åˆ†</h3><ol><li>åŠ è½½buså®ç°ç»„ä»¶é€šä¿¡</li><li>è®¾ç½®æ•°æ®</li><li>ç›‘å¬å±æ€§</li><li>æ–¹æ³• ä¾§è¾¹æ æŠ˜å  </li></ol><h2 id="Sidebarç»„ä»¶"><a href="#Sidebarç»„ä»¶" class="headerlink" title="Sidebarç»„ä»¶"></a>Sidebarç»„ä»¶</h2><p>å¯ä»¥æœ‰ä¸€çº§èœå•,äºŒçº§èœå•,ä¸‰çº§èœå•ç­‰.</p><p>ç¬¬ä¸€æ­¥ï¼šå¯¹ data æ•°æ®ä¸­çš„ items æ•°ç»„è¿›è¡Œå¾ªç¯ï¼Œæ­¤æ—¶çš„ items æ•°ç»„ä¸­çš„æ•°æ®å°±æ˜¯ç¬¬ä¸€çº§èœå•ï¼›</p><p>ç¬¬äºŒæ­¥ï¼šåˆ¤å®šæ˜¯å¦å…·æœ‰ç¬¬äºŒçº§èœå•ï¼Œå¦‚æœæœ‰ç¬¬äºŒçº§èœå•ï¼Œåˆ™æ¸²æŸ“ç¬¬ä¸€çº§èœå•æ ‡é¢˜ä¹‹åå¯¹ç¬¬äºŒçº§èœå•è¿›è¡Œå¾ªç¯ï¼›å¦‚æœæ²¡æœ‰ç¬¬äºŒçº§èœå•ï¼Œåˆ™æ¸²æŸ“ç¬¬ä¸€çº§èœå•æ ‡é¢˜ä¹‹åé€€å‡ºå¾ªç¯ï¼›</p><p>ç¬¬ä¸‰æ­¥ï¼šå¾ªç¯ç¬¬äºŒçº§èœå•ï¼Œåˆ¤å®šæ˜¯å¦å…·æœ‰ç¬¬ä¸‰çº§èœå•ï¼Œå¦‚æœæœ‰ç¬¬ä¸‰çº§èœå•ï¼Œåˆ™æ¸²æŸ“ç¬¬äºŒçº§èœå•æ ‡é¢˜ä¹‹åå¯¹ç¬¬ä¸‰çº§èœå•è¿›è¡Œå¾ªç¯ï¼›å¦‚æœæ²¡æœ‰ç¬¬ä¸‰çº§èœå•ï¼Œåˆ™æ¸²æŸ“ç¬¬äºŒçº§èœå•æ ‡é¢˜ä¹‹åé€€å‡ºå½“å‰å¾ªç¯ï¼›</p><p>ç¬¬å››æ­¥ï¼šå¾ªç¯ç¬¬ä¸‰çº§èœå•ï¼Œæ¸²æŸ“ç¬¬ä¸‰çº§èœå•æ ‡é¢˜</p><h2 id="Tagsç»„ä»¶"><a href="#Tagsç»„ä»¶" class="headerlink" title="Tagsç»„ä»¶"></a>Tagsç»„ä»¶</h2><h2 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h2><p><a href="https://cli.vuejs.org/zh/">Vue CLI (vuejs.org)</a></p><ul><li>CLIï¼šå³ @vue/cliï¼Œå®ƒæ˜¯ä¸€ä¸ªéœ€è¦å…¨å±€å®‰è£…çš„ npm åŒ…ï¼Œå‘æˆ‘ä»¬æä¾›äº† vue å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å®ƒæ¥æ»¡è¶³æˆ‘ä»¬å¿«é€Ÿåˆ›å»º Vue é¡¹ç›®çš„éœ€æ±‚ã€‚</li><li>CLI æœåŠ¡ï¼šå³ @vue/cli-service ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼€å‘ç¯å¢ƒä¾èµ–ï¼Œæ˜¯ä¸€ä¸ªå±€éƒ¨å®‰è£…åœ¨ @vue/cli åˆ›å»ºçš„é¡¹ç›®ä¸­çš„ npm åŒ…ã€‚å®ƒå®‰è£…äº†ä¸€ä¸ªåä¸º vue-cli-service çš„å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºé¡¹ç›®åçš„ <code>packsge.json</code> æ–‡ä»¶ä¸­æ‰¾åˆ°å¯¹åº”çš„ script å‘½ä»¤ã€‚é€šè¿‡ npm è°ƒç”¨è¿™äº› script å‘½ä»¤å¯ä»¥è¾¾åˆ°é…ç½®æœåŠ¡å™¨æˆ–æ‰“åŒ…çš„ç›®çš„ã€‚</li><li>CLI æ’ä»¶ï¼šå®ƒçš„ä½œç”¨æ˜¯å‘æˆ‘ä»¬åˆ›å»ºçš„é¡¹ç›®ä¸­æä¾›å¯é€‰åŠŸèƒ½çš„ npm åŒ…ï¼Œå¯ä»¥æ›´å¥½çš„å¸®åŠ©æˆ‘ä»¬å®Œæˆå¯¹é¡¹ç›®çš„ç®¡ç†ã€‚åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>package.json</code> æ–‡ä»¶å½“ä¸­æ‰¾åˆ°å¯¹åº”çš„ dependenciesï¼Œè¿™é‡Œæ ‡æ³¨äº†æˆ‘ä»¬æ‰€å®‰è£…çš„åŠŸèƒ½æ’ä»¶çš„ä¿¡æ¯</li></ul><p><a href="http://nodejs.cn/learn">Node.js ç®€ä»‹ (nodejs.cn)</a></p><h3 id="ç”Ÿäº§ç¯å¢ƒä¸å¼€å‘ç¯å¢ƒ"><a href="#ç”Ÿäº§ç¯å¢ƒä¸å¼€å‘ç¯å¢ƒ" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒä¸å¼€å‘ç¯å¢ƒ"></a>ç”Ÿäº§ç¯å¢ƒä¸å¼€å‘ç¯å¢ƒ</h3><p>åœ¨ <code>Vue</code> ä¸­ï¼Œ <code>NODE_ENV</code> å¯ä»¥é€šè¿‡ <code>.env</code> æ–‡ä»¶æˆ–è€… <code>.env.[mode]</code> æ–‡ä»¶é…ç½®ã€‚é…ç½®è¿‡åï¼Œè¿è¡Œ <code>Vue CLI</code> æŒ‡ä»¤ï¼ˆ <code>npm run dev(serve)</code> ï¼Œ<code>npm run build</code> ï¼‰æ—¶ï¼Œå°±ä¼šå°†è¯¥æ¨¡å¼ä¸‹çš„<code>NODE_ENV</code>è½½å…¥å…¶ä¸­äº†ã€‚è€Œè¿™äº›å‘½ä»¤ï¼Œéƒ½æœ‰è‡ªå·±çš„é»˜è®¤æ¨¡å¼ï¼š</p><ul><li><code>npm run dev(serve)</code> ï¼Œå…¶å®æ˜¯è¿è¡Œäº† <code>vue-cli service serve</code> ï¼Œé»˜è®¤æ¨¡å¼ä¸º  development ã€‚å¯ä»¥åœ¨ <code>.env.development</code> æ–‡ä»¶ä¸‹ä¿®æ”¹è¯¥æ¨¡å¼çš„ <code>NODE_ENV</code> ã€‚</li><li><code>npm run build</code> ï¼Œå…¶å®è¿è¡Œäº† <code>vue-cli service build</code> ï¼Œé»˜è®¤æ¨¡å¼ä¸º  production ã€‚å¯ä»¥åœ¨ <code>.env.production</code> æ–‡ä»¶ä¸‹ä¿®æ”¹è¯¥æ¨¡å¼çš„ <code>NODE_ENV</code> ã€‚</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/093950.png" alt="image-20220105143228846"></p><p><a href="https://www.jiangruitao.com/babel/introduction/">Babel ç®€ä»‹ - Babelæ•™ç¨‹ - å§œç‘æ¶›çš„å®˜æ–¹ç½‘ç«™ (jiangruitao.com)</a></p><p><a href="https://babel.docschina.org/">Babel ä¸­æ–‡æ–‡æ¡£ Â· ä¸‹ä¸€ä»£ JavaScript ç¼–è¯‘å™¨ (docschina.org)</a></p><h3 id="export"><a href="#export" class="headerlink" title="export"></a>export</h3><p><strong>export</strong>å’Œ<strong>export</strong> <strong>default</strong>æ˜¯ES6ä¸­å¯¼å‡ºæ¨¡å—ä¸­å˜é‡çš„è¯­æ³•</p><p><strong>exports</strong>å’Œ<strong>module</strong>.<strong>exports</strong>æ˜¯Nodejsä¸­å¯¼å‡ºæ¨¡å—ä¸­å˜é‡çš„è¯­æ³•ï¼ˆåŸºäºCommonJsè¯­æ³•è§„èŒƒï¼‰</p><p><a href="https://www.jianshu.com/p/2b219e6712aa">JS ä¹‹exportã€export defaultå’Œmodule.exports - ç®€ä¹¦ (jianshu.com)</a></p><p><a href="https://segmentfault.com/a/1190000016662929">vueä¸­$routerä»¥åŠ$routeçš„ä½¿ç”¨ - SegmentFault æ€å¦</a></p>]]></content>
      
      
      <categories>
          
          <category> vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue2 </tag>
            
            <tag> ElementUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>codewarsç»ƒä¹ </title>
      <link href="2022/01/04/codewars%E7%BB%83%E4%B9%A0/"/>
      <url>2022/01/04/codewars%E7%BB%83%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>CodeWarsåˆ·é¢˜ç½‘ç«™,ä¸leetcodeè¿™ç§ç®—æ³•åˆ·é¢˜ä¸å¤ªä¸€æ ·.ç½‘é€Ÿè¿˜è¡Œ,æ²¡æœ‰è¢«å¢™.<br><span id="more"></span><br>éšç¼˜æ›´æ–°.æœ¬äººç®—æ³•ä¸å¥½.</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> codewars </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javawebåˆä½“éªŒ</title>
      <link href="2022/01/03/javaweb%E5%88%9D%E4%BD%93%E9%AA%8C/"/>
      <url>2022/01/03/javaweb%E5%88%9D%E4%BD%93%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æŒºæœ‰æ„æ€çš„,ç”¨äº†Tomcatå’ŒMavenç®¡ç†é¡¹ç›®,æ„Ÿè§‰javaå¼€å‘æ¯”è¾ƒç»¼åˆ.<br><span id="more"></span></p><h2 id="ä¸‹è½½ä¸é…ç½®"><a href="#ä¸‹è½½ä¸é…ç½®" class="headerlink" title="ä¸‹è½½ä¸é…ç½®"></a>ä¸‹è½½ä¸é…ç½®</h2><p>è¯ä¸å¤šè¯´,å…ˆä¸‹è½½Tomcatå’ŒMaven.</p><p><a href="https://tomcat.apache.org/">Apache TomcatÂ® - Welcome!</a></p><p><a href="https://maven.apache.org/">Maven â€“ Welcome to Apache Maven</a></p><p>æ¥ç‚¹ä»‹ç».</p><blockquote><p>Tomcat æœåŠ¡å™¨æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æ”¾æºä»£ç çš„Web åº”ç”¨æœåŠ¡å™¨ï¼Œå±äºè½»é‡çº§åº”ç”¨<a href="https://baike.baidu.com/item/æœåŠ¡å™¨">æœåŠ¡å™¨</a>ï¼Œåœ¨ä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹è¢«æ™®éä½¿ç”¨ï¼Œæ˜¯å¼€å‘å’Œè°ƒè¯•JSP ç¨‹åºçš„é¦–é€‰ã€‚å¯¹äºä¸€ä¸ªåˆå­¦è€…æ¥è¯´ï¼Œå¯ä»¥è¿™æ ·è®¤ä¸ºï¼Œå½“åœ¨ä¸€å°æœºå™¨ä¸Šé…ç½®å¥½Apache æœåŠ¡å™¨ï¼Œå¯åˆ©ç”¨å®ƒå“åº”<a href="https://baike.baidu.com/item/HTML">HTML</a>ï¼ˆ<a href="https://baike.baidu.com/item/æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€/6805073">æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€</a>ä¸‹çš„ä¸€ä¸ªåº”ç”¨ï¼‰é¡µé¢çš„è®¿é—®è¯·æ±‚</p></blockquote><p>ä¸ªäººè®¤ä¸ºTomcatæ˜¯ä¸€ä¸ªå¯ä»¥è¿è¡Œjavaç¨‹åº,æ¯”å¦‚servletå’Œjspçš„æœåŠ¡å™¨,åŠ¨æ€web.</p><p>Mavenæ˜¯åŒ…ç®¡ç†å·¥å…·.</p><blockquote><p>Mavenåˆ©ç”¨ä¸€ä¸ªä¸­å¤®ä¿¡æ¯ç‰‡æ–­èƒ½ç®¡ç†ä¸€ä¸ªé¡¹ç›®çš„æ„å»ºã€æŠ¥å‘Šå’Œæ–‡æ¡£ç­‰æ­¥éª¤ã€‚</p><p>Maven æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å¯¹ Java é¡¹ç›®è¿›è¡Œæ„å»ºã€ä¾èµ–ç®¡ç†ã€‚</p><p>Maven ä¹Ÿå¯è¢«ç”¨äºæ„å»ºå’Œç®¡ç†å„ç§é¡¹ç›®</p><p>ç‰ˆæœ¬å»ºè®®æ˜¯ä¸è¦æœ€æ–°,è¦æ¯”è¾ƒæ–°çš„.</p></blockquote><p>æˆ‘çš„ç‰ˆæœ¬å¦‚ä¸‹</p><p><img data-src="http://cdn.sekyoro.top/imgs/065703.png" alt="image-20220103160435764"></p><p>ç„¶åæ·»åŠ ç¯å¢ƒå˜é‡,æ·»åŠ ä¸€ä¸ªmavenä»¥åŠä¹‹å‰æ²¡æœ‰æ·»åŠ JAVA_HOMEçš„éœ€è¦å†æ·»åŠ ä¸€ä¸‹.è¿™äº›ä¸ç”¨ç»†è¯´äº†.</p><p>éœ€è¦ä¿®æ”¹mavençš„é•œåƒ,ä¸ç„¶ä¸‹è½½å¤ªæ…¢,åŒæ—¶æ”¹ä¸€ä¸‹æœ¬åœ°ä»“åº“çš„ä½ç½®,ä¸ç„¶é»˜è®¤ä¸ºCç›˜.</p><p>åœ¨conf/settings.xmlä¸­ä¿®æ”¹.ä¸ç»†è¯´.æˆ‘ä¼šè´´ä¸€äº›å…¶ä»–èµ„æ–™.</p><p>åˆ©ç”¨IDEAåˆ›å»ºMavené¡¹ç›®,æ³¨æ„ä¿®æ”¹maven,IDEAæœ‰é»˜è®¤çš„è‡ªå¸¦çš„Maven,è¦ä¿®æ”¹ä¸ºè‡ªå·±çš„Maven.</p><p>ç„¶åæ˜¯Tomcat,IDEAç¤¾åŒºç‰ˆä¹Ÿå°±æ˜¯å…è´¹çš„é‚£ç§è²Œä¼¼æ²¡æœ‰è‡ªå¸¦Tomcat server,ä½†å¯ä»¥ä¸‹è½½æ’ä»¶ Smart Tomcat.ä¹Ÿèƒ½æ­£å¸¸ç”¨.</p><h2 id="å®æ“"><a href="#å®æ“" class="headerlink" title="å®æ“"></a>å®æ“</h2><p>æ­¥éª¤:1.åˆ›å»ºä¸€ä¸ªMavençš„é¡¹ç›®,å¯ä»¥æ˜¯ç©ºçš„,ä¹Ÿå¯ä»¥é€‰æ‹©webapp.</p><p>2.ç›®å½•ç»“æ„ä¿®æ”¹å¦‚ä¸‹</p><p><img data-src="http://cdn.sekyoro.top/imgs/065704.png" alt="image-20220103161126741"></p><p>javaä¸‹æ”¾servletç¨‹åº,webappå¯ä»¥æ”¾htmlæˆ–è€…jspç­‰.</p><ol><li>è¦ä½¿ç”¨servlet,éœ€è¦å¼•å…¥ç›¸å…³jaråŒ…,åˆ©ç”¨mavençš„è¯å¯ä»¥ç›´æ¥åœ¨pom.xmlä¸­æ·»åŠ ä¾èµ–.</li></ol><p><img data-src="http://cdn.sekyoro.top/imgs/093901.png" alt="image-20220103161312575">å…·ä½“ç‰ˆæœ¬è¦çœ‹ä¸ªäººæƒ…å†µäº†,æœ‰å¯èƒ½å‡ºç°ä¸€äº›ä¸é€‚é…çš„æƒ…å†µ.ç„¶åMavenå°±èƒ½ä¾æ®è¿™ç§ä¿¡æ¯å»è¿œç«¯ä¸‹è½½,å¦‚æœé…ç½®äº†é•œåƒ,å°±ä¼šå»é‚£ä¸‹è½½.ä¸ç„¶å¤–ç½‘é€Ÿåº¦å¤ªæ…¢.</p><p>ä¸‹è½½åå°±èƒ½å¯¼å…¥åŒ…äº†.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sekyoro;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">servelet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.doGet(request,response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®ç½‘é¡µå“åº”ç±»å‹</span></span><br><span class="line">        response.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="comment">//å®ç°å…·ä½“æ“ä½œ</span></span><br><span class="line">        PrintWriter out = response.getWriter();</span><br><span class="line">        out.println(<span class="string">&quot;This is a new servlet page&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨javaä¸‹åˆ›å»ºåŒ…,åŒ…ä¸­å†™servletç¨‹åº.</p><ol><li>ç„¶ååœ¨web.xmlä¸­æ·»åŠ ç´¢å¼•</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>Demo<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.sekyoro.servelet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>Demo<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/Demo<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥ä½¿å¾—serveltç¨‹åºèƒ½è¢«æ‰¾åˆ°.</p><p>æ¥ä¸‹æ¥è¿è¡Œå³å¯.</p><h3 id="ä¸€äº›ä½“ä¼š"><a href="#ä¸€äº›ä½“ä¼š" class="headerlink" title="ä¸€äº›ä½“ä¼š"></a>ä¸€äº›ä½“ä¼š</h3><p>è¿™ç§ä¸œè¥¿çœŸçš„éœ€è¦è‡ªå·±åŠ¨æ‰‹æ¥ä¸€é,å› ä¸ºé‡åˆ°çš„é—®é¢˜å¯èƒ½éƒ½ä¸ä¸€æ ·.</p><p>åŒæ—¶,servletä»¥åŠjspæ²¡æœ‰å¿…è¦å­¦çš„å¤ªæ·±,åé¢ç›´æ¥å¾€Springèµ°.</p><p>Mavenè¿˜æ˜¯è¦å¥½å¥½ç”¨çš„.</p><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://www.bilibili.com/video/BV12J411M7Sj?p=8">ã€ç‹‚ç¥è¯´Javaã€‘JavaWebå…¥é—¨åˆ°å®æˆ˜_å“”å“©å“”å“©_bilibili</a></p><p><a href="https://www.cnblogs.com/workingsugar/p/14604127.html">åˆå­¦Servletæ—¶ä½¿ç”¨IDEAä¸­ åˆ©ç”¨Tomcat 10.0.4 æ„å»ºç±»servletæŠ¥é”™ï¼šç±»HelloServletä¸æ˜¯Servletã€‚ - workingsugar - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> Web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç–«æƒ…è‡ªåŠ¨æ‰“å¡</title>
      <link href="2022/01/02/%E7%96%AB%E6%83%85%E8%87%AA%E5%8A%A8%E6%89%93%E5%8D%A1/"/>
      <url>2022/01/02/%E7%96%AB%E6%83%85%E8%87%AA%E5%8A%A8%E6%89%93%E5%8D%A1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¸»è¦æ¶‰åŠåˆ°ä¸€ä¸ªæŸ¥è¯¢å‚æ•°çš„é€†å‘.ç–«æƒ…å¡«æŠ¥æ‰“å¡,ä¹‹å‰ç”¨seleniumå†™è¿‡,ä¸è¿‡æ¯”è¾ƒç¬¨é‡.</p><p>ç°åœ¨ç›´æ¥ä½¿ç”¨requests.<br><span id="more"></span><br>çˆ¬è™«çš„ç²¾é«“åº”è¯¥æ˜¯jsé€†å‘,åçˆ¬æŠ€æœ¯.<br>ä½¿ç”¨pythonçš„ç®€å•ä¹‹å¤„å°±æ˜¯åˆ©ç”¨æ–¹æ³•ç®€å•çš„åº“,cookieè‡ªåŠ¨ä¿å­˜,ç•™ç»™æˆ‘ä»¬çš„å°±æ˜¯å»é€†å‘,å¤šçº¿ç¨‹å¤„ç†ç­‰ç­‰.</p><h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><p>é¦–å…ˆè¿›å…¥å®˜ç½‘</p><p><a href="https://uis.nwpu.edu.cn/cas/login">è¥¿åŒ—å·¥ä¸šå¤§å­¦</a></p><p>æ‰“å¼€æ£€æŸ¥,ä¸€èˆ¬æµç¨‹æ˜¯å‘é€ä¸€ä¸ªGETè¯·æ±‚,æœ‰äº†cookie.å¦‚æœä½ å‘ç°å“åº”æ²¡æœ‰set-cookie,è€Œè¯·æ±‚ç›´æ¥å°±æœ‰äº†cookie,è¿™ä¸€èˆ¬æ˜¯æµè§ˆå™¨ç¼“å­˜äº†,å¯ä»¥æ¸…é™¤ä¸€ä¸‹cookie.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093918.png" alt="image-20220102171907498"></p><p>è¿™å°±æ˜¯å“åº”,å¯ä»¥çœ‹åˆ°æœ‰äº†set-cookie,è¿™å¾ˆé‡è¦,ç›´æ¥æäº¤è¡¨å•çš„è¯æ²¡æœ‰cookie,å¾ˆå¯èƒ½å¤±è´¥(è¦è¯´ä¸ºä»€ä¹ˆä¸æ˜¯ä¸€å®š,è¿™ä¸ä½ è°ƒçš„ç¬¬ä¸‰æ–¹åŒ…æœ‰å…³).</p><p><img data-src="http://cdn.sekyoro.top/imgs/093920.png" alt="image-20220102171754941"></p><p>ç„¶åè¾“å…¥è´¦å·å¯†ç ,æŸ¥çœ‹åˆå‘äº†ä»€ä¹ˆè¯·æ±‚,é€šå¸¸ä¼šå‘ä¸€ä¸ªPOST.</p><p>æ‰“å¼€ç­›é€‰å™¨ method:POSTæŸ¥çœ‹</p><p><img data-src="http://cdn.sekyoro.top/imgs/093921.png" alt="image-20220102172509367"></p><p>å½“çœ‹åˆ°POSTè¯·æ±‚æ—¶æœ‰å¿…è¦æŸ¥çœ‹PAYLOAD,ä¹Ÿå°±æ˜¯æºå¸¦çš„æ•°æ®.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093924.png" alt="image-20220102172603819"></p><p>æ„é€ è¯·æ±‚æ—¶ç›´æ¥æŠŠè¿™ä¸ªè¡¨å•å‘è¿‡å»å°±è¡Œäº†.</p><p>å†çœ‹çœ‹å“åº”å¤´åˆæœ‰set-cookieè¯´æ˜è¿™ä¸ªå¾ˆæœ‰ç”¨,å› ä¸ºç»™äº†ä½ cookie.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093925.png" alt="image-20220102172706501"></p><p>è¿™æ ·ç™»å½•ä¹‹åå°±æœ‰äº†åŸºæœ¬çš„cookie</p><h2 id="è¿›å…¥ç–«æƒ…å¡«æŠ¥"><a href="#è¿›å…¥ç–«æƒ…å¡«æŠ¥" class="headerlink" title="è¿›å…¥ç–«æƒ…å¡«æŠ¥"></a>è¿›å…¥ç–«æƒ…å¡«æŠ¥</h2><p>ç„¶åè¿›å…¥ç–«æƒ…å¡«æŠ¥ç•Œé¢<a href="http://yqtb.nwpu.edu.cn/wx/xg/yz-mobile/index.jsp">ç–«æƒ…æ¯æ—¥å¡«æŠ¥</a></p><p>æ­£å¸¸ä¸€æ³¢æ“ä½œ:æ‰“å¼€å®¡æŸ¥,åˆ·æ–°,æŸ¥çœ‹é‡è¦çš„è¯·æ±‚(ä¸€èˆ¬æ˜¯jspæˆ–è€…jså•¥çš„)</p><p>çœ‹åˆ°äº†ç†Ÿæ‚‰çš„set-cookie</p><p><img data-src="http://cdn.sekyoro.top/imgs/093927.png" alt="image-20220102173029972"></p><p>è¯´æ˜è¿™ä¸ªurlæ˜¯éœ€è¦getçš„,åŒæ—¶æŸ¥çœ‹å“åº”å‘ç°æœ‰å¾ˆå¤šä¸ªäººä¿¡æ¯,åŒ…æ‹¬å§“å.</p><p>æ³¨æ„ä¸€ä¸‹:å› ä¸ºæˆ‘ä»¬ç™»é™†æ—¶åªè¾“å…¥äº†å­¦å·å’Œå¯†ç ,å¦‚æœåé¢éœ€è¦å§“å,å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•è·å–å“åº”æå–å‡ºå§“å.</p><p>è¿™é‡Œå°±å¯ä»¥åˆ©ç”¨æ­£åˆ™æå–å‡ºå§“å.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name_info = s.get(get_name_url, headers=headers).text</span><br><span class="line">name = re.search(<span class="string">r&#x27;å§“åï¼š(.*)&lt;&#x27;</span>, name_info).group(<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>åŒæ—¶æˆ‘ä»¬åˆå¯ä»¥å‘ç°è¿˜æœ‰POSTè¯·æ±‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/093930.png" alt="image-20220102173401933"></p><p>æŸ¥çœ‹payload,æœ‰ä¸€ä¸ª</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">actionType: getRoles</span><br></pre></td></tr></table></figure><p>çœ‹ä¸å‡ºæœ‰ä»€ä¹ˆç‰¹åˆ«çš„ä½œç”¨,å¯ä»¥ä¸ç”¨post.</p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>ç„¶åç‚¹å‡»æ¯æ—¥å¡«æŠ¥,åˆè¿›å…¥æ–°çš„é¡µé¢,æŸ¥çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆè¯·æ±‚</p><p>ç­›é€‰jsp,æˆ‘ä»¬åˆ°è¿™é‡Œå°±å¯ä»¥çŸ¥é“è¿™ä¸ªç½‘ç«™çš„æ¶æ„äº†,åˆ©ç”¨jsp(ä¸è¿‡è¿™æ˜¯å¸¸è§çš„æ–¹æ³•)</p><p>å¯ä»¥å‘ç°ä¸€ä¸ªè¯·æ±‚jrsb.jsp,è²Œä¼¼æ²¡ä»€ä¹ˆç‰¹åˆ«ä½œç”¨.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093931.png" alt="image-20220102173804950"></p><p>ä¸è¿‡å¯ä»¥çœ‹çœ‹å“åº”çš„é¢„è§ˆ,åé¢å¯èƒ½ä¼šç”¨äºæå–ä¸€äº›æ•°æ®å•¥çš„.</p><p>å‹¾é€‰å·²æ£€æµ‹,æäº¤è¡¨å•.</p><p>å¯ä»¥æŸ¥çœ‹æ–°çš„è¯·æ±‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/093934.png" alt="image-20220102174221779"></p><p>è¿™å°±æ˜¯æäº¤è¡¨å•çš„POST. </p><p>æŸ¥çœ‹Payload,é‡ç‚¹æ˜¯signå’ŒtimeStamp.è¡¨å•æ•°æ®æ­£å¸¸è´´è¿‡å»å°±è¡Œ.</p><p>ä¸»è¦æ˜¯signå’ŒtimeStampæ•°æ®å¦‚ä½•è·å–.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093936.png" alt="image-20220102174413097"></p><p>æ¥ä¸‹æ¥è¯´è¯´è¿™ä¸ªé‡ç‚¹</p><h3 id="é‡ç‚¹"><a href="#é‡ç‚¹" class="headerlink" title="é‡ç‚¹"></a>é‡ç‚¹</h3><p>ç›´æ¥å…¨å±€æœç´¢signæˆ–è€…å…¶ä»–å…³é”®è¯,è¿™é‡Œçš„è¦ç‚¹æ˜¯ä¸èƒ½æŠŠä¹‹å‰çš„æ¸…ç©ºäº†,ä¹Ÿå°±æ˜¯æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ä¸ä¹‹å‰çš„å“åº”æœ‰å…³.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093937.png" alt="image-20220102174720756"></p><p>ç»“æœæƒŠå¥‡çš„å‘ç°è¿™ä¸ªå­—æ®µåœ¨jrsb.jspçš„å“åº”é‡Œ,urlå°±æ˜¯è¿™ä¸ªå­—æ®µ,æ¨æµ‹æ˜¯åå°javaç”Ÿæˆåå‘è¿‡æ¥çš„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093939.png" alt="image-20220102175014649"></p><p>æå–å‡ºæ¥å°±è¡Œäº†.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">query_info = s.get(get_query_url, headers=headers).text</span><br><span class="line">info = re.search(<span class="string">r&#x27;sign=(.*?)&amp;timeStamp=(\d*)&#x27;</span>, query_info)</span><br></pre></td></tr></table></figure><p>åé¢postéœ€è¦paramsçš„å‚æ•°,ä¹Ÿå°±æ˜¯postéœ€è¦dataè¡¨å•æ•°æ®,ä¹Ÿéœ€è¦paramsçš„å­—ç¬¦ä¸²æŸ¥è¯¢å‚æ•°.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">post_url = <span class="string">&#x27;http://yqtb.nwpu.edu.cn/wx/ry/ry_util.jsp?&#x27;</span> + info.group()</span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;sign&#x27;</span>: sign,</span><br><span class="line">        <span class="string">&#x27;timeStamp&#x27;</span>: timestamp</span><br><span class="line">    &#125;</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&#x27;hsjc&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;xasymt&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;actionType&#x27;</span>: <span class="string">&#x27;addRbxx&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;userLoginId&#x27;</span>: sno,</span><br><span class="line">        <span class="string">&#x27;szcsbm&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;bdzt&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;szcsmc&#x27;</span>: <span class="string">&#x27;åœ¨å­¦æ ¡&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;sfyzz&#x27;</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;sfqz&#x27;</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;tbly&#x27;</span>: <span class="string">&#x27;sso&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;qtqksm&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;ycqksm&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;userType&#x27;</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;userName&#x27;</span>: name,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># è¿™é‡Œè¦åŠ ä¸€ä¸‹è¯·æ±‚æº å¿…è¦</span></span><br><span class="line">    headers.update(&#123;</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;http://yqtb.nwpu.edu.cn/wx/ry/jrsb.jsp&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Origin&#x27;</span>: <span class="string">&#x27;http://yqtb.nwpu.edu.cn&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    r = s.post(post_url, headers=headers, data=data, params=params)</span><br></pre></td></tr></table></figure><p>æœ€åè¦åŠ ä¸€ä¸‹è¯·æ±‚çš„referer</p><p>â€‚Referer è¯·æ±‚å¤´åŒ…å«äº†å½“å‰è¯·æ±‚é¡µé¢çš„æ¥æºé¡µé¢çš„åœ°å€ï¼Œå³è¡¨ç¤ºå½“å‰é¡µé¢æ˜¯é€šè¿‡æ­¤æ¥æºé¡µé¢é‡Œçš„é“¾æ¥è¿›å…¥çš„</p><p>å¦‚æœä¸åŠ æµ‹è¯•å‘ç°è¿‡ä¸äº†,åº”è¯¥æ˜¯æœåŠ¡å™¨æœ‰æ£€æµ‹.</p><p>è¿™æ ·æ•´ä¸ªä»£ç åŸºæœ¬å°±å®Œæˆäº†.</p><h2 id="æºä»£ç "><a href="#æºä»£ç " class="headerlink" title="æºä»£ç "></a>æºä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span>(<span class="params">sno, pwd</span>):</span></span><br><span class="line">    s = requests.Session()</span><br><span class="line">    <span class="comment"># CASç³»ç»Ÿç™»å½•æŠ¥æ–‡</span></span><br><span class="line">    login_url = <span class="string">&#x27;https://uis.nwpu.edu.cn/cas/login&#x27;</span></span><br><span class="line">    be_student_url = <span class="string">&#x27;http://yqtb.nwpu.edu.cn/wx/xg/yz-mobile/qj_util.jsp&#x27;</span></span><br><span class="line">    get_name_url = <span class="string">&#x27;http://yqtb.nwpu.edu.cn/wx/xg/yz-mobile/index.jsp&#x27;</span></span><br><span class="line">    get_query_url = <span class="string">&#x27;http://yqtb.nwpu.edu.cn/wx/ry/jrsb.jsp&#x27;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;Accept-Language&#x27;</span>: <span class="string">&#x27;zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;user-agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &#x27;</span></span><br><span class="line">                      <span class="string">&#x27;Chrome/96.0.4664.110 Safari/537.36 Edg/96.0.1054.62&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&#x27;username&#x27;</span>: sno,</span><br><span class="line">        <span class="string">&#x27;password&#x27;</span>: pwd,</span><br><span class="line">        <span class="string">&#x27;currentMenu&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;execution&#x27;</span>: <span class="string">&#x27;e1s1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;_eventId&#x27;</span>: <span class="string">&#x27;submit&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;geolocation&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;submit&#x27;</span>: <span class="string">&#x27;ç¨ç­‰ç‰‡åˆ»â€¦â€¦&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–CASç³»ç»ŸSESSION</span></span><br><span class="line">    <span class="comment"># è¿™ä¸€æ­¥æ˜¯å¿…é¡»çš„ è¦è·å–cookie</span></span><br><span class="line">    s.get(login_url, headers=headers)</span><br><span class="line">    <span class="comment"># ç™»å½•</span></span><br><span class="line">    s.post(login_url, headers=headers, data=data)</span><br><span class="line">    <span class="comment"># è¿™ä¸€æ­¥è²Œä¼¼å¹¶ä¸æ˜¯å¿…è¦çš„ é€šè¿‡postæäº¤ä¸€ä¸ªæ•°æ®</span></span><br><span class="line">    s.post(be_student_url, headers=headers, data=&#123;<span class="string">&#x27;actionType&#x27;</span>: <span class="string">&#x27;getRoles&#x27;</span>&#125;)</span><br><span class="line">    <span class="comment"># è¿™ä¸€æ­¥æ˜¯è·å¾—å§“åä¿¡æ¯</span></span><br><span class="line">    name_info = s.get(get_name_url, headers=headers).text</span><br><span class="line">    name = re.search(<span class="string">r&#x27;å§“åï¼š(.*)&lt;&#x27;</span>, name_info).group(<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># è·å¾—æŸ¥è¯¢å‚æ•° è¿™æ˜¯ä¹‹å‰æ²¡æœ‰çš„</span></span><br><span class="line">    query_info = s.get(get_query_url, headers=headers).text</span><br><span class="line">    info = re.search(<span class="string">r&#x27;sign=(.*?)&amp;timeStamp=(\d*)&#x27;</span>, query_info)</span><br><span class="line">    <span class="comment"># æŸ¥è¯¢å‚æ•°</span></span><br><span class="line">    sign = info.group(<span class="number">1</span>)</span><br><span class="line">    timestamp = info.group(<span class="number">2</span>)</span><br><span class="line">    <span class="comment"># postè¯·æ±‚æäº¤ æ³¨æ„,urlåé¢çš„å‚æ•°å¯ä»¥å¿½ç•¥</span></span><br><span class="line">    post_url = <span class="string">&#x27;http://yqtb.nwpu.edu.cn/wx/ry/ry_util.jsp?&#x27;</span> + info.group()</span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;sign&#x27;</span>: sign,</span><br><span class="line">        <span class="string">&#x27;timeStamp&#x27;</span>: timestamp</span><br><span class="line">    &#125;</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&#x27;hsjc&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;xasymt&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;actionType&#x27;</span>: <span class="string">&#x27;addRbxx&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;userLoginId&#x27;</span>: sno,</span><br><span class="line">        <span class="string">&#x27;szcsbm&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;bdzt&#x27;</span>: <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;szcsmc&#x27;</span>: <span class="string">&#x27;åœ¨å­¦æ ¡&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;sfyzz&#x27;</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;sfqz&#x27;</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;tbly&#x27;</span>: <span class="string">&#x27;sso&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;qtqksm&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;ycqksm&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;userType&#x27;</span>: <span class="string">&#x27;2&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;userName&#x27;</span>: name,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"># è¿™é‡Œè¦åŠ ä¸€ä¸‹è¯·æ±‚æº å¿…è¦</span></span><br><span class="line">    headers.update(&#123;</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;http://yqtb.nwpu.edu.cn/wx/ry/jrsb.jsp&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Origin&#x27;</span>: <span class="string">&#x27;http://yqtb.nwpu.edu.cn&#x27;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    r = s.post(post_url, headers=headers, data=data, params=params)</span><br><span class="line">    r = json.loads(r.text)</span><br><span class="line">    <span class="keyword">if</span> r[<span class="string">&#x27;state&#x27;</span>] == <span class="string">&quot;1&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;æˆåŠŸ&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    sno = <span class="built_in">input</span>(<span class="string">&#x27;è¾“å…¥ä½ çš„å­¦å·&#x27;</span>)</span><br><span class="line">    pwd = <span class="built_in">input</span>(<span class="string">&#x27;è¾“å…¥ä½ çš„å¯†ç &#x27;</span>)</span><br><span class="line">    login(sno,pwd)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å­¦ä¹ èµ„æ–™"><a href="#å­¦ä¹ èµ„æ–™" class="headerlink" title="å­¦ä¹ èµ„æ–™"></a>å­¦ä¹ èµ„æ–™</h2><p><a href="https://www.bilibili.com/video/BV1Mu411D7rD">JSé€†å‘ç ´è§£_å“”å“©å“”å“©_bilibili</a></p><p>è¿™æ˜¯å¶ç„¶çœ‹åˆ°çš„,æ„Ÿè§‰æŒºä¸é”™,æ— èŠæ—¶å¯ä»¥çœ‹çœ‹</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> requests </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vueå­¦ä¹ </title>
      <link href="2021/12/31/vue%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/12/31/vue%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ç†æ‰€å½“ç„¶çš„å¼€å§‹å­¦æ¡†æ¶,vue3.x<br><span id="more"></span></p><p>Vue.js çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå…è®¸é‡‡ç”¨ç®€æ´çš„æ¨¡æ¿è¯­æ³•æ¥å£°æ˜å¼åœ°å°†æ•°æ®æ¸²æŸ“è¿› DOM çš„ç³»ç»Ÿ</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>è¿˜æ˜¯ä¸‰ç§æ–¹æ³•</p><p>ä¸‹è½½æ–‡ä»¶æœ¬åœ°ç”¨,CDNå’Œnpm</p><p>ç„¶åéœ€è¦è„šæ‰‹æ¶. vue-cli</p><p>ä½¿ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g @vue/cli</span><br></pre></td></tr></table></figure><p>å®˜æ–¹å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ç”¨äºå¿«é€Ÿæ­å»ºå¤§å‹å•é¡µåº”ç”¨</p><h2 id="å¼€å§‹é¡¹ç›®"><a href="#å¼€å§‹é¡¹ç›®" class="headerlink" title="å¼€å§‹é¡¹ç›®"></a>å¼€å§‹é¡¹ç›®</h2><p>è¿™æ ·å°±å¼€å§‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack projectname</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093941.png" alt="image-20211231162223916"></p><p>ç„¶åä¼šè¿›è¡Œä¸€ç³»åˆ—é…ç½®,ç°åœ¨å¯ä»¥éƒ½é€‰no,åé¢å†æ”¹.</p><p>ç„¶åè¿›å…¥é¡¹ç›® </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br><span class="line">æˆ–è€… </span><br><span class="line">npm run start</span><br></pre></td></tr></table></figure><p>ä¼šåœ¨8080ç«¯å£å¼€å¯æœåŠ¡,æ³¨æ„ä¹Ÿå¯ä»¥å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹æ¢ç«¯å£.</p><p>è¿™æ˜¯å¼€å§‹ä¸€ä¸ªvueé¡¹ç›®.é€šè¿‡vueè¿™ä¸ªå‘½ä»¤è¡Œå¯¹äºæ„å»ºvueé¡¹ç›®æœ‰å¾ˆå¤šå¸®åŠ©.</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä¸ç”¨,ç›´æ¥å¼•å…¥vue.jså³å¯.åŒæ—¶èœé¸Ÿæ•™ç¨‹æ¨èäº†Viteå·¥å…·ä½¿ç”¨npmä¸‹è½½</p><h3 id="MVVMæ¨¡å¼"><a href="#MVVMæ¨¡å¼" class="headerlink" title="MVVMæ¨¡å¼"></a>MVVMæ¨¡å¼</h3><p>Mï¼šModel å³æ•°æ®é€»è¾‘å¤„ç†</p><p>Vï¼šView å³è§†å›¾ï¼ˆç”¨æˆ·ç•Œé¢ï¼‰</p><p>VMï¼šViewModel å³æ•°æ®è§†å›¾ï¼Œç”¨äºç›‘å¬æ›´æ–°ï¼ŒView ä¸ Model æ•°æ®çš„åŒå‘ç»‘å®š</p><p>æ‰€ä»¥ï¼ŒVue ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯æ•°æ®åŒå‘ç»‘å®šï¼Œå¦ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯å“åº”å¼.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>syl-vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- é€šè¿‡æ–¹å¼å¼•å…¥ vue.js --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.staticfile.org/vue/3.0.5/vue.global.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- æ•°æ®åŒå‘ç»‘å®š --&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">      <span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>, <span class="comment">//el: æŒ‚è½½ç‚¹</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">          <span class="comment">//data:æ•°æ®é€‰é¡¹</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">          <span class="attr">msg</span>: <span class="string">&#x27;hello&#x27;</span>,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;,</span></span></span><br><span class="line"><span class="javascript"><span class="xml">      &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="æ¨¡æ¿è¯­æ³•"><a href="#æ¨¡æ¿è¯­æ³•" class="headerlink" title="æ¨¡æ¿è¯­æ³•"></a>æ¨¡æ¿è¯­æ³•</h2><p>å…è®¸å¼€å‘è€…å£°æ˜å¼åœ°å°† DOM ç»‘å®šè‡³åº•å±‚ Vue å®ä¾‹çš„æ•°æ®ã€‚æ‰€æœ‰ Vue.js çš„æ¨¡æ¿éƒ½æ˜¯åˆæ³•çš„ HTML ï¼Œæ‰€ä»¥èƒ½è¢«éµå¾ªè§„èŒƒçš„æµè§ˆå™¨å’Œ HTML è§£æå™¨è§£æï¼Œé€šä¿—çš„è®² Vue æ¨¡æ¿è¯­æ³•å°±æ˜¯åœ¨ä½¿ç”¨ Vue.js å¼€å‘æ—¶ï¼Œä½ å¯ä»¥å†™åœ¨ HTML å…ƒç´ ä¸Šçš„æ“ä½œè¯­æ³•ï¼Œè®©ä½ å¼€å‘æ›´é«˜æ•ˆï¼Œä¾‹å¦‚ï¼šç»‘å®šæ ·å¼ï¼Œå¾ªç¯å‡ºå…ƒç´ åˆ—è¡¨ç­‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = &#123;</span><br><span class="line"><span class="function"><span class="title">data</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;<span class="comment">/*æ•°æ®*/</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">Vue.createApp(app).mount(<span class="string">&#x27;#app&#x27;</span>);</span><br></pre></td></tr></table></figure><p>mountç”¨äºæŒ‚è½½</p><p>dataæ˜¯ä¸€ä¸ªå‡½æ•°,åº”è¯¥è¿”å›ä¸€ä¸ªå¯¹è±¡,$dataå½¢å¼å­˜å‚¨åœ¨ç»„ä»¶å®ä¾‹ä¸­</p><ol><li>åŒå¤§æ‹¬å·</li></ol><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;&#125;&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä½¿ç”¨ <code>v-once</code> æŒ‡ä»¤ä½ ä¹Ÿèƒ½æ‰§è¡Œä¸€æ¬¡æ€§åœ°æ’å€¼ï¼Œå½“æ•°æ® <strong>æ”¹å˜æ—¶</strong>ï¼Œæ’å€¼å¤„çš„å†…å®¹ <strong>ä¸ä¼šæ›´æ–°</strong>ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œè¯¥å…ƒç´ èŠ‚ç‚¹ä¸‹é¢å…¶ä»–æ•°æ®çš„ç»‘å®šï¼Œæ•°æ®æ”¹å˜ï¼Œå†…å®¹ä¹Ÿä¸ä¼šæ›´æ–°ï¼Œæ‰€ä»¥ï¼Œæ³¨æ„ä»£ç å—çš„åˆ’åˆ†</p><ol><li><p>v-html</p><p>æ¸²æŸ“ä¸ºhtml</p></li></ol><p>3.v-bind  æ¸²æŸ“å±æ€§</p><p>4.v-on ç›‘å¬äº‹ä»¶</p><p>5.v-model</p><p>v-modelå°±æ˜¯<strong>vueçš„åŒå‘ç»‘å®šçš„æŒ‡ä»¤</strong>ï¼Œèƒ½å°†é¡µé¢ä¸Šæ§ä»¶è¾“å…¥çš„å€¼åŒæ­¥æ›´æ–°åˆ°ç›¸å…³ç»‘å®šçš„dataå±æ€§ï¼Œä¹Ÿä¼šåœ¨æ›´æ–°dataç»‘å®šå±æ€§æ—¶å€™ï¼Œæ›´æ–°é¡µé¢ä¸Šè¾“å…¥æ§ä»¶çš„å€¼</p><p>v-ifç­‰æŒ‡ä»¤</p><h3 id="methods"><a href="#methods" class="headerlink" title="methods"></a>methods</h3><p>ç»„ä»¶ä¸­æ·»åŠ æ–¹æ³•ï¼Œä½¿ç”¨ <strong>methods</strong> é€‰é¡¹ï¼Œè¯¥é€‰é¡¹åŒ…å«äº†æ‰€éœ€æ–¹æ³•çš„å¯¹è±¡</p><h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- å®Œæ•´è¯­æ³• --&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- ç¼©å†™ --&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> @<span class="attr">click</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- åŠ¨æ€å‚æ•°çš„ç¼©å†™ (<span class="number">2.6</span><span class="number">.0</span>+) --&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> @[<span class="attr">event</span>]=<span class="string">&quot;doSomething&quot;</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h3><ul><li>äº‹ä»¶ä¿®é¥°ç¬¦</li><li>æŒ‰é”®ä¿®é¥°ç¬¦</li><li>ç³»ç»Ÿä¿®é¥°ç¬¦</li></ul><p>ä¿®é¥°ç¬¦æ˜¯ä»¥åŠè§’å¥å· <strong>.</strong> æŒ‡æ˜çš„ç‰¹æ®Šåç¼€ï¼Œç”¨äºæŒ‡å‡ºä¸€ä¸ªæŒ‡ä»¤åº”è¯¥ä»¥ç‰¹æ®Šæ–¹å¼ç»‘å®š</p><p>v-bindä¸v-onç®€å†™</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a <span class="symbol">:href=<span class="string">&quot;&quot;</span>&gt;&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- å®Œæ•´è¯­æ³• --&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;!-- ç¼©å†™ --&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;handleClick&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>v-if</p><p>v-else</p><p>v-else-if</p><p>v-show</p><h2 id="è®¡ç®—å±æ€§"><a href="#è®¡ç®—å±æ€§" class="headerlink" title="è®¡ç®—å±æ€§"></a>è®¡ç®—å±æ€§</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line"><span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="comment">//return ...</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="comment">//this.</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æƒ°æ€§</p><h2 id="ä¾¦å¬å±æ€§"><a href="#ä¾¦å¬å±æ€§" class="headerlink" title="ä¾¦å¬å±æ€§"></a>ä¾¦å¬å±æ€§</h2><p>watchå…³é”®å­—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">watch:&#123;</span><br><span class="line"><span class="attr">msg</span>:<span class="function"><span class="title">funciton</span>(<span class="params"><span class="keyword">new</span>,old</span>)</span>&#123;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h2><p>åœ¨ Vue ä¸­æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸“é—¨å¤„ç†æ•°æ®è¿‡æ»¤çš„ä¸œè¥¿ï¼šè¿‡æ»¤å™¨ã€‚è¿‡æ»¤å™¨å¯ä»¥ç”¨åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼š<strong>åŒèŠ±æ‹¬å·æ’å€¼å’Œ v-bind è¡¨è¾¾å¼</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;msg2|getString&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-bind:class</span>=<span class="string">&quot;msg2|getString&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span> = <span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span> = <span class="string">&quot;font-size:25px;&quot;</span>&gt;</span>è®¡æ•°å™¨: &#123;&#123; counter &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span> = <span class="string">&quot;counter++&quot;</span> <span class="attr">style</span> = <span class="string">&quot;font-size:25px;&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> app = &#123;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">counter</span>: <span class="number">1</span></span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">vm = Vue.createApp(app).mount(<span class="string">&#x27;#app&#x27;</span>)</span></span><br><span class="line"><span class="javascript">vm.$watch(<span class="string">&#x27;counter&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">nval, oval</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    alert(<span class="string">&#x27;è®¡æ•°å™¨å€¼çš„å˜åŒ– :&#x27;</span> + oval + <span class="string">&#x27; å˜ä¸º &#x27;</span> + nval + <span class="string">&#x27;!&#x27;</span>);</span></span><br><span class="line"><span class="javascript">&#125;);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="classä¸styleçš„ç»‘å®š"><a href="#classä¸styleçš„ç»‘å®š" class="headerlink" title="classä¸styleçš„ç»‘å®š"></a>classä¸styleçš„ç»‘å®š</h2><p>1.ç»™ <code>v-bind:class</code> ä¸€ä¸ªå¯¹è±¡ï¼Œä»¥åŠ¨æ€åœ°åˆ‡æ¢ class</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">:class</span>=<span class="string">&quot;&#123; &#x27;active&#x27;: isActive &#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åŒæ—¶è¿˜æœ‰æ•°ç»„ç»‘å®šæ³•</p><p>2.æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªæ•°ç»„ä¼ ç»™ <strong>v-bind:class</strong> </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;static&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;[activeClass, errorClass]&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>styleçš„ç»‘å®šæ–¹æ³•,åŒæ—¶ä¹Ÿæœ‰æ•°ç»„ä¸å¯¹è±¡çš„æ–¹æ³•.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; color: activeColor, fontSize: fontSize + &#x27;px&#x27; &#125;&quot;</span>&gt;</span>èœé¸Ÿæ•™ç¨‹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">div id=&quot;app&quot;&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">:style</span>=<span class="string">&quot;&#123; color: activeColor, fontSize: fontSize + &#x27;px&#x27; &#125;&quot;</span>&gt;</span>èœé¸Ÿæ•™ç¨‹<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰å¾ˆå¤šä¸œè¥¿,åº”è¯¥å¯ä»¥çœ‹äº†å®˜æ–¹æ–‡æ¡£.åé¢ç›´æ¥å®æˆ˜ç®—äº†.</p><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>é¸½äº†å¤ªä¹…äº†â€¦</p>]]></content>
      
      
      
        <tags>
            
            <tag> vue3.x </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jQureyç»§ç»­å­¦ä¹ </title>
      <link href="2021/12/30/jQurey%E7%BB%A7%E7%BB%AD%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/12/30/jQurey%E7%BB%A7%E7%BB%AD%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æ¥ç€ä¸Šæ¬¡çš„ç»§ç»­<br><span id="more"></span></p><p>jQueryå¯¹è¡¨å•è¡¨æ ¼çš„æ“ä½œ</p><p>è¡¨å•åœ¨ç½‘é¡µä¸­ä¸»è¦è´Ÿè´£æ•°æ®é‡‡é›†åŠŸèƒ½ã€‚ä¸€ä¸ªè¡¨å•æœ‰ä¸‰ä¸ªåŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼š</p><ul><li>è¡¨å•æ ‡ç­¾ï¼šè¿™é‡Œé¢åŒ…å«äº†å¤„ç†è¡¨å•æ•°æ®æ‰€ç”¨ CGI ç¨‹åºçš„ URL ä»¥åŠæ•°æ®æäº¤åˆ°æœåŠ¡å™¨çš„æ–¹æ³•ã€‚</li><li>è¡¨å•åŸŸï¼šåŒ…å«äº†æ–‡æœ¬æ¡†ã€å¯†ç æ¡†ã€éšè—åŸŸã€å¤šè¡Œæ–‡æœ¬æ¡†ã€å¤é€‰æ¡†ã€å•é€‰æ¡†ã€ä¸‹æ‹‰é€‰æ‹©æ¡†å’Œæ–‡ä»¶ä¸Šä¼ æ¡†ç­‰ã€‚</li><li>è¡¨å•æŒ‰é’®ï¼šåŒ…æ‹¬æäº¤æŒ‰é’®ã€å¤ä½æŒ‰é’®å’Œä¸€èˆ¬æŒ‰é’®ï¼›ç”¨äºå°†æ•°æ®ä¼ é€åˆ°æœåŠ¡å™¨ä¸Šçš„ CGI è„šæœ¬æˆ–è€…å–æ¶ˆè¾“å…¥ï¼Œè¿˜å¯ä»¥ç”¨è¡¨å•æŒ‰é’®æ¥æ§åˆ¶å…¶ä»–å®šä¹‰äº†å¤„ç†è„šæœ¬çš„å¤„ç†å·¥ä½œã€‚</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jqueryå­¦ä¹ </title>
      <link href="2021/12/30/jquery%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/12/30/jquery%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>è™½ç„¶æœ‰å¾ˆå¤šäººè¯´jqueryä¸å¤ªå¸¸ç”¨äº†,ä½†è¿˜æ˜¯æœ‰å¿…è¦æŒæ¡ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†çš„<br><span id="more"></span></p><h2 id="ä»‹ç»jQuery"><a href="#ä»‹ç»jQuery" class="headerlink" title="ä»‹ç»jQuery"></a>ä»‹ç»jQuery</h2><p>jQuery æ˜¯å¼€æºè½¯ä»¶ï¼Œä½¿ç”¨ MIT è®¸å¯è¯æˆæƒã€‚jQuery çš„è¯­æ³•è®¾è®¡ä½¿å¾—è®¸å¤šæ“ä½œå˜å¾—å®¹æ˜“ï¼Œå¦‚æ“ä½œæ–‡æ¡£å¯¹è±¡ï¼ˆdocumentï¼‰ã€é€‰æ‹©æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰å…ƒç´ ã€åˆ›å»ºåŠ¨ç”»æ•ˆæœã€å¤„ç†äº‹ä»¶ã€ä»¥åŠå¼€å‘ Ajax ç¨‹åºã€‚jQuery ä¹Ÿç»™å¼€å‘äººå‘˜æä¾›äº†åœ¨å…¶ä¸Šåˆ›å»ºæ’ä»¶çš„èƒ½åŠ›ã€‚è¿™ä½¿å¼€å‘äººå‘˜å¯ä»¥å¯¹åº•å±‚äº¤äº’ä¸åŠ¨ç”»ã€é«˜çº§æ•ˆæœå’Œé«˜çº§ä¸»é¢˜åŒ–çš„ç»„ä»¶è¿›è¡ŒæŠ½è±¡åŒ–ã€‚æ¨¡å—åŒ–çš„æ–¹å¼ä½¿ jQuery å‡½æ•°åº“èƒ½å¤Ÿåˆ›å»ºåŠŸèƒ½å¼ºå¤§çš„åŠ¨æ€ç½‘é¡µä»¥åŠç½‘ç»œåº”ç”¨ç¨‹åºã€‚</p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><ol><li>ä»å®˜ç½‘ä¸‹è½½,åœ¨æœ¬åœ°å¯¼å…¥ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨npmæˆ–è€…yarn,browerç­‰ä¸‹è½½</li><li>ä»CDNä¸­è½½å…¥</li></ol><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><p>åŸºæœ¬å°±æ˜¯é€šè¿‡æŸç§é€‰æ‹©è§„åˆ™é€‰æ‹©æŸäº›å…ƒç´ ç„¶åå¯¹è¿™äº›å…ƒç´ æ‰§è¡ŒæŸäº›æ“ä½œ.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(selector).action()</span><br></pre></td></tr></table></figure><h3 id="æ–‡æ¡£å°±ç»ªäº‹ä»¶"><a href="#æ–‡æ¡£å°±ç»ªäº‹ä»¶" class="headerlink" title="æ–‡æ¡£å°±ç»ªäº‹ä»¶"></a>æ–‡æ¡£å°±ç»ªäº‹ä»¶</h3><p>ä¸ºäº†é˜²æ­¢jqueryåœ¨htmlåŠ è½½ä¹‹å‰æ‰å¼€å§‹æ‰§è¡Œ,ä¹Ÿå°±æ˜¯å½“htmlåŠ è½½åæ‰§è¡Œjquery.</p><p>é€‰æ‹©å™¨ä»¥$()å¼€å§‹</p><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><p><img data-src="http://cdn.sekyoro.top/imgs/092957.png" alt="image-20211230151703453"></p><p>é€‰æ‹©å™¨é‡‡ç”¨cssç±»å‹</p><h2 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h2><p>é¡µé¢å¯¹ä¸åŒè®¿é—®è€…çš„å“åº”å«åšäº‹ä»¶ã€‚</p><p>äº‹ä»¶å¤„ç†ç¨‹åºæŒ‡çš„æ˜¯å½“ HTML ä¸­å‘ç”ŸæŸäº›äº‹ä»¶æ—¶æ‰€è°ƒç”¨çš„æ–¹æ³•ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/092959.png" alt="image-20211230152902896"></p><h3 id="äº‹ä»¶ç»‘å®š"><a href="#äº‹ä»¶ç»‘å®š" class="headerlink" title="äº‹ä»¶ç»‘å®š"></a>äº‹ä»¶ç»‘å®š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">on()     å‘å…ƒç´ æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºï¼ˆ<span class="string">`è‡ª jQuery ç‰ˆæœ¬ 1.7 èµ·ï¼Œon() æ–¹æ³•æ˜¯å‘è¢«é€‰å…ƒç´ æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºçš„é¦–é€‰æ–¹æ³•ã€‚`</span>ï¼‰</span><br><span class="line">one()    å‘è¢«é€‰å…ƒç´ æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºã€‚è¯¥å¤„ç†ç¨‹åºåªèƒ½è¢«æ¯ä¸ªå…ƒç´ è§¦å‘ä¸€æ¬¡</span><br></pre></td></tr></table></figure><p>å¦‚éœ€ç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åºï¼Œè¯·ä½¿ç”¨ <code>off()</code> æ–¹æ³•.</p><p>ç®€å†™ç»‘å®šäº‹ä»¶</p><p>åƒ <code>click</code>ï¼Œ<code>mouseover</code> å’Œ <code>mouseout</code> è¿™ç±»äº‹ä»¶ï¼Œç»å¸¸ä¼šç”¨åˆ°ï¼ŒjQuery ä¸ºæ­¤æä¾›äº†ä¸€å¥—ç®€å†™çš„æ–¹æ³•ï¼Œä½¿å¾—èƒ½å¤Ÿå‡å°‘ä»£ç é‡.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">     $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">       $(<span class="string">&#x27;ul li&#x27;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">         $(<span class="built_in">this</span>).clone().appendTo(<span class="string">&#x27;ul&#x27;</span>);</span><br><span class="line">       &#125;);</span><br><span class="line">     &#125;);</span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="åˆæˆäº‹ä»¶"><a href="#åˆæˆäº‹ä»¶" class="headerlink" title="åˆæˆäº‹ä»¶"></a>åˆæˆäº‹ä»¶</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(selector).hover(infunction.outfunction)</span><br></pre></td></tr></table></figure><h3 id="äº‹ä»¶å†’æ³¡"><a href="#äº‹ä»¶å†’æ³¡" class="headerlink" title="äº‹ä»¶å†’æ³¡"></a>äº‹ä»¶å†’æ³¡</h3><p>å½“äº‹ä»¶å‘ç”Ÿåï¼Œè¿™ä¸ªäº‹ä»¶å°±è¦å¼€å§‹ä¼ æ’­(ä»é‡Œåˆ°å¤–æˆ–è€…ä»å¤–å‘é‡Œ)ã€‚ä¸ºä»€ä¹ˆè¦ä¼ æ’­å‘¢ï¼Ÿå› ä¸ºäº‹ä»¶æºæœ¬èº«ï¼ˆå¯èƒ½ï¼‰å¹¶æ²¡æœ‰å¤„ç†äº‹ä»¶çš„èƒ½åŠ›ï¼Œå³å¤„ç†äº‹ä»¶çš„å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰å¹¶æœªç»‘å®šåœ¨è¯¥äº‹ä»¶æºä¸Šã€‚ä¾‹å¦‚æˆ‘ä»¬ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ª click äº‹ä»¶ï¼Œä½†è¿™ä¸ªæŒ‰é’®æœ¬èº«å¯èƒ½ä¸èƒ½å¤„ç†è¿™ä¸ªäº‹ä»¶ï¼Œäº‹ä»¶å¿…é¡»ä»è¿™ä¸ªæŒ‰é’®ä¼ æ’­å‡ºå»ï¼Œä»è€Œåˆ°è¾¾èƒ½å¤Ÿå¤„ç†è¿™ä¸ªäº‹ä»¶çš„ä»£ç ä¸­ï¼ˆä¾‹å¦‚æˆ‘ä»¬ç»™æŒ‰é’®çš„ onclick å±æ€§èµ‹ä¸€ä¸ªå‡½æ•°çš„åå­—ï¼Œå°±æ˜¯è®©è¿™ä¸ªå‡½æ•°å»å¤„ç†è¯¥æŒ‰é’®çš„ click äº‹ä»¶ï¼‰ï¼Œæˆ–è€…æŒ‰é’®çš„çˆ¶çº§ç»‘å®šæœ‰äº‹ä»¶å‡½æ•°ï¼Œå½“è¯¥ç‚¹å‡»äº‹ä»¶å‘ç”Ÿåœ¨æŒ‰é’®ä¸Šï¼ŒæŒ‰é’®æœ¬èº«å¹¶æ— å¤„ç†äº‹ä»¶å‡½æ•°ï¼Œåˆ™ä¼ æ’­åˆ°çˆ¶çº§å»å¤„ç†ã€‚</p><p>æœ‰æ—¶éœ€è¦é˜»æ­¢äº‹ä»¶å†’æ³¡.</p><p>åœ¨ jQuery ä¸­æä¾›äº† <code>event.stopPropagation()</code> æ–¹æ³•æ¥åœæ­¢å†’æ³¡</p><p>é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼šç½‘é¡µä¸­çš„å…ƒç´ éƒ½æœ‰è‡ªå·±é»˜è®¤çš„è¡Œä¸ºã€‚æ¯”å¦‚å•å‡»è¶…é“¾æ¥åä¼šè·³è½¬ï¼Œå•å‡»â€œæäº¤â€æŒ‰é’®åè¡¨å•ä¼šæäº¤ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦é˜»æ­¢å…ƒç´ çš„é»˜è®¤è¡Œä¸ºã€‚åœ¨ jQuery ä¸­æä¾›äº† <code>event.preventDefault()</code> æ–¹æ³•é˜»æ­¢å…ƒç´ å‘ç”Ÿé»˜è®¤çš„è¡Œä¸ºã€‚ä½¿ç”¨ <code>event.isDefaultPrevented()</code> æ–¹æ³•æ¥æ£€æŸ¥æŒ‡å®šçš„äº‹ä»¶ä¸Šæ˜¯å¦è°ƒç”¨äº† <code>preventDefault()</code> æ–¹æ³•</p><h4 id="äº‹ä»¶å¯¹è±¡çš„å±æ€§"><a href="#äº‹ä»¶å¯¹è±¡çš„å±æ€§" class="headerlink" title="äº‹ä»¶å¯¹è±¡çš„å±æ€§"></a>äº‹ä»¶å¯¹è±¡çš„å±æ€§</h4><ol><li><p>event.type</p></li><li><p>event.stopPropagation</p></li><li><p>event.preventDefault</p></li><li><p>event.target</p></li><li><p>event.pageX event.pageY</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">    $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      $(<span class="built_in">document</span>).mousemove(<span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">        $(<span class="string">&#x27;span&#x27;</span>).text(<span class="string">&#x27;X: &#x27;</span> + event.pageX + <span class="string">&#x27;, Y: &#x27;</span> + event.pageY);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡æ‹Ÿæ“ä½œ"><a href="#æ¨¡æ‹Ÿæ“ä½œ" class="headerlink" title="æ¨¡æ‹Ÿæ“ä½œ"></a>æ¨¡æ‹Ÿæ“ä½œ</h3><p>åœ¨ jQuery ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>trigger()</code> æ–¹æ³•æ¥å®Œæˆæ¨¡æ‹Ÿæ“ä½œ</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(selector).trigger(event,param1,param2,...)</span><br></pre></td></tr></table></figure><p>è¿˜å¯ä»¥è§¦å‘è‡ªå®šä¹‰äº‹ä»¶</p><p>å…ˆåœ¨æŸå¯¹è±¡ä¸Šonæˆ–oneå®šä¹‰ä¸€ä¸ªäº‹ä»¶,ç„¶åå»triggerè§¦å‘.</p><h4 id="ä¼ é€’æ•°æ®"><a href="#ä¼ é€’æ•°æ®" class="headerlink" title="ä¼ é€’æ•°æ®"></a>ä¼ é€’æ•°æ®</h4><p><code>trigger(type,[data])</code> æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ 1 ä¸ªå‚æ•°æ˜¯è¦è§¦å‘çš„äº‹ä»¶ç±»å‹ï¼Œç¬¬ 2 ä¸ªå‚æ•°æ˜¯è¦ä¼ é€’ç»™å¤„ç†å‡½æ•°çš„é™„åŠ æ•°æ®ï¼Œä»¥æ•°ç»„å½¢å¼ä¼ é€’ã€‚é€šå¸¸å¯ä»¥ä¼ é€’ä¸€ä¸ªå‚æ•°ç»™å›è°ƒå‡½æ•°æ¥åŒºåˆ«è¿™æ¬¡äº‹ä»¶æ˜¯ä»£ç è§¦å‘çš„è¿˜æ˜¯ç”¨æˆ·è§¦å‘çš„</p><h4 id="æ‰§è¡Œé»˜è®¤æ“ä½œ"><a href="#æ‰§è¡Œé»˜è®¤æ“ä½œ" class="headerlink" title="æ‰§è¡Œé»˜è®¤æ“ä½œ"></a>æ‰§è¡Œé»˜è®¤æ“ä½œ</h4><p><code>trigger()</code> æ–¹æ³•è§¦å‘äº‹ä»¶åï¼Œä¼šæ‰§è¡Œæµè§ˆå™¨é»˜è®¤æ“ä½œã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;input&#x27;</span>).trigger(<span class="string">&#x27;focus&#x27;</span>);</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¸ä»…ä¼šè§¦å‘ä¸º input å…ƒç´ ç»‘å®šçš„ foucs äº‹ä»¶ï¼Œä¹Ÿä¼šä½¿ input å…ƒç´ æœ¬èº«å¾—åˆ°ç„¦ç‚¹ï¼ˆæµè§ˆå™¨çš„é»˜è®¤æ“ä½œï¼‰ã€‚å¦‚æœæˆ‘ä»¬åªæƒ³è§¦å‘ç»‘å®šçš„ focus äº‹ä»¶ï¼Œè€Œä¸æƒ³æ‰§è¡Œæµè§ˆå™¨é»˜è®¤æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>triggerHandler()</code> æ–¹æ³•ã€‚å®ƒä»¬ä¹‹é—´çš„ä¸åŒä¹‹å¤„æœ‰ï¼š</p><ul><li><code>triggerHandler()</code> ä¸è§¦å‘äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚ï¼ˆæ¯”å¦‚è¡¨å•æäº¤ï¼‰</li><li><code>.trigger()</code> ä¼šæ“ä½œ jQuery å¯¹è±¡åŒ¹é…çš„æ‰€æœ‰å…ƒç´ ï¼Œè€Œ <code>.triggerHandler()</code> åªå½±å“ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ ã€‚</li><li>ç”± <code>.triggerHandler()</code> åˆ›å»ºçš„äº‹ä»¶ä¸ä¼šåœ¨ DOM æ ‘ä¸­å†’æ³¡ï¼›å¦‚æœç›®æ ‡å…ƒç´ ä¸ç›´æ¥å¤„ç†å®ƒä»¬ï¼Œåˆ™ä¸ä¼šå‘ç”Ÿä»»ä½•äº‹æƒ…ã€‚</li></ul><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>jQueryå¯¹è±¡ä¸DOMå¯¹è±¡</p><p>å‰è€…æ˜¯åˆ©ç”¨jQueryæ–¹å¼é€‰æ‹©å‡ºæ¥çš„å¯¹è±¡,åè€…æ˜¯åŸç”Ÿjs getDocumentBy..è¿™ç§å¾—åˆ°çš„.</p><p>ä¸¤è€…çš„ç›¸äº’è½¬æ¢é€šè¿‡[0]ä¸$().</p><p>å€¼å¾—ä¸€æçš„æ˜¯$()è¿™ä¸ªä¸œè¥¿.å°±æ˜¯ä¸€ä¸ªjQueryå¯¹è±¡åˆ¶é€ å·¥å‚.</p><h3 id="é¿å…å†²çª"><a href="#é¿å…å†²çª" class="headerlink" title="é¿å…å†²çª"></a>é¿å…å†²çª</h3><p>$è¿™ä¸ªç¬¦å·å®¹æ˜“ä¸å…¶ä»–åº“çš„ç¬¦å·å†²çª.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$.noConflict()</span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨jQuery()ä»£æ›¿å³å¯.</p><p>ä¹Ÿå¯ä»¥è¿›è¡Œèµ‹å€¼ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jq = $.noConflict();</span><br><span class="line">jq();</span><br></pre></td></tr></table></figure><h2 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h2><p>éœ€è¦æ³¨æ„ä½¿ç”¨jQueryé€‰æ‹©å™¨ä¸èƒ½ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>($(<span class="string">&#x27;selector&#x27;</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼åˆ¤æ–­.</p><p>è€Œåº”è¯¥æ ¹æ®è·å–åˆ°å…ƒç´ çš„é•¿åº¦æ¥åˆ¤æ–­ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ($(<span class="string">&#x27;#syl&#x27;</span>).length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è€…è½¬åŒ–æˆ DOM å¯¹è±¡æ¥åˆ¤æ–­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ($(<span class="string">&#x27;#syl&#x27;</span>)[<span class="number">0</span>]) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŸºæœ¬é€‰æ‹©å™¨"><a href="#åŸºæœ¬é€‰æ‹©å™¨" class="headerlink" title="åŸºæœ¬é€‰æ‹©å™¨"></a>åŸºæœ¬é€‰æ‹©å™¨</h3><p>é€šè¿‡class id tag</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;#&#x27;</span>)  $(<span class="string">&#x27;.&#x27;</span>)  $(<span class="string">&#x27;tagname&#x27;</span>)</span><br></pre></td></tr></table></figure><p>è°ƒç”¨ jQuery() (æˆ– $()) å¸¦ä¸Šä¸€ä¸ªé€‰æ‹©å™¨ä½œä¸ºå®ƒçš„å‚æ•°ï¼Œå°†è¿”å›ä¸€ä¸ª jQuery å¯¹è±¡åŒ…å«é›¶ä¸ªæˆ–ä¸€ä¸ª DOM å…ƒç´ çš„é›†åˆ.</p><p>æ¯ä¸ª id å€¼åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚å¦‚æœå¤šä¸ªå…ƒç´ åˆ†é…äº†ç›¸åŒçš„ IDï¼Œå°†åªåŒ¹é…è¯¥ ID é€‰æ‹©é›†åˆçš„ç¬¬ä¸€ä¸ª DOM å…ƒç´ ã€‚ä½†è¿™ç§è¡Œä¸ºä¸åº”è¯¥å‘ç”Ÿ;æœ‰è¶…è¿‡ä¸€ä¸ªå…ƒç´ çš„æ–‡ä»¶ä½¿ç”¨ç›¸åŒçš„ ID æ˜¯æ— æ•ˆçš„ã€‚</p><p>å¦‚æœ ID åŒ…å«ç‚¹å·æˆ–å†’å·,å¿…é¡»å°†è¿™äº›å­—ç¬¦ç”¨åæ–œæ è½¬ä¹‰</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨$(â€˜*â€™)é€‰æ‹©æ‰€æœ‰.</p><p>å¤šé€‰ $(â€˜selector1,selector2,â€¦â€™)</p><h3 id="å±‚æ¬¡é€‰æ‹©å™¨"><a href="#å±‚æ¬¡é€‰æ‹©å™¨" class="headerlink" title="å±‚æ¬¡é€‰æ‹©å™¨"></a>å±‚æ¬¡é€‰æ‹©å™¨</h3><ol><li>é€‰æ‹©ä¸€ä¸ªå…ƒç´ ä¸‹çš„æ‰€æœ‰å…ƒç´ </li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;ancestor descendant&#x27;</span>)</span><br></pre></td></tr></table></figure><ol><li>é€‰æ‹©ç›´æ¥å­å…ƒç´ </li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;ancesotr &gt; child&#x27;</span>)</span><br></pre></td></tr></table></figure><ol><li>é€‰æ‹©åœ¨æŸå…ƒç´ åçš„åŒçº§åˆ«çš„å…ƒç´ </li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;prev + next&#x27;</span>)</span><br></pre></td></tr></table></figure><p><strong>åªèƒ½é€‰æ‹©ç¬¬ä¸€ä¸ª</strong></p><ol><li><p>é€‰æ‹©åŒçº§å…ƒç´ ä¹‹åçš„æ‰€æœ‰å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="string">&quot;prev ~ siblings&quot;</span>)</span><br></pre></td></tr></table></figure><p>åŒ¹é… â€œprevâ€ å…ƒç´ ä¹‹åçš„æ‰€æœ‰ å…„å¼Ÿå…ƒç´ ã€‚å…·æœ‰ç›¸åŒçš„çˆ¶å…ƒç´ ï¼Œå¹¶åŒ¹é…è¿‡æ»¤â€œsiblingsâ€é€‰æ‹©å™¨</p></li></ol><p><strong>æç¤º</strong>:åœ¨å±‚æ¬¡é€‰æ‹©å™¨ä¸­ï¼Œç¬¬ 1 ä¸ªå’Œç¬¬ 2 ä¸ªé€‰æ‹©å™¨æ¯”è¾ƒå¸¸ç”¨ï¼Œè€Œåé¢ä¸¤ä¸ªå› ä¸ºåœ¨ jQuery é‡Œé¢å¯ä»¥ç”¨æ›´åŠ ç®€å•çš„æ–¹æ³•æ¥ä»£æ›¿ï¼Œæ‰€ä»¥ä½¿ç”¨çš„å‡ ç‡ç›¸å¯¹ä¼šå°‘äº›ï¼š</p><ul><li>å¯ä»¥ä½¿ç”¨ next() æ–¹æ³•æ¥ä»£æ›¿ $(â€˜prev+nextâ€™) é€‰æ‹©å™¨ã€‚æ¯”å¦‚ <code>$(&quot;.one + div);</code> å’Œ <code>$(&quot;.one&quot;).next(&quot;div&quot;);</code> æ˜¯ç­‰ä»·çš„ã€‚</li><li>å¯ä»¥ä½¿ç”¨ nextAll() æ–¹æ³•æ¥ä»£æ›¿ $(â€˜prev~siblingsâ€™) é€‰æ‹©å™¨ã€‚æ¯”å¦‚ <code>$(&quot;#prev~div&quot;);</code>å’Œ<code>$(&quot;#prev&quot;).nextAll(&quot;div&quot;);</code> æ˜¯ç­‰ä»·çš„ã€‚</li></ul><p>çŸ¥é“äº†next()ä»¥åŠnextAll()æ–¹æ³•å†è¯´ä¸€ä¸‹siblings()</p><p><code>$(&quot;#prev~div&quot;);</code> é€‰æ‹©å™¨åªèƒ½é€‰æ‹© â€œprevâ€ å…ƒç´ åé¢çš„åŒè¾ˆ div å…ƒç´ ï¼Œè€Œ siblings() æ–¹æ³•ä¸å‰åä½ç½®æ— å…³ï¼Œåªè¦æ˜¯åŒè¾ˆèŠ‚ç‚¹éƒ½èƒ½åŒ¹é…</p><h3 id="è¡¨å•é€‰æ‹©å™¨"><a href="#è¡¨å•é€‰æ‹©å™¨" class="headerlink" title="è¡¨å•é€‰æ‹©å™¨"></a>è¡¨å•é€‰æ‹©å™¨</h3><p>è¿™ä¸ªæ˜¯æ¯”è¾ƒé‡è¦çš„</p><ul><li>:input é€‰å–æ‰€æœ‰çš„ <code>&lt;input&gt; ã€&lt;textarea&gt;ã€&lt;select&gt; &lt;button&gt;</code>å…ƒç´ ã€‚</li><li>:text é€‰å–æ‰€æœ‰çš„å•è¡Œæ–‡æœ¬æ¡†ã€‚</li><li>:password é€‰å–æ‰€æœ‰çš„å¯†ç æ¡†</li><li>:radio é€‰å–æ‰€æœ‰çš„å•é€‰æ¡†</li><li>:checkbox é€‰å–æ‰€æœ‰çš„å¤šé€‰æ¡†</li><li>:submit é€‰å–æ‰€æœ‰çš„æäº¤æŒ‰é’®</li><li>:image é€‰å–æ‰€æœ‰çš„å›¾åƒ</li><li>:reset é€‰å–æ‰€æœ‰çš„é‡ç½®æŒ‰é’®</li><li>:button é€‰å–æ‰€æœ‰çš„æŒ‰é’®</li><li>:file é€‰å–æ‰€æœ‰çš„ä¸Šä¼ åŸŸ</li><li>:hidden é€‰å–æ‰€æœ‰ä¸å¯è§å…ƒç´ </li></ul><h3 id="è¿‡æ»¤é€‰æ‹©å™¨"><a href="#è¿‡æ»¤é€‰æ‹©å™¨" class="headerlink" title="è¿‡æ»¤é€‰æ‹©å™¨"></a>è¿‡æ»¤é€‰æ‹©å™¨</h3><h4 id="åŸºæœ¬è¿‡æ»¤é€‰æ‹©å™¨"><a href="#åŸºæœ¬è¿‡æ»¤é€‰æ‹©å™¨" class="headerlink" title="åŸºæœ¬è¿‡æ»¤é€‰æ‹©å™¨"></a>åŸºæœ¬è¿‡æ»¤é€‰æ‹©å™¨</h4><h4 id="å†…å®¹è¿‡æ»¤é€‰æ‹©å™¨"><a href="#å†…å®¹è¿‡æ»¤é€‰æ‹©å™¨" class="headerlink" title="å†…å®¹è¿‡æ»¤é€‰æ‹©å™¨"></a>å†…å®¹è¿‡æ»¤é€‰æ‹©å™¨</h4><h4 id="å¯è§æ€§è¿‡æ»¤é€‰æ‹©å™¨"><a href="#å¯è§æ€§è¿‡æ»¤é€‰æ‹©å™¨" class="headerlink" title="å¯è§æ€§è¿‡æ»¤é€‰æ‹©å™¨"></a>å¯è§æ€§è¿‡æ»¤é€‰æ‹©å™¨</h4><h4 id="å±æ€§è¿‡æ»¤é€‰æ‹©å™¨"><a href="#å±æ€§è¿‡æ»¤é€‰æ‹©å™¨" class="headerlink" title="å±æ€§è¿‡æ»¤é€‰æ‹©å™¨"></a>å±æ€§è¿‡æ»¤é€‰æ‹©å™¨</h4><h4 id="å­å…ƒç´ è¿‡æ»¤é€‰æ‹©å™¨"><a href="#å­å…ƒç´ è¿‡æ»¤é€‰æ‹©å™¨" class="headerlink" title="å­å…ƒç´ è¿‡æ»¤é€‰æ‹©å™¨"></a>å­å…ƒç´ è¿‡æ»¤é€‰æ‹©å™¨</h4><h4 id="è¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤é€‰æ‹©å™¨"><a href="#è¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤é€‰æ‹©å™¨" class="headerlink" title="è¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤é€‰æ‹©å™¨"></a>è¡¨å•å¯¹è±¡å±æ€§è¿‡æ»¤é€‰æ‹©å™¨</h4><p>è¿™ä¸€éƒ¨åˆ†ç›´æ¥çœ‹æ–‡æ¡£å§,å¤ªå¤šäº†,æ²¡å¿…è¦å»è®°.è¿™è·Ÿcssé€‰æ‹©å™¨ä¸€æ ·çš„.</p><h2 id="DOMæ“ä½œ"><a href="#DOMæ“ä½œ" class="headerlink" title="DOMæ“ä½œ"></a>DOMæ“ä½œ</h2><h4 id="æŸ¥æ‰¾ç»“ç‚¹"><a href="#æŸ¥æ‰¾ç»“ç‚¹" class="headerlink" title="æŸ¥æ‰¾ç»“ç‚¹"></a>æŸ¥æ‰¾ç»“ç‚¹</h4><p>æ–‡æœ¬</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $li = $(<span class="string">&#x27;ol li:eq(0)&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> li_text = $li.text();</span><br></pre></td></tr></table></figure><p>å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $para = $(<span class="string">&#x27;p&#x27;</span>); <span class="comment">//è·å–&lt;p&gt;èŠ‚ç‚¹ </span></span><br><span class="line"><span class="keyword">var</span> p_txt = $para.attr(<span class="string">&#x27;title&#x27;</span>); <span class="comment">//è·å–&lt;p&gt;å…ƒç´ èŠ‚ç‚¹å±æ€§title </span></span><br><span class="line">alert(p_txt); <span class="comment">//æ‰“å°titleå±æ€§å€¼</span></span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºèŠ‚ç‚¹"><a href="#åˆ›å»ºèŠ‚ç‚¹" class="headerlink" title="åˆ›å»ºèŠ‚ç‚¹"></a>åˆ›å»ºèŠ‚ç‚¹</h3><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="symbol">$li</span> = $(<span class="string">&#x27;&lt;li&gt;&lt;/li&gt;&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="symbol">$li</span> = $(<span class="string">&#x27;&lt;li&gt;test&lt;/li&gt;&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="symbol">$li</span> = $(<span class="string">&quot;&lt;li title=&#x27;test&#x27;&gt;Hello&lt;/li&gt;&quot;</span>)</span><br></pre></td></tr></table></figure><p>ç„¶åä½¿ç”¨append()</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;selector&#x27;</span>).append($li)</span><br></pre></td></tr></table></figure><h4 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h4><ul><li><code>.append()</code> åœ¨æ¯ä¸ªåŒ¹é…å…ƒç´ é‡Œé¢çš„æœ«å°¾å¤„æ’å…¥å‚æ•°å†…å®¹ã€‚</li><li><code>.appendTo()</code> å°†åŒ¹é…çš„å…ƒç´ æ’å…¥åˆ°ç›®æ ‡å…ƒç´ çš„æœ€åé¢ã€‚</li><li><code>.html()</code> è·å–é›†åˆä¸­ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ HTML å†…å®¹ è®¾ç½®æ¯ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ html å†…å®¹ã€‚</li><li><code>.prepend()</code> å°†å‚æ•°å†…å®¹æ’å…¥åˆ°æ¯ä¸ªåŒ¹é…å…ƒç´ çš„å‰é¢ï¼ˆå…ƒç´ å†…éƒ¨ï¼‰ã€‚</li><li><code>.prependTo()</code> å°†æ‰€æœ‰å…ƒç´ æ’å…¥åˆ°ç›®æ ‡å‰é¢ï¼ˆå…ƒç´ å†…ï¼‰ã€‚</li><li><code>.text()</code> å¾—åˆ°åŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„åˆå¹¶æ–‡æœ¬ï¼ŒåŒ…æ‹¬ä»–ä»¬çš„åä»£è®¾ç½®åŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„æ–‡æœ¬å†…å®¹ä¸ºæŒ‡å®šçš„æ–‡æœ¬å†…å®¹ã€‚</li></ul><ul><li><code>.after()</code> åœ¨åŒ¹é…å…ƒç´ é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ åé¢æ’å…¥å‚æ•°æ‰€æŒ‡å®šçš„å†…å®¹ï¼Œä½œä¸ºå…¶å…„å¼ŸèŠ‚ç‚¹ã€‚</li><li><code>.before()</code> æ ¹æ®å‚æ•°è®¾å®šï¼Œåœ¨åŒ¹é…å…ƒç´ çš„å‰é¢æ’å…¥å†…å®¹ã€‚</li><li><code>.insertAfter()</code> åœ¨ç›®æ ‡å…ƒç´ åé¢æ’å…¥é›†åˆä¸­æ¯ä¸ªåŒ¹é…çš„å…ƒç´ (æ³¨ï¼šæ’å…¥çš„å…ƒç´ ä½œä¸ºç›®æ ‡å…ƒç´ çš„å…„å¼Ÿå…ƒç´ )ã€‚</li><li><code>.insertBefore()</code> åœ¨ç›®æ ‡å…ƒç´ å‰é¢æ’å…¥é›†åˆä¸­æ¯ä¸ªåŒ¹é…çš„å…ƒç´ (æ³¨ï¼šæ’å…¥çš„å…ƒç´ ä½œä¸ºç›®æ ‡å…ƒç´ çš„å…„å¼Ÿå…ƒç´ )ã€‚</li></ul><h3 id="åˆ é™¤èŠ‚ç‚¹"><a href="#åˆ é™¤èŠ‚ç‚¹" class="headerlink" title="åˆ é™¤èŠ‚ç‚¹"></a>åˆ é™¤èŠ‚ç‚¹</h3><ol><li><p>detach()</p></li><li><p>empty()</p></li><li>remove()</li></ol><p>ä¸€èˆ¬ä½¿ç”¨remove,å¦‚æœåé¢è¿˜è¦åŠ ä¸Šå»å°±detach()</p><h3 id="å¤åˆ¶èŠ‚ç‚¹"><a href="#å¤åˆ¶èŠ‚ç‚¹" class="headerlink" title="å¤åˆ¶èŠ‚ç‚¹"></a>å¤åˆ¶èŠ‚ç‚¹</h3><p>clone() å¦‚æœä¼ é€’äº†å‚æ•°true,å¤åˆ¶å…ƒç´ æ—¶åŒæ—¶å¤åˆ¶æ‰€ç»‘å®šçš„å…ƒç´ </p><h4 id="æ›¿æ¢èŠ‚ç‚¹"><a href="#æ›¿æ¢èŠ‚ç‚¹" class="headerlink" title="æ›¿æ¢èŠ‚ç‚¹"></a>æ›¿æ¢èŠ‚ç‚¹</h4><p>.replaceAll()  é›†åˆçš„åŒ¹é…å…ƒç´ æ›¿æ¢æ¯ä¸ªç›®æ ‡å…ƒç´ </p><p>.replaceWith() ç”¨æä¾›çš„å†…å®¹æ›¿æ¢é›†åˆä¸­æ‰€æœ‰åŒ¹é…çš„å…ƒç´ å¹¶ä¸”è¿”å›è¢«åˆ é™¤å…ƒç´ çš„é›†åˆ</p><h4 id="åŒ…è£¹èŠ‚ç‚¹"><a href="#åŒ…è£¹èŠ‚ç‚¹" class="headerlink" title="åŒ…è£¹èŠ‚ç‚¹"></a>åŒ…è£¹èŠ‚ç‚¹</h4><p>.wrap()</p><p>æ¯ä¸ªåŒ¹é…çš„å…ƒç´ å¤–å±‚åŒ…ä¸Šä¸€ä¸ª html å…ƒç´ ã€‚<code>.wrap()</code> å‡½æ•°å¯ä»¥æ¥å—ä»»ä½•å­—ç¬¦ä¸²æˆ–å¯¹è±¡ï¼Œå¯ä»¥ä¼ é€’ç»™ $() å·¥å‚å‡½æ•°æ¥æŒ‡å®šä¸€ä¸ª DOM ç»“æ„ã€‚è¿™ç§ç»“æ„å¯ä»¥åµŒå¥—äº†å¥½å‡ å±‚æ·±ï¼Œä½†åº”è¯¥åªåŒ…å«ä¸€ä¸ªæ ¸å¿ƒçš„å…ƒç´ ã€‚æ¯ä¸ªåŒ¹é…çš„å…ƒç´ éƒ½ä¼šè¢«è¿™ç§ç»“æ„åŒ…è£¹ã€‚è¯¥æ–¹æ³•è¿”å›åŸå§‹çš„å…ƒç´ é›†ï¼Œä»¥ä¾¿ä¹‹åä½¿ç”¨é“¾å¼æ–¹æ³•</p><p>.wrapAll()</p><p>è¯¥å…ƒç´ ä¼šå°†æ‰€æœ‰åŒ¹é…çš„å…ƒç´ ç”¨ä¸€ä¸ªå…ƒç´ æ¥åŒ…è£¹ï¼Œå®ƒä¸åŒäº <code>wrap()</code> æ–¹æ³•ï¼Œ<code>wrap()</code> æ–¹æ³•æ˜¯å°†æ‰€æœ‰çš„å…ƒç´ è¿›è¡Œå•ç‹¬çš„åŒ…è£¹ã€‚</p><p>.wrapInner()</p><h4 id="å±æ€§æ“ä½œ"><a href="#å±æ€§æ“ä½œ" class="headerlink" title="å±æ€§æ“ä½œ"></a>å±æ€§æ“ä½œ</h4><p><code>attr()</code> æ–¹æ³•ç”¨æ¥è·å–å’Œè®¾ç½®å…ƒç´ çš„å±æ€§ï¼Œ<code>removeAttr()</code> æ–¹æ³•ç”¨æ¥åˆ é™¤å…ƒç´ å±æ€§</p><p>è®¾ç½®å…ƒç´ å±æ€§</p><p>å¦‚æœéœ€è¦è®¾ç½®å…ƒç´ çš„å±æ€§å€¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>attr()</code> æ–¹æ³•ï¼Œä¸åŒçš„æ˜¯ï¼Œéœ€è¦ä¼ é€’ä¸¤ä¸ªå‚æ•°å³å±æ€§åç§°å’Œå¯¹åº”çš„å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        $(<span class="string">&#x27;div&#x27;</span>).attr(<span class="string">&#x27;class&#x27;</span>, <span class="string">&#x27;demo&#x27;</span>);</span><br><span class="line">      &#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&#x27;div&#x27;</span>).attr(&#123; <span class="attr">class</span>: <span class="string">&#x27;demo&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;test&#x27;</span> &#125;); <span class="comment">//å°†ä¸€ä¸ª â€œå/å€¼â€ å½¢å¼çš„å¯¹è±¡è®¾ç½®ä¸ºåŒ¹é…å…ƒç´ çš„å±æ€§</span></span><br></pre></td></tr></table></figure><p>åˆ é™¤å±æ€§</p><p>removeAttr();</p><h3 id="æ ·å¼æ“ä½œ"><a href="#æ ·å¼æ“ä½œ" class="headerlink" title="æ ·å¼æ“ä½œ"></a>æ ·å¼æ“ä½œ</h3><p>attr()å¢åŠ /æ›¿æ¢å±æ€§</p><p>addClass()å¢åŠ ç±»çš„å€¼</p><p>removeClass()</p><p>toggleClass()åˆ‡æ¢æ ·å¼</p><p><code>.toggleClass()</code> åœ¨åŒ¹é…çš„å…ƒç´ é›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ ä¸Šæ·»åŠ æˆ–åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæ ·å¼ç±»,å–å†³äºè¿™ä¸ªæ ·å¼ç±»æ˜¯å¦å­˜åœ¨æˆ–å€¼åˆ‡æ¢å±æ€§ã€‚å³ï¼šå¦‚æœå­˜åœ¨ï¼ˆä¸å­˜åœ¨ï¼‰å°±åˆ é™¤ï¼ˆæ·»åŠ ï¼‰ä¸€ä¸ªç±»</p><p><code>.hasClass()</code> å¯ä»¥ç”¨æ¥åˆ¤æ–­å…ƒç´ ä¸­æ˜¯å¦å«æœ‰æŸä¸ª classï¼Œå¦‚æœæœ‰åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› false</p><h3 id="è·å–æ–‡æœ¬å†…å®¹"><a href="#è·å–æ–‡æœ¬å†…å®¹" class="headerlink" title="è·å–æ–‡æœ¬å†…å®¹"></a>è·å–æ–‡æœ¬å†…å®¹</h3><ol><li>html()</li></ol><p>è·å–å…ƒç´ çš„å†…å®¹.</p><p>è·å–é›†åˆä¸­ç¬¬ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ HTML å†…å®¹ æˆ– è®¾ç½®æ¯ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„ html å†…å®¹ã€‚ç±»ä¼¼äºæˆ‘ä»¬åŸç”Ÿ JavaScript ä¸­çš„ <code>innerHTML</code> å±æ€§ã€‚</p><ol><li>text()</li></ol><p><code>.text()</code> å¾—åˆ°åŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„æ–‡æœ¬å†…å®¹ç»“åˆï¼ŒåŒ…æ‹¬ä»–ä»¬çš„åä»£ï¼Œæˆ–è®¾ç½®åŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„æ–‡æœ¬å†…å®¹ä¸ºæŒ‡å®šçš„æ–‡æœ¬å†…å®¹ã€‚ç±»ä¼¼äº JavaScript ä¸­çš„ <code>innerText</code> å±æ€§</p><p>3.val()</p><p><code>.val()</code> è·å–åŒ¹é…çš„å…ƒç´ é›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„å½“å‰å€¼æˆ–è®¾ç½®åŒ¹é…çš„å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„å€¼ã€‚ç±»ä¼¼äº JavaScript ä¸­çš„ <code>value</code> å±æ€§ã€‚<code>.val()</code> æ–¹æ³•ä¸»è¦ç”¨äºè·å–è¡¨å•å…ƒç´ çš„å€¼ï¼Œæ¯”å¦‚ input, select å’Œ textareaã€‚å¯¹äº <code>&lt;select multiple=&quot;multiple&quot;&gt;</code> å…ƒç´ , <code>.val()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«æ¯ä¸ªé€‰æ‹©é¡¹çš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰é€‰æ‹©æ€§è¢«é€‰ä¸­ï¼Œå®ƒè¿”å› null</p><h3 id="éå†èŠ‚ç‚¹"><a href="#éå†èŠ‚ç‚¹" class="headerlink" title="éå†èŠ‚ç‚¹"></a>éå†èŠ‚ç‚¹</h3><p>.children()</p><p>è·å¾—åŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„æ¯ä¸ªå­å…ƒç´ ,é€‰æ‹©å™¨é€‰æ‹©æ€§ç­›é€‰.</p><p>.next()</p><p>å–å¾—åŒ¹é…çš„å…ƒç´ é›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ ç´§é‚»çš„åé¢åŒè¾ˆå…ƒç´ çš„å…ƒç´ é›†åˆã€‚å¦‚æœæä¾›ä¸€ä¸ªé€‰æ‹©å™¨ï¼Œé‚£ä¹ˆåªæœ‰ç´§è·Ÿç€çš„å…„å¼Ÿå…ƒç´ æ»¡è¶³é€‰æ‹©å™¨æ—¶ï¼Œæ‰ä¼šè¿”å›æ­¤å…ƒç´ ã€‚</p><p>.prev()</p><p>å–å¾—ä¸€ä¸ªåŒ…å«åŒ¹é…çš„å…ƒç´ é›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ ç´§é‚»çš„å‰ä¸€ä¸ªåŒè¾ˆå…ƒç´ çš„å…ƒç´ é›†åˆã€‚é€‰æ‹©æ€§ç­›é€‰çš„é€‰æ‹©å™¨</p><p>.siblings()</p><p>è·å¾—åŒ¹é…å…ƒç´ é›†åˆä¸­æ¯ä¸ªå…ƒç´ çš„å…„å¼Ÿå…ƒç´ ,å¯ä»¥æä¾›ä¸€ä¸ªå¯é€‰çš„é€‰æ‹©å™¨ã€‚</p><p>.parents()</p><p>å–å¾—åŒ¹é…å…ƒç´ é›†åˆä¸­ï¼Œæ¯ä¸ªå…ƒç´ çš„çˆ¶å…ƒç´ ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªå¯é€‰çš„é€‰æ‹©å™¨ã€‚</p><p>å¦‚æœæä¾›çš„ jQuery ä»£è¡¨äº†ä¸€ç»„ DOM å…ƒç´ ï¼Œ<code>.parent()</code> æ–¹æ³•å…è®¸æˆ‘ä»¬èƒ½å¤Ÿåœ¨ DOM æ ‘ä¸­æœç´¢åˆ°è¿™äº›å…ƒç´ çš„çˆ¶çº§å…ƒç´ ï¼Œä»æœ‰åºçš„å‘ä¸ŠåŒ¹é…å…ƒç´ ï¼Œå¹¶æ ¹æ®åŒ¹é…çš„å…ƒç´ åˆ›å»ºä¸€ä¸ªæ–°çš„ jQuery å¯¹è±¡ã€‚</p><ul><li><code>closest()</code> æ–¹æ³•ä»å…ƒç´ æœ¬èº«å¼€å§‹ï¼Œé€çº§å‘ä¸Šçº§å…ƒç´ åŒ¹é…ï¼Œå¹¶è¿”å›æœ€å…ˆåŒ¹é…çš„ç¥–å…ˆå…ƒç´ ã€‚ä¹Ÿå°±æ˜¯è¯´é¦–å…ˆæ£€æŸ¥å½“å‰å…ƒç´ æ˜¯å¦åŒ¹é…ï¼Œå¦‚æœåŒ¹é…åˆ™ç›´æ¥è¿”å›å…ƒç´ æœ¬èº«ï¼Œå¦‚æœä¸åŒ¹é…åˆ™å‘ä¸ŠæŸ¥æ‰¾çˆ¶çº§å…ƒç´ ï¼Œé€çº§å‘ä¸Šç›´åˆ°æ‰¾åˆ°åŒ¹é…é€‰æ‹©å™¨çš„å…ƒç´ ï¼Œå¦‚æœä»€ä¹ˆéƒ½æ²¡æ‰¾åˆ°åˆ™è¿”å›ä¸€ä¸ªç©ºçš„ jQuery å¯¹è±¡ã€‚</li><li><code>parents()</code> è·å¾—é›†åˆä¸­æ¯ä¸ªåŒ¹é…å…ƒç´ çš„ç¥–å…ˆå…ƒç´ ã€‚æŸ¥æ‰¾æ–¹å¼å’Œ <code>parent()</code> æ–¹æ³•ç±»ä¼¼ï¼Œä¸åŒç‚¹åœ¨äºï¼Œå½“å®ƒæ‰¾åˆ°ç¬¬ä¸€ä¸ªçˆ¶èŠ‚ç‚¹æ—¶å¹¶æ²¡æœ‰åœæ­¢æŸ¥æ‰¾ï¼Œè€Œæ˜¯ç»§ç»­æŸ¥æ‰¾ï¼Œæœ€åè¿”å›å¤šä¸ªçˆ¶èŠ‚ç‚¹</li></ul><h3 id="cssçš„domæ“ä½œ"><a href="#cssçš„domæ“ä½œ" class="headerlink" title="cssçš„domæ“ä½œ"></a>cssçš„domæ“ä½œ</h3><ol><li>css()</li></ol><p>è·å–åŒ¹é…å…ƒç´ é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ ·å¼å±æ€§çš„å€¼æˆ–è®¾ç½®æ¯ä¸ªåŒ¹é…å…ƒç´ çš„ä¸€ä¸ªæˆ–å¤šä¸ª CSS å±æ€§ã€‚</p><p>2.height() width()</p><ul><li><code>.height()</code> è·å–åŒ¹é…å…ƒç´ é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å½“å‰è®¡ç®—é«˜åº¦å€¼ æˆ– è®¾ç½®æ¯ä¸€ä¸ªåŒ¹é…å…ƒç´ çš„é«˜åº¦å€¼ã€‚</li><li><code>.width()</code> ä¸ºåŒ¹é…çš„å…ƒç´ é›†åˆä¸­è·å–ç¬¬ä¸€ä¸ªå…ƒç´ çš„å½“å‰è®¡ç®—å®½åº¦å€¼ æˆ– ç»™æ¯ä¸ªåŒ¹é…çš„å…ƒç´ è®¾ç½®å®½åº¦</li></ul><p>3.å…ƒç´ å®šä½</p><p><code>offset()</code> æ–¹æ³•ï¼Œåœ¨åŒ¹é…çš„å…ƒç´ é›†åˆä¸­ï¼Œè·å–çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å½“å‰åæ ‡ï¼Œæˆ–è®¾ç½®æ¯ä¸€ä¸ªå…ƒç´ çš„åæ ‡ï¼Œåæ ‡ç›¸å¯¹äºæ–‡æ¡£ã€‚è¿™ä¸ªæ–¹æ³•ä¸æ¥å—ä»»ä½•å‚æ•°ã€‚<code>.offset()</code> æ–¹æ³•å…è®¸æˆ‘ä»¬æ£€ç´¢ä¸€ä¸ªå…ƒç´ ç›¸å¯¹äºæ–‡æ¡£ï¼ˆdocumentï¼‰çš„å½“å‰ä½ç½®ã€‚å’Œ <code>.position()</code> çš„å·®åˆ«åœ¨äºï¼š<code>.position()</code> æ˜¯ç›¸å¯¹äºç›¸å¯¹äºçˆ¶çº§å…ƒç´ çš„ä½ç§»ã€‚å½“é€šè¿‡å…¨å±€æ“ä½œï¼ˆç‰¹åˆ«æ˜¯é€šè¿‡æ‹–æ‹½æ“ä½œï¼‰å°†ä¸€ä¸ªæ–°çš„å…ƒç´ æ”¾ç½®åˆ°å¦ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å…ƒç´ çš„ä¸Šé¢æ—¶ï¼Œè‹¥è¦å–å¾—è¿™ä¸ªæ–°çš„å…ƒç´ çš„ä½ç½®ï¼Œé‚£ä¹ˆä½¿ç”¨ <code>.offset()</code> æ›´åˆé€‚ã€‚<code>.offset()</code> è¿”å›ä¸€ä¸ªåŒ…å« top å’Œ left å±æ€§çš„å¯¹è±¡</p><ul><li><code>position()</code> æ–¹æ³•ï¼Œè·å–åŒ¹é…å…ƒç´ ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„å½“å‰åæ ‡ï¼Œç›¸å¯¹äº offset parent çš„åæ ‡ã€‚(offset parent æŒ‡ç¦»è¯¥å…ƒç´ æœ€è¿‘çš„è€Œä¸”è¢«å®šä½è¿‡çš„ç¥–å…ˆå…ƒç´  ) <code>.position()</code> æ–¹æ³•å¯ä»¥å–å¾—å…ƒç´ ç›¸å¯¹äºçˆ¶å…ƒç´ çš„åç§»ä½ç½®ã€‚ä¸ <code>.offset()</code> ä¸åŒ, <code>.offset()</code> æ˜¯è·å¾—è¯¥å…ƒç´ ç›¸å¯¹äº documet çš„å½“å‰åæ ‡ å½“æŠŠä¸€ä¸ªæ–°å…ƒç´ æ”¾åœ¨åŒä¸€ä¸ªå®¹å™¨é‡Œé¢å¦ä¸€ä¸ªå…ƒç´ é™„è¿‘æ—¶ï¼Œç”¨ <code>.position()</code> æ›´å¥½ç”¨ã€‚<code>.position()</code>è¿”å›ä¸€ä¸ªåŒ…å« top å’Œ left å±æ€§çš„å¯¹è±¡ã€‚</li></ul><p>scrollTopä¸scrollLeftè·å–å…ƒç´ çš„æ»šåŠ¨æ¡è·é¡¶ç«¯åŠå·¦ä¾§çš„è·ç¦».</p><h2 id="åŠ¨ç”»"><a href="#åŠ¨ç”»" class="headerlink" title="åŠ¨ç”»"></a>åŠ¨ç”»</h2><ol><li><p>show()</p></li><li><p>hide()</p></li></ol><p>å‚æ•°ä¸€èˆ¬æ˜¯speed,easing,callback</p><p>fadeInå’ŒfadeOut</p><p>slideUpå’ŒslideDown</p><p>animate()æ–¹æ³•  å®ç°è‡ªå®šä¹‰åŠ¨ç”»</p><p><code>animate()</code> æ–¹æ³•ï¼Œç”¨æ¥å®ç°è‡ªå®šä¹‰åŠ¨ç”»ã€‚è¯¥æ–¹æ³•é€šè¿‡ CSS æ ·å¼å°†å…ƒç´ ä»ä¸€ä¸ªçŠ¶æ€æ”¹å˜ä¸ºå¦ä¸€ä¸ªçŠ¶æ€ã€‚CSS å±æ€§å€¼æ˜¯é€æ¸æ”¹å˜çš„ï¼Œè¿™æ ·å°±å¯ä»¥åˆ›å»ºåŠ¨ç”»æ•ˆæœã€‚åªæœ‰æ•°å­—å€¼å¯åˆ›å»ºåŠ¨ç”»ï¼ˆæ¯”å¦‚ <code>&quot;margin:30px&quot;</code>ï¼‰ã€‚å­—ç¬¦ä¸²å€¼æ— æ³•åˆ›å»ºåŠ¨ç”»ï¼ˆæ¯”å¦‚ <code>&quot;background-color:red&quot;</code>ï¼‰ã€‚</p><p>æç¤ºï¼šè¯·ä½¿ç”¨ â€œ+=â€ æˆ– â€œ-=â€ æ¥åˆ›å»ºç›¸å¯¹åŠ¨ç”»ã€‚</p><h3 id="åœæ­¢åŠ¨ç”»"><a href="#åœæ­¢åŠ¨ç”»" class="headerlink" title="åœæ­¢åŠ¨ç”»"></a>åœæ­¢åŠ¨ç”»</h3><p>jQuery <code>stop()</code> æ–¹æ³•ç”¨äºåœ¨åŠ¨ç”»æˆ–æ•ˆæœå®Œæˆå‰å¯¹å®ƒä»¬è¿›è¡Œåœæ­¢ã€‚<code>stop()</code> æ–¹æ³•é€‚ç”¨äºæ‰€æœ‰ jQuery æ•ˆæœå‡½æ•°ï¼ŒåŒ…æ‹¬æ»‘åŠ¨ã€æ·¡å…¥æ·¡å‡ºå’Œè‡ªå®šä¹‰åŠ¨ç”»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(selector).stop([clearQueue] [,jumpToEnd])</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li>clearQueue å‚æ•°ï¼Œå¯é€‰å€¼ï¼Œè§„å®šæ˜¯å¦åº”è¯¥æ¸…é™¤åŠ¨ç”»é˜Ÿåˆ—ã€‚é»˜è®¤æ˜¯ falseï¼Œå³ä»…åœæ­¢æ´»åŠ¨çš„åŠ¨ç”»ï¼Œå…è®¸ä»»ä½•æ’å…¥é˜Ÿåˆ—çš„åŠ¨ç”»å‘åæ‰§è¡Œã€‚</li><li>jumpToEnd å‚æ•°ï¼Œå¯é€‰å€¼ï¼Œè§„å®šæ˜¯å¦ç«‹å³å®Œæˆå½“å‰åŠ¨ç”»ã€‚é»˜è®¤æ˜¯ falseã€‚</li></ul><p>åˆ¤æ–­å…ƒç´ æ˜¯å¦å¤„äºåŠ¨ç”»çŠ¶æ€</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!$(element).is(<span class="string">&#x27;:animated&#x27;</span>)) &#123;</span><br><span class="line">  <span class="comment">//åˆ¤æ–­å…ƒç´ æ˜¯å¦å¤„äºåŠ¨ç”»çŠ¶æ€</span></span><br><span class="line">  <span class="comment">//å¦‚æœå½“å‰æ²¡æœ‰è¿›è¡ŒåŠ¨ç”»ï¼Œåˆ™æ·»åŠ æ–°åŠ¨ç”»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>toggle()</code> æ–¹æ³•ï¼š<code>hide()</code> å’Œ <code>show()</code> æ–¹æ³•ä¹‹é—´çš„åˆ‡æ¢ã€‚</li><li><code>slideToggle()</code> æ–¹æ³•ï¼š<code>slideUp()</code> å’Œ <code>slideDown()</code> æ–¹æ³•ä¹‹é—´çš„åˆ‡æ¢ã€‚</li><li><code>fadeToggle()</code> æ–¹æ³•ï¼šåœ¨ <code>fadeIn()</code> å’Œ <code>fadeOut()</code> æ–¹æ³•ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚</li><li><code>fadeTo()</code> æ–¹æ³•ï¼šæŠŠè¢«é€‰å…ƒç´ é€æ¸æ”¹å˜è‡³ç»™å®šçš„ä¸é€æ˜åº¦</li></ul><p>å‚è€ƒèµ„æ–™</p><p><a href="https://zhuanlan.zhihu.com/p/40739079">å†è§ jQueryï¼Œæˆ‘çš„è€æœ‹å‹ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://www.runoob.com/jquery">èœé¸Ÿæ•™ç¨‹</a></p><p><a href="https://www.jquery123.com/">jQuery API ä¸­æ–‡æ–‡æ¡£ | jQuery ä¸­æ–‡ç½‘ (jquery123.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> jQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ä¸ƒç‰›äº‘ä¸ºç½‘ç«™æä¾›æœåŠ¡</title>
      <link href="2021/12/29/%E4%BD%BF%E7%94%A8%E4%B8%83%E7%89%9B%E4%BA%91%E4%B8%BA%E7%BD%91%E7%AB%99%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8A%A1/"/>
      <url>2021/12/29/%E4%BD%BF%E7%94%A8%E4%B8%83%E7%89%9B%E4%BA%91%E4%B8%BA%E7%BD%91%E7%AB%99%E6%8F%90%E4%BE%9B%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>åƒä½¿ç”¨hexoè¿™ç§é™æ€ç½‘ç«™éœ€è¦è§£å†³æä¾›æ–‡ä»¶ä¸‹è½½è¿æ¥çš„é—®é¢˜.<br>å¯ä»¥ç›´æ¥ä½¿ç”¨ç™¾åº¦ç½‘ç›˜é“¾æ¥æˆ–è€…æŠŠæ–‡ä»¶æ”¾åœ¨æœ¬åœ°æ–‡ä»¶å¤¹ä¸‹é™æ€é“¾æ¥.<br>ç°åœ¨ä»‹ç»ä¸€ä¸‹ç”¨ä¸ƒç‰›äº‘æœåŠ¡æä¾›æ–‡ä»¶ä¸‹è½½é“¾æ¥,å½“ç„¶,å…¶å®è¿˜æœ‰å¾ˆå¤šå…¶ä»–æœåŠ¡.<br><span id="more"></span></p><h2 id="ä¸ƒç‰›äº‘ä»‹ç»"><a href="#ä¸ƒç‰›äº‘ä»‹ç»" class="headerlink" title="ä¸ƒç‰›äº‘ä»‹ç»"></a>ä¸ƒç‰›äº‘ä»‹ç»</h2><p>å›½å†…çŸ¥åçš„äº‘è®¡ç®—åŠæ•°æ®æœåŠ¡æä¾›å•†ï¼Œä¸»è¦æä¾›çš„æ˜¯ç°åœ¨ç½‘ç»œä¸Šå æ®ç™¾åˆ†ä¹‹ä¹åçš„éç»“æ„åŒ–æ•°æ®ï¼Œä¹Ÿå°±æ˜¯å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘çš„äº‘å­˜å‚¨æœåŠ¡ï¼Œå…¶è®¡è´¹æ–¹å¼æ˜¯æŒ‰ä½¿ç”¨é‡è®¡è´¹ï¼Œå¤§å¤§é™ä½äº†ä¸€ä¸ªé¡¹ç›®çš„å‰æœŸæŠ•å…¥æˆæœ¬.(æœçš„)</p><p>æ ¹æ®æˆ‘çš„ç†è§£,å¯ä»¥æä¾›å­˜å‚¨ç©ºé—´,æŠŠæ–‡ä»¶ä¸Šä¼ åˆ°å®ƒæä¾›çš„ç©ºé—´é‡Œå¹¶æä¾›URLä¾›ç”¨æˆ·ä¸‹è½½.</p><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><p>å…ˆè¿›è¡Œæ³¨å†Œ,å¯ä»¥æ˜¯å®åä¸€ä¸‹æœ‰ä¸€äº›ä¼˜æƒ .</p><p>è¿›å…¥é¡µé¢ <a href="https://portal.qiniu.com/kodo/overview">ä¸ƒç‰›äº‘ - å¯¹è±¡å­˜å‚¨ </a></p><p><img data-src="http://cdn.sekyoro.top/imgs/093632.png" alt="image-20211229110505371"></p><p>æ–°å»ºç©ºé—´,å› ä¸ºé’ˆå¯¹çš„æ˜¯hexoéƒ¨ç½²çš„é™æ€ç½‘ç«™,å¹¶ä¸”æœ‰ä¸ªåŸŸå.è¿™ä¸ªåŸŸåå¯ä»¥ä¸ç”¨å¤‡æ¡ˆ,å½“ç„¶å¤‡æ¡ˆäº†æƒåŠ›æ›´å¤š.</p><p>è®¿é—®æ§åˆ¶é€‰å…¬å¼€,åœ°åŒºçœ‹ä¸ªäººé€‰æ‹©äº†,å¦‚æœæœªå¤‡æ¡ˆçš„åŸŸåå¯èƒ½æ™ºèƒ½é€‰å›½å¤–äº†.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093633.png" alt="image-20211229110803898"></p><p>ç„¶åè®¾ç½®CDNåŠ é€ŸåŸŸå,è¿™é‡Œæ˜¯é‡ç‚¹. </p><p>e.g æœ¬ç«™åŸŸåsekyoro.com å¦‚æœè®¾ç½®sekyoro.comåé¢è§£æè®°å½•å¦‚æœé…@æˆ–è€…www,å°±ä¼šä½¿å¾—åŸæœ¬çš„å†…å®¹è§£æå‡ºé—®é¢˜.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093639.png" alt="image-20211229111003117"></p><p>å¯ä»¥å‚è€ƒä¸€ä¸‹è§£å†³æ–¹æ¡ˆ,å› ä¸ºæˆ‘ä»¬è¿™é‡Œä¸»è¦è§£å†³å­˜å‚¨é—®é¢˜è€Œä¸æ˜¯CDNåŠ é€Ÿ,æ‰€ä»¥å‚è€ƒæ–¹æ³•1,ç»‘å®šcdn.sekyoro.com(å³ä½¿ç”¨äºŒçº§åŸŸå)</p><p>cdnå°±è¿™æ ·é…ç½®</p><p><img data-src="http://cdn.sekyoro.top/imgs/093642.png" alt="image-20211229111100382"></p><p>ç„¶åå¾—åˆ°cname,å»åŸŸåè´­ä¹°å•†é‚£é…ç½®,æˆ‘åœ¨è…¾è®¯äº‘ä¹°çš„,è¿›å…¥é¡µé¢æ·»åŠ è®°å½•å³å¯<a href="https://console.cloud.tencent.com/cns/detail/sekyoro.top/records/0">è…¾è®¯äº‘-æ§åˆ¶å° </a></p><p><img data-src="http://cdn.sekyoro.top/imgs/065637.png" alt="image-20211229111154247"></p><p>ç„¶åçŠ¶æ€æ˜¾ç¤ºæˆåŠŸ,å¤§åŠŸå‘Šæˆ.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093646.png" alt="image-20211229111307792"></p><p>æ¥ç€é€‰æ‹©ä¸Šä¼ æ–‡ä»¶,ä¸Šä¼ æ–‡ä»¶å,è·å¾—urlç›´æ¥ä½¿ç”¨å³å¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/093650.png" alt="image-20211229111336410"></p><p>å¦å¤–å€¼å¾—ä¸€æçš„æ˜¯,å¦‚æœè¦å®ç°ä¸ºç½‘ç«™ä¸Šçš„è®¿é—®è€…æä¾›ä¸‹è½½é“¾æ¥è€Œåˆä¸æƒ³ä½¿ç”¨ç™¾åº¦ç½‘ç›˜(ä¸‹è½½é€Ÿåº¦è¿˜æ˜¯æ…¢),é™¤äº†ç›´æ¥é™æ€é“¾æ¥,å³æŠŠæ–‡ä»¶æ”¾æœ¬åœ°,ç„¶ååœ¨markdowné‡Œå†™é“¾æ¥,ä¹Ÿå¯ä»¥ç›´æ¥ç”¨å…¶ä»–çš„æ–¹æ³•è·å–å¤–é“¾.è¯¦æƒ…è§å‚è€ƒèµ„æ–™é‡Œçš„ç›´é“¾æ–‡ä»¶ä¸‹è½½ã€‚</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://developer.qiniu.com/fusion/kb/1322/how-to-configure-cname-domain-name">å¦‚ä½•é…ç½®åŸŸåçš„ CNAME - ä¸ƒç‰›å¼€å‘è€…ä¸­å¿ƒ (qiniu.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/174869373">åˆ†äº«äºŒåä¸€ä¸ªç›´é“¾æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ç½‘ç«™ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/120045153">ä¸€ä¸ªç¥å¥‡çš„å‚¨å­˜ç©ºé—´ - ä¸ƒç‰›äº‘ - çŸ¥ä¹ (zhihu.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> ä¸ƒç‰›äº‘ </tag>
            
            <tag> å­˜å‚¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºç½‘ç«™ç”³è¯·sslè¯ä¹¦</title>
      <link href="2021/12/25/%E4%B8%BA%E7%BD%91%E7%AB%99%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6/"/>
      <url>2021/12/25/%E4%B8%BA%E7%BD%91%E7%AB%99%E7%94%B3%E8%AF%B7ssl%E8%AF%81%E4%B9%A6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¸ºäº†HTTPSï¼<br><span id="more"></span></p><p>ä¹‹å‰ä¹°äº†é˜¿é‡Œäº‘çš„æœåŠ¡å™¨,è£…ä¸Šäº†å®å¡”é¢æ¿,ç”¨äº†Letâ€™s Encrypt,ç»“æœå‘ç°è¿™ä¸ªè¯ä¹¦chromeä»¥åŠEdge(è™½ç„¶ç°åœ¨è¿™ä¿©è´§å·®åˆ«ä¹Ÿä¸å¤§äº†)éƒ½æç¤ºä¸å®‰å…¨,è™½ç„¶ä¸å½±å“ä½¿ç”¨,ä½œä¸ºç•¥å¾®çš„å¼ºè¿«ç—‡,è¿™æ€ä¹ˆè¡Œå‘¢?</p><p><img data-src="http://cdn.sekyoro.top/imgs/065235.png" alt="image-20211225161439564"></p><p>æ‰€ä»¥æ—¢ç„¶ä¹°çš„æ˜¯é˜¿é‡Œäº‘æœåŠ¡å™¨,å°±è¦ä½¿ç”¨ç›¸å…³æœåŠ¡,ç”¨å…¶ä»–çš„å…è´¹çš„è¯ä¹¦.</p><p>æŒ‰ç…§æ“ä½œå°±è¡Œ,å®˜ç½‘ä¹Ÿæœ‰ç›¸å…³æ“ä½œæ­¥éª¤,è¿™é‡Œæ’ä¸€ä¸‹å‘.</p><ol><li>é¦–å…ˆç›´æ¥è¿›å…¥è¯ä¹¦é¡µé¢,<a href="https://yundun.console.aliyun.com/?spm=a2c6h.12873639.0.0.6a3e45f8L2tMag&amp;&amp;p=cas#/overview/">è¯ä¹¦é¡µé¢</a></li></ol><p>ç‚¹å‡»SSLè¯ä¹¦,ç”³è¯·<strong>å…è´¹</strong>è¯ä¹¦</p><p><img data-src="http://cdn.sekyoro.top/imgs/093000.png" alt="image-20211225161934312"></p><ol><li><p>ç‚¹å‡»å…è´¹è¯ä¹¦å,æœ‰ç«‹å³è´­ä¹°å’Œåˆ›å»ºè¯ä¹¦.å…ˆè´­ä¹°åœ¨åˆ›å»º.æˆ‘æä¸æ‡‚åæ­£æ˜¯å…è´¹çš„ä¸ºå•¥å«è´­ä¹°..</p></li><li><p>å› ä¸ºæˆ‘å·²ç»åˆ›å»ºäº†,æ‰€ä»¥æ˜¯19/20.æˆ‘ä¹°çš„ä¹Ÿæ˜¯20(å½“ç„¶æ˜¯å…è´¹çš„).</p><p><img data-src="http://cdn.sekyoro.top/imgs/093001.png" alt="image-20211225162033468"></p></li></ol><p>è¿™ä¸ªå…è´¹è¯ä¹¦åå­—å«DigCert,ç‚¹å‡»ç”³è¯·,å¡«å†™ç›¸å…³ä¿¡æ¯å³å¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/065237.png" alt="image-20211225162214803"></p><p>4.é€‰æ‹©DNSéªŒè¯,å½“ç„¶å…¶ä»–éªŒè¯éƒ½è¡Œ</p><p><img data-src="http://cdn.sekyoro.top/imgs/093003.png" alt="image-20211225162311254"></p><p>DNSéªŒè¯éœ€è¦åˆ°åŸŸåæœåŠ¡å•†é‚£ä¿®æ”¹è®°å½•å€¼,æˆ‘åœ¨è…¾è®¯äº‘ä¹°çš„åŸŸå,åœ¨é‚£ä¿®æ”¹ä¿¡æ¯</p><p>æŒ‰ç…§å®ƒç»™çš„ä¿¡æ¯å°±è¡Œäº†,æˆ‘å°±ä¸ç»†è¯´.</p><p>ç„¶åå°±æ˜¯é‡ç‚¹äº†.</p><p>éªŒè¯é€šè¿‡åå°±æ˜¯éƒ¨ç½²,ä¹Ÿå°±æ˜¯éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š,ç‚¹å‡»éƒ¨ç½²,è¿›å…¥é¡µé¢,é€‰æ‹©è‡ªå·±çš„æœåŠ¡å™¨</p><p><img data-src="http://cdn.sekyoro.top/imgs/065241.png" alt="image-20211225162534349"></p><p><img data-src="http://cdn.sekyoro.top/imgs/093004.png" alt="image-20211225162651376"></p><p>5.ç„¶åç‚¹å‡»è¿”å›ç‚¹å‡»ä¸‹è½½è¯ä¹¦,æ ¹æ®æœåŠ¡å™¨é€‰æ‹©.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093006.png" alt="image-20211225162739215"></p><p>ä¸‹è½½åè§£å‹,ä¸Šä¼ åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹</p><p>æ¥ä¸‹æ¥å°±æŒ‰ç…§æ•™ç¨‹,æ‰¾åˆ°nginxä¿®æ”¹æ–‡ä»¶,æˆ‘å®‰è£…äº†é¢æ¿,é€šè¿‡é¢æ¿å®‰è£…çš„nginxæ‰€ä»¥è·¯å¾„å¯èƒ½ä¸å¤ªä¸€æ ·</p><p><img data-src="http://cdn.sekyoro.top/imgs/065244.png" alt="image-20211225164126001"></p><p>ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶,æŒ‰ç…§ä¸€å®šæ ¼å¼. æ ¹æ®è‹±æ–‡å°±çŸ¥é“ ssl_certificateæ˜¯key,å¦ä¸€ä¸ªæ˜¯pem</p><p>ä¸ºä»€ä¹ˆè¿™é‡Œè¦ç”¨ä¸¤å¯¹å‘¢?å› ä¸ºä¸€ä¸ªæ˜¯å®å¡”é¢æ¿çš„é‚£ä¸ªå…è´¹ä½†æ˜¯ä¸å®‰å…¨çš„ssl,æˆ‘æ²¡æœ‰æ”¹,ä½†ä¹Ÿå¯ä»¥æ”¹,åé¢å†è¯´.</p><p>ç¬¬äºŒå¯¹çš„keyå’Œpemå€¼å°±æ˜¯åˆšæ‰ä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„,è¿™é‡Œè¦å¼ºè°ƒä¸€ä¸‹,è¿™é‡Œçš„ç›¸å¯¹è·¯å¾„å¹¶ä¸æ˜¯è¯¥confæ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„.</p><p>è€Œæ˜¯ä»<img data-src="http://cdn.sekyoro.top/imgs/065245.png" alt="image-20211225170821065">è¿™é‡Œå¼€å§‹çš„.è‡³å°‘æˆ‘æ˜¯è¿™æ ·çš„.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065246.png" alt="image-20211225165247561"></p><p>å†é‡å¯nginx,è¿™æ ·äº‹å®ä¸Šå°±è¡Œäº†</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -s reload  #é‡æ–°è½½å…¥é…ç½®æ–‡ä»¶ã€‚</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå†è¯´ä¸€ä¸‹å¦ä¸€ç§ç®€å•çš„,å°±æ˜¯ä¸ç”¨ä¸Šä¼ è¯ä¹¦æ–‡ä»¶,åˆ©ç”¨é¢æ¿ä¿®æ”¹keyå’Œpem.</p><p>æ‰“å¼€é¢æ¿,æ‰“å¼€ç½‘ç«™ç›¸åº”çš„è®¾ç½®,æ‰¾åˆ°sslé¡¹.å…¶å®æœ‰æç¤ºçš„,å°†ä¹‹å‰é‚£ä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹å¤åˆ¶åˆ°å¯¹åº”çš„æ¡†ä¸­.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065248.png" alt="image-20211225171121320"></p><p>è¿™é‡Œä¸ç»†è¯´äº†,ç²˜è´´åˆ°å¯¹åº”æ¡†é‡Œå³å¯.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065249.png" alt="image-20211225171555456"></p><p>æ³¨æ„,è¿™æ ·æœ‰å¯èƒ½é¡µé¢è¿˜æ˜¯æ˜¾ç¤ºä¸å®‰å…¨,å¾ˆå¯èƒ½æ˜¯ç½‘é¡µæœ¬èº«URLçš„é—®é¢˜.</p><p>æ¯”å¦‚æˆ‘ç”¨çš„wordpress,ä¸€å¼€å§‹åœ¨å»ºç«™çš„æ—¶å€™ç”¨çš„httpçš„url,å°±æ˜¾ç¤ºä¸å®‰å…¨,é‰´äºç°åœ¨éƒ½æ˜¯ç”¨çš„HTTPS,æ‰€ä»¥æ”¹ä¸ºhttpså³å¯.</p><p>åœ¨é¢æ¿ä¹Ÿå¯ä»¥å‹¾é€‰å¼ºåˆ¶ä½¿ç”¨HTTPS.</p><p>è§£å†³é—®é¢˜.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065250.png" alt="image-20211225171801016"></p><h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><p><a href="https://developer.aliyun.com/article/766913">2020é˜¿é‡Œäº‘å…è´¹SSLè¯ä¹¦ç”³è¯·æ–¹æ³•æµç¨‹ï¼ˆå›¾æ–‡æ•™ç¨‹ï¼‰-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº (aliyun.com)</a></p><p><a href="https://help.aliyun.com/document_detail/98728.htm?spm=a2c4g.11186623.0.0.3588158ezGruBf#concept-n45-21x-yfb">åœ¨Nginxï¼ˆæˆ–Tengineï¼‰æœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦ (aliyun.com)</a></p><p><a href="https://oneinstack.com/question/lets-encrypt-the-generated-certificate-chrome-tip-is-not-safe/">Letâ€™s Encrypt ç”Ÿæˆçš„è¯ä¹¦ï¼ŒChromeæç¤ºä¸å®‰å…¨ã€‚ - OneinStack</a></p><p><a href="https://blog.csdn.net/colorfulyan/article/details/108346890">(å®å¡”é¢æ¿SSLè¯ä¹¦æ˜¾ç¤ºä¸å®‰å…¨ï¼Ÿè¿™é‡Œæˆ‘æ•™ä½ å®å¡”SSLè¯ä¹¦å¦‚ä½•é…ç½®åŠå¼€å¯HTTPSè®¿é—®çš„æ“ä½œæ–¹æ³•<em>colorfulyançš„åšå®¢-CSDNåšå®¢</em>å®å¡”httpsä¸å®‰å…¨</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> SSL </tag>
            
            <tag> å»ºç«™ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsçˆ¬è™«</title>
      <link href="2021/12/14/js%E7%88%AC%E8%99%AB/"/>
      <url>2021/12/14/js%E7%88%AC%E8%99%AB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¹‹å‰éƒ½æ˜¯ç”¨çš„pythonçˆ¬è™«,ç°åœ¨æƒ³å¾€webæ–¹å‘å‘å±•.<br>è¯ä¸å¤šè¯´,nodejsçš„superagent+cheerio<br><span id="more"></span></p><p>nodejsæ˜¯jsçš„ç¯å¢ƒ,é™¤æ­¤ä¹‹å¤–è¿˜æœ‰æµè§ˆå™¨,ä½†æˆ‘ä»¬è‚¯å®šä¸åœ¨æµè§ˆå™¨ä¸Šå˜›.</p><p>superagentæ‹¿æ¥çˆ¬å–,åœ¨è¿™ä¹‹å‰æˆ‘ä¹Ÿå°è¯•è¿‡axios,request,äº‹å®è¯æ˜superagentå¾ˆå¥½ç”¨.</p><p>cheerioæ‹¿æ¥å¤„ç†çˆ¬å–åˆ°çš„æ•°æ®,ä¸»è¦å°±æ˜¯html.</p><p>ç›®çš„æ˜¯æŸæœ«æµäºŒæœ¬çš„æ•™åŠ¡ç³»ç»Ÿ.</p><p>æˆ‘æœ€ç»ˆç›®çš„æ˜¯è·å¾—è¯¾ç¨‹ä¿¡æ¯ä»¥åŠç©ºé—²æ•™å®¤ä¿¡æ¯.</p><h2 id="1-superagentçˆ¬å–"><a href="#1-superagentçˆ¬å–" class="headerlink" title="1.superagentçˆ¬å–"></a>1.superagentçˆ¬å–</h2><p>é¦–å…ˆéœ€è¦ç™»å½•.</p><p>ç»“åˆå¤šæ¬¡å°è¯•,è·å¾—äº†çš„ç™»å½•url <a href="http://us.nwpu.edu.cn/eams/login.action">http://us.nwpu.edu.cn/eams/login.action</a></p><p>æ ¹æ®æœ«å°¾å¾ˆå®¹æ˜“çŸ¥é“éœ€è¦å¾€è¿™ä¸ªurlå‘é€post,è¯ä¸å¤šè¯´ç›´æ¥æ„é€ post</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">uid = <span class="string">&#x27;&#x27;</span>; <span class="comment">//å­¦å·</span></span><br><span class="line">pwd = <span class="string">&#x27;&#x27;</span>; <span class="comment">//å¯†ç </span></span><br><span class="line">superagent</span><br><span class="line">.post(login_url)</span><br><span class="line">.type(<span class="string">&#x27;form&#x27;</span>) <span class="comment">//è¿™ä¸ªtypeè¡¨ç¤ºæ˜¯application/x-www-form-urlencoded  </span></span><br><span class="line">.send(&#123;<span class="attr">username</span>:uid,<span class="attr">password</span>:pwd&#125;) <span class="comment">//formçš„æ•°æ®  postè‚¯å®šéœ€è¦çš„</span></span><br><span class="line">.end(<span class="function"><span class="keyword">function</span>(<span class="params">err,res</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//do somesthing</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è‡³äºä¸ºä»€ä¹ˆç±»å‹æ˜¯application/x-www-form-urlencoded,å½“ç„¶æ˜¯æŠ“å–åˆ°çš„,</p><p><img data-src="http://cdn.sekyoro.top/imgs/065254.png" alt="image-20211214220056824"></p><p>ç»å…¸ç™»å½•ç•Œé¢,æˆ‘ä»¬çŒœåˆ°äº†ç‚¹å‡»ç™»é™†ä¹‹åå°±ä¼šå‘é€ä¸€ä¸ªpost.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093024.png" alt="image-20211214220155928"></p><p><img data-src="http://cdn.sekyoro.top/imgs/093026.png" alt="image-20211214220250378"></p><p>ç„¶åå°±æŠ“å–åˆ°äº†æŠ¥æ–‡,å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„content-typeå°±æ˜¯è¿™ä¸ª.</p><p>å’³å’³,æš´éœ²äº†ä¸€ç‚¹ä¸ªäººä¿¡æ¯.</p><p>æ¥ä¸‹æ¥éš¾ç‚¹æ¥äº†,è¿™æ˜¯ä¸ª302é‡å®šå‘,é‡å®šå‘åˆ°äº†å“ªé‡Œå‘¢?äº‹å®ä¸Šå¯ä»¥çœ‹åˆ°æœ‰äº†locationæ˜¯home.action</p><p>æˆ‘ä»¬å°±èƒ½æ‰¾åˆ°äº†,å…¶å®æ— è„‘æ‰¾æ‰¾å°±èƒ½æ‰¾åˆ°çš„,äº‹å®ä¸Šæˆ‘ä»¬ä½¿ç”¨superagentå°±èƒ½è¿”å›é‡å®šå‘çš„home.actionçš„ä¿¡æ¯ã€‚</p><p>è¿™ä¸‹å°±ç™»å½•äº†.å…¶å®å¹¶ä¸éš¾(ä¸€å¼€å§‹æˆ‘ä½¿ç”¨çš„å…¶ä»–ä¸¤ä¸ªå·¥å…·,é‡å®šå‘å¯¼è‡´å¤±è´¥äº†,æˆ‘å°±æ›´æ¢äº†ç¬¬ä¸‰æ–¹åŒ…)</p><p>ç„¶åå°±æ˜¯é‡ç‚¹,ç™»å½•ä¹‹åéœ€è¦cookie,ä¸ç„¶å°±æ²¡æ„ä¹‰äº†.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params">err,res</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">  <span class="keyword">var</span> cookieid = res.headers[<span class="string">&#x27;set-cookie&#x27;</span>][<span class="number">0</span>].split(<span class="string">&#x27;;&#x27;</span>)[<span class="number">0</span>].split(<span class="string">&#x27;=&#x27;</span>)[<span class="number">1</span>];</span><br><span class="line">  <span class="comment">// console.log(cookieid);</span></span><br><span class="line">  <span class="keyword">var</span> cookie = <span class="string">`semester.id=158; JSESSIONID=<span class="subst">$&#123;cookieid&#125;</span>; GSESSIONID=<span class="subst">$&#123;cookieid&#125;</span>`</span>;</span><br><span class="line">  superagent.post(info_url)</span><br><span class="line">  .type(<span class="string">&#x27;form&#x27;</span>)</span><br><span class="line">  .send(&#123;</span><br><span class="line">  <span class="attr">ignoreHead</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">&quot;setting.kind&quot;</span>: <span class="string">&quot;std&quot;</span>,</span><br><span class="line">  <span class="attr">startWeek</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">&quot;semester.id&quot;</span>: <span class="number">158</span>,</span><br><span class="line">  <span class="attr">ids</span>: <span class="number">248032</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>cookieidå°±æ˜¯è¿™ä¸ª<img data-src="http://cdn.sekyoro.top/imgs/065259.png" alt="image-20211214220742435"></p><p>jsessionä¸gsessionæ˜¯ä¸€æ ·çš„,æ‰€ä»¥è·å¾—äº†ä¸€ä¸ªä¹‹å,æ ¹æ®cookieè®¾ç½®å°±è¡Œäº†.æ³¨æ„æ ¼å¼å°±æ˜¯ä¸Šé¢è¿™ä¸ªå›¾ç‰‡çš„æ ¼å¼,æˆ‘ä»¬å¯ä»¥ç›´æ¥å¤åˆ¶ä¸‹æ¥,ä¿®æ”¹ä¸€ä¸‹å°±è¡Œäº†.</p><p>ä¸ºäº†è·å¾—è¯¾ç¨‹ä¿¡æ¯,å¯ä»¥æ ¹æ®ç½‘é¡µæŸ¥çœ‹æ˜¯å“ªä¸ªè¿”å›çš„è¯·æ±‚,è¿™é‡Œæˆ‘æŸ¥çœ‹çš„æ˜¯coursetable.</p><p><img data-src="http://cdn.sekyoro.top/imgs/093027.png" alt="image-20211214220926672"></p><p>å¯ä»¥çŒœåˆ°å‚æ•°çš„æ„æ€,åé¢ä¸¤ä¸ªæ˜¯å­¦æœŸçš„ä¿¡æ¯,æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹startWeekå°±èƒ½ä¿®æ”¹å‘¨æ•°æŸ¥çœ‹é‚£ä¸€å‘¨çš„è¯¾ç¨‹äº†.</p><p>æ‰€ä»¥åªè¦è®¾ç½®cookie,å†sendå‘é€è¡¨å•æ•°æ®å³å¯è·å–é¡µé¢ä¿¡æ¯,ç„¶åè¿˜è¦è¿›è¡Œå¤„ç†,ä¸ç„¶ä¸å¤ªå¥½çœ‹.å¤„ç†æˆ‘å°±ä¸ç»†è¯´äº†,æ ¹æ®ä¸ªäººå–œå¥½,æˆ‘å°±ç›´æ¥æŠŠè¯¾ç¨‹åå¼„å‡ºæ¥å°±è¡Œäº†,å¯ä»¥æ ¹æ®è‡ªå·±æƒ…å†µæ•™å®¤å•¥çš„éƒ½å¯ä»¥.</p><p>å…·ä½“ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> superagent = <span class="built_in">require</span>(<span class="string">&quot;superagent&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> login_url = <span class="string">&quot;http://us.nwpu.edu.cn/eams/login.action&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> info_url = <span class="string">&#x27;http://us.nwpu.edu.cn/eams/courseTableForStd!courseTable.action&#x27;</span>;</span><br><span class="line">uid = <span class="string">&quot;&quot;</span>;<span class="comment">//éœ€è¦è‡ªå·±å¡«å†™</span></span><br><span class="line">pwd = <span class="string">&quot;&quot;</span>;<span class="comment">//</span></span><br><span class="line">superagent</span><br><span class="line">.post(login_url)</span><br><span class="line">.type(<span class="string">&#x27;form&#x27;</span>)</span><br><span class="line">.send(&#123;<span class="attr">username</span>:uid,<span class="attr">password</span>:pwd&#125;)</span><br><span class="line">.end(<span class="function"><span class="keyword">function</span>(<span class="params">err,res</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">  <span class="keyword">var</span> cookieid = res.headers[<span class="string">&#x27;set-cookie&#x27;</span>][<span class="number">0</span>].split(<span class="string">&#x27;;&#x27;</span>)[<span class="number">0</span>].split(<span class="string">&#x27;=&#x27;</span>)[<span class="number">1</span>];<span class="comment">//è¿™ä¸€å¥å†™çš„å¹¶ä¸å¥½,æˆ‘å¯¹äºjsçš„åŸºç¡€è¿˜æ˜¯æŒæ¡ä¸å¤Ÿ.  è¿™ä¸€å¥ä¸»è¦æ˜¯æƒ³æŠŠcookieä¸­çš„é‚£æ®µä»£ç æå–å‡ºæ¥.</span></span><br><span class="line">  <span class="comment">// console.log(cookieid);</span></span><br><span class="line">  <span class="keyword">var</span> cookie = <span class="string">`semester.id=158; JSESSIONID=<span class="subst">$&#123;cookieid&#125;</span>; GSESSIONID=<span class="subst">$&#123;cookieid&#125;</span>`</span>;<span class="comment">//cookie</span></span><br><span class="line">  superagent.post(info_url)<span class="comment">//semester.idæˆ‘ä¸æ¸…æ¥šæ˜¯ä¸æ˜¯è·Ÿä¸ªäººæœ‰å…³,å¯ä»¥è‡ªå·±æŠ“ä¸€ä¸‹çœ‹çœ‹.</span></span><br><span class="line">  .type(<span class="string">&#x27;form&#x27;</span>)</span><br><span class="line">  .send(&#123;</span><br><span class="line">  <span class="attr">ignoreHead</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">&quot;setting.kind&quot;</span>: <span class="string">&quot;std&quot;</span>,</span><br><span class="line">  <span class="attr">startWeek</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">&quot;semester.id&quot;</span>: <span class="number">158</span>,</span><br><span class="line">  <span class="attr">ids</span>: <span class="number">248032</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .set(<span class="string">&quot;Cookie&quot;</span>,cookie)</span><br><span class="line">  .end(<span class="function"><span class="keyword">function</span>(<span class="params">err,res</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(res.statusCode == <span class="number">200</span>)</span><br><span class="line">      <span class="built_in">console</span>.log(res.text);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>æœ€åå°±èƒ½å¾—åˆ°é¡µé¢çš„html</p><p>ç„¶åä½¿ç”¨cheerioå¤„ç†</p><h2 id="2-cheerioå¤„ç†"><a href="#2-cheerioå¤„ç†" class="headerlink" title="2.cheerioå¤„ç†"></a>2.cheerioå¤„ç†</h2><p>å…³äºæ•°æ®å¤„ç†å…¶å®æœ‰å¾ˆå¤šæ–¹æ³•,æœ€åå½±å“çš„æ˜¯æ€§èƒ½.</p><p>å½“ä½ çœ‹äº†cheerioçš„æ–‡æ¡£,ä¼šæ„Ÿå¹å…¶çš„å¼ºå¤§åŠŸèƒ½.</p><p>äº‹å®ä¸Šæˆ‘å¹¶æ²¡æœ‰å¤ªä»”ç»†åœ°çœ‹ç›¸å…³ç”¨æ³•,æˆ‘ç›´æ¥ä½¿ç”¨äº†cssé€‰æ‹©å™¨ä»¥åŠcheerioçš„ä¸€äº›ç®€å•ç”¨æ³•.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065300.png" alt="image-20211214225431353"></p><p>å¯ä»¥çœ‹åˆ°table id=â€grid..â€å°±æ˜¯è¯¾ç¨‹çš„ä¿¡æ¯,è¿™é‡Œæˆ‘ç›´æ¥ä½¿ç”¨cssé€‰æ‹©å™¨åŸºæœ¬å¯ä»¥è§£å†³é—®é¢˜(äº‹å®ä¸Šå¾ˆå¤šæ—¶å€™æˆ‘éƒ½åœ¨æƒ³é€‰æ‹©çš„æ–¹æ³•æ˜¯ä¸æ˜¯å¤ªå¤šäº†).</p><p>ç›´æ¥ä¸Šä»£ç .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> courses = [];</span><br><span class="line">          <span class="keyword">var</span> teachers = [];</span><br><span class="line">          <span class="keyword">var</span> weeks = [];</span><br><span class="line">          <span class="keyword">const</span> $ = cheerio.load(res.text);</span><br><span class="line">          $(<span class="string">&quot;tbody[id] tr td:nth-child(5)&quot;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">i,elem</span>) </span>&#123;</span><br><span class="line">            teachers[i] = $(<span class="built_in">this</span>).text();</span><br><span class="line">          &#125;);</span><br><span class="line"></span><br><span class="line">          $(<span class="string">&quot;tbody[id] tr td:nth-child(9)&quot;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">i,elem</span>) </span>&#123;</span><br><span class="line">            weeks[i] = $(<span class="built_in">this</span>).text().trim();</span><br><span class="line">          &#125;);</span><br><span class="line">          $(<span class="string">&quot;tbody[id] tr td:nth-child(4)&quot;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">i, elem</span>) </span>&#123;</span><br><span class="line">            courses[i] = $(<span class="built_in">this</span>).text();</span><br><span class="line">          &#125;);</span><br><span class="line"></span><br><span class="line">          courses.forEach(<span class="function">(<span class="params">value,index</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="comment">// console.log(value);</span></span><br><span class="line">            value+=<span class="string">&quot; è€å¸ˆ:&quot;</span>+teachers[index]+<span class="string">&quot;ä¸Šè¯¾æ—¶é—´:&quot;</span>+weeks[index]+<span class="string">&quot;å‘¨&quot;</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(value);</span><br><span class="line">          &#125;);</span><br></pre></td></tr></table></figure><p>æˆ‘å°†è¯¾ç¨‹,è€å¸ˆä»¥åŠä¸Šè¯¾çš„å‘¨æŒ‘é€‰äº†å‡ºæ¥,å…¶å®æœ‰å¾ˆå¤šæ–¹æ³•,æˆ‘ç›¸ä¿¡æˆ‘è¿™ç§åº”è¯¥æ˜¯æ¯”è¾ƒå‚»çš„.</p><p>ç„¶åè¿™æ ·ç™»é™†ä»¥åŠè¯¾ç¨‹ä¿¡æ¯éƒ½æœ‰äº†.</p><p>ç„¶åå°±æ˜¯æŸ¥è¯¢ç©ºé—²æ•™å®¤,æœ‰äº†ä¹‹å‰çš„å­¦ä¹ ,ç°åœ¨æ„å¤–çš„è½»æ¾.</p><p>åœ¨é‚£ä¸ªç½‘é¡µè¯•ä¸€ä¸‹,æŠ“å–è¯·æ±‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065303.png" alt="image-20211215101931605"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065305.png" alt="image-20211215101854884"></p><p>æ‰€ä»¥æ˜¯ä¸ªpost,æ•°æ®ä¹Ÿéƒ½èƒ½çœ‹åˆ°.æ„é€ å°±å¥½äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">superagent</span><br><span class="line">             .post(free_url)</span><br><span class="line">             .type(<span class="string">&quot;form&quot;</span>)</span><br><span class="line">             .set(<span class="string">&quot;Cookie&quot;</span>, cookie)</span><br><span class="line">             .send(&#123;</span><br><span class="line">               <span class="string">&quot;classroom.type.id&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//æ•™å®¤ç±»å‹</span></span><br><span class="line">               <span class="string">&quot;classroom.campus.id&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//æ ¡åŒº </span></span><br><span class="line">               <span class="string">&quot;classroom.building.id&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//æ•™å­¦æ¥¼id</span></span><br><span class="line">               <span class="attr">seats</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//å®¹é‡é™åˆ¶</span></span><br><span class="line">               <span class="string">&quot;classroom.name&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//æ•™å®¤</span></span><br><span class="line">               <span class="string">&quot;cycleTime.cycleCount&quot;</span>: <span class="number">1</span>, <span class="comment">//æ—¶é—´å‘¨æœŸ</span></span><br><span class="line">               <span class="string">&quot;cycleTime.cycleType&quot;</span>: <span class="number">1</span>, <span class="comment">//å¤©è¿˜æ˜¯å‘¨</span></span><br><span class="line">               <span class="string">&quot;cycleTime.dateBegin&quot;</span>: <span class="string">&quot;2021-12-15&quot;</span>,<span class="comment">//èµ·å§‹æ—¶é—´</span></span><br><span class="line">               <span class="string">&quot;cycleTime.dateEnd&quot;</span>: <span class="string">&quot;2021-12-15&quot;</span>,<span class="comment">//ç»“æŸæ—¶é—´</span></span><br><span class="line">               <span class="attr">roomApplyTimeType</span>: <span class="number">1</span>,</span><br><span class="line">               <span class="attr">timeBegin</span>: <span class="string">&quot;8:00&quot;</span>, <span class="comment">//å¼€å§‹æ—¶é—´</span></span><br><span class="line">               <span class="attr">timeEnd</span>: <span class="string">&quot;12:00&quot;</span>, <span class="comment">//ç»“æŸæ—¶é—´</span></span><br><span class="line">             &#125;)</span><br></pre></td></tr></table></figure><p>ä¸»è¦æ˜¯å„ä¸ªå­—æ®µçš„å«ä¹‰,æ ¹æ®æˆ‘å°è¯•å¤§æ¦‚æ„æ€å°±æ˜¯ä¸Šé¢æ³¨é‡Šè¿™æ ·.</p><p>ç„¶åè¿”å›å„ä¸ªæ•™å®¤ä¿¡æ¯,æ•°æ®å¤„ç†å°±çœ‹ä¸ªäººäº†.</p><p>æœ¬äººèƒ½åŠ›ä¸è¶³,ç›´æ¥è½äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">.end(<span class="function"><span class="keyword">function</span> (<span class="params">err, res</span>) </span>&#123;</span><br><span class="line">               <span class="comment">// console.log(res);</span></span><br><span class="line">               <span class="keyword">var</span> free_classrooms = [];</span><br><span class="line">               <span class="keyword">const</span> $ = cheerio.load(res.text);</span><br><span class="line">               <span class="keyword">var</span> location;</span><br><span class="line">               <span class="keyword">var</span> building;</span><br><span class="line">               <span class="keyword">var</span> campus;</span><br><span class="line">               <span class="comment">/*</span></span><br><span class="line"><span class="comment">               æ•™è¥¿A 130</span></span><br><span class="line"><span class="comment">               </span></span><br><span class="line"><span class="comment">               */</span></span><br><span class="line">               $(<span class="string">&#x27;tbody[id] tr&#x27;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">i,elem</span>) </span>&#123;</span><br><span class="line">                   location = $(<span class="built_in">this</span>).find(<span class="string">&#x27;td:nth-child(2)&#x27;</span>).text();</span><br><span class="line">                   building =  $(<span class="built_in">this</span>).find(<span class="string">&#x27;td:nth-child(3)&#x27;</span>).text();</span><br><span class="line">                   campus =  $(<span class="built_in">this</span>).find(<span class="string">&#x27;td:nth-child(4)&#x27;</span>).text();</span><br><span class="line">                   free_classrooms[i] = &#123;</span><br><span class="line">                       <span class="string">&#x27;æ•™å®¤ä½ç½®&#x27;</span>:location,</span><br><span class="line">                       <span class="string">&#x27;æ•™å­¦æ¥¼&#x27;</span>:building,</span><br><span class="line">                       <span class="string">&#x27;æ ¡åŒº&#x27;</span>:campus,</span><br><span class="line">                   &#125;</span><br><span class="line"></span><br><span class="line">                 &#125;);</span><br><span class="line">                 free_classrooms.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value,index</span>) </span>&#123;</span><br><span class="line">                     <span class="built_in">console</span>.log(value);</span><br><span class="line">                 &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å¤„ç†ç»“æœ</p><p><img data-src="http://cdn.sekyoro.top/imgs/093029.png" alt="image-20211215102207083"></p><p>ç»§ç»­å¼€å‘,ä¹‹å‰é‡åˆ°äº†ä¸€ç³»åˆ—é—®é¢˜,æŠŠç¨‹åºæ”¾åœ¨æœåŠ¡å™¨ä¸Šç»“æœæŠ¥é”™ç­‰ç­‰.</p><p>ä¹‹å‰æ˜¯ç™»é™†åè·å¾—cookieå†å»è¯·æ±‚ç©ºæ•™å®¤,è¿™æ ·å¯¼è‡´è¯·æ±‚ç©ºæ•™å®¤å°±å¿…é¡»å»ç™»é™†,æ‰€ä»¥éœ€è¦è¿›è¡Œåˆ†ç¦».</p><p>é¦–å…ˆç™»å½•è·å¾—cookie,è¿™æ˜¯ä¸€ä¸ªå‡½æ•°.ç„¶åå†æ‹¿cookieå»è·å¾—ç©ºé—²æ•™å®¤.è¿™æ˜¯å¦ä¸€ä¸ªå‡½æ•°,åå­—åˆ†åˆ«ä¸ºgetnewcookie()ä¸getfreeclassroom().</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getcookie</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> all_course_info = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  superagent.get(login_url).end(<span class="function"><span class="keyword">function</span> (<span class="params">err, res</span>) </span>&#123;</span><br><span class="line">    superagent</span><br><span class="line">      .post(login_url)</span><br><span class="line">      .type(<span class="string">&quot;form&quot;</span>)</span><br><span class="line">      .set(&#123;</span><br><span class="line">        <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>,</span><br><span class="line">        <span class="attr">Host</span>: <span class="string">&quot;us.nwpu.edu.cn&quot;</span>,</span><br><span class="line">        <span class="attr">Origin</span>: <span class="string">&quot;http://us.nwpu.edu.cn&quot;</span>,</span><br><span class="line">        <span class="attr">Referer</span>: <span class="string">&quot;http://us.nwpu.edu.cn/eams/login.action&quot;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      .send(&#123;</span><br><span class="line">        <span class="attr">username</span>: uid,</span><br><span class="line">        <span class="attr">password</span>: pwd,</span><br><span class="line">        <span class="attr">encodedPassword</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">session_locale</span>: <span class="string">&quot;zh_CN&quot;</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      .end(<span class="function"><span class="keyword">function</span> (<span class="params">err, res</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> cookieid = res.headers[<span class="string">&quot;set-cookie&quot;</span>][<span class="number">0</span>].split(<span class="string">&quot;;&quot;</span>)[<span class="number">0</span>].split(<span class="string">&quot;=&quot;</span>)[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">var</span> cookie = <span class="string">`semester.id=158; JSESSIONID=<span class="subst">$&#123;cookieid&#125;</span>; GSESSIONID=<span class="subst">$&#123;cookieid&#125;</span>`</span>;</span><br><span class="line">        superagent</span><br><span class="line">          .get(get_ids_url)</span><br><span class="line">          .set(&#123;</span><br><span class="line">            <span class="attr">Cookie</span>: cookie,</span><br><span class="line">          &#125;)</span><br><span class="line">          .end(<span class="function"><span class="keyword">function</span> (<span class="params">err, res</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> ids = res.text;</span><br><span class="line">            ids = ids.match(<span class="regexp">/form,&quot;ids&quot;,&quot;(\d*)&quot;/</span>);</span><br><span class="line">            <span class="comment">// console.log(ids);</span></span><br><span class="line">            superagent</span><br><span class="line">              .post(info_url)</span><br><span class="line">              .type(<span class="string">&quot;form&quot;</span>)</span><br><span class="line">              .send(&#123;</span><br><span class="line">                <span class="attr">ignoreHead</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="string">&quot;setting.kind&quot;</span>: <span class="string">&quot;std&quot;</span>,</span><br><span class="line">                <span class="attr">startWeek</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="string">&quot;semester.id&quot;</span>: <span class="number">158</span>,</span><br><span class="line">                <span class="attr">ids</span>: <span class="string">`<span class="subst">$&#123;ids&#125;</span>`</span>,</span><br><span class="line">              &#125;)</span><br><span class="line">              .set(<span class="string">&quot;Cookie&quot;</span>, cookie)</span><br><span class="line">              .end(<span class="function"><span class="keyword">function</span> (<span class="params">err, res</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (res.statusCode == <span class="number">200</span>) &#123;</span><br><span class="line">                  <span class="keyword">var</span> courses = [];</span><br><span class="line">                  <span class="keyword">var</span> teachers = [];</span><br><span class="line">                  <span class="keyword">var</span> weeks = [];</span><br><span class="line">                  <span class="keyword">const</span> $ = cheerio.load(res.text);</span><br><span class="line">                  $(<span class="string">&quot;tbody[id] tr td:nth-child(5)&quot;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">i, elem</span>) </span>&#123;</span><br><span class="line">                    teachers[i] = $(<span class="built_in">this</span>).text();</span><br><span class="line">                  &#125;);</span><br><span class="line"></span><br><span class="line">                  $(<span class="string">&quot;tbody[id] tr td:nth-child(9)&quot;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">i, elem</span>) </span>&#123;</span><br><span class="line">                    weeks[i] = $(<span class="built_in">this</span>).text().trim();</span><br><span class="line">                  &#125;);</span><br><span class="line">                  $(<span class="string">&quot;tbody[id] tr td:nth-child(4)&quot;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">i, elem</span>) </span>&#123;</span><br><span class="line">                    courses[i] = $(<span class="built_in">this</span>).text();</span><br><span class="line">                  &#125;);</span><br><span class="line"></span><br><span class="line">                  courses.forEach(<span class="function">(<span class="params">value, index</span>) =&gt;</span> &#123;</span><br><span class="line">                    value +=</span><br><span class="line">                      <span class="string">&quot; è€å¸ˆ:&quot;</span> +</span><br><span class="line">                      teachers[index] +</span><br><span class="line">                      <span class="string">&quot;ä¸Šè¯¾æ—¶é—´:&quot;</span> +</span><br><span class="line">                      weeks[index] +</span><br><span class="line">                      <span class="string">&quot;å‘¨&quot;</span>;</span><br><span class="line"></span><br><span class="line">                    all_course_info += value + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">                  &#125;);</span><br><span class="line">                  <span class="comment">// console.log(all_course_info+`cookieæ˜¯$&#123;cookie&#125;`);</span></span><br><span class="line">                  getfreeclassroom(<span class="string">&quot;133&quot;</span>,<span class="string">&quot;8:30&quot;</span>,cookie);</span><br><span class="line">            &#125;</span><br><span class="line">                </span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>getfreeclassroom()</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getfreeclassroom</span>(<span class="params">building, timebegin,cookie</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleString().split(<span class="string">&#x27;,&#x27;</span>)[<span class="number">0</span>].split(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">  <span class="keyword">var</span> cycleTimebegin = date[<span class="number">2</span>]+<span class="string">&quot;-&quot;</span>+date[<span class="number">1</span>]+<span class="string">&quot;-&quot;</span>+date[<span class="number">0</span>];</span><br><span class="line">  <span class="comment">//æ³¨æ„ æˆ‘æ”¾æœåŠ¡å™¨ä¸Šçš„æ—¶å€™è¿™ä¸ªtolocalestringæ—¥æœŸé¡ºåºä¸å¯¹ è¿™ä¸ªä¹Ÿå¡äº†å¾ˆä¹…</span></span><br><span class="line">  <span class="comment">//ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–æ–¹æ³•ç”Ÿæˆæ—¥æœŸ</span></span><br><span class="line">  <span class="keyword">var</span> allinfo = [];</span><br><span class="line">  <span class="keyword">var</span> timeend = +timebegin.split(<span class="string">&quot;:&quot;</span>)[<span class="number">0</span>] + <span class="number">2</span> + <span class="string">&quot;:&quot;</span> + timebegin.split(<span class="string">&quot;:&quot;</span>)[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">  superagent</span><br><span class="line">    .post(free_url)</span><br><span class="line">    .type(<span class="string">&quot;form&quot;</span>)</span><br><span class="line">    .set(&#123;</span><br><span class="line">      <span class="attr">Cookie</span>: cookie,</span><br><span class="line">      <span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/x-www-form-urlencoded&quot;</span>,</span><br><span class="line">      <span class="attr">Host</span>: <span class="string">&quot;us.nwpu.edu.cn&quot;</span>,</span><br><span class="line">      <span class="attr">Origin</span>: <span class="string">&quot;http://us.nwpu.edu.cn&quot;</span>,</span><br><span class="line">      <span class="attr">Referer</span>: <span class="string">&quot;http://us.nwpu.edu.cn/eams/classroom/apply/free.action&quot;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    .send(&#123;</span><br><span class="line">      <span class="string">&quot;classroom.type.id&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//æ•™å®¤ç±»å‹</span></span><br><span class="line">      <span class="string">&quot;classroom.campus.id&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//æ ¡åŒº</span></span><br><span class="line">      <span class="string">&quot;classroom.building.id&quot;</span>: building, <span class="comment">//æ•™å­¦æ¥¼id</span></span><br><span class="line">      <span class="attr">seats</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//å®¹é‡é™åˆ¶</span></span><br><span class="line">      <span class="string">&quot;classroom.name&quot;</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//æ•™å®¤</span></span><br><span class="line">      <span class="string">&quot;cycleTime.cycleCount&quot;</span>: <span class="number">1</span>, <span class="comment">//æ—¶é—´å‘¨æœŸ</span></span><br><span class="line">      <span class="string">&quot;cycleTime.cycleType&quot;</span>: <span class="number">1</span>, <span class="comment">//å¤©è¿˜æ˜¯å‘¨</span></span><br><span class="line">      <span class="string">&quot;cycleTime.dateBegin&quot;</span>: cycleTimebegin, <span class="comment">//èµ·å§‹æ—¶é—´</span></span><br><span class="line">      <span class="string">&quot;cycleTime.dateEnd&quot;</span>: cycleTimebegin, <span class="comment">//ç»“æŸæ—¶é—´</span></span><br><span class="line">      <span class="attr">roomApplyTimeType</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">timeBegin</span>: timebegin,</span><br><span class="line">      <span class="attr">timeEnd</span>: timeend,</span><br><span class="line">      <span class="attr">pageNo</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    .end(<span class="function"><span class="keyword">function</span> (<span class="params">err, res</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> free_classrooms = [];</span><br><span class="line">      <span class="keyword">const</span> $ = cheerio.load(res.text);</span><br><span class="line">      <span class="keyword">var</span> location;</span><br><span class="line">      <span class="keyword">var</span> building_;</span><br><span class="line">      <span class="keyword">var</span> campus;</span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">                æ•™è¥¿A 130</span></span><br><span class="line"><span class="comment">                </span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">      $(<span class="string">&quot;tbody[id] tr&quot;</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">i, elem</span>) </span>&#123;</span><br><span class="line">        location = $(<span class="built_in">this</span>).find(<span class="string">&quot;td:nth-child(2)&quot;</span>).text();</span><br><span class="line">        building_ = $(<span class="built_in">this</span>).find(<span class="string">&quot;td:nth-child(3)&quot;</span>).text();</span><br><span class="line">        campus = $(<span class="built_in">this</span>).find(<span class="string">&quot;td:nth-child(4)&quot;</span>).text();</span><br><span class="line">        free_classrooms[i] = &#123;</span><br><span class="line">          æ•™å®¤ä½ç½®: location,</span><br><span class="line">          æ•™å­¦æ¥¼: building_,</span><br><span class="line">          æ ¡åŒº: campus,</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      free_classrooms.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value, index</span>) </span></span><br><span class="line"><span class="function">      </span>&#123;</span><br><span class="line">        allinfo.push(value);</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">var</span> free_classrooms_info = <span class="string">&quot;&quot;</span>;</span><br><span class="line">      allinfo.forEach(<span class="function">(<span class="params">value, index</span>) =&gt;</span> &#123;</span><br><span class="line">        free_classrooms_info += <span class="built_in">JSON</span>.stringify(value).slice(<span class="number">1</span>, -<span class="number">1</span>) + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`ç©ºé—²æ•™å®¤ä¿¡æ¯\n<span class="subst">$&#123;timebegin&#125;</span>-<span class="subst">$&#123;timeend&#125;</span>\n<span class="subst">$&#123;free_classrooms_info&#125;</span>`</span>);</span><br><span class="line">      </span><br><span class="line">    &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ–è€…å…¶ä»–æ–¹æ³•ç”Ÿæˆæ—¥æœŸ</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="https://zhuanlan.zhihu.com/p/52235130">JS HTTP è¯·æ±‚åº“å“ªå®¶å¼ºï¼ŸAxiosï¼ŸRequestï¼ŸSuperagentï¼Ÿ</a></p><p><a href="https://www.npmjs.com/package/superagent">superagent - npm (npmjs.com)</a></p><p><a href="https://cnodejs.org/topic/5378720ed6e2d16149fa16bd">[è¯‘] SuperAgentä¸­æ–‡ä½¿ç”¨æ–‡æ¡£</a></p><p><a href="https://cheerio.js.org/">cheerio</a></p><p><a href="https://github.com/cheeriojs/cheerio/wiki/Chinese-README">Chinese README Â· cheeriojs/cheerio Wiki (github.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> js </tag>
            
            <tag> spider </tag>
            
            <tag> nodejs </tag>
            
            <tag> cheerio </tag>
            
            <tag> superagent </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonæ“ä½œç™¾åº¦ç½‘ç›˜</title>
      <link href="2021/12/08/python%E6%93%8D%E4%BD%9C%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98/"/>
      <url>2021/12/08/python%E6%93%8D%E4%BD%9C%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>å­¦ä¹ ç‚¹:ç™¾åº¦API çˆ¬è™«</p><span id="more"></span><p>æœ€è¿‘æƒ³ä»æŸä¸ªå‘å›¾ç‰‡å…¬ä¼—å·é‚£çˆ¬å–</p><p>ç½‘ç›˜é“¾æ¥,æ ¹æ®é“¾æ¥å­˜æ–‡ä»¶.</p><p>å½“ç„¶è¿™é‡Œçš„é“¾æ¥æ˜¯ç™¾åº¦ç½‘ç›˜é“¾æ¥.</p><p>tips:æˆ‘æœ‰ä¸¤ä¸ªç™¾åº¦äº‘è´¦å·,ä½†æ˜¯æ‰‹æœºåˆ©ç”¨æ‰‹æœºè´¦å·åªèƒ½ç™»é™†ä¸€ä¸ª(ä¸¤ä¸ªè´¦å·éƒ½ç»‘å®šäº†åŒä¸€ä¸ªæ‰‹æœº),æ‰€ä»¥éœ€è¦ç»™ç™»é™†çš„é‚£ä¸ªå·è®¾ç½®æ‰‹æœºç™»å½•,å¦‚æœæ˜¯ç”¨æˆ·åç™»é™†çš„è¯ä¼šè·³å‡ºæ‰‹æœºéªŒè¯ç ,å¢åŠ éº»çƒ¦.</p><p>åæ¥å‘ç°ç”¨äº†æ‰‹æœºå·ç™»å½•è¿˜æ˜¯æœ‰éªŒè¯ç ,å…ˆè¾“å…¥äº†å†è¯´. </p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> BaiduNetdisk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºwordpress</title>
      <link href="2021/12/01/%E6%90%AD%E5%BB%BAwordpress/"/>
      <url>2021/12/01/%E6%90%AD%E5%BB%BAwordpress/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æœ¬æ¥æœ‰ä¸€ä¸ªåšå®¢äº†,ä½†æ˜¯æ­ä¸€ä¸ªåŠ¨æ€åšå®¢æ–¹ä¾¿æˆ‘ä¼ æ–‡ä»¶ç­‰ç­‰<br><span id="more"></span><br>éœ€è¦å·¥å…·:<br>å®å¡”é¢æ¿ :å›¾å½¢åŒ–ç®¡ç†æœåŠ¡å™¨<br>xshell :è¿œç¨‹è¿æ¥  æˆ–è€…å…¶ä»–shell æœ‰sshå°±è¡Œ<br>xftp :ä¼ æœ¬åœ°æ–‡ä»¶,ä¸‹è½½æœåŠ¡å™¨çš„æ–‡ä»¶</p><p>ä¸‹è½½æµç¨‹å°±ä¸ç»†è¯´äº†,éœ€è¦æ³¨æ„çš„æ˜¯ä¸‹è½½å®å¡”é¢æ¿éœ€è¦è¿ä¸ŠæœåŠ¡å™¨åä½¿ç”¨ç›¸å…³å‘½ä»¤ä¸‹è½½è½¯ä»¶(è¾“å…¥ä¸€ä¸ªå‘½ä»¤å³å¯),è®°ä½å®ƒç»™çš„ä¿¡æ¯,åŒæ—¶ä¸ºæœåŠ¡å™¨åˆ›å»ºå®‰å…¨è§„åˆ™(æˆ‘çš„ç†è§£å°±æ˜¯å¼€æ”¾ç«¯å£,ä¸ç„¶å¾ˆå¤šæœåŠ¡éƒ½è®¿é—®ä¸äº†)<br>è‡³äºå…·ä½“çš„å®‰å…¨è§„åˆ™,åœ¨å®å¡”é¢æ¿ä¸Šæœ‰<br><a href="https://www.bt.cn/bbs/thread-2897-1-1.html">https://www.bt.cn/bbs/thread-2897-1-1.html</a> è¿™æ˜¯é˜¿é‡Œäº‘çš„</p><p><img data-src="http://cdn.sekyoro.top/imgs/094145.png" alt="image-20211201102511220"></p><p>é™¤äº†8888ç«¯å£è¿˜æœ‰ä¸Šé¢ç«¯å£éœ€è¦å¼€æ”¾</p><p>å¦‚æœé»˜è®¤8888ç«¯å£ä¼šæœ‰å±é™©,ä¿®æ”¹ä¸€ä¸‹æˆ–è€…å¿½ç•¥å°±è¡Œäº†</p><p>åœ¨é¢æ¿åˆ›å»ºç«™ç‚¹,å¦‚æœæœ‰åŸŸåçš„è¯é…ç½®åŸŸå,å¦åˆ™ç”¨ipåœ°å€</p><p><img data-src="http://cdn.sekyoro.top/imgs/070048.png" alt="image-20211201121437571"></p><p>ç„¶åå®‰è£…wordpress,ä¸‹è½½å‹ç¼©åŒ…ä¸Šä¼ åˆ°æ–‡ä»¶,è§£å‹åˆ°ç½‘ç«™ç«™ç‚¹ç›®å½•</p><p><img data-src="http://cdn.sekyoro.top/imgs/070050.png" alt="image-20211201121518824"></p><p>å°†è§£å‹å¾—åˆ°çš„å†…å®¹æ”¾åœ¨æ ¹ç›®å½•ä¸‹,è¿™ç‚¹è¿˜æ˜¯å¾ˆé‡è¦çš„.</p><p>ç„¶åç™»å½•ç«™ç‚¹,ä¸€æ­¥ä¸€æ­¥æŒ‰ç…§æç¤ºå¡«å†™,æœ€åå°±é•¿è¿™æ ·,</p><p><img data-src="http://cdn.sekyoro.top/imgs/070051.png" alt="image-20211201143454798"></p><p>ä¸‹è½½wpä¸»é¢˜,æœ‰ä¸¤ä¸ªä¸»é¢˜æ¨è Sakuraå’ŒKratos-pjax</p><p>githubä¸Šæœ‰,ä¸è¿‡æˆ‘ä¸€å¼€å§‹æ˜¯git cloneä¸‹æ¥å‘ç°wpéœ€è¦zip,æˆ‘è‡ªå·±å‹ç¼©æˆzipå‘ç°ä¸å¤ªè¡Œ,åæ¥åˆä¸‹è½½çš„zip.</p><p>æ›´æ–°ä¸€ä¸‹ä¸‹è½½é“¾æ¥</p><p><a href='http://cdn.sekyoro.top/Sakurairo-2.3.1.zip'>sakurairo</a></p><p>åŒæ—¶æ³¨æ„ä¸€ä¸‹phpç‰ˆæœ¬,4.xå¤šåŠæ˜¯ä¸è¡Œäº†,éœ€è¦è£…ä¸€ä¸ªæ›´æ–°çš„,åŒæ—¶phpadminç‰ˆæœ¬ä¹Ÿè¦è·Ÿç€æ›´æ–°ä¸€ä¸‹.</p><p>ç„¶åæ˜¯åŸŸåå¤‡æ¡ˆ,ä¼—æ‰€å‘¨çŸ¥,åœ¨cnéœ€è¦åŸŸåå¤‡æ¡ˆ.</p><p>æˆ‘ç”¨çš„é˜¿é‡Œäº‘çš„æœåŠ¡å™¨,åœ¨è…¾è®¯ä¹°çš„åŸŸå,å› ä¸ºé˜¿é‡Œé‚£æ²¡æœ‰æˆ‘æƒ³ä¹°çš„åŸŸå.</p><p>ä¸€å¼€å§‹åœ¨ç½‘ä¸Šæœç´¢ä»¥ä¸ºè¿™æ ·éœ€è¦åŸŸåè½¬å…¥,æ‰€ä»¥ä»¥ä¸ºå¾ˆéº»çƒ¦ï¼Œäº‹å®ä¸Šåªç”¨å¤‡æ¡ˆå°±è¡Œäº†.</p><p>åœ¨è´­ä¹°æœåŠ¡å™¨çš„ispé‚£å¤‡æ¡ˆ.</p><p><strong>æ³¨æ„</strong>:å¤‡æ¡ˆçš„åŸŸåéœ€è¦å®åè´­ä¹°(ç°åœ¨æ˜¯å¼ºåˆ¶çš„äº†),åŒæ—¶éœ€è¦è´­ä¹°åè¿‡2å¤©å·¦å³(ä¼šæœ‰ä¸€æ®µæ—¶é—´çš„)æ‰èƒ½ç”³è¯·å¤‡æ¡ˆ.</p><p>å¡«å†™ä¸€å †ä¿¡æ¯åéœ€è¦é€šè¿‡åˆå®¡.</p><p><img data-src="http://cdn.sekyoro.top/imgs/070054.png" alt="image-20211202234623396"></p><p>åæ§½ä¸€ä¸‹,å¹¸å¥½è¿™é‡Œå¯ä»¥åæ§½â€¦ é˜¿é‡Œäº‘è¿™è¾¹éœ€è¦å¼ºåˆ¶å®‰è£…ä¸€ä¸ªé˜¿é‡Œäº‘appå¡«å†™ä¿¡æ¯,å¡«å†™çš„ä¿¡æ¯ä¹Ÿæ˜¯ä¸€å¤§å †..</p><p>å¤‡æ¡ˆåä¼šæ ¸å®ç½‘ç«™ä¿¡æ¯,æ³¨æ„çš„æ˜¯ç½‘ç«™ä¿¡æ¯ä¸èƒ½æœ‰åšå®¢å’Œå…è´¹è¿™äº›ä¿¡æ¯â€¦</p><p>åé¢è¿‡äº†ç®¡å±€åº”è¯¥å°±è¡Œäº†.</p><p>12/13æ›´æ–°</p><p>ä»Šå¤©ç®¡å±€ç»™æˆ‘é€šè¿‡äº†,ç„¶ååœ¨ngnixä¸Šæ“ä½œä¸€ä¸‹è®¾ç½®åŸŸåå°±è¡Œäº†</p><p>æ¬¢è¿è®¿é—®</p><p>proanimer.com</p>]]></content>
      
      
      
        <tags>
            
            <tag> wordpress </tag>
            
            <tag> tutorial </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç½‘ç»œé…ç½®/è·¯ç”±å™¨åŠé˜²ç«å¢™è®¾ç½®</title>
      <link href="2021/11/21/%E5%91%BD%E4%BB%A4%E9%9B%86-7/"/>
      <url>2021/11/21/%E5%91%BD%E4%BB%A4%E9%9B%86-7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Linuxç½‘ç»œé…ç½®-è·¯ç”±å™¨åŠé˜²ç«å¢™è®¾ç½®"><a href="#Linuxç½‘ç»œé…ç½®-è·¯ç”±å™¨åŠé˜²ç«å¢™è®¾ç½®" class="headerlink" title="Linuxç½‘ç»œé…ç½®/è·¯ç”±å™¨åŠé˜²ç«å¢™è®¾ç½®"></a>Linuxç½‘ç»œé…ç½®/è·¯ç”±å™¨åŠé˜²ç«å¢™è®¾ç½®</h1><h2 id="ç½‘ç»œé…ç½®"><a href="#ç½‘ç»œé…ç½®" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h2><span id="more"></span><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route -n</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065126.png" alt="image-20210921120013094"></p><div class="table-container"><table><thead><tr><th>è¾“å‡º</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Destination</td><td>ç›®æ ‡ç½‘æ®µæˆ–è€…ä¸»æœº</td></tr><tr><td>Gateway</td><td>ç½‘å…³åœ°å€</td></tr><tr><td>Genmask</td><td>ç½‘ç»œæ©ç </td></tr><tr><td>Flags</td><td>æ ‡è®°  Uè·¯ç”±æ´»åŠ¨  Gè·¯ç”±æŒ‡å‘ç½‘å…³</td></tr><tr><td>Metric</td><td>è·¯ç”±è·ç¦»,åˆ°è¾¾æŒ‡å®šç½‘ç»œæ‰€éœ€çš„ä¸­è½¬æ•°</td></tr><tr><td>Ref</td><td>è·¯ç”±é¡¹å¼•ç”¨æ¬¡æ•°</td></tr><tr><td>Use</td><td>è·¯ç”±é¡¹ç”±è½¯ä»¶æŸ¥æ‰¾æ¬¡æ•°</td></tr><tr><td>Iface</td><td>è¯¥è·¯ç”±è¡¨é¡¹å¯¹åº”çš„è¾“å‡ºæ¥å£</td></tr></tbody></table></div><p>add      æ·»åŠ ä¸€æ¡è·¯ç”±è§„åˆ™<br>del       åˆ é™¤ä¸€æ¡è·¯ç”±è§„åˆ™<br>-net      ç›®çš„åœ°å€æ˜¯ä¸€ä¸ªç½‘ç»œ<br>-host     ç›®çš„åœ°å€æ˜¯ä¸€ä¸ªä¸»æœº<br>target     ç›®çš„ç½‘ç»œæˆ–ä¸»æœº<br>netmask   ç›®çš„åœ°å€çš„ç½‘ç»œæ©ç <br>gw       è·¯ç”±æ•°æ®åŒ…é€šè¿‡çš„ç½‘å…³<br>dev      ä¸ºè·¯ç”±æŒ‡å®šçš„ç½‘ç»œæ¥å£</p><h2 id="é˜²ç«å¢™è®¾ç½®"><a href="#é˜²ç«å¢™è®¾ç½®" class="headerlink" title="é˜²ç«å¢™è®¾ç½®"></a>é˜²ç«å¢™è®¾ç½®</h2><p>å¯åŠ¨ï¼š systemctl start firewalld</p><p>å…³é—­ï¼š systemctl stop firewalld</p><p>æŸ¥çœ‹çŠ¶æ€ï¼š systemctl status firewalld </p><p>å¼€æœºç¦ç”¨ ï¼š systemctl disable firewalld</p><p>å¼€æœºå¯ç”¨ ï¼š systemctl enable firewalld</p><p> æˆ‘åœ¨ubuntuä¸Šå¹¶æ²¡æœ‰è¿™é¡¹æœåŠ¡</p><p><img data-src="http://cdn.sekyoro.top/imgs/065128.png" alt="image-20210921152228108"></p><p>äºæ˜¯æˆ‘æ‰¾åˆ°äº† ufw</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065130.png" alt="image-20210921152359776"></p><p>ä¸Šé¢æç¤ºè¡¨ç¤ºæ²¡æœ‰å¼€å¯é˜²ç«å¢™ï¼Œå¹¶ä¸æ˜¯æ²¡æœ‰å®‰è£…é˜²ç«å¢™</p><p><img data-src="http://cdn.sekyoro.top/imgs/065133.png" alt="image-20210921152538889"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw reload <span class="comment">#é‡å¯</span></span><br><span class="line">sudo ufw <span class="built_in">disable</span> <span class="comment"># å…³é—­</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">udo ufw <span class="built_in">enable</span> </span><br><span class="line">sudo ufw default deny</span><br></pre></td></tr></table></figure><p>ä½œç”¨ï¼šå¼€å¯äº†é˜²ç«å¢™å¹¶éšç³»ç»Ÿå¯åŠ¨åŒæ—¶å…³é—­æ‰€æœ‰å¤–éƒ¨å¯¹æœ¬æœºçš„è®¿é—®(æœ¬æœºè®¿é—®å¤–éƒ¨æ­£å¸¸)ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">å¼€å¯/ç¦ç”¨ç›¸åº”ç«¯å£æˆ–æœåŠ¡ä¸¾ä¾‹sudo ufw allow 80 å…è®¸å¤–éƒ¨è®¿é—®80ç«¯å£</span><br><span class="line"></span><br><span class="line">sudo ufw allow 53 å…è®¸å¤–éƒ¨è®¿é—®53ç«¯å£</span><br><span class="line">sudo ufw delete allow 80 ç¦æ­¢å¤–éƒ¨è®¿é—®80 ç«¯å£</span><br><span class="line"></span><br><span class="line">sudo ufw allow from 192.168.1.1 å…è®¸æ­¤IPè®¿é—®æ‰€æœ‰çš„æœ¬æœºç«¯å£</span><br><span class="line"></span><br><span class="line">sudo ufw deny smtp ç¦æ­¢å¤–éƒ¨è®¿é—®smtpæœåŠ¡</span><br><span class="line"></span><br><span class="line">sudo ufw delete allow smtp åˆ é™¤ä¸Šé¢å»ºç«‹çš„æŸæ¡è§„åˆ™</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux_study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux ShellåŠvi/vimä½¿ç”¨</title>
      <link href="2021/11/21/%E5%91%BD%E4%BB%A4%E9%9B%86-6/"/>
      <url>2021/11/21/%E5%91%BD%E4%BB%A4%E9%9B%86-6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Linux-ShellåŠvi-vimä½¿ç”¨"><a href="#Linux-ShellåŠvi-vimä½¿ç”¨" class="headerlink" title="Linux ShellåŠvi/vimä½¿ç”¨"></a>Linux ShellåŠvi/vimä½¿ç”¨</h2><h3 id="vi-vim-ç®€å•ä½¿ç”¨"><a href="#vi-vim-ç®€å•ä½¿ç”¨" class="headerlink" title="vi/vim ç®€å•ä½¿ç”¨"></a>vi/vim ç®€å•ä½¿ç”¨</h3><span id="more"></span><p>æ¦‚å¿µ</p><p>viæ˜¯unixä¸‹çš„ç¼–è¾‘ç¨‹åº,vimç”±viæ”¹ç¼–å¢å¼ºç‰ˆã€‚</p><p>ç°åœ¨ä¸€èˆ¬ç”¨çš„æ˜¯vim</p><p>vimæœ‰å¤šç§æ¨¡å¼</p><ul><li>æ™®é€šæ¨¡å¼(Normal mode)</li></ul><p>åœ¨æ™®é€šæ¨¡å¼ä¸­ï¼Œç”¨çš„ç¼–è¾‘å™¨å‘½ä»¤ï¼Œæ¯”å¦‚ç§»åŠ¨å…‰æ ‡ï¼Œåˆ é™¤æ–‡æœ¬ç­‰ç­‰ã€‚è¿™ä¹Ÿæ˜¯ Vim å¯åŠ¨åçš„é»˜è®¤æ¨¡å¼ã€‚è¿™æ­£å¥½å’Œè®¸å¤šæ–°ç”¨æˆ·æœŸå¾…çš„æ“ä½œæ–¹å¼ç›¸åï¼ˆå¤§å¤šæ•°ç¼–è¾‘å™¨é»˜è®¤æ¨¡å¼ä¸ºæ’å…¥æ¨¡å¼ï¼‰ã€‚</p><p>è¿™ç§è®¾ç½®ä¸å…¶ä»–æ–‡æœ¬ç¼–è¾‘å™¨ä¸å¤ªä¸€æ ·,ä½†è¿™æ ·çš„è¯å¯ä»¥æ›´å¿«ç§»åŠ¨å…‰æ ‡</p><p>åœ¨æ™®é€šæ¨¡å¼ä¸­ï¼Œæœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è¿›å…¥æ’å…¥æ¨¡å¼ã€‚æ¯”è¾ƒæ™®é€šçš„æ–¹å¼æ˜¯æŒ‰ <code>a</code>ï¼ˆappendï¼è¿½åŠ ï¼‰é”®æˆ–è€… <code>i</code>ï¼ˆinsertï¼æ’å…¥ï¼‰é”®ã€‚</p><ul><li>æ’å…¥æ¨¡å¼(Insert mode)</li></ul><p>åœ¨è¿™ä¸ªæ¨¡å¼ä¸­ï¼Œå¤§å¤šæ•°æŒ‰é”®éƒ½ä¼šå‘æ–‡æœ¬ç¼“å†²ä¸­æ’å…¥æ–‡æœ¬ã€‚å¤§å¤šæ•°æ–°ç”¨æˆ·å¸Œæœ›æ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘è¿‡ç¨‹ä¸­ä¸€ç›´ä¿æŒè¿™ä¸ªæ¨¡å¼ã€‚</p><blockquote><p>åœ¨æ’å…¥æ¨¡å¼ä¸­ï¼Œå¯ä»¥æŒ‰ <code>ESC</code> é”®å›åˆ°æ™®é€šæ¨¡å¼ã€‚</p></blockquote><ul><li>å¯è§†æ¨¡å¼(Visual mode)</li></ul><blockquote><p>è¿™ä¸ªæ¨¡å¼ä¸æ™®é€šæ¨¡å¼æ¯”è¾ƒç›¸ä¼¼ã€‚ä½†æ˜¯ç§»åŠ¨å‘½ä»¤ä¼šæ‰©å¤§é«˜äº®çš„æ–‡æœ¬åŒºåŸŸã€‚é«˜äº®åŒºåŸŸå¯ä»¥æ˜¯å­—ç¬¦ã€è¡Œæˆ–è€…æ˜¯ä¸€å—æ–‡æœ¬ã€‚å½“æ‰§è¡Œä¸€ä¸ªéç§»åŠ¨å‘½ä»¤æ—¶ï¼Œå‘½ä»¤ä¼šè¢«æ‰§è¡Œåˆ°è¿™å—é«˜äº®çš„åŒºåŸŸä¸Šã€‚Vim çš„â€æ–‡æœ¬å¯¹è±¡â€ä¹Ÿèƒ½å’Œç§»åŠ¨å‘½ä»¤ä¸€æ ·ç”¨åœ¨è¿™ä¸ªæ¨¡å¼ä¸­ã€‚</p></blockquote><ul><li>é€‰æ‹©æ¨¡å¼(Select mode)</li></ul><blockquote><p>è¿™ä¸ªæ¨¡å¼å’Œæ— æ¨¡å¼ç¼–è¾‘å™¨çš„è¡Œä¸ºæ¯”è¾ƒç›¸ä¼¼ï¼ˆWindows æ ‡å‡†æ–‡æœ¬æ§ä»¶çš„æ–¹å¼ï¼‰ã€‚è¿™ä¸ªæ¨¡å¼ä¸­ï¼Œå¯ä»¥ç”¨é¼ æ ‡æˆ–è€…å…‰æ ‡é”®é«˜äº®é€‰æ‹©æ–‡æœ¬ï¼Œä¸è¿‡è¾“å…¥ä»»ä½•å­—ç¬¦çš„è¯ï¼ŒVim ä¼šç”¨è¿™ä¸ªå­—ç¬¦æ›¿æ¢é€‰æ‹©çš„é«˜äº®æ–‡æœ¬å—ï¼Œå¹¶ä¸”è‡ªåŠ¨è¿›å…¥æ’å…¥æ¨¡å¼ã€‚</p></blockquote><ul><li>å‘½ä»¤è¡Œæ¨¡å¼(Command line mode)</li></ul><blockquote><p>åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸­å¯ä»¥è¾“å…¥ä¼šè¢«è§£é‡Šæˆå¹¶æ‰§è¡Œçš„æ–‡æœ¬ã€‚ä¾‹å¦‚æ‰§è¡Œå‘½ä»¤ï¼ˆ<code>:</code>é”®ï¼‰ï¼Œæœç´¢ï¼ˆ<code>/</code>å’Œ<code>?</code>é”®ï¼‰æˆ–è€…è¿‡æ»¤å‘½ä»¤ï¼ˆ<code>!</code>é”®ï¼‰ã€‚åœ¨å‘½ä»¤æ‰§è¡Œä¹‹åï¼ŒVim è¿”å›åˆ°å‘½ä»¤è¡Œæ¨¡å¼ä¹‹å‰çš„æ¨¡å¼ï¼Œé€šå¸¸æ˜¯æ™®é€šæ¨¡å¼ã€‚</p></blockquote><ul><li>Ex æ¨¡å¼(Ex mode)</li></ul><p>è¿™å’Œå‘½ä»¤è¡Œæ¨¡å¼æ¯”è¾ƒç›¸ä¼¼ï¼Œåœ¨ä½¿ç”¨ <code>:visual</code> å‘½ä»¤ç¦»å¼€ Ex æ¨¡å¼å‰ï¼Œå¯ä»¥ä¸€æ¬¡æ‰§è¡Œå¤šæ¡å‘½ä»¤ã€‚</p><h3 id="æ¨¡å¼åˆ‡æ¢"><a href="#æ¨¡å¼åˆ‡æ¢" class="headerlink" title="æ¨¡å¼åˆ‡æ¢"></a>æ¨¡å¼åˆ‡æ¢</h3><p>æ™®é€šæ¨¡å¼ä¸­æŒ‰ <code>i</code>ï¼ˆæ’å…¥ï¼‰æˆ– <code>a</code>ï¼ˆé™„åŠ ï¼‰é”®éƒ½å¯ä»¥è¿›å…¥æ’å…¥æ¨¡å¼ï¼Œæ™®é€šæ¨¡å¼ä¸­æŒ‰ <code>:</code> è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ã€‚å‘½ä»¤è¡Œæ¨¡å¼ä¸­è¾“å…¥ <code>wq</code> å›è½¦åä¿å­˜å¹¶é€€å‡º vimã€‚</p><p>è¿›å…¥vimç•Œé¢</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim practice_1.txt</span><br></pre></td></tr></table></figure><p>è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼åè¿˜å¯ä»¥ä½¿ç”¨ e:file  æ‰“å¼€å…¶ä»–æ–‡ä»¶</p><h3 id="æ¸¸æ ‡ç§»åŠ¨"><a href="#æ¸¸æ ‡ç§»åŠ¨" class="headerlink" title="æ¸¸æ ‡ç§»åŠ¨"></a>æ¸¸æ ‡ç§»åŠ¨</h3><div class="table-container"><table><thead><tr><th>æŒ‰é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>h</code></td><td>å·¦</td></tr><tr><td><code>l</code></td><td>å³ï¼ˆå°å†™ Lï¼‰</td></tr><tr><td><code>j</code></td><td>ä¸‹</td></tr><tr><td><code>k</code></td><td>ä¸Š</td></tr><tr><td><code>w</code></td><td>ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå•è¯</td></tr><tr><td><code>b</code></td><td>ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªå•è¯</td></tr><tr><td>0</td><td>å…‰æ ‡åˆ°è¡Œé¦–</td></tr><tr><td>$</td><td>å…‰æ ‡åˆ°è¡Œæœ«</td></tr><tr><td>numG</td><td>ç§»åŠ¨åˆ°numè¡Œ</td></tr><tr><td>G</td><td>ç§»åŠ¨åˆ°æœ€åä¸€è¡Œ</td></tr><tr><td>numj</td><td>å‘ä¸‹ç§»åŠ¨numè¡Œ</td></tr><tr><td>numgg</td><td>è·³è½¬è‡³numè¡Œ</td></tr></tbody></table></div><p>è¿›å…¥æ’å…¥æ¨¡å¼</p><div class="table-container"><table><thead><tr><th>æŒ‰é”®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>h</code></td><td>å·¦</td></tr><tr><td><code>l</code></td><td>å³ï¼ˆå°å†™ Lï¼‰</td></tr><tr><td><code>j</code></td><td>ä¸‹</td></tr><tr><td><code>k</code></td><td>ä¸Š</td></tr><tr><td><code>w</code></td><td>ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå•è¯</td></tr><tr><td><code>b</code></td><td>ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªå•è¯</td></tr></tbody></table></div><h4 id="å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ä¿å­˜æ–‡æ¡£"><a href="#å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ä¿å­˜æ–‡æ¡£" class="headerlink" title="å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ä¿å­˜æ–‡æ¡£"></a>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ä¿å­˜æ–‡æ¡£</h4><p>ä»æ™®é€šæ¨¡å¼è¾“å…¥ <code>:</code> è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œè¾“å…¥ <code>w</code> å›è½¦ï¼Œä¿å­˜æ–‡æ¡£ã€‚è¾“å…¥ <code>:w &lt;filename&gt;</code> å¯ä»¥å°†æ–‡æ¡£å¦å­˜ä¸ºå…¶ä»–æ–‡ä»¶åæˆ–å­˜åˆ°å…¶å®ƒè·¯å¾„ä¸‹ã€‚</p><h4 id="å‘½ä»¤è¡Œæ¨¡å¼ä¸‹é€€å‡º-vim"><a href="#å‘½ä»¤è¡Œæ¨¡å¼ä¸‹é€€å‡º-vim" class="headerlink" title="å‘½ä»¤è¡Œæ¨¡å¼ä¸‹é€€å‡º vim"></a>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹é€€å‡º vim</h4><p>ä»æ™®é€šæ¨¡å¼è¾“å…¥ <code>:</code> è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œè¾“å…¥ <code>wq</code> å›è½¦ï¼Œä¿å­˜å¹¶é€€å‡ºç¼–è¾‘ã€‚</p><p>ä»¥ä¸‹ä¸ºå…¶å®ƒå‡ ç§é€€å‡ºæ–¹å¼ï¼š</p><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>:q!</code></td><td>å¼ºåˆ¶é€€å‡ºï¼Œä¸ä¿å­˜</td></tr><tr><td><code>:q</code></td><td>é€€å‡º</td></tr><tr><td><code>:wq!</code></td><td>å¼ºåˆ¶ä¿å­˜å¹¶é€€å‡º</td></tr><tr><td><code>:w &lt;æ–‡ä»¶è·¯å¾„&gt;</code></td><td>å¦å­˜ä¸º</td></tr><tr><td><code>:saveas æ–‡ä»¶è·¯å¾„</code></td><td>å¦å­˜ä¸º</td></tr><tr><td><code>:x</code></td><td>ä¿å­˜å¹¶é€€å‡º</td></tr><tr><td><code>:wq</code></td><td>ä¿å­˜å¹¶é€€å‡º</td></tr></tbody></table></div><h4 id="æ™®é€šæ¨¡å¼ä¸‹é€€å‡º-vim"><a href="#æ™®é€šæ¨¡å¼ä¸‹é€€å‡º-vim" class="headerlink" title="æ™®é€šæ¨¡å¼ä¸‹é€€å‡º vim"></a>æ™®é€šæ¨¡å¼ä¸‹é€€å‡º vim</h4><p>æ™®é€šæ¨¡å¼ä¸‹æŒ‰ä¸‹ <code>Shift+zz</code> å³å¯ä¿å­˜é€€å‡º vimã€‚</p><h4 id="æ™®é€šæ¨¡å¼ä¸‹åˆ é™¤-vim-æ–‡æœ¬ä¿¡æ¯"><a href="#æ™®é€šæ¨¡å¼ä¸‹åˆ é™¤-vim-æ–‡æœ¬ä¿¡æ¯" class="headerlink" title="æ™®é€šæ¨¡å¼ä¸‹åˆ é™¤ vim æ–‡æœ¬ä¿¡æ¯"></a>æ™®é€šæ¨¡å¼ä¸‹åˆ é™¤ vim æ–‡æœ¬ä¿¡æ¯</h4><p>è¿›å…¥æ™®é€šæ¨¡å¼ï¼Œä½¿ç”¨ä¸‹åˆ—å‘½ä»¤å¯ä»¥è¿›è¡Œæ–‡æœ¬å¿«é€Ÿåˆ é™¤ï¼š</p><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>x</code></td><td>åˆ é™¤æ¸¸æ ‡æ‰€åœ¨çš„å­—ç¬¦</td></tr><tr><td><code>X</code></td><td>åˆ é™¤æ¸¸æ ‡æ‰€åœ¨å‰ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td><code>Delete</code></td><td>åŒ <code>x</code></td></tr><tr><td><code>dd</code></td><td>åˆ é™¤æ•´è¡Œ</td></tr><tr><td><code>dw</code></td><td>åˆ é™¤ä¸€ä¸ªå•è¯ï¼ˆä¸é€‚ç”¨ä¸­æ–‡ï¼‰</td></tr><tr><td><code>d$</code>æˆ–<code>D</code></td><td>åˆ é™¤è‡³è¡Œå°¾</td></tr><tr><td><code>d^</code></td><td>åˆ é™¤è‡³è¡Œé¦–</td></tr><tr><td><code>dG</code></td><td>åˆ é™¤åˆ°æ–‡æ¡£ç»“å°¾å¤„</td></tr><tr><td><code>d1G</code></td><td>åˆ è‡³æ–‡æ¡£é¦–éƒ¨</td></tr><tr><td>2dd</td><td>ä¸€æ¬¡åˆ é™¤ä¸¤è¡Œ</td></tr></tbody></table></div><h3 id="è¡Œé—´è·³è½¬"><a href="#è¡Œé—´è·³è½¬" class="headerlink" title="è¡Œé—´è·³è½¬"></a>è¡Œé—´è·³è½¬</h3><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>nG</code>(n Shift+g) / <code>ngg</code></td><td>æ¸¸æ ‡ç§»åŠ¨åˆ°ç¬¬ n è¡Œ <strong>(å¦‚æœé»˜è®¤æ²¡æœ‰æ˜¾ç¤ºè¡Œå·ï¼Œè¯·å…ˆè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼Œè¾“å…¥ <code>:set nu</code> ä»¥æ˜¾ç¤ºè¡Œå·)</strong></td></tr><tr><td><code>gg</code></td><td>æ¸¸æ ‡ç§»åŠ¨åˆ°åˆ°ç¬¬ä¸€è¡Œ</td></tr><tr><td><code>G</code>(Shift+g)</td><td>åˆ°æœ€åä¸€è¡Œ</td></tr></tbody></table></div><p><strong><code>Ctrl+o</code> å¿«é€Ÿå›åˆ°ä¸Šä¸€æ¬¡(è·³è½¬å‰)å…‰æ ‡æ‰€åœ¨ä½ç½®</strong></p><h4 id="è¡Œå†…è·³è½¬"><a href="#è¡Œå†…è·³è½¬" class="headerlink" title="è¡Œå†…è·³è½¬"></a>è¡Œå†…è·³è½¬</h4><p>æ™®é€šæ¨¡å¼ä¸‹ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤åœ¨è¡Œå†…æŒ‰ç…§å•è¯ä¸ºå•ä½è¿›è¡Œè·³è½¬ï¼š</p><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>w</code></td><td>åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´</td></tr><tr><td><code>e</code></td><td>åˆ°å½“å‰å•è¯çš„ç»“å°¾</td></tr><tr><td><code>b</code></td><td>åˆ°å‰ä¸€ä¸ªå•è¯çš„å¼€å¤´</td></tr><tr><td><code>ge</code></td><td>åˆ°å‰ä¸€ä¸ªå•è¯çš„ç»“å°¾</td></tr><tr><td><code>0</code>æˆ–<code>^</code></td><td>åˆ°è¡Œå¤´</td></tr><tr><td><code>$</code></td><td>åˆ°è¡Œå°¾</td></tr><tr><td><code>f&lt;å­—æ¯&gt;</code></td><td>å‘åæœç´¢&lt;å­—æ¯&gt;å¹¶è·³è½¬åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä½ç½®(éå¸¸å®ç”¨)</td></tr><tr><td><code>F&lt;å­—æ¯&gt;</code></td><td>å‘å‰æœç´¢&lt;å­—æ¯&gt;å¹¶è·³è½¬åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä½ç½®</td></tr><tr><td><code>t&lt;å­—æ¯&gt;</code></td><td>å‘åæœç´¢&lt;å­—æ¯&gt;å¹¶è·³è½¬åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…ä½ç½®ä¹‹å‰çš„ä¸€ä¸ªå­—æ¯(ä¸å¸¸ç”¨)</td></tr><tr><td><code>T&lt;å­—æ¯&gt;</code></td><td>å‘å‰æœç´¢&lt;å­—æ¯&gt;å¹¶è·³è½¬åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…ä½ç½®ä¹‹åçš„ä¸€ä¸ªå­—æ¯(ä¸å¸¸ç”¨)</td></tr></tbody></table></div><h4 id="å¤åˆ¶åŠç²˜è´´æ–‡æœ¬"><a href="#å¤åˆ¶åŠç²˜è´´æ–‡æœ¬" class="headerlink" title="å¤åˆ¶åŠç²˜è´´æ–‡æœ¬"></a>å¤åˆ¶åŠç²˜è´´æ–‡æœ¬</h4><ul><li><p>æ™®é€šæ¨¡å¼ä¸­ä½¿ç”¨ <code>y</code> å¤åˆ¶</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>yy</code> å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨çš„æ•´è¡Œï¼ˆ<code>3yy</code> è¡¨ç¤ºå¤åˆ¶ 3 è¡Œï¼‰</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>y^</code> å¤åˆ¶è‡³è¡Œé¦–ï¼Œæˆ– <code>y0</code>ã€‚ä¸å«å…‰æ ‡æ‰€åœ¨å¤„å­—ç¬¦ã€‚</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>y$</code> å¤åˆ¶è‡³è¡Œå°¾ã€‚å«å…‰æ ‡æ‰€åœ¨å¤„å­—ç¬¦ã€‚</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>yw</code> å¤åˆ¶ä¸€ä¸ªå•è¯ã€‚</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>y2w</code> å¤åˆ¶ä¸¤ä¸ªå•è¯ã€‚</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>yG</code> å¤åˆ¶è‡³æ–‡æœ¬æœ«ã€‚</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>y1G</code> å¤åˆ¶è‡³æ–‡æœ¬å¼€å¤´ã€‚</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ä½¿ç”¨ <code>p</code> ç²˜è´´</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>p</code>(å°å†™)ä»£è¡¨ç²˜è´´è‡³å…‰æ ‡åï¼ˆä¸‹ï¼‰</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>P</code>(å¤§å†™)ä»£è¡¨ç²˜è´´è‡³å…‰æ ‡å‰ï¼ˆä¸Šï¼‰</p><h4 id="ç²˜è´´"><a href="#ç²˜è´´" class="headerlink" title="ç²˜è´´"></a>ç²˜è´´</h4></li><li><p>æ™®é€šæ¨¡å¼ä¸­ä½¿ç”¨ <code>p</code> ç²˜è´´</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>p</code>(å°å†™)ä»£è¡¨ç²˜è´´è‡³å…‰æ ‡åï¼ˆä¸‹ï¼‰</p></li><li><p>æ™®é€šæ¨¡å¼ä¸­ï¼Œ<code>P</code>(å¤§å†™)ä»£è¡¨ç²˜è´´è‡³å…‰æ ‡å‰ï¼ˆä¸Šï¼‰</p></li></ul><h4 id="å‰ªåˆ‡"><a href="#å‰ªåˆ‡" class="headerlink" title="å‰ªåˆ‡"></a>å‰ªåˆ‡</h4><p>ddå‘½ä»¤å°±æ˜¯å‰ªåˆ‡</p><p>ddpå¯ä»¥å®ç°äº¤æ¢è¡Œ</p><h3 id="å­—ç¬¦ä¸²æ›¿æ¢"><a href="#å­—ç¬¦ä¸²æ›¿æ¢" class="headerlink" title="å­—ç¬¦ä¸²æ›¿æ¢"></a>å­—ç¬¦ä¸²æ›¿æ¢</h3><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>r</code>+&lt;å¾…æ›¿æ¢å­—æ¯&gt;</td><td>å°†æ¸¸æ ‡æ‰€åœ¨å­—æ¯æ›¿æ¢ä¸ºæŒ‡å®šå­—æ¯</td></tr><tr><td><code>R</code></td><td>è¿ç»­æ›¿æ¢ï¼Œç›´åˆ°æŒ‰ä¸‹ <code>Esc</code></td></tr><tr><td><code>cc</code></td><td>æ›¿æ¢æ•´è¡Œï¼Œå³åˆ é™¤æ¸¸æ ‡æ‰€åœ¨è¡Œï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td><code>cw</code></td><td>æ›¿æ¢ä¸€ä¸ªå•è¯ï¼Œå³åˆ é™¤ä¸€ä¸ªå•è¯ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼</td></tr><tr><td><code>C</code>(å¤§å†™)</td><td>æ›¿æ¢æ¸¸æ ‡ä»¥åè‡³è¡Œæœ«</td></tr><tr><td><code>~</code></td><td>åè½¬æ¸¸æ ‡æ‰€åœ¨å­—æ¯å¤§å°å†™</td></tr><tr><td><code>&#123;n&#125;u</code></td><td>æ’¤é”€ä¸€æ¬¡æˆ– n æ¬¡æ“ä½œ</td></tr><tr><td><code>U</code>(å¤§å†™)</td><td>æ’¤é”€å½“å‰è¡Œçš„æ‰€æœ‰ä¿®æ”¹</td></tr><tr><td><code>Ctrl+r</code></td><td>redoï¼Œå³æ’¤é”€ undo çš„æ“ä½œ</td></tr></tbody></table></div><h3 id="å¿«é€Ÿç¼©è¿›"><a href="#å¿«é€Ÿç¼©è¿›" class="headerlink" title="å¿«é€Ÿç¼©è¿›"></a>å¿«é€Ÿç¼©è¿›</h3><ul><li>æ™®é€šæ¨¡å¼ä¸‹è¾“å…¥ <code>&gt;&gt;</code> æ•´è¡Œå°†å‘å³ç¼©è¿›</li><li>æ™®é€šæ¨¡å¼ä¸‹è¾“å…¥ <code>&lt;&lt;</code> æ•´è¡Œå‘å·¦å›é€€</li><li>æ™®é€šæ¨¡å¼ä¸‹è¾“å…¥ <code>:</code> è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ä¸‹å¯¹ <code>shiftwidth</code> å€¼è¿›è¡Œè®¾ç½®å¯ä»¥æ§åˆ¶ç¼©è¿›å’Œå›é€€çš„å­—ç¬¦æ•°</li></ul><p>:set shiftwidth=10</p><h3 id="è°ƒæ•´æ–‡æœ¬ä½ç½®"><a href="#è°ƒæ•´æ–‡æœ¬ä½ç½®" class="headerlink" title="è°ƒæ•´æ–‡æœ¬ä½ç½®"></a>è°ƒæ•´æ–‡æœ¬ä½ç½®</h3><p>:ce</p><p>:ri</p><p>:le </p><p>åˆ†åˆ«å°†æœ¬è¡Œæ–‡æœ¬é æŸä¸ªä½ç½®</p><h3 id="å¿«é€ŸæŸ¥æ‰¾"><a href="#å¿«é€ŸæŸ¥æ‰¾" class="headerlink" title="å¿«é€ŸæŸ¥æ‰¾"></a>å¿«é€ŸæŸ¥æ‰¾</h3><p>æ™®é€šæ¨¡å¼ä¸‹è¾“å…¥ <code>/</code> ç„¶åé”®å…¥éœ€è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²ï¼ŒæŒ‰å›è½¦åå°±ä¼šè¿›è¡ŒæŸ¥æ‰¾ã€‚<code>?</code> ä¸<code>/</code>åŠŸèƒ½ç›¸åŒï¼Œåªä¸è¿‡ <code>?</code> æ˜¯å‘ä¸Šè€Œ <code>/</code> æ˜¯å‘ä¸‹æŸ¥æ‰¾ã€‚</p><p>è¿›å…¥æŸ¥æ‰¾ä¹‹åï¼Œè¾“å…¥ <code>n</code> å’Œ <code>N</code> å¯ä»¥ç»§ç»­æŸ¥æ‰¾ã€‚<code>n</code> æ˜¯æŸ¥æ‰¾ä¸‹ä¸€ä¸ªå†…å®¹ï¼Œ<code>N</code> æŸ¥æ‰¾ä¸Šä¸€ä¸ªå†…å®¹ã€‚</p><ul><li>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥ <code>noh</code> ç„¶åå›è½¦å³å¯å–æ¶ˆæœç´¢</li></ul><h4 id="ä½¿ç”¨-vim-ç¼–è¾‘å¤šä¸ªæ–‡ä»¶"><a href="#ä½¿ç”¨-vim-ç¼–è¾‘å¤šä¸ªæ–‡ä»¶" class="headerlink" title="ä½¿ç”¨ vim ç¼–è¾‘å¤šä¸ªæ–‡ä»¶"></a>ä½¿ç”¨ vim ç¼–è¾‘å¤šä¸ªæ–‡ä»¶</h4><p>ç¼–è¾‘å¤šä¸ªæ–‡ä»¶æœ‰ä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯åœ¨è¿›å…¥ vim å‰ä½¿ç”¨çš„å‚æ•°å°±æ˜¯å¤šä¸ªæ–‡ä»¶ã€‚å¦ä¸€ç§å°±æ˜¯è¿›å…¥ vim åå†ç¼–è¾‘å…¶ä»–çš„æ–‡ä»¶ã€‚ åŒæ—¶åˆ›å»ºä¸¤ä¸ªæ–°æ–‡ä»¶å¹¶ç¼–è¾‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim 1.txt 2.txt</span><br><span class="line"></span><br><span class="line">é»˜è®¤è¿›å…¥1.txtæ–‡ä»¶çš„ç¼–è¾‘ç•Œé¢å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥ :n ç¼–è¾‘ 2.txt æ–‡ä»¶ï¼Œå¯ä»¥åŠ  ! å³ :n! å¼ºåˆ¶åˆ‡æ¢ï¼Œä¹‹å‰ä¸€ä¸ªæ–‡ä»¶çš„è¾“å…¥æ²¡æœ‰ä¿å­˜ï¼Œä»…ä»…åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥ :N ç¼–è¾‘ 1.txt æ–‡ä»¶ï¼Œå¯ä»¥åŠ  ! å³ :N! å¼ºåˆ¶åˆ‡æ¢ï¼Œä¹‹å‰æ–‡ä»¶å†…çš„è¾“å…¥æ²¡æœ‰ä¿å­˜ï¼Œä»…ä»…æ˜¯åˆ‡æ¢åˆ°å¦ä¸€ä¸ªæ–‡ä»¶</span><br></pre></td></tr></table></figure><ul><li>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥:e 3.txt æ‰“å¼€æ–°æ–‡ä»¶ 3.txt</li><li>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥<code>:e#</code> å›åˆ°å‰ä¸€ä¸ªæ–‡ä»¶</li><li>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥<code>:ls</code>å¯ä»¥åˆ—å‡ºä»¥å‰ç¼–è¾‘è¿‡çš„æ–‡æ¡£</li><li>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥<code>:b 2.txt</code>ï¼ˆæˆ–è€…ç¼–å·ï¼‰å¯ä»¥ç›´æ¥è¿›å…¥æ–‡ä»¶ 2.txt ç¼–è¾‘</li><li>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥<code>:bd 2.txt</code>ï¼ˆæˆ–è€…ç¼–å·ï¼‰å¯ä»¥åˆ é™¤ä»¥å‰ç¼–è¾‘è¿‡çš„åˆ—è¡¨ä¸­çš„æ–‡ä»¶é¡¹ç›®</li><li>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥<code>:e! 4.txt</code>ï¼Œæ–°æ‰“å¼€æ–‡ä»¶ 4.txtï¼Œæ”¾å¼ƒæ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶</li><li>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥<code>:f</code> æ˜¾ç¤ºæ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶å</li><li>å‘½ä»¤è¡Œæ¨¡å¼ä¸‹è¾“å…¥<code>:f new.txt</code>ï¼Œæ”¹å˜æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶åå­—ä¸º new.txt</li></ul><h3 id="æ¢å¤æ–‡ä»¶"><a href="#æ¢å¤æ–‡ä»¶" class="headerlink" title="æ¢å¤æ–‡ä»¶"></a>æ¢å¤æ–‡ä»¶</h3><p>å¦‚æœå› ä¸ºæ–­ç”µï¼Œç»ˆç«¯æ„å¤–å…³é—­ç­‰åŸå› é€ æˆæ–‡æ¡£æ²¡æœ‰ä¿å­˜ï¼Œå¯ä»¥é‡‡ç”¨æ¢å¤æ–¹å¼ã€‚</p><p>vim åœ¨ç¼–è¾‘çš„æ—¶å€™ä¼šè‡ªåŠ¨åœ¨å½“å‰æ–‡ä»¶ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªäº¤æ¢æ–‡ä»¶ï¼Œä¸€èˆ¬ä»¥ <code>&lt;filename&gt;.swp</code> çš„æ ¼å¼ä¿å­˜ï¼Œå¦‚æœæœ‰å¤šä¸ªç‰ˆæœ¬çš„äº¤æ¢æ–‡ä»¶ï¼Œè¿˜å¯èƒ½æ˜¯ <code>.swn</code>ï¼Œ<code>.swm</code> ç­‰å­—æ¯ã€‚æ³¨æ„è¿™ä¸ªäº¤æ¢æ–‡ä»¶çš„æ›´æ–°ä¸æ˜¯å®æ—¶çš„ï¼Œå› ä¸ºå®æ—¶çš„æ›´æ–°ä¼šå ç”¨ç£ç›˜ï¼Œå½±å“ç³»ç»Ÿå…¶ä»–æ­£å¸¸è¿›ç¨‹çš„é€Ÿåº¦ã€‚</p><p>åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸­è¾“å…¥ <code>!</code> å¯ä»¥æ‰§è¡Œå¤–éƒ¨çš„ shell å‘½ä»¤ã€‚</p><ul><li><code>:!ls</code> ç”¨äºæ˜¾ç¤ºå½“å‰ç›®å½•çš„å†…å®¹</li><li><code>:!rm FILENAME</code> ç”¨äºåˆ é™¤åä¸º FILENAME çš„æ–‡ä»¶</li><li><code>:w FILENAME</code> å¯å°†å½“å‰ VIM ä¸­æ­£åœ¨ç¼–è¾‘çš„æ–‡ä»¶å¦å­˜ä¸º FILENAME æ–‡ä»¶</li></ul><h2 id="Shellå˜é‡-è¿ç®—ç¬¦-åˆ†æ”¯-å¾ªç¯-ä¼ é€’å‚æ•°-å‡½æ•°ä½¿ç”¨"><a href="#Shellå˜é‡-è¿ç®—ç¬¦-åˆ†æ”¯-å¾ªç¯-ä¼ é€’å‚æ•°-å‡½æ•°ä½¿ç”¨" class="headerlink" title="Shellå˜é‡ è¿ç®—ç¬¦ åˆ†æ”¯ å¾ªç¯ ä¼ é€’å‚æ•° å‡½æ•°ä½¿ç”¨"></a>Shellå˜é‡ è¿ç®—ç¬¦ åˆ†æ”¯ å¾ªç¯ ä¼ é€’å‚æ•° å‡½æ•°ä½¿ç”¨</h2><p>è¡Œé¦–ä»¥ <code>#</code> å¼€å¤´(é™¤#!ä¹‹å¤–)çš„æ˜¯æ³¨é‡Šã€‚<code>#!</code> æ˜¯ç”¨äºæŒ‡å®šå½“å‰è„šæœ¬çš„è§£é‡Šå™¨ï¼Œæˆ‘ä»¬è¿™é‡Œä¸º bashï¼Œä¸”åº”è¯¥æŒ‡æ˜å®Œæ•´è·¯å¾„ï¼Œæ‰€ä»¥ä¸º <code>/bin/bash</code></p><p><img data-src="http://cdn.sekyoro.top/imgs/065102.png" alt="image-20210917105258935"></p><h4 id="å‘½ä»¤åˆ†éš”ç¬¦"><a href="#å‘½ä»¤åˆ†éš”ç¬¦" class="headerlink" title="å‘½ä»¤åˆ†éš”ç¬¦"></a>å‘½ä»¤åˆ†éš”ç¬¦</h4><p>ä½¿ç”¨åˆ†å· <code>;</code> å¯ä»¥åœ¨åŒä¸€è¡Œä¸Šå†™ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim test2.sh</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¦‚ä¸‹ä»£ç ï¼Œå¹¶ä¿å­˜ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> hello; <span class="built_in">echo</span> there</span><br><span class="line">filename=ttt.sh</span><br><span class="line"><span class="keyword">if</span> [ -e <span class="string">&quot;<span class="variable">$filename</span>&quot;</span> ]; <span class="keyword">then</span>    <span class="comment"># æ³¨æ„: &quot;if&quot;å’Œ&quot;then&quot;éœ€è¦åˆ†éš”ï¼Œ-eç”¨äºåˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;File <span class="variable">$filename</span> exists.&quot;</span>; cp <span class="variable">$filename</span> <span class="variable">$filename</span>.bak</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;File <span class="variable">$filename</span> not found.&quot;</span>; touch <span class="variable">$filename</span></span><br><span class="line"><span class="keyword">fi</span>; <span class="built_in">echo</span> <span class="string">&quot;File test complete.&quot;</span></span><br></pre></td></tr></table></figure><h4 id="ç»ˆæ­¢-case-é€‰é¡¹ï¼ˆåŒåˆ†å·ï¼‰"><a href="#ç»ˆæ­¢-case-é€‰é¡¹ï¼ˆåŒåˆ†å·ï¼‰" class="headerlink" title="ç»ˆæ­¢ case é€‰é¡¹ï¼ˆåŒåˆ†å·ï¼‰"></a>ç»ˆæ­¢ case é€‰é¡¹ï¼ˆåŒåˆ†å·ï¼‰</h4><p>ä½¿ç”¨åŒåˆ†å· <code>;;</code> å¯ä»¥ç»ˆæ­¢ case é€‰é¡¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim test3.sh</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¦‚ä¸‹ä»£ç ï¼Œå¹¶ä¿å­˜ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">varname=b</span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;<span class="variable">$varname</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">    [a-z]) <span class="built_in">echo</span> <span class="string">&quot;abc&quot;</span>;;</span><br><span class="line">    [0-9]) <span class="built_in">echo</span> <span class="string">&quot;123&quot;</span>;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><h4 id="åŒå¼•å·ï¼ˆâ€"><a href="#åŒå¼•å·ï¼ˆâ€" class="headerlink" title="åŒå¼•å·ï¼ˆâ€)"></a>åŒå¼•å·ï¼ˆâ€)</h4><p>â€œSTRINGâ€ å°†ä¼šé˜»æ­¢ï¼ˆè§£é‡Šï¼‰STRING ä¸­å¤§éƒ¨åˆ†ç‰¹æ®Šçš„å­—ç¬¦ã€‚</p><h4 id="å•å¼•å·ï¼ˆâ€™ï¼‰"><a href="#å•å¼•å·ï¼ˆâ€™ï¼‰" class="headerlink" title="å•å¼•å·ï¼ˆâ€™ï¼‰"></a>å•å¼•å·ï¼ˆâ€™ï¼‰</h4><p>â€˜STRINGâ€™ å°†ä¼šé˜»æ­¢ STRING ä¸­æ‰€æœ‰ç‰¹æ®Šå­—ç¬¦çš„è§£é‡Šï¼Œè¿™æ˜¯ä¸€ç§æ¯”ä½¿ç”¨â€æ›´å¼ºçƒˆçš„å½¢å¼ã€‚</p><h4 id="æ–œçº¿ï¼ˆ-ï¼‰"><a href="#æ–œçº¿ï¼ˆ-ï¼‰" class="headerlink" title="æ–œçº¿ï¼ˆ/ï¼‰"></a>æ–œçº¿ï¼ˆ<code>/</code>ï¼‰</h4><p>æ–‡ä»¶åè·¯å¾„åˆ†éš”ç¬¦ã€‚åˆ†éš”æ–‡ä»¶åä¸åŒçš„éƒ¨åˆ†ï¼ˆå¦‚ <code>/home/bozo/projects/Makefile</code>ï¼‰ã€‚ä¹Ÿå¯ä»¥ç”¨æ¥ä½œä¸ºé™¤æ³•ç®—æœ¯æ“ä½œç¬¦ã€‚æ³¨æ„åœ¨ linux ä¸­è¡¨ç¤ºè·¯å¾„çš„æ—¶å€™ï¼Œè®¸å¤šä¸ª <code>/</code> è·Ÿä¸€ä¸ª <code>/</code> æ˜¯ä¸€æ ·çš„ã€‚<code>/home/shiyanlou</code> ç­‰åŒäº <code>////home///shiyanlou</code>ã€‚</p><h4 id="åæ–œçº¿ï¼ˆ-ï¼‰"><a href="#åæ–œçº¿ï¼ˆ-ï¼‰" class="headerlink" title="åæ–œçº¿ï¼ˆ\ï¼‰"></a>åæ–œçº¿ï¼ˆ<code>\</code>ï¼‰</h4><p>ä¸€ç§å¯¹å•å­—ç¬¦çš„å¼•ç”¨æœºåˆ¶ã€‚<code>\X</code> å°†ä¼šâ€œè½¬ä¹‰â€å­—ç¬¦ Xã€‚è¿™ç­‰ä»·äºâ€Xâ€ï¼Œä¹Ÿç­‰ä»·äºâ€™Xâ€™ã€‚<code>\</code> é€šå¸¸ç”¨æ¥è½¬ä¹‰åŒå¼•å·ï¼ˆ<code>&quot;</code>ï¼‰å’Œå•å¼•å·ï¼ˆ<code>&#39;</code>ï¼‰ï¼Œè¿™æ ·åŒå¼•å·å’Œå•å¼•å·å°±ä¸ä¼šè¢«è§£é‡Šæˆç‰¹æ®Šå«ä¹‰äº†ã€‚</p><ul><li>ç¬¦å· è¯´æ˜</li><li><code>\n</code> è¡¨ç¤ºæ–°çš„ä¸€è¡Œ</li><li><code>\r</code> è¡¨ç¤ºå›è½¦</li><li><code>\t</code> è¡¨ç¤ºæ°´å¹³åˆ¶è¡¨ç¬¦</li><li><code>\v</code> è¡¨ç¤ºå‚ç›´åˆ¶è¡¨ç¬¦</li><li><code>\b</code> è¡¨ç¤ºåé€€ç¬¦</li><li><code>\a</code> è¡¨ç¤ºâ€alertâ€(èœ‚é¸£æˆ–è€…é—ªçƒ)</li><li><code>\0xx</code> è½¬æ¢ä¸ºå…«è¿›åˆ¶çš„ ASCII ç , ç­‰ä»·äº 0xx</li><li><code>\&quot;</code> è¡¨ç¤ºå¼•å·å­—é¢çš„æ„æ€</li></ul><p>è½¬ä¹‰ç¬¦ä¹Ÿæä¾›ç»­è¡ŒåŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯ç¼–å†™å¤šè¡Œå‘½ä»¤çš„åŠŸèƒ½</p><h4 id="å‘½ä»¤æ›¿æ¢"><a href="#å‘½ä»¤æ›¿æ¢" class="headerlink" title="å‘½ä»¤æ›¿æ¢"></a>å‘½ä»¤æ›¿æ¢</h4><p>åå¼•å·ä¸­çš„å‘½ä»¤ä¼šä¼˜å…ˆæ‰§è¡Œï¼Œå¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp `mkdir back` test.sh back</span><br><span class="line">ls</span><br></pre></td></tr></table></figure><p>å…ˆåˆ›å»ºäº† back ç›®å½•ï¼Œç„¶åå¤åˆ¶ test.sh åˆ° back ç›®å½•ã€‚</p><h3 id="ç©ºå‘½ä»¤"><a href="#ç©ºå‘½ä»¤" class="headerlink" title="ç©ºå‘½ä»¤"></a>ç©ºå‘½ä»¤</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:</span><br></pre></td></tr></table></figure><p>ç­‰ä»·äºâ€œNOPâ€ï¼ˆno opï¼Œä¸€ä¸ªä»€ä¹ˆä¹Ÿä¸å¹²çš„å‘½ä»¤ï¼‰ã€‚ä¹Ÿå¯ä»¥è¢«è®¤ä¸ºä¸ shell çš„å†…å»ºå‘½ä»¤ true ä½œç”¨ç›¸åŒã€‚â€œ:â€å‘½ä»¤æ˜¯ä¸€ä¸ª bash çš„å†…å»ºå‘½ä»¤ï¼Œå®ƒçš„é€€å‡ºç ï¼ˆexit statusï¼‰æ˜¯ï¼ˆ0ï¼‰</p><h4 id="å‘½ä»¤ç»„"><a href="#å‘½ä»¤ç»„" class="headerlink" title="å‘½ä»¤ç»„"></a>å‘½ä»¤ç»„</h4><p>åœ¨æ‹¬å·ä¸­çš„å‘½ä»¤åˆ—è¡¨ï¼Œå°†ä¼šä½œä¸ºä¸€ä¸ªå­ shell æ¥è¿è¡Œã€‚</p><p>åœ¨æ‹¬å·ä¸­çš„å˜é‡ï¼Œç”±äºæ˜¯åœ¨å­ shell ä¸­ï¼Œæ‰€ä»¥å¯¹äºè„šæœ¬å‰©ä¸‹çš„éƒ¨åˆ†æ˜¯ä¸å¯ç”¨çš„ã€‚çˆ¶è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯è„šæœ¬æœ¬èº«ï¼Œå°†ä¸èƒ½å¤Ÿè¯»å–åœ¨å­è¿›ç¨‹ä¸­åˆ›å»ºçš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯åœ¨å­ shell ä¸­åˆ›å»ºçš„å˜é‡ã€‚å¦‚ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim test20.sh</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">a=123</span><br><span class="line">( a=321; )</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$a</span>&quot;</span> <span class="comment">#açš„å€¼ä¸º123è€Œä¸æ˜¯321ï¼Œå› ä¸ºæ‹¬å·å°†åˆ¤æ–­ä¸ºå±€éƒ¨å˜é‡</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash test20.sh</span><br><span class="line">a = 123</span><br></pre></td></tr></table></figure><p>åœ¨åœ†æ‹¬å·ä¸­ a å˜é‡ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ã€‚</p><h4 id="2-åˆå§‹åŒ–æ•°ç»„"><a href="#2-åˆå§‹åŒ–æ•°ç»„" class="headerlink" title="2.åˆå§‹åŒ–æ•°ç»„"></a>2.åˆå§‹åŒ–æ•°ç»„</h4><p>åˆ›å»ºæ•°ç»„</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim test21.sh</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">arr=(1 4 5 7 9 21)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;arr[3]&#125;</span> <span class="comment"># get a value of arr</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash test21.sh</span><br><span class="line">7</span><br></pre></td></tr></table></figure><h4 id="æ¡ä»¶æµ‹è¯•"><a href="#æ¡ä»¶æµ‹è¯•" class="headerlink" title="æ¡ä»¶æµ‹è¯•"></a>æ¡ä»¶æµ‹è¯•</h4><p>æ¡ä»¶æµ‹è¯•è¡¨è¾¾å¼æ”¾åœ¨ <code>[ ]</code> ä¸­ã€‚ä¸‹åˆ—ç»ƒä¹ ä¸­çš„ <code>-lt</code> (less than)è¡¨ç¤ºå°äºå·ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim test24.sh</span><br></pre></td></tr></table></figure><p>è¾“å…¥ä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line">a=5</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -lt 10 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;a: <span class="variable">$a</span>&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;a&gt;=10&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œä»£ç ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bash test24.sh</span><br><span class="line">a: 5</span><br></pre></td></tr></table></figure><p>åŒä¸­æ‹¬å·ï¼ˆ<code>[[ ]]</code>ï¼‰ä¹Ÿç”¨ä½œæ¡ä»¶æµ‹è¯•ï¼ˆåˆ¤æ–­ï¼‰</p><h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><h4 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h4><p>å˜é‡çš„åå­—å°±æ˜¯å˜é‡ä¿å­˜å€¼çš„åœ°æ–¹ã€‚å¼•ç”¨å˜é‡çš„å€¼å°±å«åšå˜é‡æ›¿æ¢ã€‚</p><p>å¦‚æœ variable æ˜¯ä¸€ä¸ªå˜é‡çš„åå­—ï¼Œé‚£ä¹ˆ <code>$variable</code> å°±æ˜¯å¼•ç”¨è¿™ä¸ªå˜é‡çš„å€¼ï¼Œå³è¿™å˜é‡æ‰€åŒ…å«çš„æ•°æ®ã€‚</p><p><code>$variable</code> äº‹å®ä¸Šåªæ˜¯ <code>$&#123;variable&#125;</code> çš„ç®€å†™å½¢å¼ã€‚åœ¨æŸäº›ä¸Šä¸‹æ–‡ä¸­ <code>$variable</code> å¯èƒ½ä¼šå¼•èµ·é”™è¯¯ï¼Œè¿™æ—¶å€™ä½ å°±éœ€è¦ç”¨ <code>$&#123;variable&#125;</code> äº†</p><h4 id="å±€éƒ¨å˜é‡"><a href="#å±€éƒ¨å˜é‡" class="headerlink" title="å±€éƒ¨å˜é‡"></a>å±€éƒ¨å˜é‡</h4><p>è¿™ç§å˜é‡åªæœ‰åœ¨ä»£ç å—æˆ–è€…å‡½æ•°ä¸­æ‰å¯è§ã€‚</p><h4 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h4><p>è¿™ç§å˜é‡å°†å½±å“ç”¨æˆ·æ¥å£å’Œ shell çš„è¡Œä¸ºã€‚</p><p>åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„â€œç¯å¢ƒâ€ï¼Œè¿™ä¸ªç¯å¢ƒæ˜¯ç”±ä¸€ç»„å˜é‡ç»„æˆçš„ï¼Œè¿™äº›å˜é‡ä¸­å­˜æœ‰è¿›ç¨‹å¯èƒ½éœ€è¦å¼•ç”¨çš„ä¿¡æ¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œshell ä¸ä¸€ä¸ªä¸€èˆ¬çš„è¿›ç¨‹æ²¡ä»€ä¹ˆåŒºåˆ«ã€‚</p><h4 id="ä½ç½®å‚æ•°"><a href="#ä½ç½®å‚æ•°" class="headerlink" title="ä½ç½®å‚æ•°"></a>ä½ç½®å‚æ•°</h4><p>ä»å‘½ä»¤è¡Œä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ï¼š<code>$0</code>ï¼Œ<code>$1</code>ï¼Œ<code>$2</code>ï¼Œ<code>$3</code>â€¦</p><p><code>$0</code> å°±æ˜¯è„šæœ¬æ–‡ä»¶è‡ªèº«çš„åå­—ï¼Œ<code>$1</code> æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<code>$2</code> æ˜¯ç¬¬äºŒä¸ªå‚æ•°ï¼Œ<code>$3</code> æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç„¶åæ˜¯ç¬¬å››ä¸ªã€‚<code>$9</code> ä¹‹åçš„ä½ç½®å‚æ•°å°±å¿…é¡»ç”¨å¤§æ‹¬å·æ‹¬èµ·æ¥äº†ï¼Œæ¯”å¦‚ï¼Œ<code>$&#123;10&#125;</code>ï¼Œ<code>$&#123;11&#125;</code>ï¼Œ<code>$&#123;12&#125;</code>ã€‚</p><ul><li><code>$#</code> ï¼š ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</li><li><code>$*</code> ï¼š ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ã€‚ä¸ä½ç½®å˜é‡ä¸åŒ,æ­¤é€‰é¡¹å‚æ•°å¯è¶…è¿‡ 9 ä¸ª</li><li>$$$$ ï¼š è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹ ID å·</li><li><code>$!</code> ï¼š åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„è¿›ç¨‹ ID å·</li><li><code>$@</code> ï¼š ä¸ <code>$*</code> ç›¸åŒ,ä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·,å¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°</li><li><code>$</code>ï¼š æ˜¾ç¤º shell ä½¿ç”¨çš„å½“å‰é€‰é¡¹,ä¸ set å‘½ä»¤åŠŸèƒ½ç›¸åŒ</li><li><code>$?</code> ï¼š æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚ 0 è¡¨ç¤ºæ²¡æœ‰é”™è¯¯,å…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚</li></ul><h3 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h3><p><img data-src="http://cdn.sekyoro.top/imgs/065104.png" alt="5-1-1"></p><div class="table-container"><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-eq</td><td>æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰</td></tr><tr><td>-ne</td><td>ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç­‰</td></tr><tr><td>-gt</td><td>å¤§äº</td></tr><tr><td>-lt</td><td>å°äº</td></tr><tr><td>-ge</td><td>å¤§äºç­‰äº</td></tr><tr><td>-le</td><td>å°äºç­‰äº</td></tr></tbody></table></div><p>é€»è¾‘è¿ç®—</p><div class="table-container"><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>&amp;&amp;</td><td>é€»è¾‘çš„AND</td></tr><tr><td>\</td><td>\</td><td></td><td>é€»è¾‘çš„OR</td></tr></tbody></table></div><h3 id="å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>å­—ç¬¦ä¸²è¿ç®—ç¬¦</h3><div class="table-container"><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>=</td><td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰</td></tr><tr><td>!=</td><td>æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ç›¸ç­‰</td></tr><tr><td>-z</td><td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0</td></tr><tr><td>-n</td><td>æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸ä¸º0</td></tr><tr><td>str</td><td>æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º</td></tr></tbody></table></div><h3 id="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"><a href="#æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"></a>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-b file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚  [ -b <span class="built_in">$</span>file ] è¿”å› falseã€‚</span><br><span class="line"></span><br><span class="line">-c file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚     [ -c <span class="built_in">$</span>file ] è¿”å› falseã€‚</span><br><span class="line"></span><br><span class="line">-d file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚     [ -d <span class="built_in">$</span>file ] è¿”å› falseã€‚</span><br><span class="line"></span><br><span class="line">-f file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚    [ -f <span class="built_in">$</span>file ] è¿”å› trueã€‚</span><br><span class="line"></span><br><span class="line">-g file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚  [ -g <span class="built_in">$</span>file ] è¿”å› falseã€‚</span><br><span class="line"></span><br><span class="line">-k file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚  [ -k <span class="built_in">$</span>file ] è¿”å› falseã€‚</span><br><span class="line"></span><br><span class="line">-p file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚   [ -p <span class="built_in">$</span>file ] è¿”å› falseã€‚</span><br><span class="line"></span><br><span class="line">-u file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚  [ -u <span class="built_in">$</span>file ] è¿”å› falseã€‚</span><br><span class="line"></span><br><span class="line">-r file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚  [ -r <span class="built_in">$</span>file ] è¿”å› trueã€‚</span><br><span class="line"></span><br><span class="line">-w file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚  [ -w <span class="built_in">$</span>file ] è¿”å› trueã€‚</span><br><span class="line"></span><br><span class="line">-x file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚     [ -x <span class="built_in">$</span>file ] è¿”å› trueã€‚</span><br><span class="line"></span><br><span class="line">-s file     æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚     [ -s <span class="built_in">$</span>file ] è¿”å› trueã€‚</span><br><span class="line"></span><br><span class="line">-e file     æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚    [ -e <span class="built_in">$</span>file ] è¿”å› trueã€‚</span><br></pre></td></tr></table></figure><h3 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h3><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><p>if è¯­å¥è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><h4 id="if-else"><a href="#if-else" class="headerlink" title="if else"></a>if else</h4><p>if else è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>if-elif-else è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition1</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command1</span><br><span class="line"><span class="keyword">elif</span> condition2</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    command2</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065105.png" alt="åˆ é™¤è¯¥ç›®å½•ä¸‹å¤„æœ¬æ–‡ä»¶çš„æ‰€æœ‰æ–‡ä»¶"></p><h4 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h4><p>for å¾ªç¯ä¸€èˆ¬æ ¼å¼ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> var <span class="keyword">in</span> item1 item2 ... itemN</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065107.png" alt="image-20210921145536540"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065109.png" alt="image-20210921145551066"></p><p>åˆ›å»ºæ–‡ä»¶</p><h4 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h4><p>while å¾ªç¯ç”¨äºä¸æ–­æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ï¼Œä¹Ÿç”¨äºä»è¾“å…¥æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼›å‘½ä»¤é€šå¸¸ä¸ºæµ‹è¯•æ¡ä»¶ã€‚å…¶æ ¼å¼ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> condition</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">    <span class="built_in">command</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065110.png" alt="image-20210921145855535"></p><p>(()) åŒæ‹¬å·ç”¨äºå¢åŠ ç®—æœ¯å€¼,åŒæ‹¬å·é‡Œæ•°å€¼ä¸ç”¨å¸¦$ æ‰©å±•,ä¸”å¯ä»¥è¿›è¡Œå¾ˆå¤šç®—æœ¯è¿ç®—</p><p>Bash let å‘½ä»¤ï¼Œå®ƒç”¨äºæ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ï¼Œå˜é‡è®¡ç®—ä¸­ä¸éœ€è¦åŠ ä¸Š <code>$</code> æ¥è¡¨ç¤ºå˜é‡</p><h4 id="case"><a href="#case" class="headerlink" title="case"></a>case</h4><p>Shell case è¯­å¥ä¸ºå¤šé€‰æ‹©è¯­å¥ã€‚å¯ä»¥ç”¨ case è¯­å¥åŒ¹é…ä¸€ä¸ªå€¼ä¸ä¸€ä¸ªæ¨¡å¼ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œæ‰§è¡Œç›¸åŒ¹é…çš„å‘½ä»¤ã€‚case è¯­å¥æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> å€¼ <span class="keyword">in</span></span><br><span class="line">æ¨¡å¼1)</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">æ¨¡å¼2ï¼‰</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><ul><li>å–å€¼åé¢å¿…é¡»ä¸ºå•è¯ inï¼Œæ¯ä¸€æ¨¡å¼å¿…é¡»ä»¥å³æ‹¬å·ç»“æŸã€‚å–å€¼å¯ä»¥ä¸ºå˜é‡æˆ–å¸¸æ•°ã€‚åŒ¹é…å‘ç°å–å€¼ç¬¦åˆæŸä¸€æ¨¡å¼åï¼Œå…¶é—´æ‰€æœ‰å‘½ä»¤å¼€å§‹æ‰§è¡Œç›´è‡³ <code>;;</code>ã€‚</li><li>å–å€¼å°†æ£€æµ‹åŒ¹é…çš„æ¯ä¸€ä¸ªæ¨¡å¼ã€‚ä¸€æ—¦æ¨¡å¼åŒ¹é…ï¼Œåˆ™æ‰§è¡Œå®ŒåŒ¹é…æ¨¡å¼ç›¸åº”å‘½ä»¤åä¸å†ç»§ç»­å…¶ä»–æ¨¡å¼ã€‚å¦‚æœæ— ä¸€åŒ¹é…æ¨¡å¼ï¼Œä½¿ç”¨æ˜Ÿå· <code>*</code> æ•è·è¯¥å€¼ï¼Œå†æ‰§è¡Œåé¢çš„å‘½ä»¤ã€‚</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/065112.png" alt="image-20210921150725884"></p><p>åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨æœªè¾¾åˆ°å¾ªç¯ç»“æŸæ¡ä»¶æ—¶å¼ºåˆ¶è·³å‡ºå¾ªç¯ï¼ŒShell ä½¿ç”¨ä¸¤ä¸ªå‘½ä»¤æ¥å®ç°è¯¥åŠŸèƒ½ï¼š<code>break</code> å’Œ <code>continue</code>ã€‚</p><p><code>break</code> å‘½ä»¤</p><p>break å‘½ä»¤å…è®¸è·³å‡ºæ‰€æœ‰å¾ªç¯ï¼ˆç»ˆæ­¢æ‰§è¡Œåé¢çš„æ‰€æœ‰å¾ªç¯ï¼‰ã€‚</p><p>continue å‘½ä»¤ä¸ break å‘½ä»¤ç±»ä¼¼ï¼Œåªæœ‰ä¸€ç‚¹å·®åˆ«ï¼Œå®ƒä¸ä¼šè·³å‡ºæ‰€æœ‰å¾ªç¯ï¼Œä»…ä»…è·³å‡ºå½“å‰å¾ªç¯<br><strong>esac</strong></p><p>case çš„è¯­æ³•å’Œ C family è¯­è¨€å·®åˆ«å¾ˆå¤§ï¼Œå®ƒéœ€è¦ä¸€ä¸ª esacï¼ˆå°±æ˜¯ case åè¿‡æ¥ï¼‰ä½œä¸ºç»“æŸæ ‡è®°ï¼Œæ¯ä¸ª case åˆ†æ”¯ç”¨å³åœ†æ‹¬å·ï¼Œç”¨ä¸¤ä¸ªåˆ†å·è¡¨ç¤º breakã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065113.png" alt="image-20210921151953147"></p><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p>shell ä¸­å‡½æ•°çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="keyword">function</span> ] funname [()]</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    action;</span><br><span class="line"></span><br><span class="line">    [<span class="built_in">return</span> int;]</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul><li>å¯ä»¥å¸¦ <code>function fun()</code> å®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ <code>fun()</code> å®šä¹‰,ä¸å¸¦ä»»ä½•å‚æ•°ã€‚</li><li><p>å‚æ•°è¿”å›ï¼Œå¯ä»¥æ˜¾ç¤ºåŠ ï¼šreturn è¿”å›ï¼Œå¦‚æœä¸åŠ ï¼Œå°†ä»¥æœ€åä¸€æ¡å‘½ä»¤è¿è¡Œç»“æœï¼Œä½œä¸ºè¿”å›å€¼ã€‚ return åè·Ÿæ•°å€¼ n(0-255)</p></li><li><p>å‡½æ•°è¿”å›å€¼åœ¨è°ƒç”¨è¯¥å‡½æ•°åé€šè¿‡ <code>$?</code> æ¥è·å¾—</p></li><li>æ‰€æœ‰å‡½æ•°åœ¨ä½¿ç”¨å‰å¿…é¡»å®šä¹‰ã€‚</li></ul><h3 id="å‡½æ•°å‚æ•°"><a href="#å‡½æ•°å‚æ•°" class="headerlink" title="å‡½æ•°å‚æ•°"></a>å‡½æ•°å‚æ•°</h3><p>åœ¨ Shell ä¸­ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¯ä»¥å‘å…¶ä¼ é€’å‚æ•°ã€‚åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œé€šè¿‡ <code>$n</code> çš„å½¢å¼æ¥è·å–å‚æ•°çš„å€¼ï¼Œä¾‹å¦‚ï¼Œ<code>$1</code> è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<code>$2</code> è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°â€¦</p><p>å¸¦å‚æ•°çš„å‡½æ•°ç¤ºä¾‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="function"><span class="title">funWithParam</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The first parameter is <span class="variable">$1</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The second parameter is <span class="variable">$2</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The tenth parameter is <span class="variable">$10</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The tenth parameter is <span class="variable">$&#123;10&#125;</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The eleventh parameter is <span class="variable">$&#123;11&#125;</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;The total number of parameters is <span class="variable">$#</span> !&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;Outputs all parameters as a string $* !&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">funWithParam 1 2 3 4 5 6 7 8 9 34 73</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux_study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxæ—¥å¸¸ç®¡ç†ä¸å¤‡ä»½</title>
      <link href="2021/11/21/%E5%91%BD%E4%BB%A4%E9%9B%86-5/"/>
      <url>2021/11/21/%E5%91%BD%E4%BB%A4%E9%9B%86-5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="Linuxæ—¥å¸¸ç®¡ç†ä¸å¤‡ä»½"><a href="#Linuxæ—¥å¸¸ç®¡ç†ä¸å¤‡ä»½" class="headerlink" title="Linuxæ—¥å¸¸ç®¡ç†ä¸å¤‡ä»½"></a>Linuxæ—¥å¸¸ç®¡ç†ä¸å¤‡ä»½</h3><span id="more"></span><h3 id="æŸ¥çœ‹å†…å­˜"><a href="#æŸ¥çœ‹å†…å­˜" class="headerlink" title="æŸ¥çœ‹å†…å­˜"></a>æŸ¥çœ‹å†…å­˜</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">free</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070012.png" alt="image-20210916110839246"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/meminfo</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070017.png" alt="image-20210916111003753"></p><p>æŸ¥çœ‹å†…å­˜ç¡¬ä»¶ä¿¡æ¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmidecode -t memory</span><br></pre></td></tr></table></figure><blockquote><p>DMIï¼ˆDesktop Management Interface,DMIï¼‰å°±æ˜¯å¸®åŠ©æ”¶é›†ç”µè„‘ç³»ç»Ÿä¿¡æ¯çš„ç®¡ç†ç³»ç»Ÿï¼ŒDMIä¿¡æ¯çš„æ”¶é›†å¿…é¡»åœ¨ä¸¥æ ¼éµç…§SMBIOSè§„èŒƒçš„å‰æä¸‹è¿›è¡Œã€‚SMBIOSï¼ˆSystem Management BIOSï¼‰æ˜¯ä¸»æ¿æˆ–ç³»ç»Ÿåˆ¶é€ è€…ä»¥æ ‡å‡†æ ¼å¼æ˜¾ç¤ºäº§å“ç®¡ç†ä¿¡æ¯æ‰€éœ€éµå¾ªçš„ç»Ÿä¸€è§„èŒƒã€‚SMBIOSå’ŒDMIæ˜¯ç”±è¡Œä¸šæŒ‡å¯¼æœºæ„Desktop Management Task Force(DMTF)èµ·è‰çš„å¼€æ”¾æ€§çš„æŠ€æœ¯æ ‡å‡†ï¼Œå…¶ä¸­DMIè®¾è®¡é€‚ç”¨äºä»»ä½•çš„å¹³å°å’Œæ“ä½œç³»ç»Ÿã€‚</p></blockquote><p>è¯­æ³•</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">dmidecode</span><span class="meta"> [é€‰é¡¹]</span></span><br></pre></td></tr></table></figure><p>é€‰é¡¹</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">-dï¼š(default:/dev/mem)ä»è®¾å¤‡æ–‡ä»¶è¯»å–ä¿¡æ¯ï¼Œè¾“å‡ºå†…å®¹ä¸ä¸åŠ å‚æ•°æ ‡å‡†è¾“å‡ºç›¸åŒã€‚</span></span><br><span class="line"><span class="deletion">-hï¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="deletion">-sï¼šåªæ˜¾ç¤ºæŒ‡å®šDMIå­—ç¬¦ä¸²çš„ä¿¡æ¯ã€‚(string)</span></span><br><span class="line"><span class="deletion">-tï¼šåªæ˜¾ç¤ºæŒ‡å®šæ¡ç›®çš„ä¿¡æ¯ã€‚(type)</span></span><br><span class="line"><span class="deletion">-uï¼šæ˜¾ç¤ºæœªè§£ç çš„åŸå§‹æ¡ç›®å†…å®¹ã€‚</span></span><br><span class="line"><span class="deletion">--dump-bin fileï¼šå°†DMIæ•°æ®è½¬å‚¨åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚</span></span><br><span class="line"><span class="deletion">--from-dump FILEï¼šä»ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶è¯»å–DMIæ•°æ®ã€‚</span></span><br><span class="line"><span class="deletion">-Vï¼šæ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070020.png" alt="image-20210923161747688"></p><p>å¯ä»¥çœ‹åˆ° maximum toal memory size æ˜¯491520MB</p><h3 id="æŸ¥çœ‹cpu"><a href="#æŸ¥çœ‹cpu" class="headerlink" title="æŸ¥çœ‹cpu"></a>æŸ¥çœ‹cpu</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat  /proc/cpuinfo </span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070026.png" alt="image-20210916111139244"></p><p>physical id ä¸ºcpuä¸ªæ•°</p><p>coresä¸ºpcuæ ¸æ•°</p><p>processorä¸ºé€»è¾‘cpuä¸ªæ•°</p><p>GHzä¸ºcpuä¸»é¢‘</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lscpuä¹Ÿå¯ä»¥æŸ¥çœ‹ä¿¡æ¯</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070027.png" alt="image-20210916111353437"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a </span><br></pre></td></tr></table></figure><p>å¯ä»¥æŸ¥çœ‹osè¯¦ç»†ä¿¡æ¯</p><h3 id="æŸ¥çœ‹ç½‘ç»œç½‘å¡ip"><a href="#æŸ¥çœ‹ç½‘ç»œç½‘å¡ip" class="headerlink" title="æŸ¥çœ‹ç½‘ç»œç½‘å¡ip"></a>æŸ¥çœ‹ç½‘ç»œç½‘å¡ip</h3><p>æŸ¥çœ‹ç½‘å¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dmesg | grep eth</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070032.png" alt="image-20210916113058417"></p><p>netstat å‘½ä»¤ç”¨äºæ˜¾ç¤ºå„ç§ç½‘ç»œç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç½‘ç»œè¿æ¥ï¼Œè·¯ç”±è¡¨ï¼Œæ¥å£çŠ¶æ€ (Interface Statistics)ï¼Œmasquerade è¿æ¥ï¼Œå¤šæ’­æˆå‘˜ (Multicast Memberships) ç­‰ç­‰ã€‚</p><p>åˆ—å‡ºæ‰€æœ‰ç«¯å£ (åŒ…æ‹¬ç›‘å¬å’Œæœªç›‘å¬çš„):</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -a</span><br></pre></td></tr></table></figure><p>åˆ—å‡ºæ‰€æœ‰ tcp ç«¯å£:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -at</span><br></pre></td></tr></table></figure><p>åˆ—å‡ºæ‰€æœ‰æœ‰ç›‘å¬çš„æœåŠ¡çŠ¶æ€:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -l</span><br></pre></td></tr></table></figure><p>lsofï¼ˆlist open filesï¼‰æ˜¯ä¸€ä¸ªåˆ—å‡ºå½“å‰ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶çš„å·¥å…·ã€‚åœ¨linuxç¯å¢ƒä¸‹ï¼Œä»»ä½•äº‹ç‰©éƒ½ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œé€šè¿‡æ–‡ä»¶ä¸ä»…ä»…å¯ä»¥è®¿é—®å¸¸è§„æ•°æ®ï¼Œè¿˜å¯ä»¥è®¿é—®ç½‘ç»œè¿æ¥å’Œç¡¬ä»¶ã€‚æ‰€ä»¥å¦‚ä¼ è¾“æ§åˆ¶åè®® (TCP) å’Œç”¨æˆ·æ•°æ®æŠ¥åè®® (UDP) å¥—æ¥å­—ç­‰ï¼› åœ¨æŸ¥è¯¢ç½‘ç»œç«¯å£æ—¶ï¼Œç»å¸¸ä¼šç”¨åˆ°è¿™ä¸ªå·¥å…·ã€‚</p><p>DNSæŸ¥è¯¢ï¼Œå¯»æ‰¾åŸŸådomainå¯¹åº”çš„IP:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$host</span> domain</span><br></pre></td></tr></table></figure><p>åå‘DNSæŸ¥è¯¢:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$host</span> IP</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç½‘å¡ç¡¬ä»¶ä¿¡æ¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lspci</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070033.png" alt="image-20210923162412326"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip link show  <span class="comment">#æŸ¥çœ‹ç³»ç»Ÿç½‘ç»œæ¥å£</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070036.png" alt="image-20210923162312191"></p><p><strong>ifconfigï¼š</strong> æœ€å¸¸ç”¨çš„é…ç½®å’ŒæŸ¥çœ‹ç½‘ç»œæ¥å£ä¿¡æ¯çš„å‘½ä»¤ï¼ŒæœåŠ¡å™¨ä¸Šæ‰§è¡Œæ­¤å‘½ä»¤ä¼šå¾—</p><p>åˆ°ç±»ä¸‹æ–‡çš„å†…å®¹ï¼Œä¸€ä¸‹å†…å®¹å¯çœ‹åˆ°å¤šä¸ªè®¾å¤‡å’Œè®¾å¤‡çŠ¶æ€ã€ä¿¡æ¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/070038.png" alt="image-20210916112144422"></p><p>æŸ¥çœ‹åˆ°äº†æœ¬æœºIP åœ°å€ä¸æ©ç </p><p><strong>iwconfig  ï¼š</strong>ç”¨äºæŸ¥çœ‹æ— çº¿ç½‘ç»œï¼Œå¦‚æœä½ è®¾å¤‡ä¸Šæœ‰æ— çº¿ç½‘å¡æ­¤æ—¶å¯ç”¨æ­¤å‘½ä»¤æ¥æŸ¥çœ‹ï¼Œæˆ‘çš„è®¾å¤‡ä¸Šå¹¶æ²¡æœ‰æ— çº¿ç½‘å¡è®¾å¤‡ï¼Œå› æ­¤ä¼šä¼šå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/070039.png" alt="image-20210916112759401"></p><p>routeå‘½ä»¤æŸ¥çœ‹æœ¬æœºç½‘å…³</p><p><img data-src="http://cdn.sekyoro.top/imgs/070044.png" alt="image-20210916112628510"></p><div class="table-container"><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>ping</code></td><td><strong>æŸ¥è¯¢</strong>æŸä¸ªæœºå™¨æ˜¯å¦åœ¨å·¥ä½œ</td></tr><tr><td><code>netstat</code></td><td>æŸ¥çœ‹<strong>ç½‘ç»œçš„çŠ¶å†µ</strong></td></tr><tr><td><code>nslookup</code></td><td>nslookup æŸ¥è¯¢åŸŸåå’ŒIPåœ°å€çš„å¯¹åº”</td></tr><tr><td><code>lastå’Œlastlog</code></td><td>æŸ¥è¯¢<strong>ç”¨æˆ·ç™»å½•ä¿¡æ¯</strong></td></tr><tr><td><code>raceroutet</code></td><td>ç”¨æ¥<strong>æ£€æµ‹ä¼ è¾“çš„è·¯å¾„</strong></td></tr></tbody></table></div><h3 id="æ—¶é—´ç®¡ç†"><a href="#æ—¶é—´ç®¡ç†" class="headerlink" title="æ—¶é—´ç®¡ç†"></a>æ—¶é—´ç®¡ç†</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢æ—¶é—´</p><p><img data-src="http://cdn.sekyoro.top/imgs/070045.png" alt="image-20210916113457346"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl <span class="comment">#æŸ¥è¯¢ç»Ÿä¸€æ—¶é—´</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070047.png" alt="image-20210916113806432"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date -s <span class="string">&quot;æ—¶é—´&quot;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ—¶é—´</p><h3 id="å¤‡ä»½ç³»ç»Ÿ"><a href="#å¤‡ä»½ç³»ç»Ÿ" class="headerlink" title="å¤‡ä»½ç³»ç»Ÿ"></a>å¤‡ä»½ç³»ç»Ÿ</h3><p>æˆä¸ºrootç”¨æˆ·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br></pre></td></tr></table></figure><p>ç„¶åè¿›å…¥æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•(å½“ç„¶ï¼Œå¦‚æœä½ ä¸æƒ³å¤‡ä»½æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½ ä¹Ÿå¯ä»¥è¿›å…¥ä½ æƒ³è¦å¤‡ä»½çš„ç›®å½•ï¼ŒåŒ…æ‹¬è¿œç¨‹ç›®å½•æˆ–è€…ç§»åŠ¨ç¡¬ç›˜ä¸Šçš„ç›®å½•)ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># cd /</span></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æˆ‘ç”¨æ¥å¤‡ä»½ç³»ç»Ÿçš„å®Œæ•´å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tar cvpzf backup.tgz â€“exclude=/proc â€“exclude=/lost+found â€“exclude=/backup.tgz â€“exclude=/mnt â€“exclude=/sys/</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux_study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>css ç»ƒä¹ </title>
      <link href="2021/11/05/css-%E7%BB%83%E4%B9%A0/"/>
      <url>2021/11/05/css-%E7%BB%83%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>åœ¨githubä¸Šæ‰¾åˆ°ä¸€ä¸ªé¡¹ç›®<a href="https://github.com/paola9896/CSS-Layouts-Tutorial.git">csså¸ƒå±€</a></p><p>åº”è¯¥æ˜¯æ¯”è¾ƒç®€å•çš„</p><span id="more"></span><p><img data-src="http://cdn.sekyoro.top/imgs/065920.png" alt="image-20211105224031125"></p><p>å¾ˆç®€è¦æ˜¯å§.</p>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> exercise </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cssæ­ç§˜</title>
      <link href="2021/11/04/css%E6%8F%AD%E7%A7%98/"/>
      <url>2021/11/04/css%E6%8F%AD%E7%A7%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æœ€è¿‘å­¦ä¹ å‰ç«¯,csså¤ªæŠ˜ç£¨äº†</p><span id="more"></span><p>æˆ‘å¹¶ä¸æ˜¯è¦æ‰€è°“æ­ç§˜CSS,è¿™åªæ˜¯ä¸ªè¯»ä¹¦ç¬”è®°</p><p><img data-src="http://cdn.sekyoro.top/imgs/093015.png" alt="image-20211104224927600"></p><p>ä¹‹å‰å†™è¿‡cssä¸€ç‚¹å°çŸ¥è¯†,åæ¥æœ‰å¾€åçœ‹äº†çœ‹,æ²¡è¿‡å‡ å¤©å°±å¿˜äº†â€¦</p><p>ç°åœ¨çš„ç»éªŒå°±æ˜¯ æ€»ä¹‹å°±æ˜¯è®°ä½é‡ç‚¹,å†™ç‚¹å°ä¸œè¥¿.</p><p>css secrets+<a href="https://github.com/bradtraversy/vanillawebprojects">vanillawebprojects</a>+Javascript30</p><p>githubä¸Šè¿˜æœ‰å¾ˆå¤šå°ç»ƒä¹ </p><p>å­¦ä¹ äº†ä¸€ä¼šcssæ„Ÿè§‰å¸ƒå±€å¾ˆé‡è¦,å…¶ä»–å…ƒç´ å•¥çš„åè€Œç›´æ¥æŸ¥æ–‡æ¡£å°±è¡Œäº†</p><h2 id="ç»“æ„ä¸å¸ƒå±€"><a href="#ç»“æ„ä¸å¸ƒå±€" class="headerlink" title="ç»“æ„ä¸å¸ƒå±€"></a>ç»“æ„ä¸å¸ƒå±€</h2><h3 id="è‡ªé€‚åº”å†…éƒ¨å…ƒç´ "><a href="#è‡ªé€‚åº”å†…éƒ¨å…ƒç´ " class="headerlink" title="è‡ªé€‚åº”å†…éƒ¨å…ƒç´ "></a>è‡ªé€‚åº”å†…éƒ¨å…ƒç´ </h3><p>å¦‚æœä¸ç»™å…ƒç´ æŒ‡å®šä¸€ä¸ªå…·ä½“çš„height,å®ƒå°±ä¼šè‡ªåŠ¨é€‚åº”å†…å®¹çš„é«˜åº¦</p><p><img data-src="http://cdn.sekyoro.top/imgs/065251.png" alt="image-20211105143737238"></p><p>å¯ä»¥çŸ¥é“æ²¡æœ‰æ˜¾ç¤ºä»»ä½•ä¸œè¥¿,å¦‚æœå†™äº†å†…å®¹å°±ä¼šéšä¹‹å˜åŒ–</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus eius omnis eum accusantium delectus ipsum fuga sunt, facere quasi impedit voluptas dolorem accusamus natus error hic quod fugit deleniti perspiciatis?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">figure</span>&gt;</span></span><br><span class="line"> ![ä¸æ”¯æŒ](https://cdn.pixabay.com/photo/2021/10/13/11/31/couple-6706278_960_720.jpg)</span><br><span class="line">        <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span></span><br><span class="line">Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia cumque perspiciatis maxime nulla animi saepe ipsum magni aspernatur nam ex natus nobis voluptatem tempora, molestias esse sed minima vero dignissimos?</span><br><span class="line">        <span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ut accusamus, repudiandae minus, placeat voluptatibus blanditiis explicabo expedita nobis distinctio velit deleniti, dignissimos totam nam debitis sit repellat officiis ratione atque?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çŸ¥é“å›¾ç‰‡ä¸æ–‡å­—å¹¶ä¸ä¸€æ ·å®½.</p><p>æˆ‘ä»¬å¸Œæœ›æ–‡å­—ä¸å›¾ç‰‡ä¸€æ ·å®½,è€Œä¸”å±…ä¸­.</p><p>éœ€è¦è§£å†³çš„é—®é¢˜,å…ƒç´ å®½åº¦ç”±å†…éƒ¨å› ç´ è€Œä¸æ˜¯å¤–éƒ¨å› ç´ å†³å®š.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;background-color: aqua;&quot;</span>&gt;</span></span><br><span class="line">        Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque qui reprehenderit recusandae omnis porro, illo itaque molestias exercitationem. Id ipsam delectus enim dolorum animi. Quibusdam optio ipsa culpa nulla veniam!</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus eius omnis eum accusantium delectus ipsum fuga sunt, facere quasi impedit voluptas dolorem accusamus natus error hic quod fugit deleniti perspiciatis?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">figure</span> <span class="attr">style</span>=<span class="string">&quot;width: min-content;max-width: min-content; max-width: 300px; margin:  auto;&quot;</span>&gt;</span></span><br><span class="line"> ![ä¸æ”¯æŒ](https://cdn.pixabay.com/photo/2021/10/13/11/31/couple-6706278_960_720.jpg)</span><br><span class="line">        <span class="tag">&lt;<span class="name">figcaption</span>&gt;</span></span><br><span class="line">Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia cumque perspiciatis maxime nulla animi saepe ipsum magni aspernatur nam ex natus nobis voluptatem tempora, molestias esse sed minima vero dignissimos?</span><br><span class="line">        <span class="tag">&lt;/<span class="name">figcaption</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ut accusamus, repudiandae minus, placeat voluptatibus blanditiis explicabo expedita nobis distinctio velit deleniti, dignissimos totam nam debitis sit repellat officiis ratione atque?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ç²¾ç¡®æ§åˆ¶è¡¨æ ¼åˆ—å®½"><a href="#ç²¾ç¡®æ§åˆ¶è¡¨æ ¼åˆ—å®½" class="headerlink" title="ç²¾ç¡®æ§åˆ¶è¡¨æ ¼åˆ—å®½"></a>ç²¾ç¡®æ§åˆ¶è¡¨æ ¼åˆ—å®½</h3><p>è¡¨æ ¼å¯¹äºä¸å›ºå®šçš„å†…å®¹æ¥è¯´æ˜¾ç¤ºä¸å¥½</p><p>tableLayout å±æ€§ç”¨æ¥æ˜¾ç¤ºè¡¨æ ¼å•å…ƒæ ¼ã€è¡Œã€åˆ—çš„ç®—æ³•è§„åˆ™ã€‚</p><p>ä¸€èˆ¬çš„è¡¨æ ¼display:tableåˆ—å®½ä¸ä¼šç›¸ç­‰,ä¹Ÿå°±æ˜¯è¯´æ¯è¡Œå®½åº¦åˆ†é…ä¸åŒ.</p><p>å¦‚æœç”¨table-layout:fixed</p><p>```html<br>&lt;!DOCTYPE html&gt;</p><p><html lang="en"></p><p><head><br>    <meta charset="UTF-8"><br>    <meta http-equiv="X-UA-Compatible" content="IE=edge"><br>    <meta name="viewport" content="width=device-width, initial-scale=1.0"><br>    <title>Document</title><br>    <style><br>        /**</p><ul><li>Taming table column widths<br>*/</li></ul><p>body { background: #ddd }</p><p>section {<br>    width: 500px;<br>    margin: 2em;<br>    background: white;<br>}</p><p>table {<br>    border-collapse: collapse;<br>    margin-bottom: 1em;<br>    width: 100%;<br>}</p><p>section + section table { table-layout: fixed }</p><p>td {<br>    border: 1px solid #aaa;<br>}</p><p>td.preformatted {<br>    white-space: pre;<br>    font-family: Consolas, Monaco, monospace;<br>    text-overflow: ellipsis;<br>    overflow: hidden;<br>}<br>    &lt;/style&gt;<br>&lt;/head&gt;</p><p><body><br>    <section><br>    <h1>With table-layout: auto</h1><br>    <div><br>        <table>            <tr>                <td>If we donâ€™tâ€¦</td>                <td>specify a cell width, they will be assigned one that depends on their contents. Notice how the cell with the more content here is much wider.</td>            </tr>        </table></p><pre><code>    &lt;table&gt;        &lt;tr&gt;            &lt;td&gt;If we donâ€™tâ€¦&lt;/td&gt;            &lt;td&gt;specify a cell width, they will be assigned one that depends on their contents. Notice how the cell with the more content here is much wider.&lt;/td&gt;        &lt;/tr&gt;        &lt;tr&gt;            &lt;td&gt;All rows take part in calculating the widths, not just the first one.&lt;/td&gt;            &lt;td&gt;Notice how the dimensions here are different than the previous example.&lt;/td&gt;        &lt;/tr&gt;    &lt;/table&gt;    &lt;table&gt;        &lt;tr&gt;            &lt;td style=&quot;width: 1000px&quot;&gt;If we specify a width, it will not always be followed. I have a width of &lt;code&gt;1000px&lt;/code&gt;â€¦&lt;/td&gt;            &lt;td style=&quot;width: 2000px&quot;&gt;â€¦and I have a width of &lt;code&gt;2000px&lt;/code&gt;. Because thereâ€™s not enough space for &lt;code&gt;3000px&lt;/code&gt;, they are reduced proportionally, to 33.3% and 66.6% of the total width.&lt;/td&gt;        &lt;/tr&gt;    &lt;/table&gt;    &lt;table&gt;        &lt;tr&gt;            &lt;td&gt;If we prevent word wrapping, the table can become so wide it grows beyond its container.&lt;/td&gt;            &lt;td class=&quot;preformatted&quot;&gt;â€¦and &lt;code&gt;text-overflow: ellipsis&lt;/code&gt; doesnâ€™t help either.&lt;/td&gt;        &lt;/tr&gt;    &lt;/table&gt;    &lt;table&gt;        &lt;tr&gt;            &lt;td&gt;Large images and blocks of code can also cause the same issue.&lt;/td&gt;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> css </tag>
            
            <tag> reading </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºå­¦ä¹ </title>
      <link href="2021/11/03/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/11/03/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¹‹å‰å­¦è¿‡ä¸€ç‚¹åŸºç¡€çš„,ç°åœ¨è°ƒä¸€ä¸‹api<br><span id="more"></span></p><h2 id="ç½‘ç»œéƒ¨åˆ†"><a href="#ç½‘ç»œéƒ¨åˆ†" class="headerlink" title="ç½‘ç»œéƒ¨åˆ†"></a>ç½‘ç»œéƒ¨åˆ†</h2><h3 id="ç›¸å…³ä¿¡æ¯"><a href="#ç›¸å…³ä¿¡æ¯" class="headerlink" title="ç›¸å…³ä¿¡æ¯"></a>ç›¸å…³ä¿¡æ¯</h3><p>å°ç¨‹åº/æœåŠ¡å™¨æ¶æ„æ˜¯CSæ¶æ„</p><p>å°ç¨‹åºç½‘ç»œAPIåœ¨å‘èµ·ç½‘ç»œè¯·æ±‚æ—¶ä½¿ç”¨JSONæ ¼å¼çš„æ–‡æœ¬è¿›è¡Œæ•°æ®äº¤æ¢</p><h3 id="æœåŠ¡å™¨åŸŸåé…ç½®"><a href="#æœåŠ¡å™¨åŸŸåé…ç½®" class="headerlink" title="æœåŠ¡å™¨åŸŸåé…ç½®"></a>æœåŠ¡å™¨åŸŸåé…ç½®</h3><p>è¿™é‡Œçš„æœåŠ¡å™¨å¯ä»¥æ˜¯ä½ è‡ªå·±çš„,ä¹Ÿå¯ä»¥æ˜¯wechatæˆ–è€…å…¶ä»–ç¬¬ä¸‰æ–¹çš„.</p><p>é€‰æ‹©ã€è®¾ç½®ã€‘â€”ã€å¼€å‘è®¾ç½®ã€‘â€”ã€æœåŠ¡å™¨åŸŸåã€‘è¿›è¡Œæ·»åŠ æˆ–ä¿®æ”¹</p><p><img data-src="http://cdn.sekyoro.top/imgs/094011.png" alt="image-20211103193519336"></p><ul><li><p>åŸŸååªæ”¯æŒ https (requestã€uploadFileã€downloadFile) å’Œ wss (connectSocket) åè®®ï¼›</p></li><li><p>åŸŸåä¸èƒ½ä½¿ç”¨ IP åœ°å€æˆ– localhostï¼›åŸŸåå¿…é¡»ç»è¿‡ ICP å¤‡æ¡ˆï¼›</p></li><li><p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œapi.weixin.qq.com ä¸èƒ½è¢«é…ç½®ä¸ºæœåŠ¡å™¨åŸŸåï¼Œç›¸å…³APIä¹Ÿä¸èƒ½åœ¨å°ç¨‹åºå†…è°ƒ</p><p>ç”¨ã€‚å¼€å‘è€…åº”å°† appsecret ä¿å­˜åˆ°åå°æœåŠ¡å™¨ä¸­ï¼Œé€šè¿‡æœåŠ¡å™¨ä½¿ç”¨ appsecret è·å– accesstokenï¼Œå¹¶è°ƒç”¨ç›¸å…³ APIï¼›æ¯ç±»æ¥å£åˆ†åˆ«å¯ä»¥é…ç½®æœ€å¤š 20 ä¸ªåŸŸåã€‚</p></li></ul><p>ä¸”é…ç½®æ¬¡æ•°æ¯ä¸ªæœˆæœ‰é™åˆ¶</p><p>è‡ªå·±çš„æœåŠ¡å™¨è¿˜è¦æœ‰HTTPè¯ä¹¦ç­‰,æ€»ä¹‹ç”¨è¿™ä¸ªæœ€å¥½è¿˜æ˜¯ç”¨å¾®ä¿¡è‡ªå·±çš„æˆ–è€…ç¬¬ä¸‰æ–¹çš„</p><p>å°ç¨‹åºå¯¹æœåŠ¡å™¨ç«¯æ²¡æœ‰è½¯ä»¶å’Œè¯­è¨€çš„é™åˆ¶æ¡ä»¶ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±å®é™…æƒ…å†µé€‰æ‹©Apacheã€Ngnixã€Tomcatç­‰ä»»æ„ä¸€æ¬¾æœåŠ¡å™¨è½¯ä»¶è¿›è¡Œå®‰è£…éƒ¨ç½²ï¼Œä»¥åŠé€‰ç”¨PHPã€Node.jsã€J2EEç­‰ä»»æ„ä¸€ç§è¯­è¨€è¿›è¡Œåç«¯å¼€å‘ã€‚</p><h3 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h3><p>è¿™é‡Œè¯´ä¸€ä¸‹ä¸´æ—¶éƒ¨ç½²,å°±æ˜¯åœ¨æœ¬åœ°ç”µè„‘ä¸Šéƒ¨ç½²,åœ¨æœåŠ¡å™¨å…¶å®ç±»ä¼¼</p><p>å¯ä»¥ç”¨Apache,ngnixæœåŠ¡å™¨è½¯ä»¶æ­é…php,nodejsç­‰è¿›è¡Œå¼€å‘</p><p>å¯ä»¥å®‰è£…phpstudyå­¦ä¹ ,æŒºå¥½çš„è½¯ä»¶ </p><p>æœ‰php,Apache,ngnix,mysqlæ•°æ®åº“é›†æˆ</p><p><img data-src="http://cdn.sekyoro.top/imgs/094012.png" alt="image-20211103194554124"></p><p>è¿™æ ·å°±å¯ä»¥æœ¬åœ°æµ‹è¯•äº†.</p><h3 id="å‘èµ·è¯·æ±‚"><a href="#å‘èµ·è¯·æ±‚" class="headerlink" title="å‘èµ·è¯·æ±‚"></a>å‘èµ·è¯·æ±‚</h3><p>å°ç¨‹åºä½¿ç”¨wx.request(OBJECT) å‘èµ·ç½‘ç»œè¯·æ±‚</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°å</strong></th><th><strong>ç±»å‹</strong></th><th><strong>å¿…å¡«</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>url</strong></td><td>String</td><td>æ˜¯</td><td>å¼€å‘è€…æˆ–ç¬¬ä¸‰æ–¹æœåŠ¡å™¨æ¥å£åœ°å€</td></tr><tr><td><strong>data</strong></td><td>Object/String/ArrayBuffer</td><td>å¦</td><td>è¯·æ±‚çš„å‚æ•°</td></tr><tr><td><strong>header</strong></td><td>Object</td><td>å¦</td><td>è®¾ç½®è¯·æ±‚çš„ headerï¼Œheader ä¸­ä¸èƒ½è®¾ç½® Refererï¼ˆå…¶ä¸­content-type é»˜è®¤ä¸º â€˜application/jsonâ€™ï¼‰</td></tr><tr><td><strong>method</strong></td><td>String</td><td>å¦</td><td>æœ‰æ•ˆå€¼ï¼šOPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECTï¼ˆé»˜è®¤å€¼æ˜¯GETï¼‰</td></tr><tr><td><strong>dataType</strong></td><td>String</td><td>å¦</td><td>é»˜è®¤å€¼ä¸ºjsonã€‚å¦‚æœè®¾ä¸ºjsonï¼Œä¼šå°è¯•å¯¹è¿”å›çš„æ•°æ®åšä¸€æ¬¡ JSON.parse</td></tr><tr><td><strong>responseType</strong></td><td>String</td><td>å¦</td><td>è®¾ç½®å“åº”çš„æ•°æ®ç±»å‹ã€‚åˆæ³•å€¼ï¼štextã€arraybufferã€‚é»˜è®¤å€¼ä¸ºtextã€‚æœ€ä½ç‰ˆæœ¬1.7.0</td></tr><tr><td><strong>success</strong></td><td>Function</td><td>å¦</td><td>æ”¶åˆ°æœåŠ¡å™¨æˆåŠŸè¿”å›çš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>fail</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>complete</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸä¸å¦éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table></div><p>successè¿”å›å‚æ•°</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ç±»å‹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>data</strong></td><td>Object/String/ArrayBuffer</td><td>å¼€å‘è€…æœåŠ¡å™¨è¿”å›çš„æ•°æ®</td></tr><tr><td><strong>statusCode</strong></td><td>Number</td><td>å¼€å‘è€…æœåŠ¡å™¨è¿”å›çš„HTTP çŠ¶æ€ç </td></tr><tr><td><strong>header</strong></td><td>Object</td><td>å¼€å‘è€…æœåŠ¡å™¨è¿”å›çš„HTTP Response Headerï¼Œæœ€ä½ç‰ˆæœ¬1.2.0</td></tr></tbody></table></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">wx.request(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;https://test.com/&#x27;</span>, <span class="comment">//ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">     <span class="attr">x</span>: <span class="string">&#x27;123&#x27;</span> ,  <span class="comment">//æ•°æ®çš„keyå’Œvalueç”±å¼€å‘è€…è‡ªå®šä¹‰</span></span><br><span class="line">     <span class="attr">y</span>: <span class="string">&#x27;456&#x27;</span>   <span class="comment">//è¿™é‡Œçš„æ•°æ®ä»…ä¸ºç¤ºä¾‹</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res.data) <span class="comment">//è¿”å›çš„æ•°æ®</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ€ç»ˆå‘é€ç»™æœåŠ¡å™¨çš„dataæ•°æ®æ˜¯Stringç±»å‹ï¼Œå¦‚æœä¼ å…¥çš„dataæ˜¯å…¶ä»–ç±»å‹ä¹Ÿä¼šè¢«è½¬æ¢æˆString</p><ul><li>å¯¹äº GET æ–¹æ³•çš„æ•°æ®ï¼Œä¼šå°†æ•°æ®è½¬æ¢æˆ query stringï¼ˆkey1=value1&amp;key2=value2â€¦ï¼‰ï¼›</li><li>å¯¹äº POST æ–¹æ³•ä¸” header[â€˜content-typeâ€™] ä¸º application/json çš„æ•°æ®ï¼Œä¼šå¯¹æ•°æ®è¿›è¡Œ JSON åºåˆ—åŒ–ï¼›</li><li>å¯¹äº POST æ–¹æ³•ä¸” header[â€˜content-typeâ€™] ä¸º application/x-www-form-urlencoded çš„æ•°æ®ï¼Œä¼šå°†æ•°æ®è½¬æ¢æˆ query string ï¼ˆkey1=value1&amp;key2=value2â€¦ï¼‰</li></ul><h3 id="ä¸­æ–­è¯·æ±‚"><a href="#ä¸­æ–­è¯·æ±‚" class="headerlink" title="ä¸­æ–­è¯·æ±‚"></a>ä¸­æ–­è¯·æ±‚</h3><p>wx.request(OBJECT)æ¥å£è¿”å›ä¸€ä¸ªrequestTaskå¯¹è±¡ï¼Œé€šè¿‡è¯¥å¯¹è±¡çš„abortæ–¹æ³•å¯ä»¥ä¸­æ–­è¯·æ±‚ä»»åŠ¡ã€‚requestTaskå¯¹è±¡çš„æ–¹æ³•å¦‚è¡¨æ‰€ç¤ºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> requestTask = wx.request(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;https://test.com/&#x27;</span>, <span class="comment">//ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„æ¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">     <span class="attr">x</span>: <span class="string">&#x27;123&#x27;</span> ,  <span class="comment">//æ•°æ®çš„keyå’Œvalueç”±å¼€å‘è€…è‡ªå®šä¹‰</span></span><br><span class="line">     <span class="attr">y</span>: <span class="string">&#x27;456&#x27;</span>   <span class="comment">//è¿™é‡Œçš„æ•°æ®ä»…ä¸ºç¤ºä¾‹</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res.data)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">requestTask.abort() <span class="comment">// å–æ¶ˆè¯·æ±‚ä»»åŠ¡</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h3><h4 id="ä¸Šä¼ è¯·æ±‚"><a href="#ä¸Šä¼ è¯·æ±‚" class="headerlink" title="ä¸Šä¼ è¯·æ±‚"></a>ä¸Šä¼ è¯·æ±‚</h4><p>å°ç¨‹åºä½¿ç”¨wx.uploadFile(OBJECT)å¯ä»¥å°†æœ¬åœ°èµ„æºä¸Šä¼ åˆ°å¼€å‘è€…æœåŠ¡å™¨ï¼Œä¸Šä¼ æ—¶å°†ä»å®¢æˆ·ç«¯å‘èµ·ä¸€ä¸ª HTTPS POSTè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œå…¶ä¸­content-typeä¸ºmultipart/form-dataã€‚<br>è¯¥æ¥å£çš„OBJECTå‚æ•°è¯´æ˜å¦‚è¡¨æ‰€ç¤ºã€‚</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ç±»å‹</strong></th><th><strong>å¿…å¡«</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>url</strong></td><td>String</td><td>æ˜¯</td><td>å¼€å‘è€…æœåŠ¡å™¨ url</td></tr><tr><td><strong>filePath</strong></td><td>String</td><td>æ˜¯</td><td>è¦ä¸Šä¼ æ–‡ä»¶èµ„æºçš„è·¯å¾„</td></tr><tr><td><strong>name</strong></td><td>String</td><td>æ˜¯</td><td>æ–‡ä»¶å¯¹åº”çš„ key , å¼€å‘è€…åœ¨æœåŠ¡å™¨ç«¯é€šè¿‡è¿™ä¸ª key å¯ä»¥è·å–åˆ°æ–‡ä»¶äºŒè¿›åˆ¶å†…å®¹</td></tr><tr><td><strong>header</strong></td><td>Object</td><td>å¦</td><td>HTTP è¯·æ±‚ Header, header ä¸­ä¸èƒ½è®¾ç½® Referer</td></tr><tr><td><strong>formData</strong></td><td>Object</td><td>å¦</td><td>HTTP è¯·æ±‚ä¸­å…¶ä»–é¢å¤–çš„ form data</td></tr><tr><td><strong>success</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>fail</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>complete</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸä¸å¦éƒ½ä¼šæ‰§è¡Œï¼‰</td></tr></tbody></table></div><p>æˆåŠŸæ—¶è¿”å›çš„æ•°æ®</p><div class="table-container"><table><thead><tr><th><strong>data</strong></th><th>String</th><th>å¼€å‘è€…æœåŠ¡å™¨è¿”å›çš„æ•°æ®</th></tr></thead><tbody><tr><td><strong>statusCode</strong></td><td>Number</td><td>å¼€å‘è€…æœåŠ¡å™¨è¿”å›çš„ HTTP çŠ¶æ€ç </td></tr></tbody></table></div><p>è¯¥æ¥å£ä¸å…¶ä»–æ¥å£ä¸€èµ·ä½¿ç”¨</p><p>é¡µé¢é€šè¿‡wx.chooseImageæ¥å£è·å–åˆ°ä¸€ä¸ªæœ¬åœ°èµ„æºçš„ä¸´æ—¶æ–‡ä»¶è·¯å¾„åï¼Œå¯é€šè¿‡æ­¤æ¥å£å°†æœ¬åœ°èµ„æºä¸Šä¼ åˆ°æŒ‡å®šæœåŠ¡å™¨.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">wx.chooseImage(&#123;</span><br><span class="line">  <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tempFilePaths = res.tempFilePaths</span><br><span class="line">    wx.uploadFile(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;https://example.weixin.qq.com/upload&#x27;</span>, <span class="comment">//ä»…ä¸ºç¤ºä¾‹ï¼ŒéçœŸå®çš„æ¥å£åœ°å€</span></span><br><span class="line">      <span class="attr">filePath</span>: tempFilePaths[<span class="number">0</span>],</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;file&#x27;</span>,</span><br><span class="line">      <span class="attr">formData</span>:&#123;</span><br><span class="line">        <span class="string">&#x27;user&#x27;</span>: <span class="string">&#x27;test&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> data = res.data</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ä¸Šä¼ ä»»åŠ¡å¯¹è±¡"><a href="#ä¸Šä¼ ä»»åŠ¡å¯¹è±¡" class="headerlink" title="ä¸Šä¼ ä»»åŠ¡å¯¹è±¡"></a>ä¸Šä¼ ä»»åŠ¡å¯¹è±¡</h4><p>wx.uploadFile(OBJECT)æ¥å£è¿”å›ä¸€ä¸ªuploadTaskå¯¹è±¡ï¼Œé€šè¿‡è¯¥å¯¹è±¡å¯ç›‘å¬æ–‡ä»¶ä¸Šä¼ è¿›åº¦å˜åŒ–äº‹ä»¶.</p><div class="table-container"><table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>å‚æ•°</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>æœ€ä½ç‰ˆæœ¬</strong></th></tr></thead><tbody><tr><td><strong>onProgressUpdate</strong></td><td>callback</td><td>ç›‘å¬ä¸Šä¼ è¿›åº¦å˜åŒ–</td><td>1.4.0</td></tr><tr><td><strong>abort</strong></td><td></td><td>ä¸­æ–­ä¸Šä¼ ä»»åŠ¡</td><td>1.4.0</td></tr></tbody></table></div><p>onProgressUpdateè¿”å›å‚æ•°</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ç±»å‹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>progress</strong></td><td>Number</td><td>ä¸Šä¼ è¿›åº¦ç™¾åˆ†æ¯”</td></tr><tr><td><strong>totalBytesSent</strong></td><td>Number</td><td>å·²ç»ä¸Šä¼ çš„æ•°æ®é•¿åº¦ï¼Œå•ä½ Bytes</td></tr><tr><td><strong>totalBytesExpectedToSend</strong></td><td>Number</td><td>é¢„æœŸéœ€è¦ä¸Šä¼ çš„æ•°æ®æ€»é•¿åº¦ï¼Œå•ä½ Bytes</td></tr></tbody></table></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> uploadTask = wx.uploadFile(&#123;</span><br><span class="line">    â€¦</span><br><span class="line">&#125;)</span><br><span class="line">uploadTask.onProgressUpdate(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;ä¸Šä¼ è¿›åº¦&#x27;</span>, res.progress)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;å·²ç»ä¸Šä¼ çš„æ•°æ®é•¿åº¦&#x27;</span>, res.totalBytesSent)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;é¢„æœŸéœ€è¦ä¸Šä¼ çš„æ•°æ®æ€»é•¿åº¦&#x27;</span>, res.totalBytesExpectedToSend)</span><br><span class="line">&#125;)</span><br><span class="line">uploadTask.abort() <span class="comment">// å–æ¶ˆä¸Šä¼ ä»»åŠ¡</span></span><br></pre></td></tr></table></figure><h4 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h4><p>ä½¿ç”¨wx.downloadFile(OBJECT)å¯ä»¥ä»æœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶èµ„æºåˆ°æœ¬åœ°ï¼ŒOBJECTå‚æ•°è¯´æ˜å¦‚è¡¨æ‰€ç¤ºã€‚</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ç±»å‹</strong></th><th><strong>å¿…å¡«</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>url</strong></td><td>String</td><td>æ˜¯</td><td>ä¸‹è½½èµ„æºçš„ url</td></tr><tr><td><strong>header</strong></td><td>Object</td><td>å¦</td><td>HTTP è¯·æ±‚ Headerï¼Œheader ä¸­ä¸èƒ½è®¾ç½® Referer</td></tr><tr><td><strong>success</strong></td><td>Function</td><td>å¦</td><td>ä¸‹è½½æˆåŠŸåä»¥ tempFilePath çš„å½¢å¼ä¼ ç»™é¡µé¢ï¼Œres = {tempFilePath: â€˜æ–‡ä»¶çš„ä¸´æ—¶è·¯å¾„â€™}</td></tr><tr><td><strong>fail</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>complete</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸä¸å¦éƒ½æ‰§è¡Œï¼‰</td></tr></tbody></table></div><p>successè¿”å›å‚æ•°</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ç±»å‹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>tempFilePath</strong></td><td>String</td><td>ä¸´æ—¶æ–‡ä»¶è·¯å¾„ï¼Œä¸‹è½½åçš„æ–‡ä»¶ä¼šå­˜å‚¨åˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶</td></tr><tr><td><strong>statusCode</strong></td><td>Number</td><td>å¼€å‘è€…æœåŠ¡å™¨è¿”å›çš„ HTTP çŠ¶æ€ç </td></tr></tbody></table></div><p>ä¸‹è½½æ–‡ä»¶çš„åŸç†æ˜¯å®¢æˆ·ç«¯ç›´æ¥å‘èµ·ä¸€ä¸ªHTTP GETè¯·æ±‚ï¼Œè¿”å›æ–‡ä»¶çš„æœ¬åœ°ä¸´æ—¶è·¯å¾„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ¬åœ°ä¸´æ—¶è·¯å¾„æ–‡ä»¶åœ¨å°ç¨‹åºæœ¬æ¬¡å¯åŠ¨æœŸé—´å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œå¦‚éœ€æŒä¹…ä¿å­˜ï¼Œéœ€åœ¨ä¸»åŠ¨è°ƒç”¨ wx.saveFileæ‰èƒ½åœ¨å°ç¨‹åºä¸‹æ¬¡å¯åŠ¨æ—¶è®¿é—®å¾—åˆ°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">wx.downloadFile(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;https://example.com/audio/123&#x27;</span>, <span class="comment">//ä»…ä¸ºç¤ºä¾‹ï¼Œå¹¶éçœŸå®çš„èµ„æº</span></span><br><span class="line">  <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// åªè¦æœåŠ¡å™¨æœ‰å“åº”æ•°æ®ï¼Œå°±ä¼šæŠŠå“åº”å†…å®¹å†™å…¥æ–‡ä»¶å¹¶è¿›å…¥ success å›è°ƒ</span></span><br><span class="line">    <span class="keyword">if</span> (res.statusCode === <span class="number">200</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res.tempFilePath) <span class="comment">//æ–‡ä»¶ä¸´æ—¶è·¯å¾„åœ°å€</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ä¸‹è½½ä»»åŠ¡å¯¹è±¡"><a href="#ä¸‹è½½ä»»åŠ¡å¯¹è±¡" class="headerlink" title="ä¸‹è½½ä»»åŠ¡å¯¹è±¡"></a>ä¸‹è½½ä»»åŠ¡å¯¹è±¡</h4><p>wx.downloadFile(OBJECT)è¿”å›ä¸€ä¸ªdownloadTaskå¯¹è±¡ï¼Œé€šè¿‡downloadTaskï¼Œå¯ç›‘å¬ä¸‹è½½è¿›åº¦å˜åŒ–äº‹ä»¶ï¼Œä»¥åŠå–æ¶ˆä¸‹è½½ä»»åŠ¡ã€‚è¯¥æ¥å£ä»åŸºç¡€åº“ 1.4.0 å¼€å§‹æ”¯æŒï¼Œä½ç‰ˆæœ¬éœ€åšå…¼å®¹å¤„ç†ã€‚downloadTaskå¯¹è±¡çš„æ–¹æ³•åˆ—è¡¨å¦‚è¡¨æ‰€ç¤º</p><div class="table-container"><table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>å‚æ•°</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>æœ€ä½ç‰ˆæœ¬</strong></th></tr></thead><tbody><tr><td><strong>onProgressUpdate</strong></td><td>callback</td><td>ç›‘å¬ä¸‹è½½è¿›åº¦å˜åŒ–</td><td>1.4.0</td></tr><tr><td><strong>abort</strong></td><td>æ— </td><td>ä¸­æ–­ä¸‹è½½ä»»åŠ¡</td><td>1.4.0</td></tr></tbody></table></div><p>onProgressUpdateè¿”å›å‚æ•°è¯´æ˜</p><div class="table-container"><table><thead><tr><th><strong>progress</strong></th><th>Number</th><th>ä¸‹è½½è¿›åº¦ç™¾åˆ†æ¯”</th></tr></thead><tbody><tr><td><strong>totalBytesWritten</strong></td><td>Number</td><td>å·²ç»ä¸‹è½½çš„æ•°æ®é•¿åº¦ï¼Œå•ä½ Bytes</td></tr><tr><td><strong>totalBytesExpectedToWrite</strong></td><td>Number</td><td>é¢„æœŸéœ€è¦ä¸‹è½½çš„æ•°æ®æ€»é•¿åº¦ï¼Œå•ä½ Bytes</td></tr></tbody></table></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> downloadTask = wx.downloadFile(&#123;</span><br><span class="line">    â€¦</span><br><span class="line">&#125;)</span><br><span class="line">downloadTask.onProgressUpdate(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;ä¸‹è½½è¿›åº¦&#x27;</span>, res.progress)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;å·²ç»ä¸‹è½½çš„æ•°æ®é•¿åº¦&#x27;</span>, res.totalBytesWritten)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;é¢„æœŸéœ€è¦ä¸‹è½½çš„æ•°æ®æ€»é•¿åº¦&#x27;</span>, res.totalBytesExpectedToWrite)</span><br><span class="line">&#125;)</span><br><span class="line">downloadTask.abort() <span class="comment">// å–æ¶ˆä¸‹è½½ä»»åŠ¡</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å›¾ç‰‡ç®¡ç†"><a href="#å›¾ç‰‡ç®¡ç†" class="headerlink" title="å›¾ç‰‡ç®¡ç†"></a>å›¾ç‰‡ç®¡ç†</h2><p>å°ç¨‹åºä½¿ç”¨wx.chooseImage(OBJECT)ä»æœ¬åœ°ç›¸å†Œé€‰æ‹©å›¾ç‰‡æˆ–ä½¿ç”¨ç›¸æœºæ‹ç…§è·å¾—å›¾ç‰‡ï¼Œå›¾ç‰‡å°†è¢«å­˜æ”¾åœ¨è®¾å¤‡çš„ä¸´æ—¶è·¯å¾„ï¼Œåœ¨å°ç¨‹åºæœ¬æ¬¡å¯åŠ¨æœŸé—´å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚</p><h3 id="é€‰æ‹©å›¾ç‰‡"><a href="#é€‰æ‹©å›¾ç‰‡" class="headerlink" title="é€‰æ‹©å›¾ç‰‡"></a>é€‰æ‹©å›¾ç‰‡</h3><div class="table-container"><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ç±»å‹</strong></th><th><strong>å¿…å¡«</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>count</strong></td><td>Number</td><td>å¦</td><td>æœ€å¤šå¯ä»¥é€‰æ‹©çš„å›¾ç‰‡å¼ æ•°ï¼Œé»˜è®¤9</td></tr><tr><td><strong>sizeType</strong></td><td>StringArray</td><td>å¦</td><td>original åŸå›¾ï¼Œcompressed å‹ç¼©å›¾ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰</td></tr><tr><td><strong>sourceType</strong></td><td>StringArray</td><td>å¦</td><td>album ä»ç›¸å†Œé€‰å›¾ï¼Œcamera ä½¿ç”¨ç›¸æœºï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰</td></tr><tr><td><strong>success</strong></td><td>Function</td><td>æ˜¯</td><td>æˆåŠŸåˆ™è¿”å›å›¾ç‰‡çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„åˆ—è¡¨ tempFilePaths</td></tr><tr><td><strong>fail</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>complete</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸä¸å¦éƒ½æ‰§è¡Œï¼‰</td></tr></tbody></table></div><p>successè¿”å›å‚æ•°</p><p>tempFilePathsï¼šStringArrayç±»å‹ï¼Œè¡¨ç¤ºå›¾ç‰‡çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼›<br>tempFilesï¼šObjectArrayç±»å‹ï¼Œè¡¨ç¤ºå›¾ç‰‡çš„æœ¬åœ°æ–‡ä»¶åˆ—è¡¨ï¼Œæ¯é¡¹æ˜¯ä¸€ä¸ªFileå¯¹è±¡ï¼Œæœ€ä½ç‰ˆæœ¬1.2.0å¼€å§‹æ”¯æŒ</p><p>File å¯¹è±¡ç»“æ„è¯´æ˜å¦‚ä¸‹ï¼š<br>pathï¼šStringç±»å‹ï¼Œè¡¨ç¤ºæœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼›<br>sizeï¼šNumberç±»å‹ï¼Œè¡¨ç¤ºæœ¬åœ°æ–‡ä»¶å¤§å°ï¼Œå•ä½ï¼šBã€‚<br>éœ€è¦æ³¨æ„æ˜¯ï¼Œwx.chooseImageè·å¾—çš„å›¾ç‰‡ä»…èƒ½åœ¨å°ç¨‹åºå¯åŠ¨æœŸé—´ä¸´æ—¶ä½¿ç”¨ã€‚å¦‚éœ€æŒä¹…ä¿å­˜ï¼Œéœ€åœ¨ä¸»åŠ¨è°ƒç”¨ wx.saveFileè¿›è¡Œä¿å­˜ï¼Œåœ¨å°ç¨‹åºä¸‹æ¬¡å¯åŠ¨æ—¶æ‰èƒ½è®¿é—®å¾—åˆ°ã€‚</p><h3 id="é¢„è§ˆå›¾ç‰‡"><a href="#é¢„è§ˆå›¾ç‰‡" class="headerlink" title="é¢„è§ˆå›¾ç‰‡"></a>é¢„è§ˆå›¾ç‰‡</h3><p>å°ç¨‹åºä½¿ç”¨wx.previewImage(OBJECT) é¢„è§ˆå›¾ç‰‡ï¼ŒOBJECTå‚æ•°è¯´æ˜å¦‚è¡¨æ‰€ç¤º</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ç±»å‹</strong></th><th><strong>å¿…å¡«</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>current</strong></td><td>String</td><td>å¦</td><td>å½“å‰æ˜¾ç¤ºå›¾ç‰‡çš„é“¾æ¥ï¼Œä¸å¡«åˆ™é»˜è®¤ä¸º urls çš„ç¬¬ä¸€å¼ </td></tr><tr><td><strong>urls</strong></td><td>StringArray</td><td>æ˜¯</td><td>éœ€è¦é¢„è§ˆçš„å›¾ç‰‡é“¾æ¥åˆ—è¡¨</td></tr><tr><td><strong>success</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>fail</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>complete</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸä¸å¦éƒ½æ‰§è¡Œï¼‰</td></tr></tbody></table></div><h3 id="è·å–å›¾ç‰‡ä¿¡æ¯"><a href="#è·å–å›¾ç‰‡ä¿¡æ¯" class="headerlink" title="è·å–å›¾ç‰‡ä¿¡æ¯"></a>è·å–å›¾ç‰‡ä¿¡æ¯</h3><p>wx.getImageInfo(OBJECT) è·å–å›¾ç‰‡ä¿¡æ¯</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ç±»å‹</strong></th><th><strong>å¿…å¡«</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>src</strong></td><td>String</td><td>æ˜¯</td><td>å›¾ç‰‡çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¸´æ—¶æ–‡ä»¶è·¯å¾„ï¼Œå­˜å‚¨æ–‡ä»¶è·¯å¾„ï¼Œç½‘ç»œå›¾ç‰‡è·¯å¾„</td></tr><tr><td><strong>success</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>fail</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>complete</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸä¸å¦éƒ½æ‰§è¡Œï¼‰</td></tr></tbody></table></div><p>successè¿”å›å‚æ•°</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°</strong></th><th><strong>ç±»å‹</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>æœ€ä½ç‰ˆæœ¬</strong></th></tr></thead><tbody><tr><td><strong>width</strong></td><td>Number</td><td>å›¾ç‰‡å®½åº¦ï¼Œå•ä½px</td><td></td></tr><tr><td><strong>height</strong></td><td>Number</td><td>å›¾ç‰‡é«˜åº¦ï¼Œå•ä½px</td><td></td></tr><tr><td><strong>path</strong></td><td>String</td><td>è¿”å›å›¾ç‰‡çš„æœ¬åœ°è·¯å¾„</td><td></td></tr><tr><td><strong>orientation</strong></td><td>String</td><td>è¿”å›å›¾ç‰‡çš„æ–¹å‘</td><td>1.9.90</td></tr><tr><td><strong>type</strong></td><td>String</td><td>è¿”å›å›¾ç‰‡çš„æ ¼å¼</td><td>1.9.90</td></tr></tbody></table></div><p>orientationå‚æ•°</p><div class="table-container"><table><thead><tr><th><strong>æšä¸¾å€¼</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>up</strong></td><td>é»˜è®¤</td></tr><tr><td><strong>down</strong></td><td>180åº¦æ—‹è½¬</td></tr><tr><td><strong>left</strong></td><td>é€†æ—¶é’ˆæ—‹è½¬90åº¦</td></tr><tr><td><strong>right</strong></td><td>é¡ºæ—¶é’ˆæ—‹è½¬90åº¦</td></tr><tr><td><strong>up-mirrored</strong></td><td>åŒupï¼Œä½†æ°´å¹³ç¿»è½¬</td></tr><tr><td><strong>down-mirrored</strong></td><td>åŒdownï¼Œä½†æ°´å¹³ç¿»è½¬</td></tr><tr><td><strong>left-mirrored</strong></td><td>åŒleftï¼Œä½†å‚ç›´ç¿»è½¬</td></tr><tr><td><strong>right-mirrored</strong></td><td>åŒrightï¼Œä½†å‚ç›´ç¿»è½¬</td></tr></tbody></table></div><p>ä¿å­˜å›¾åƒ</p><p>å°ç¨‹åºä½¿ç”¨wx.saveImageToPhotosAlbum(OBJECT) ä¿å­˜å›¾ç‰‡åˆ°ç³»ç»Ÿç›¸å†Œ</p><p>éœ€è¦ç”¨æˆ·æˆæƒ scope.writePhotosAlbum</p><div class="table-container"><table><thead><tr><th><strong>å‚æ•°å</strong></th><th><strong>ç±»å‹</strong></th><th><strong>å¿…å¡«</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>filePath</strong></td><td>String</td><td>æ˜¯</td><td>å›¾ç‰‡æ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥æ˜¯ä¸´æ—¶æ–‡ä»¶è·¯å¾„ä¹Ÿå¯ä»¥æ˜¯æ°¸ä¹…æ–‡ä»¶è·¯å¾„ï¼Œä¸æ”¯æŒç½‘ç»œå›¾ç‰‡è·¯å¾„</td></tr><tr><td><strong>success</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨æˆåŠŸçš„å›è°ƒå‡½æ•°ï¼Œè¿”å›Stringç±»å‹å‚æ•°errMsgï¼Œè¡¨ç¤ºè°ƒç”¨ç»“æœ</td></tr><tr><td><strong>fail</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨å¤±è´¥çš„å›è°ƒå‡½æ•°</td></tr><tr><td><strong>complete</strong></td><td>Function</td><td>å¦</td><td>æ¥å£è°ƒç”¨ç»“æŸçš„å›è°ƒå‡½æ•°ï¼ˆè°ƒç”¨æˆåŠŸä¸å¦éƒ½æ‰§è¡Œï¼‰</td></tr></tbody></table></div><h3 id="å½•éŸ³ç®¡ç†"><a href="#å½•éŸ³ç®¡ç†" class="headerlink" title="å½•éŸ³ç®¡ç†"></a>å½•éŸ³ç®¡ç†</h3><p>å°ç¨‹åºä½¿ç”¨wx.getRecorderManager()è·å–å…¨å±€å”¯ä¸€çš„å½•éŸ³ç®¡ç†å™¨ recorderManager</p><div class="table-container"><table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>å‚æ•°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>start</strong></td><td>options</td><td>å¼€å§‹å½•éŸ³</td></tr><tr><td><strong>pause</strong></td><td></td><td>æš‚åœå½•éŸ³</td></tr><tr><td><strong>resume</strong></td><td></td><td>ç»§ç»­å½•éŸ³</td></tr><tr><td><strong>stop</strong></td><td></td><td>åœæ­¢å½•éŸ³</td></tr><tr><td><strong>onStart</strong></td><td>callback</td><td>å½•éŸ³å¼€å§‹äº‹ä»¶</td></tr><tr><td><strong>onPause</strong></td><td>callback</td><td>å½•éŸ³æš‚åœäº‹ä»¶</td></tr><tr><td><strong>onStop</strong></td><td>callback</td><td>å½•éŸ³åœæ­¢äº‹ä»¶ï¼Œè¿”å›Stringç±»å‹å‚æ•°tempFilePathè¡¨ç¤ºå½•éŸ³æ–‡ä»¶çš„ä¸´æ—¶è·¯å¾„</td></tr><tr><td><strong>onFrameRecorded</strong></td><td>callback</td><td>å·²å½•åˆ¶å®ŒæŒ‡å®šå¸§å¤§å°çš„æ–‡ä»¶ï¼Œä¼šå›è°ƒå½•éŸ³åˆ†ç‰‡ç»“æœæ•°æ®ã€‚å¦‚æœè®¾ç½®äº†frameSizeï¼Œåˆ™ä¼šå›è°ƒæ­¤äº‹ä»¶ã€‚</td></tr><tr><td><strong>onError</strong></td><td>callback</td><td>å½•éŸ³é”™è¯¯äº‹ä»¶ï¼Œè¿”å›Stringç±»å‹å‚æ•°errMsgè¡¨ç¤ºé”™è¯¯ä¿¡æ¯</td></tr></tbody></table></div><p>start(options)æ–¹æ³•å‚æ•°</p><div class="table-container"><table><thead><tr><th><strong>duration</strong></th><th>Number</th><th>å¦</th><th>æŒ‡å®šå½•éŸ³çš„æ—¶é•¿ï¼Œå•ä½ ms ï¼Œå¦‚æœä¼ å…¥äº†åˆæ³•çš„ duration ï¼Œåœ¨åˆ°è¾¾æŒ‡å®šçš„ duration åä¼šè‡ªåŠ¨åœæ­¢å½•éŸ³ï¼Œæœ€å¤§å€¼ 600000ï¼ˆ10 åˆ†é’Ÿï¼‰,é»˜è®¤å€¼ 60000ï¼ˆ1 åˆ†é’Ÿï¼‰</th><th>1.6.0</th></tr></thead><tbody><tr><td><strong>sampleRate</strong></td><td>Number</td><td>å¦</td><td>é‡‡æ ·ç‡ï¼Œæœ‰æ•ˆå€¼ 8000/16000/44100</td><td>1.6.0</td></tr><tr><td><strong>numberOfChannels</strong></td><td>Number</td><td>å¦</td><td>å½•éŸ³é€šé“æ•°ï¼Œæœ‰æ•ˆå€¼ 1/2</td><td>1.6.0</td></tr><tr><td><strong>encodeBitRate</strong></td><td>Number</td><td>å¦</td><td>ç¼–ç ç ç‡ï¼Œæœ‰æ•ˆå€¼è§ä¸‹è¡¨æ ¼</td><td>1.6.0</td></tr><tr><td><strong>format</strong></td><td>String</td><td>å¦</td><td>éŸ³é¢‘æ ¼å¼ï¼Œæœ‰æ•ˆå€¼ aac/mp3</td><td>1.6.0</td></tr><tr><td><strong>frameSize</strong></td><td>Number</td><td>å¦</td><td>æŒ‡å®šå¸§å¤§å°ï¼Œå•ä½ KBã€‚ä¼ å…¥ frameSize åï¼Œæ¯å½•åˆ¶æŒ‡å®šå¸§å¤§å°çš„å†…å®¹åï¼Œä¼šå›è°ƒå½•åˆ¶çš„æ–‡ä»¶å†…å®¹ï¼Œä¸æŒ‡å®šåˆ™ä¸ä¼šå›è°ƒã€‚æš‚ä»…æ”¯æŒ mp3 æ ¼å¼</td><td>1.6.0</td></tr><tr><td><strong>audioSource</strong></td><td>String</td><td>å¦</td><td>æŒ‡å®šéŸ³é¢‘è¾“å…¥æºï¼Œé»˜è®¤å€¼ä¸º â€˜autoâ€™</td><td>2.1.0</td></tr></tbody></table></div>]]></content>
      
      
      
        <tags>
            
            <tag> wechat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>csså­¦ä¹ </title>
      <link href="2021/10/20/css%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/10/20/css%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æ²¡æœ‰css,å°±æ²¡æœ‰å‰ç«¯!</p><span id="more"></span><p>CSS ç”¨äºå®šä¹‰ç½‘é¡µçš„æ ·å¼ï¼ŒåŒ…æ‹¬é’ˆå¯¹ä¸åŒè®¾å¤‡å’Œå±å¹•å°ºå¯¸çš„è®¾è®¡å’Œå¸ƒå±€</p><p>æ ·å¼å®šä¹‰é€šå¸¸ä¿å­˜åœ¨å¤–éƒ¨ .css æ–‡ä»¶ä¸­ã€‚</p><p>é€šè¿‡ä½¿ç”¨å¤–éƒ¨æ ·å¼è¡¨æ–‡ä»¶ï¼Œæ‚¨åªéœ€æ›´æ”¹ä¸€ä¸ªæ–‡ä»¶å³å¯æ›´æ”¹æ•´ä¸ªç½‘ç«™çš„å¤–è§‚ï¼</p><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093515.png" alt="image-20211020200204328"></p><p>å¯ä»¥å°† CSS é€‰æ‹©å™¨åˆ†ä¸ºäº”ç±»ï¼š</p><ul><li>ç®€å•é€‰æ‹©å™¨ï¼ˆæ ¹æ®åç§°ã€idã€ç±»æ¥é€‰å–å…ƒç´ ï¼‰</li><li><a href="https://www.w3school.com.cn/css/css_combinators.asp">ç»„åˆå™¨é€‰æ‹©å™¨</a>ï¼ˆæ ¹æ®å®ƒä»¬ä¹‹é—´çš„ç‰¹å®šå…³ç³»æ¥é€‰å–å…ƒç´ ï¼‰</li><li><a href="https://www.w3school.com.cn/css/css_pseudo_classes.asp">ä¼ªç±»é€‰æ‹©å™¨</a>ï¼ˆæ ¹æ®ç‰¹å®šçŠ¶æ€é€‰å–å…ƒç´ ï¼‰</li><li><a href="https://www.w3school.com.cn/css/css_pseudo_elements.asp">ä¼ªå…ƒç´ é€‰æ‹©å™¨</a>ï¼ˆé€‰å–å…ƒç´ çš„ä¸€éƒ¨åˆ†å¹¶è®¾ç½®å…¶æ ·å¼ï¼‰</li><li><a href="https://www.w3school.com.cn/css/css_attribute_selectors.asp">å±æ€§é€‰æ‹©å™¨</a>ï¼ˆæ ¹æ®å±æ€§æˆ–å±æ€§å€¼æ¥é€‰å–å…ƒç´ ï¼‰</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;//é€šè¿‡å…ƒç´ åç§°</span><br><span class="line"><span class="selector-id">#para1</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;//é€šè¿‡id</span><br><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;//é€šè¿‡ç±»</span><br></pre></td></tr></table></figure><p>é€šç”¨é€‰æ‹©</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥æ–¹æ³•"><a href="#æ’å…¥æ–¹æ³•" class="headerlink" title="æ’å…¥æ–¹æ³•"></a>æ’å…¥æ–¹æ³•</h3><p>æœ‰ä¸‰ç§æ’å…¥æ ·å¼è¡¨çš„æ–¹æ³•ï¼š</p><ul><li>å¤–éƒ¨ CSS</li><li>å†…éƒ¨ CSS</li><li>è¡Œå†… CSS</li></ul><p>å¤–éƒ¨</p><p>é€šè¿‡ä½¿ç”¨å¤–éƒ¨æ ·å¼è¡¨ï¼Œæ‚¨åªéœ€ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶å³å¯æ”¹å˜æ•´ä¸ªç½‘ç«™çš„å¤–è§‚ï¼</p><p>æ¯å¼  HTML é¡µé¢å¿…é¡»åœ¨ head éƒ¨åˆ†çš„ link å…ƒç´ å†…åŒ…å«å¯¹å¤–éƒ¨æ ·å¼è¡¨æ–‡ä»¶çš„å¼•ç”¨</p><p>è¯·å‹¿åœ¨å±æ€§å€¼å’Œå•ä½ä¹‹é—´æ·»åŠ ç©ºæ ¼</p><p>å†…éƒ¨</p><p>å†…éƒ¨æ ·å¼æ˜¯åœ¨ head éƒ¨åˆ†çš„ style å…ƒç´ ä¸­è¿›è¡Œå®šä¹‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">background-color</span>: linen;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">color</span>: maroon;</span></span><br><span class="line"><span class="css">  <span class="attribute">margin-left</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">&#125; </span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¡Œå†…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;color:blue;text-align:center;&quot;</span>&gt;</span>This is a heading<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;color:red;&quot;</span>&gt;</span>This is a paragraph.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ…ç”¨</p><p>å±‚å é¡ºåº</p><p>é¡µé¢ä¸­çš„æ‰€æœ‰æ ·å¼å°†æŒ‰ç…§ä»¥ä¸‹è§„åˆ™â€œå±‚å â€ä¸ºæ–°çš„â€œè™šæ‹Ÿâ€æ ·å¼è¡¨ï¼Œå…¶ä¸­ç¬¬ä¸€ä¼˜å…ˆçº§æœ€é«˜ï¼š</p><ol><li>è¡Œå†…æ ·å¼ï¼ˆåœ¨ HTML å…ƒç´ ä¸­ï¼‰</li><li>å¤–éƒ¨å’Œå†…éƒ¨æ ·å¼è¡¨ï¼ˆåœ¨ head éƒ¨åˆ†ï¼‰</li><li>æµè§ˆå™¨é»˜è®¤æ ·å¼</li></ol><h2 id="é¢œè‰²"><a href="#é¢œè‰²" class="headerlink" title="é¢œè‰²"></a>é¢œè‰²</h2><p>CSS/HTML æ”¯æŒ 140 ç§æ ‡å‡†é¢œè‰²å</p><p>RGB</p><p>RGBA é¢œè‰²å€¼æ˜¯å…·æœ‰ alpha é€šé“çš„ RGB é¢œè‰²å€¼çš„æ‰©å±• - å®ƒæŒ‡å®šäº†é¢œè‰²çš„ä¸é€æ˜åº¦ã€‚</p><p>rgba(<em>red</em>, <em>green</em>, <em>blue</em>, <em>alpha</em>)</p><p>rgb(<em>red</em>, <em>green</em>, <em>blue</em>)</p><p>hex</p><h1 id="rrggbb"><a href="#rrggbb" class="headerlink" title="rrggbb"></a>rrggbb</h1><p>ä¸ºæ‰€æœ‰ 3 ä¸ªå…‰æºä½¿ç”¨ç›¸ç­‰çš„å€¼æ¥å®šä¹‰ç°è‰²é˜´å½±</p><p>hsl</p><p>åœ¨ CSS ä¸­ï¼Œå¯ä»¥ä½¿ç”¨è‰²ç›¸ã€é¥±å’Œåº¦å’Œæ˜åº¦ï¼ˆHSLï¼‰æ¥æŒ‡å®šé¢œè‰²</p><p>è‰²ç›¸ï¼ˆ<em>hue</em>ï¼‰æ˜¯è‰²è½®ä¸Šä» 0 åˆ° 360 çš„åº¦æ•°ã€‚0 æ˜¯çº¢è‰²ï¼Œ120 æ˜¯ç»¿è‰²ï¼Œ240 æ˜¯è“è‰²ã€‚</p><p>é¥±å’Œåº¦ï¼ˆ<em>saturation</em>ï¼‰æ˜¯ä¸€ä¸ªç™¾åˆ†æ¯”å€¼ï¼Œ0ï¼… è¡¨ç¤ºç°è‰²é˜´å½±ï¼Œè€Œ 100ï¼… æ˜¯å…¨è‰²ã€‚</p><p>äº®åº¦ï¼ˆ<em>lightness</em>ï¼‰ä¹Ÿæ˜¯ç™¾åˆ†æ¯”ï¼Œ0ï¼… æ˜¯é»‘è‰²ï¼Œ50ï¼… æ˜¯æ—¢ä¸æ˜ä¹Ÿä¸æš—ï¼Œ100ï¼…æ˜¯ç™½è‰²</p><p>é€šå¸¸é€šè¿‡å°†è‰²è°ƒå’Œé¥±å’Œåº¦è®¾ç½®ä¸º 0 æ¥å®šä¹‰ç°è‰²é˜´å½±ï¼Œå¹¶å°†äº®åº¦ä» 0ï¼… åˆ° 100ï¼… è¿›è¡Œè°ƒæ•´å¯ä»¥å¾—åˆ°æ›´æ·±/æ›´æµ…çš„é˜´å½±</p><p>HSLA é¢œè‰²å€¼æ˜¯å¸¦æœ‰ Alpha é€šé“çš„ HSL é¢œè‰²å€¼çš„æ‰©å±• - å®ƒæŒ‡å®šäº†é¢œè‰²çš„ä¸é€æ˜åº¦</p><h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><h3 id="èƒŒæ™¯é¢œè‰²"><a href="#èƒŒæ™¯é¢œè‰²" class="headerlink" title="èƒŒæ™¯é¢œè‰²"></a>èƒŒæ™¯é¢œè‰²</h3><p>background-color</p><p>è®¾ç½®å…ƒç´ çš„èƒŒæ™¯è‰²</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: lightblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æœ‰æ•ˆçš„é¢œè‰²åç§° - æ¯”å¦‚ â€œredâ€</li><li>åå…­è¿›åˆ¶å€¼ - æ¯”å¦‚ â€œ#ff0000â€</li><li>RGB å€¼ - æ¯”å¦‚ â€œrgb(255,0,0)â€</li></ul><p>é€æ˜åº¦</p><p>opacity</p><p><strong>æ³¨æ„ï¼š</strong>ä½¿ç”¨ <strong>opacity</strong> å±æ€§ä¸ºå…ƒç´ çš„èƒŒæ™¯æ·»åŠ é€æ˜åº¦æ—¶ï¼Œå…¶æ‰€æœ‰å­å…ƒç´ éƒ½ç»§æ‰¿ç›¸åŒçš„é€æ˜åº¦ã€‚è¿™å¯èƒ½ä¼šä½¿å®Œå…¨é€æ˜çš„å…ƒç´ å†…çš„æ–‡æœ¬éš¾ä»¥é˜…è¯»ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line"><span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸å¸Œæœ›å¯¹å­å…ƒç´ åº”ç”¨ä¸é€æ˜åº¦ï¼Œä¾‹å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œè¯·ä½¿ç”¨ <em>RGBA</em> é¢œè‰²å€¼</p><h3 id="èƒŒæ™¯å›¾åƒ"><a href="#èƒŒæ™¯å›¾åƒ" class="headerlink" title="èƒŒæ™¯å›¾åƒ"></a>èƒŒæ™¯å›¾åƒ</h3><p>background-image</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;paper.gif&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå›¾åƒä¼šé‡å¤ï¼Œä»¥è¦†ç›–æ•´ä¸ªå…ƒç´ </p><p>background-repeat</p><p>é»˜è®¤,å›¾åƒå±æ€§åœ¨æ°´å¹³å’Œå‚ç›´æ–¹å‘ä¸Šéƒ½é‡å¤å›¾åƒ</p><p>æ°´å¹³æ–¹å‘é‡å¤</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;gradient_bg.png&quot;</span>);</span><br><span class="line">  <span class="attribute">background-repeat</span>: repeat-x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>no-repeat è¿˜å¯æŒ‡å®šåªæ˜¾ç¤ºä¸€æ¬¡èƒŒæ™¯å›¾åƒ</p><p>background-positionæŒ‡å®šå›¾åƒä½ç½®</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;tree.png&quot;</span>);</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-position</span>: right top;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>background-attachment</p><p>æŒ‡å®šèƒŒæ™¯å›¾åƒæ˜¯åº”è¯¥æ»šåŠ¨è¿˜æ˜¯å›ºå®šçš„</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;tree.png&quot;</span>);</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">background-position</span>: right top;</span><br><span class="line">  <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>scrollä½¿å›¾åƒéšç€é¡µé¢å…¶ä½™éƒ¨åˆ†ä¸€èµ·æ»šåŠ¨</p><p>background</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffffff</span> <span class="built_in">url</span>(<span class="string">&quot;tree.png&quot;</span>) no-repeat right top;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å†™å±æ€§</p><p><img data-src="http://cdn.sekyoro.top/imgs/093518.png" alt="image-20211020225021226"></p><p>borderè¾¹æ¡†</p><p>å…è®¸æ‚¨æŒ‡å®šå…ƒç´ è¾¹æ¡†çš„æ ·å¼ã€å®½åº¦å’Œé¢œè‰²</p><p>border-style</p><p>å…è®¸ä»¥ä¸‹å€¼ï¼š</p><ul><li>dotted - å®šä¹‰ç‚¹çº¿è¾¹æ¡†</li><li>dashed - å®šä¹‰è™šçº¿è¾¹æ¡†</li><li>solid - å®šä¹‰å®çº¿è¾¹æ¡†</li><li>double - å®šä¹‰åŒè¾¹æ¡†</li><li>groove - å®šä¹‰ 3D å¡å£è¾¹æ¡†ã€‚æ•ˆæœå–å†³äº border-color å€¼</li><li>ridge - å®šä¹‰ 3D è„Šçº¿è¾¹æ¡†ã€‚æ•ˆæœå–å†³äº border-color å€¼</li><li>inset - å®šä¹‰ 3D inset è¾¹æ¡†ã€‚æ•ˆæœå–å†³äº border-color å€¼</li><li>outset - å®šä¹‰ 3D outset è¾¹æ¡†ã€‚æ•ˆæœå–å†³äº border-color å€¼</li><li>none - å®šä¹‰æ— è¾¹æ¡†</li><li>hidden - å®šä¹‰éšè—è¾¹æ¡†</li></ul><p>border-style å±æ€§å¯ä»¥è®¾ç½®ä¸€åˆ°å››ä¸ªå€¼ï¼ˆç”¨äºä¸Šè¾¹æ¡†ã€å³è¾¹æ¡†ã€ä¸‹è¾¹æ¡†å’Œå·¦è¾¹æ¡†ï¼‰</p><p>é™¤éè®¾ç½®äº† <strong>border-style</strong> å±æ€§ï¼Œå¦åˆ™å…¶ä»– CSS è¾¹æ¡†å±æ€§</p><p>border-width</p><p>å¯ä»¥å°†å®½åº¦è®¾ç½®ä¸ºç‰¹å®šå¤§å°ï¼ˆä»¥ pxã€ptã€cmã€em è®¡ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸‰ä¸ªé¢„å®šä¹‰å€¼ä¹‹ä¸€ï¼šthinã€medium æˆ– thick</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.one</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.two</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-width</span>: medium;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.three</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: dotted;</span><br><span class="line">  <span class="attribute">border-width</span>: <span class="number">2px</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.four</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: dotted;</span><br><span class="line">  <span class="attribute">border-width</span>: thick;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>border-color</p><p>å¦‚æœæœªè®¾ç½® <code>border-color</code>ï¼Œåˆ™å®ƒå°†ç»§æ‰¿å…ƒç´ çš„é¢œè‰²</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.one</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.two</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.three</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: dotted;</span><br><span class="line">  <span class="attribute">border-color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å•ç‹¬çš„è¾¹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-top-style</span>: dotted;</span><br><span class="line">  <span class="attribute">border-right-style</span>: solid;</span><br><span class="line">  <span class="attribute">border-bottom-style</span>: dotted;</span><br><span class="line">  <span class="attribute">border-left-style</span>: solid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å››ä¸ªå€¼ */</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: dotted solid double dashed; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸‰ä¸ªå€¼ */</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: dotted solid double; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸¤ä¸ªå€¼ */</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: dotted solid; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä¸€ä¸ªå€¼ */</span></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-style</span>: dotted; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>borderç®€å†™å±æ€§</p><p><code>border</code> å±æ€§æ˜¯ä»¥ä¸‹å„ä¸ªè¾¹æ¡†å±æ€§çš„ç®€å†™å±æ€§ï¼š</p><ul><li><code>border-width</code></li><li><code>border-style</code>ï¼ˆå¿…éœ€ï¼‰</li><li><code>border-color</code></li></ul><p>å·¦è¾¹æ¡†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">6px</span> solid red;</span><br><span class="line">  <span class="attribute">background-color</span>: lightgrey;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>border-radius</p><p>ç”¨äºå‘å…ƒç´ æ·»åŠ åœ†è§’è¾¹æ¡†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> solid red;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤–è¾¹è·</p><p>margin</p><p>margin å±æ€§ç”¨äºåœ¨ä»»ä½•å®šä¹‰çš„è¾¹æ¡†ä¹‹å¤–ï¼Œä¸ºå…ƒç´ å‘¨å›´åˆ›å»ºç©ºé—´ã€‚</p><p>é€šè¿‡ CSSï¼Œæ‚¨å¯ä»¥å®Œå…¨æ§åˆ¶å¤–è¾¹è·ã€‚æœ‰ä¸€äº›å±æ€§å¯ç”¨äºè®¾ç½®å…ƒç´ æ¯ä¾§ï¼ˆä¸Šã€å³ã€ä¸‹å’Œå·¦ï¼‰çš„å¤–è¾¹è·.</p><p>æ‰€æœ‰å¤–è¾¹è·å±æ€§éƒ½å¯ä»¥è®¾ç½®ä»¥ä¸‹å€¼ï¼š</p><ul><li>auto - æµè§ˆå™¨æ¥è®¡ç®—å¤–è¾¹è·</li><li><em>length</em> - ä»¥ pxã€ptã€cm ç­‰å•ä½æŒ‡å®šå¤–è¾¹è·</li><li>% - æŒ‡å®šä»¥åŒ…å«å…ƒç´ å®½åº¦çš„ç™¾åˆ†æ¯”è®¡çš„å¤–è¾¹è·</li><li>inherit - æŒ‡å®šåº”ä»çˆ¶å…ƒç´ ç»§æ‰¿å¤–è¾¹è·</li></ul><p><strong>æç¤ºï¼š</strong>å…è®¸è´Ÿå€¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">80px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>margin</code> å±æ€§æ˜¯ä»¥ä¸‹å„å¤–è¾¹è·å±æ€§çš„ç®€å†™å±æ€§ï¼š</p><ul><li>margin-top</li><li>margin-right</li><li>margin-bottom</li><li>margin-left</li></ul><p>auto å€¼</p><p>æ‚¨å¯ä»¥å°† margin å±æ€§è®¾ç½®ä¸º autoï¼Œä»¥ä½¿å…ƒç´ åœ¨å…¶å®¹å™¨ä¸­æ°´å¹³å±…ä¸­ã€‚</p><p>ç„¶åï¼Œè¯¥å…ƒç´ å°†å æ®æŒ‡å®šçš„å®½åº¦ï¼Œå¹¶ä¸”å‰©ä½™ç©ºé—´å°†åœ¨å·¦å³è¾¹ç•Œä¹‹é—´å¹³å‡åˆ†é…</p><p>inherit</p><p>ç»§æ‰¿è‡ªçˆ¶å…ƒç´ </p><p>å¤–è¾¹è·åˆå¹¶</p><p>å¤–è¾¹è·åˆå¹¶æŒ‡çš„æ˜¯ï¼Œå½“ä¸¤ä¸ªå‚ç›´å¤–è¾¹è·ç›¸é‡æ—¶ï¼Œå®ƒä»¬å°†å½¢æˆä¸€ä¸ªå¤–è¾¹è·ã€‚</p><p>åˆå¹¶åçš„å¤–è¾¹è·çš„é«˜åº¦ç­‰äºä¸¤ä¸ªå‘ç”Ÿåˆå¹¶çš„å¤–è¾¹è·çš„é«˜åº¦ä¸­çš„è¾ƒå¤§è€…</p><p>å†…è¾¹è·</p><p>CSS æ‹¥æœ‰ç”¨äºä¸ºå…ƒç´ çš„æ¯ä¸€ä¾§æŒ‡å®šå†…è¾¹è·çš„å±æ€§ï¼š</p><ul><li>padding-top</li><li>padding-right</li><li>padding-bottom</li><li>padding-left</li></ul><p>æ‰€æœ‰å†…è¾¹è·å±æ€§éƒ½å¯ä»¥è®¾ç½®ä»¥ä¸‹å€¼ï¼š</p><ul><li><em>length</em> - ä»¥ pxã€ptã€cm ç­‰å•ä½æŒ‡å®šå†…è¾¹è·</li><li>% - æŒ‡å®šä»¥åŒ…å«å…ƒç´ å®½åº¦çš„ç™¾åˆ†æ¯”è®¡çš„å†…è¾¹è·</li><li>inherit - æŒ‡å®šåº”ä»çˆ¶å…ƒç´ ç»§æ‰¿å†…è¾¹è·</li></ul><p><strong>æç¤ºï¼š</strong>ä¸å…è®¸è´Ÿå€¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">80px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>CSS width å±æ€§æŒ‡å®šå…ƒç´ å†…å®¹åŒºåŸŸçš„å®½åº¦ã€‚å†…å®¹åŒºåŸŸæ˜¯å…ƒç´ ï¼ˆç›’æ¨¡å‹ï¼‰çš„å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·å†…çš„éƒ¨åˆ†ã€‚</p><p>å› æ­¤ï¼Œå¦‚æœå…ƒç´ æ‹¥æœ‰æŒ‡å®šçš„å®½åº¦ï¼Œåˆ™æ·»åŠ åˆ°è¯¥å…ƒç´ çš„å†…è¾¹è·ä¼šæ·»åŠ åˆ°å…ƒç´ çš„æ€»å®½åº¦ä¸­ã€‚è¿™é€šå¸¸æ˜¯ä¸å¸Œæœ›çš„ç»“æœã€‚</p><p><strong>å®ä¾‹</strong></p><p>åœ¨è¿™é‡Œï¼Œ<code>&lt;div&gt;</code> å…ƒç´ çš„å®½åº¦ä¸º 300pxã€‚ä½†æ˜¯ï¼Œ<code>&lt;div&gt;</code> å…ƒç´ çš„å®é™…å®½åº¦å°†æ˜¯ 350pxï¼ˆ300px + å·¦å†…è¾¹è· 25px + å³å†…è¾¹è· 25pxï¼‰ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‹¥è¦å°†å®½åº¦ä¿æŒä¸º 300pxï¼Œæ— è®ºå¡«å……é‡å¦‚ä½•</p><p>é‚£ä¹ˆå¯ä»¥ä½¿ç”¨ box-sizing å±æ€§ã€‚è¿™å°†å¯¼è‡´å…ƒç´ ä¿æŒå…¶å®½åº¦ã€‚å¦‚æœå¢åŠ å†…è¾¹è·ï¼Œåˆ™å¯ç”¨çš„å†…å®¹ç©ºé—´ä¼šå‡å°‘ã€‚</p><p>è®¾ç½®é«˜åº¦å’Œå®½åº¦</p><p>height å’Œ width å±æ€§ç”¨äºè®¾ç½®å…ƒç´ çš„é«˜åº¦å’Œå®½åº¦ã€‚</p><p>height å’Œ width å±æ€§ä¸åŒ…æ‹¬å†…è¾¹è·ã€è¾¹æ¡†æˆ–å¤–è¾¹è·ã€‚å®ƒè®¾ç½®çš„æ˜¯å…ƒç´ å†…è¾¹è·ã€è¾¹æ¡†ä»¥åŠå¤–è¾¹è·å†…çš„åŒºåŸŸçš„é«˜åº¦æˆ–å®½åº¦ã€‚</p><p>height å’Œ width å±æ€§å¯è®¾ç½®å¦‚ä¸‹å€¼ï¼š</p><ul><li>auto - é»˜è®¤ã€‚æµè§ˆå™¨è®¡ç®—é«˜åº¦å’Œå®½åº¦ã€‚</li><li><em>length</em> - ä»¥ pxã€cm ç­‰å®šä¹‰é«˜åº¦/å®½åº¦ã€‚</li><li>% - ä»¥åŒ…å«å—çš„ç™¾åˆ†æ¯”å®šä¹‰é«˜åº¦/å®½åº¦ã€‚</li><li>initial - å°†é«˜åº¦/å®½åº¦è®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚</li><li>inherit - ä»å…¶çˆ¶å€¼ç»§æ‰¿é«˜åº¦/å®½åº¦ã€‚</li></ul><p>max-width å±æ€§ç”¨äºè®¾ç½®å…ƒç´ çš„æœ€å¤§å®½åº¦ã€‚</p><p>å¯ä»¥ç”¨é•¿åº¦å€¼ï¼ˆä¾‹å¦‚ pxã€cm ç­‰ï¼‰æˆ–åŒ…å«å—çš„ç™¾åˆ†æ¯”ï¼ˆï¼…ï¼‰æ¥æŒ‡å®š max-widthï¼ˆæœ€å¤§å®½åº¦ï¼‰ï¼Œä¹Ÿå¯ä»¥å°†å…¶è®¾ç½®ä¸º noneï¼ˆé»˜è®¤å€¼ã€‚æ„å‘³ç€æ²¡æœ‰æœ€å¤§å®½åº¦ï¼‰ã€‚</p><p>å½“æµè§ˆå™¨çª—å£å°äºå…ƒç´ çš„å®½åº¦ï¼ˆ500pxï¼‰æ—¶ï¼Œä¼šå‘ç”Ÿä¹‹å‰é‚£ä¸ª <code>&lt;div&gt;</code> çš„é—®é¢˜ã€‚ç„¶åï¼Œæµè§ˆå™¨ä¼šå°†æ°´å¹³æ»šåŠ¨æ¡æ·»åŠ åˆ°é¡µé¢ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ max-width èƒ½å¤Ÿæ”¹å–„æµè§ˆå™¨å¯¹å°çª—å£çš„å¤„ç†ã€‚</p><p><strong>æç¤ºï¼š</strong>å°†æµè§ˆå™¨çª—å£æ‹–åŠ¨åˆ°å°äº500pxçš„å®½åº¦ï¼Œä»¥æŸ¥çœ‹ä¸¤ä¸ª div ä¹‹é—´çš„åŒºåˆ«ï¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: powderblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æµè§ˆå™¨çª—å£å°äºå…ƒç´ çš„å®½åº¦ï¼ˆ500pxï¼‰æ—¶ï¼Œä¼šå‘ç”Ÿä¹‹å‰é‚£ä¸ª <code>&lt;div&gt;</code> çš„é—®é¢˜ã€‚</p><p>ç„¶åï¼Œæµè§ˆå™¨ä¼šå°†æ°´å¹³æ»šåŠ¨æ¡æ·»åŠ åˆ°é¡µé¢ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/093519.png" alt="image-20211020235533020"></p><p>æ¡†æ¨¡å‹</p><p>æ‰€æœ‰ HTML å…ƒç´ éƒ½å¯ä»¥è§†ä¸ºæ–¹æ¡†ã€‚åœ¨ CSS ä¸­ï¼Œåœ¨è°ˆè®ºè®¾è®¡å’Œå¸ƒå±€æ—¶ï¼Œä¼šä½¿ç”¨æœ¯è¯­â€œç›’æ¨¡å‹â€æˆ–â€œæ¡†æ¨¡å‹â€ã€‚</p><p>CSS æ¡†æ¨¡å‹å®è´¨ä¸Šæ˜¯ä¸€ä¸ªåŒ…å›´æ¯ä¸ª HTML å…ƒç´ çš„æ¡†ã€‚å®ƒåŒ…æ‹¬ï¼šå¤–è¾¹è·ã€è¾¹æ¡†ã€å†…è¾¹è·ä»¥åŠå®é™…çš„å†…å®¹ã€‚</p><ul><li><em>å†…å®¹</em> - æ¡†çš„å†…å®¹ï¼Œå…¶ä¸­æ˜¾ç¤ºæ–‡æœ¬å’Œå›¾åƒã€‚</li><li><em>å†…è¾¹è·</em> - æ¸…é™¤å†…å®¹å‘¨å›´çš„åŒºåŸŸã€‚å†…è¾¹è·æ˜¯é€æ˜çš„ã€‚</li><li><em>è¾¹æ¡†</em> - å›´ç»•å†…è¾¹è·å’Œå†…å®¹çš„è¾¹æ¡†ã€‚</li><li><em>å¤–è¾¹è·</em> - æ¸…é™¤è¾¹ç•Œå¤–çš„åŒºåŸŸã€‚å¤–è¾¹è·æ˜¯é€æ˜çš„</li></ul><p>èƒŒæ™¯åº”ç”¨äºç”±å†…å®¹å’Œå†…è¾¹è·ã€è¾¹æ¡†ç»„æˆçš„åŒºåŸŸ</p><p>å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·éƒ½æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤å€¼æ˜¯é›¶ã€‚ä½†æ˜¯ï¼Œè®¸å¤šå…ƒç´ å°†ç”±ç”¨æˆ·ä»£ç†æ ·å¼è¡¨è®¾ç½®å¤–è¾¹è·å’Œå†…è¾¹è·ã€‚å¯ä»¥é€šè¿‡å°†å…ƒç´ çš„ margin å’Œ padding è®¾ç½®ä¸ºé›¶æ¥è¦†ç›–è¿™äº›æµè§ˆå™¨æ ·å¼ã€‚</p><p>width å’Œ height æŒ‡çš„æ˜¯å†…å®¹åŒºåŸŸçš„å®½åº¦å’Œé«˜åº¦ã€‚å¢åŠ å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·ä¸ä¼šå½±å“å†…å®¹åŒºåŸŸçš„å°ºå¯¸ï¼Œä½†æ˜¯ä¼šå¢åŠ å…ƒç´ æ¡†çš„æ€»å°ºå¯¸</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">70px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æç¤ºï¼š</strong>å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·å¯ä»¥åº”ç”¨äºä¸€ä¸ªå…ƒç´ çš„æ‰€æœ‰è¾¹ï¼Œä¹Ÿå¯ä»¥åº”ç”¨äºå•ç‹¬çš„è¾¹ã€‚</p><p><strong>æç¤ºï¼š</strong>å¤–è¾¹è·å¯ä»¥æ˜¯è´Ÿå€¼ï¼Œè€Œä¸”åœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½è¦ä½¿ç”¨è´Ÿå€¼çš„å¤–è¾¹è·</p><p><strong>é‡è¦æç¤ºï¼š</strong>ä½¿ç”¨ CSS è®¾ç½®å…ƒç´ çš„ width å’Œ height å±æ€§æ—¶ï¼Œåªéœ€è®¾ç½®å†…å®¹åŒºåŸŸçš„å®½åº¦å’Œé«˜åº¦ã€‚è¦è®¡ç®—å…ƒç´ çš„å®Œæ•´å¤§å°ï¼Œè¿˜å¿…é¡»æŠŠå†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·åŠ èµ·æ¥ã€‚</p><p>å®ä¾‹</p><p><div> å…ƒç´ çš„æ€»å®½åº¦å°†æ˜¯ 350pxï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">320px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid gray;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è½®å»“</p><p>CSS æ‹¥æœ‰å¦‚ä¸‹è½®å»“å±æ€§ï¼š</p><ul><li>outline-style</li><li>outline-color</li><li>outline-width</li><li>outline-offset</li><li>outline</li></ul><p>è½®å»“ä¸<a href="https://www.w3school.com.cn/css/css_border.asp">è¾¹æ¡†</a>ä¸åŒï¼ä¸åŒä¹‹å¤„åœ¨äºï¼šè½®å»“æ˜¯åœ¨å…ƒç´ è¾¹æ¡†ä¹‹å¤–ç»˜åˆ¶çš„ï¼Œå¹¶ä¸”å¯èƒ½ä¸å…¶ä»–å†…å®¹é‡å ã€‚åŒæ ·ï¼Œè½®å»“ä¹Ÿä¸æ˜¯å…ƒç´ å°ºå¯¸çš„ä¸€éƒ¨åˆ†ï¼›å…ƒç´ çš„æ€»å®½åº¦å’Œé«˜åº¦ä¸å—è½®å»“çº¿å®½åº¦çš„å½±å“</p><p><img data-src="http://cdn.sekyoro.top/imgs/093521.png" alt="image-20211021002834084"></p><p>outline-width å±æ€§æŒ‡å®šè½®å»“çš„å®½åº¦ï¼Œå¹¶å¯è®¾ç½®å¦‚ä¸‹å€¼ä¹‹ä¸€ï¼š</p><ul><li>thinï¼ˆé€šå¸¸ä¸º 1pxï¼‰</li><li>mediumï¼ˆé€šå¸¸ä¸º 3pxï¼‰</li><li>thick ï¼ˆé€šå¸¸ä¸º 5pxï¼‰</li><li>ç‰¹å®šå°ºå¯¸ï¼ˆä»¥ pxã€ptã€cmã€em è®¡ï¼‰</li></ul><p>outline-color å±æ€§ç”¨äºè®¾ç½®è½®å»“çš„é¢œè‰²ã€‚</p><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¾ç½®é¢œè‰²ï¼š</p><ul><li><em>name</em> - æŒ‡å®šé¢œè‰²åï¼Œæ¯”å¦‚ â€œredâ€</li><li>HEX - æŒ‡å®šåå…­è¿›åˆ¶å€¼ï¼Œæ¯”å¦‚ â€œ#ff0000â€</li><li>RGB - æŒ‡å®š RGB å€¼ï¼Œæ¯”å¦‚ â€œrgb(255,0,0)â€</li><li>HSL - æŒ‡å®š HSL å€¼ï¼Œæ¯”å¦‚ â€œhsl(0, 100%, 50%)â€</li><li>invert - æ‰§è¡Œé¢œè‰²åè½¬ï¼ˆç¡®ä¿è½®å»“å¯è§ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆé¢œè‰²èƒŒæ™¯ï¼‰</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.ex1</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid yellow;</span><br><span class="line">  <span class="attribute">outline-style</span>: solid;</span><br><span class="line">  <span class="attribute">outline-color</span>: invert;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å†™å±æ€§</p><p>outline å±æ€§æ˜¯ç”¨äºè®¾ç½®ä»¥ä¸‹å„ä¸ªè½®å»“å±æ€§çš„ç®€å†™å±æ€§ï¼š</p><ul><li>outline-width</li><li>outline-styleï¼ˆå¿…éœ€ï¼‰</li><li>outline-color</li></ul><p>ä»ä¸Šé¢çš„åˆ—è¡¨ä¸­ï¼Œoutline å±æ€§å¯æŒ‡å®šä¸€ä¸ªã€ä¸¤ä¸ªæˆ–ä¸‰ä¸ªå€¼ã€‚å€¼çš„é¡ºåºæ— å…³ç´§è¦</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.ex1</span> &#123;<span class="attribute">outline</span>: dashed;&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.ex2</span> &#123;<span class="attribute">outline</span>: dotted red;&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.ex3</span> &#123;<span class="attribute">outline</span>: <span class="number">5px</span> solid yellow;&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.ex4</span> &#123;<span class="attribute">outline</span>: thick ridge pink;&#125;</span><br></pre></td></tr></table></figure><p>outline-offset</p><p>outline-offset å±æ€§åœ¨å…ƒç´ çš„è½®å»“ä¸è¾¹æ¡†ä¹‹é—´æ·»åŠ ç©ºé—´ã€‚å…ƒç´ åŠå…¶è½®å»“ä¹‹é—´çš„ç©ºé—´æ˜¯é€æ˜çš„</p><h2 id="æ–‡æœ¬"><a href="#æ–‡æœ¬" class="headerlink" title="æ–‡æœ¬"></a>æ–‡æœ¬</h2><p>colorè®¾ç½®æ–‡æœ¬é¢œè‰²</p><p>background-colorè®¾ç½®èƒŒæ™¯é¢œè‰²</p><p>color å±æ€§ç”¨äºè®¾ç½®æ–‡æœ¬çš„é¢œè‰²ã€‚é¢œè‰²ç”±ä»¥ä¸‹å€¼æŒ‡å®šï¼š</p><ul><li>é¢œè‰²å - æ¯”å¦‚ â€œredâ€</li><li>åå…­è¿›åˆ¶å€¼ - æ¯”å¦‚ â€œ#ff0000â€</li><li>RGB å€¼ - æ¯”å¦‚ â€œrgb(255,0,0)â€</li></ul><p>é¡µé¢çš„é»˜è®¤æ–‡æœ¬é¢œè‰²æ˜¯åœ¨ body é€‰æ‹©å™¨ä¸­å®šä¹‰çš„ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: lightgrey;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: black;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>text-alignè®¾ç½®æ–‡æœ¬çš„æ°´å¹³å¯¹é½æ–¹å¼</p><p>æ–‡æœ¬å¯ä»¥å·¦å¯¹é½æˆ–å³å¯¹é½ï¼Œæˆ–å±…ä¸­å¯¹é½ã€‚</p><p>å½“ text-align å±æ€§è®¾ç½®ä¸º â€œjustifyâ€ åï¼Œå°†æ‹‰ä¼¸æ¯ä¸€è¡Œï¼Œä»¥ä½¿æ¯ä¸€è¡Œå…·æœ‰ç›¸ç­‰çš„å®½åº¦ï¼Œå¹¶ä¸”å·¦å³è¾¹è·æ˜¯ç›´çš„</p><p>directionå’Œunicode-bidi</p><p>direction å’Œ unicode-bidi å±æ€§å¯ç”¨äºæ›´æ”¹å…ƒç´ çš„æ–‡æœ¬æ–¹å‘</p><p>å‚ç›´å¯¹é½</p><p>vertical-align</p><p>è®¾ç½®å…ƒç´ çš„å‚ç›´å¯¹é½æ–¹å¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span><span class="selector-class">.top</span> &#123;</span><br><span class="line">  <span class="attribute">vertical-align</span>: top;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-class">.middle</span> &#123;</span><br><span class="line">  <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">img</span><span class="selector-class">.bottom</span> &#123;</span><br><span class="line">  <span class="attribute">vertical-align</span>: bottom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–‡å­—è£…é¥°</p><p>text-decorationè®¾ç½®æˆ–åˆ é™¤æ–‡æœ¬è£…é¥°</p><p>text-decoration:åˆ é™¤ä¸‹åˆ’çº¿</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: overline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: line-through;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h3</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>text-transform</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.uppercase</span> &#123;</span><br><span class="line">  <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.lowercase</span> &#123;</span><br><span class="line">  <span class="attribute">text-transform</span>: lowercase;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.capitalize</span> &#123;</span><br><span class="line">  <span class="attribute">text-transform</span>: capitalize;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ƒå¯ç”¨äºå°†æ‰€æœ‰å†…å®¹è½¬æ¢ä¸ºå¤§å†™æˆ–å°å†™å­—æ¯ï¼Œæˆ–å°†æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™</p><p>text-indent</p><p>æ–‡å­—ç¼©è¿›,ç”¨äºæŒ‡å®šæ–‡æœ¬ç¬¬ä¸€è¡Œçš„ç¼©è¿›</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">text-indent</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>letter-spacing</p><p>ç”¨äºæŒ‡å®šæ–‡æœ¬ä¸­å­—ç¬¦ä¹‹é—´çš„é—´è·</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">letter-spacing</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">letter-spacing</span>: -<span class="number">3px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>line-height</p><p>ç”¨äºæŒ‡å®šè¡Œä¹‹é—´çš„é—´è·</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.small</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.big</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­—é—´è·</p><p>word-spacing å±æ€§ç”¨äºæŒ‡å®šæ–‡æœ¬ä¸­å•è¯ä¹‹é—´çš„é—´è·</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">word-spacing</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">word-spacing</span>: -<span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç©ºç™½</p><p>white-spaceæŒ‡å®šå…ƒç´ å†…éƒ¨ç©ºç™½å¤„ç†æ–¹å¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–‡æœ¬é˜´å½±<br>text-shadow å±æ€§ä¸ºæ–‡æœ¬æ·»åŠ é˜´å½±</p><p>æœ€ç®€å•çš„ç”¨æ³•æ˜¯åªæŒ‡å®šæ°´å¹³é˜´å½±ï¼ˆ2pxï¼‰å’Œå‚ç›´é˜´å½±ï¼ˆ2pxï¼‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">2px</span> <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é˜´å½±æ·»åŠ é¢œè‰²</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ·»åŠ æ¨¡ç³Šæ•ˆæœ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093522.png" alt="image-20211021211922519"></p><h2 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h2><p>åœ¨ CSS ä¸­ï¼Œæœ‰äº”ä¸ªé€šç”¨å­—ä½“æ—ï¼š</p><ul><li>è¡¬çº¿å­—ä½“ï¼ˆSerifï¼‰- åœ¨æ¯ä¸ªå­—æ¯çš„è¾¹ç¼˜éƒ½æœ‰ä¸€ä¸ªå°çš„ç¬”è§¦ã€‚å®ƒä»¬è¥é€ å‡ºä¸€ç§å½¢å¼æ„Ÿå’Œä¼˜é›…æ„Ÿã€‚</li><li>æ— è¡¬çº¿å­—ä½“ï¼ˆSans-serifï¼‰- å­—ä½“çº¿æ¡ç®€æ´ï¼ˆæ²¡æœ‰å°ç¬”ç”»ï¼‰ã€‚å®ƒä»¬è¥é€ å‡ºç°ä»£è€Œç®€çº¦çš„å¤–è§‚ã€‚</li><li>ç­‰å®½å­—ä½“ï¼ˆMonospaceï¼‰- è¿™é‡Œæ‰€æœ‰å­—æ¯éƒ½æœ‰ç›¸åŒçš„å›ºå®šå®½åº¦ã€‚å®ƒä»¬åˆ›é€ å‡ºæœºæ¢°å¼çš„å¤–è§‚ã€‚</li><li>è‰ä¹¦å­—ä½“ï¼ˆCursiveï¼‰- æ¨¡ä»¿äº†äººç±»çš„ç¬”è¿¹ã€‚</li><li>å¹»æƒ³å­—ä½“ï¼ˆFantasyï¼‰- æ˜¯è£…é¥°æ€§/ä¿çš®çš„å­—ä½“</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/093527.png" alt="image-20211021212057317"></p><p>font-familyå±æ€§</p><p>font-family å±æ€§åº”åŒ…å«å¤šä¸ªå­—ä½“åç§°ä½œä¸ºâ€œåå¤‡â€ç³»ç»Ÿï¼Œä»¥ç¡®ä¿æµè§ˆå™¨/æ“ä½œç³»ç»Ÿä¹‹é—´çš„æœ€å¤§å…¼å®¹æ€§ã€‚è¯·ä»¥æ‚¨éœ€è¦çš„å­—ä½“å¼€å§‹ï¼Œå¹¶ä»¥é€šç”¨ç³»åˆ—ç»“æŸï¼ˆå¦‚æœæ²¡æœ‰å…¶ä»–å¯ç”¨å­—ä½“ï¼Œåˆ™è®©æµè§ˆå™¨é€‰æ‹©é€šç”¨ç³»åˆ—ä¸­çš„ç›¸ä¼¼å­—ä½“ï¼‰ã€‚å­—ä½“åç§°åº”ä»¥é€—å·åˆ†éš”</p><p><strong>æ³¨é‡Šï¼š</strong>å¦‚æœå­—ä½“åç§°ä¸æ­¢ä¸€ä¸ªå•è¯ï¼Œåˆ™å¿…é¡»ç”¨å¼•å·å¼•èµ·æ¥ï¼Œä¾‹å¦‚ï¼šâ€Times New Romanâ€</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.p1</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Times New Roman&quot;</span>, Times, serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.p2</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: Arial, Helvetica, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.p3</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Lucida Console&quot;</span>, <span class="string">&quot;Courier New&quot;</span>, monospace;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>font-style</p><p>font-style å±æ€§ä¸»è¦ç”¨äºæŒ‡å®šæ–œä½“æ–‡æœ¬ã€‚</p><p>æ­¤å±æ€§å¯è®¾ç½®ä¸‰ä¸ªå€¼ï¼š</p><ul><li>normal - æ–‡å­—æ­£å¸¸æ˜¾ç¤º</li><li>italic - æ–‡æœ¬ä»¥æ–œä½“æ˜¾ç¤º</li><li>oblique - æ–‡æœ¬ä¸ºâ€œå€¾æ–œâ€ï¼ˆå€¾æ–œä¸æ–œä½“éå¸¸ç›¸ä¼¼ï¼Œä½†æ”¯æŒè¾ƒå°‘ï¼‰</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.normal</span> &#123;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.italic</span> &#123;</span><br><span class="line">  <span class="attribute">font-style</span>: italic;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.oblique</span> &#123;</span><br><span class="line">  <span class="attribute">font-style</span>: oblique;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>font-weight</p><p>æŒ‡å®šå­—ä½“ç²—ç»†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-class">.normal</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span><span class="selector-class">.thick</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­—ä½“å˜ä½“</p><p>font-variant å±æ€§æŒ‡å®šæ˜¯å¦ä»¥ small-caps å­—ä½“ï¼ˆå°å‹å¤§å†™å­—æ¯ï¼‰æ˜¾ç¤ºæ–‡æœ¬</p><p>å­—ä½“å¤§å°</p><p>font-size</p><p>è®¾ç½®æ–‡æœ¬å¤§å°</p><p>font-size å€¼å¯ä»¥æ˜¯ç»å¯¹æˆ–ç›¸å¯¹å¤§å°ã€‚</p><p>ç»å¯¹å°ºå¯¸ï¼š</p><ul><li>å°†æ–‡æœ¬è®¾ç½®ä¸ºæŒ‡å®šå¤§å°</li><li>ä¸å…è®¸ç”¨æˆ·åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­æ›´æ”¹æ–‡æœ¬å¤§å°ï¼ˆå¯è®¿é—®æ€§ä¸ä½³ï¼‰</li><li>å½“è¾“å‡ºçš„ç‰©ç†å°ºå¯¸å·²çŸ¥æ—¶ï¼Œç»å¯¹å°ºå¯¸å¾ˆæœ‰ç”¨</li></ul><p>ç›¸å¯¹å°ºå¯¸ï¼š</p><ul><li>è®¾ç½®ç›¸å¯¹äºå‘¨å›´å…ƒç´ çš„å¤§å°</li><li>å…è®¸ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­æ›´æ”¹æ–‡æœ¬å¤§å°</li></ul><p><strong>æ³¨é‡Šï¼š</strong>å¦‚æœæ‚¨æ²¡æœ‰æŒ‡å®šå­—ä½“å¤§å°ï¼Œåˆ™æ™®é€šæ–‡æœ¬ï¼ˆå¦‚æ®µè½ï¼‰çš„é»˜è®¤å¤§å°ä¸º 16pxï¼ˆ16px = 1emï¼‰ã€‚</p><p>åƒç´ è®¾ç½®</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>emè®¾ç½®</p><p>ä¸ºäº†å…è®¸ç”¨æˆ·è°ƒæ•´æ–‡æœ¬å¤§å°ï¼ˆåœ¨æµè§ˆå™¨èœå•ä¸­ï¼‰ï¼Œè®¸å¤šå¼€å‘äººå‘˜ä½¿ç”¨ em è€Œä¸æ˜¯åƒç´ ã€‚</p><p>W3C å»ºè®®ä½¿ç”¨ em å°ºå¯¸å•ä½ã€‚</p><p>1em ç­‰äºå½“å‰å­—ä½“å¤§å°ã€‚æµè§ˆå™¨ä¸­çš„é»˜è®¤æ–‡æœ¬å¤§å°ä¸º 16pxã€‚å› æ­¤ï¼Œé»˜è®¤å¤§å° 1em ä¸º 16pxã€‚</p><p>å¯ä»¥ä½¿ç”¨è¿™ä¸ªå…¬å¼ä»åƒç´ åˆ° em æ¥è®¡ç®—å¤§å°ï¼špixels/16=emã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2.5em</span>; <span class="comment">/* 40px/16=2.5em */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.875em</span>; <span class="comment">/* 30px/16=1.875em */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.875em</span>; <span class="comment">/* 14px/16=0.875em */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ç™¾åˆ†æ¯”</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2.5em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.875em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0.875em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å“åº”å¼å­—ä½“å¤§å°</p><p>å¯ä»¥ä½¿ç”¨ vw å•ä½è®¾ç½®æ–‡æœ¬å¤§å°ï¼Œå®ƒçš„æ„æ€æ˜¯â€œè§†å£å®½åº¦â€ï¼ˆâ€viewport widthâ€ï¼‰ã€‚</p><p>è¿™æ ·ï¼Œæ–‡æœ¬å¤§å°å°†éµå¾ªæµè§ˆå™¨çª—å£çš„å¤§å°ï¼Œè¯·è°ƒæ•´æµè§ˆå™¨çª—å£çš„å¤§å°ï¼Œä»¥æŸ¥çœ‹å­—ä½“å¤§å°å¦‚ä½•ç¼©æ”¾ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&quot;font-size:10vw&quot;</span>&gt;</span>Hello World<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è§†å£ï¼ˆViewportï¼‰æ˜¯æµè§ˆå™¨çª—å£çš„å¤§å°ã€‚ 1vw = è§†å£å®½åº¦çš„ 1ï¼…ã€‚å¦‚æœè§†å£ä¸º 50 å˜ç±³å®½ï¼Œåˆ™ 1vw ä¸º 0.5 å˜ç±³ã€‚</p><p>ä¸ºäº†ç¼©çŸ­ä»£ç ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªå±æ€§ä¸­æŒ‡å®šæ‰€æœ‰å•ä¸ªå­—ä½“å±æ€§ã€‚</p><p>font å±æ€§æ˜¯ä»¥ä¸‹å±æ€§çš„ç®€å†™å±æ€§ï¼š</p><ul><li>font-style</li><li>font-variant</li><li>font-weight</li><li>font-size/line-height</li><li>font-family</li></ul><p>å›¾æ ‡</p><p>å‘ HTML é¡µé¢æ·»åŠ å›¾æ ‡çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨å›¾æ ‡åº“ï¼Œæ¯”å¦‚ Font Awesomeã€‚</p><p>å°†æŒ‡å®šçš„å›¾æ ‡ç±»çš„åç§°æ·»åŠ åˆ°ä»»ä½•è¡Œå†… HTML å…ƒç´ ï¼ˆå¦‚ &lt;\i&gt; æˆ– &lt;\span&gt;ï¼‰ã€‚</p><p>ä¸‹é¢çš„å›¾æ ‡åº“ä¸­çš„æ‰€æœ‰å›¾æ ‡éƒ½æ˜¯å¯ç¼©æ”¾çŸ¢é‡ï¼Œå¯ä»¥ä½¿ç”¨ CSSè¿›è¡Œè‡ªå®šä¹‰ï¼ˆå¤§å°ã€é¢œè‰²ã€é˜´å½±ç­‰ï¼‰</p><p>æ–‡æœ¬é“¾æ¥</p><h2 id="è®¾ç½®é“¾æ¥æ ·å¼"><a href="#è®¾ç½®é“¾æ¥æ ·å¼" class="headerlink" title="è®¾ç½®é“¾æ¥æ ·å¼"></a>è®¾ç½®é“¾æ¥æ ·å¼</h2><p>é“¾æ¥å¯ä»¥ä½¿ç”¨ä»»ä½• CSS å±æ€§ï¼ˆä¾‹å¦‚ colorã€font-familyã€background ç­‰ï¼‰æ¥è®¾ç½®æ ·å¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: hotpink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œå¯ä»¥æ ¹æ®é“¾æ¥å¤„äºä»€ä¹ˆçŠ¶æ€æ¥è®¾ç½®é“¾æ¥çš„ä¸åŒæ ·å¼ã€‚</p><p>å››ç§é“¾æ¥çŠ¶æ€åˆ†åˆ«æ˜¯ï¼š</p><ul><li>a:link - æ­£å¸¸çš„ï¼Œæœªè®¿é—®çš„é“¾æ¥</li><li>a:visited - ç”¨æˆ·è®¿é—®è¿‡çš„é“¾æ¥</li><li>a:hover - ç”¨æˆ·å°†é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šæ—¶</li><li>a:active - é“¾æ¥è¢«ç‚¹å‡»æ—¶</li></ul><p>å¦‚æœä¸ºå¤šä¸ªé“¾æ¥çŠ¶æ€è®¾ç½®æ ·å¼ï¼Œè¯·éµå¾ªå¦‚ä¸‹é¡ºåºè§„åˆ™ï¼š</p><ul><li>a:hover å¿…é¡» a:link å’Œ a:visited ä¹‹å</li><li>a:active å¿…é¡»åœ¨ a:hover ä¹‹å</li></ul><p>cssåˆ—è¡¨å±æ€§</p><p>CSS åˆ—è¡¨å±æ€§ä½¿æ‚¨å¯ä»¥ï¼š</p><ul><li>ä¸ºæœ‰åºåˆ—è¡¨è®¾ç½®ä¸åŒçš„åˆ—è¡¨é¡¹æ ‡è®°</li><li>ä¸ºæ— åºåˆ—è¡¨è®¾ç½®ä¸åŒçš„åˆ—è¡¨é¡¹æ ‡è®°</li><li>å°†å›¾åƒè®¾ç½®ä¸ºåˆ—è¡¨é¡¹æ ‡è®°</li><li>ä¸ºåˆ—è¡¨å’Œåˆ—è¡¨é¡¹æ·»åŠ èƒŒæ™¯è‰²</li></ul><p>list-style-type å±æ€§æŒ‡å®šåˆ—è¡¨é¡¹æ ‡è®°çš„ç±»å‹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span><span class="selector-class">.a</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: circle;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span><span class="selector-class">.b</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: square;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ol</span><span class="selector-class">.c</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: upper-roman;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ol</span><span class="selector-class">.d</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-type</span>: lower-alpha;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å›¾åƒä½œä¸ºåˆ—è¡¨æ ‡è®°</p><p>list-style-image å±æ€§å°†å›¾åƒæŒ‡å®šä¸ºåˆ—è¡¨é¡¹æ ‡è®°ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;sqpurple.gif&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®šä½åˆ—è¡¨é¡¹æ ‡è®°</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span><span class="selector-class">.a</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-position</span>: outside;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">ul</span><span class="selector-class">.b</span> &#123;</span><br><span class="line">  <span class="attribute">list-style-position</span>: inside;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ é™¤é»˜è®¤è®¾ç½®</p><p>list-style-type:none å±æ€§ä¹Ÿå¯ä»¥ç”¨äºåˆ é™¤æ ‡è®°/é¡¹ç›®ç¬¦å·ã€‚è¯·æ³¨æ„ï¼Œåˆ—è¡¨è¿˜æ‹¥æœ‰é»˜è®¤çš„å¤–è¾¹è·å’Œå†…è¾¹è·ã€‚è¦åˆ é™¤æ­¤å†…å®¹ï¼Œè¯·åœ¨ <ul\> æˆ– <ol\> ä¸­æ·»åŠ  margin:0 å’Œ padding:0</p><p><img data-src="http://cdn.sekyoro.top/imgs/093529.png" alt="image-20211021222020189"></p><p>è®¾ç½®åˆ—è¡¨æ ·å¼</p><p>è¡¨æ ¼å±æ€§</p><p>border</p><p>width</p><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¸Šè¡¨ä¼¼ä¹å¾ˆå°ã€‚å¦‚æœæ‚¨éœ€è¦ä¸€ä¸ªå¯ä»¥è¦†ç›–æ•´ä¸ªå±å¹•è¡¨æ ¼ä½¿ç”¨width:100%</p><p>border-collapse å±æ€§è®¾ç½®æ˜¯å¦å°†è¡¨æ ¼è¾¹æ¡†æŠ˜å ä¸ºå•ä¸€è¾¹æ¡†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¡¨æ ¼å®½åº¦å’Œé«˜åº¦</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">th</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ°´å¹³å¯¹é½</p><p>text-align</p><p>text-align å±æ€§è®¾ç½® <th\> æˆ– <td\> ä¸­å†…å®¹çš„æ°´å¹³å¯¹é½æ–¹å¼ï¼ˆå·¦ã€å³æˆ–å±…ä¸­ï¼‰ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<th\> å…ƒç´ çš„å†…å®¹å±…ä¸­å¯¹é½ï¼Œè€Œ <td\> å…ƒç´ çš„å†…å®¹å·¦å¯¹é½ã€‚</p><p>vertical-align</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">td</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: bottom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¡¨æ ¼å†…è¾¹è·</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">th</span>, <span class="selector-tag">td</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ°´å¹³åˆ†å‰²çº¿</p><p>å‘ <th\> å’Œ <td\> æ·»åŠ  border-bottom å±æ€§ï¼Œä»¥å®ç°æ°´å¹³åˆ†éš”çº¿</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">th</span>, <span class="selector-tag">td</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯æ‚¬åœè¡¨æ ¼</p><p>åœ¨ <tr\> å…ƒç´ ä¸Šä½¿ç”¨ :hover é€‰æ‹©å™¨</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tr</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">background-color</span>: <span class="number">#f5f5f5</span>;&#125;</span><br></pre></td></tr></table></figure><p>æ¡çº¹è¡¨æ ¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tr</span><span class="selector-pseudo">:nth-child</span>(even) &#123;<span class="attribute">background-color</span>: <span class="number">#f2f2f2</span>;&#125;</span><br></pre></td></tr></table></figure><p>å“åº”å¼è¡¨æ ¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> style=&quot;<span class="attribute">overflow-x</span>:auto;&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="selector-tag">table</span>&gt;</span><br><span class="line">... <span class="selector-tag">table</span> <span class="attribute">content</span> ...</span><br><span class="line">&lt;/<span class="selector-tag">table</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><h2 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h2><p>é‡ç‚¹</p><p>displayå±æ€§ç”¨äºæ§åˆ¶å¸ƒå±€</p><p>HTML å…ƒç´ éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„ display å€¼ï¼Œå…·ä½“å–å†³äºå®ƒçš„å…ƒç´ ç±»å‹ã€‚å¤§å¤šæ•°å…ƒç´ çš„é»˜è®¤ display å€¼ä¸º block æˆ– inline.</p><p>block</p><p>å—çº§å…ƒç´ æ€»æ˜¯ä»æ–°è¡Œå¼€å§‹ï¼Œ<strong>å¹¶å æ®å¯ç”¨çš„å…¨éƒ¨å®½åº¦</strong>ï¼ˆå°½å¯èƒ½å‘å·¦å’Œå‘å³ä¼¸å±•ï¼‰ã€‚</p><p>è¿™ä¸ª &lt;\div&gt; å…ƒç´ å±äºå—çº§å…ƒç´ ã€‚</p><p>å—çº§å…ƒç´ çš„ä¸€äº›ä¾‹å­ï¼š</p><ul><li>&lt;\div&gt;</li><li>&lt;\h1&gt; - &lt;\h6&gt;</li><li>&lt;\p&gt;</li><li>&lt;\form&gt;</li><li>&lt;\header&gt;</li><li>&lt;\footer&gt;</li><li>\<section></li></ul><p>inline </p><h2 id="è¡Œå†…å…ƒç´ ï¼ˆinline-elementï¼‰"><a href="#è¡Œå†…å…ƒç´ ï¼ˆinline-elementï¼‰" class="headerlink" title="è¡Œå†…å…ƒç´ ï¼ˆinline elementï¼‰"></a>è¡Œå†…å…ƒç´ ï¼ˆinline elementï¼‰</h2><p>å†…è”å…ƒç´ ä¸ä»æ–°è¡Œå¼€å§‹ï¼Œä»…å ç”¨æ‰€éœ€çš„å®½åº¦ã€‚</p><p>è¿™æ˜¯æ®µè½ä¸­çš„è¡Œå†… &lt;\span&gt; å…ƒç´ ã€‚</p><p>è¡Œå†…å…ƒç´ çš„ä¸€äº›ä¾‹å­ï¼š</p><ul><li>&lt;\pan&gt;</li><li>&lt;\a&gt;</li><li>&lt;\img&gt;</li></ul><p>display: none; é€šå¸¸ä¸ JavaScript ä¸€èµ·ä½¿ç”¨ï¼Œä»¥éšè—å’Œæ˜¾ç¤ºå…ƒç´ ï¼Œè€Œæ— éœ€åˆ é™¤å’Œé‡æ–°åˆ›å»ºå®ƒä»¬ã€‚å¦‚æœæ‚¨æƒ³çŸ¥é“å¦‚ä½•å®ç°æ­¤ç›®æ ‡ï¼Œè¯·æŸ¥çœ‹æœ¬é¡µé¢ä¸Šçš„æœ€åä¸€ä¸ªå®ä¾‹ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ&lt;\script&gt; å…ƒç´ ä½¿ç”¨ display: none;</p><p>å°†è¡Œå†…å…ƒç´ æ›´æ”¹ä¸ºå—å…ƒç´ ï¼Œåä¹‹äº¦ç„¶ï¼Œå¯¹äºä½¿é¡µé¢ä»¥ç‰¹å®šæ–¹å¼æ˜¾ç¤ºåŒæ—¶ä»éµå¾ª Web æ ‡å‡†å¾ˆæœ‰ç”¨ã€‚</p><p>ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ˜¯ä¸ºå®ç°æ°´å¹³èœå•è€Œç”Ÿæˆè¡Œå†…çš„ <li\> å…ƒç´ ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong>è®¾ç½®å…ƒç´ çš„ display å±æ€§ä»…ä¼šæ›´æ”¹<em>å…ƒç´ çš„æ˜¾ç¤ºæ–¹å¼</em>ï¼Œè€Œä¸ä¼šæ›´æ”¹å…ƒç´ çš„ç§ç±»ã€‚å› æ­¤ï¼Œå¸¦æœ‰ <strong>display: block;</strong> çš„è¡Œå†…å…ƒç´ ä¸å…è®¸åœ¨å…¶ä¸­åŒ…å«å…¶ä»–å—å…ƒç´ ã€‚</p><p>å°†spanå…ƒç´ æ˜¾ç¤ºä¸ºå—å…ƒç´ </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹ä¾‹å°† \<a> å…ƒç´ æ˜¾ç¤ºä¸ºå—å…ƒç´ ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span><span class="selector-class">.hidden</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>visibility:hidden; ä¹Ÿå¯ä»¥éšè—å…ƒç´ ã€‚</p><p>ä½†æ˜¯ï¼Œè¯¥å…ƒç´ ä»å°†å ç”¨ä¸ä¹‹å‰ç›¸åŒçš„ç©ºé—´ã€‚å…ƒç´ å°†è¢«éšè—ï¼Œä½†ä»ä¼šå½±å“å¸ƒå±€ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span><span class="selector-class">.hidden</span> &#123;</span><br><span class="line">  <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>widthå’Œmax-width</p><p>margin:auto</p><p><strong>æ³¨æ„ï¼š</strong>å½“æµè§ˆå™¨çª—å£å°äºå…ƒç´ çš„å®½åº¦æ—¶ï¼Œä¸Šé¢è¿™ä¸ª <strong><div></strong> ä¼šå‘ç”Ÿé—®é¢˜ã€‚æµè§ˆå™¨ä¼šå°†æ°´å¹³æ»šåŠ¨æ¡æ·»åŠ åˆ°é¡µé¢ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ max-width å¯ä»¥æ”¹å–„æµè§ˆå™¨å¯¹å°çª—å£çš„å¤„ç†ã€‚ä¸ºäº†ä½¿ç½‘ç«™åœ¨å°å‹è®¾å¤‡ä¸Šå¯ç”¨</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.ex1</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="number">#73AD21</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.ex2</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">500px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="number">#73AD21</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>positionå±æ€§</p><p>å±æ€§è§„å®šåº”ç”¨äºå…ƒç´ çš„å®šä½æ–¹æ³•çš„ç±»å‹ï¼ˆstaticã€relativeã€fixedã€absolute æˆ– stickyï¼‰</p><p>position å±æ€§è§„å®šåº”ç”¨äºå…ƒç´ çš„å®šä½æ–¹æ³•çš„ç±»å‹ã€‚</p><p>æœ‰äº”ä¸ªä¸åŒçš„ä½ç½®å€¼ï¼š</p><ul><li>static</li><li>relative</li><li>fixed</li><li>absolute</li><li>sticky</li></ul><p>å…ƒç´ å…¶å®æ˜¯ä½¿ç”¨ topã€bottomã€left å’Œ right å±æ€§å®šä½çš„ã€‚ä½†æ˜¯ï¼Œé™¤éé¦–å…ˆè®¾ç½®äº† position å±æ€§ï¼Œå¦åˆ™è¿™äº›å±æ€§å°†ä¸èµ·ä½œç”¨ã€‚æ ¹æ®ä¸åŒçš„ position å€¼ï¼Œå®ƒä»¬çš„å·¥ä½œæ–¹å¼ä¹Ÿä¸åŒ</p><p>position: static</p><p>HTML å…ƒç´ é»˜è®¤æƒ…å†µä¸‹çš„å®šä½æ–¹å¼ä¸º staticï¼ˆé™æ€ï¼‰ã€‚</p><p>é™æ€å®šä½çš„å…ƒç´ ä¸å— topã€bottomã€left å’Œ right å±æ€§çš„å½±å“ã€‚</p><p>position: static; çš„å…ƒç´ ä¸ä¼šä»¥ä»»ä½•ç‰¹æ®Šæ–¹å¼å®šä½ï¼›å®ƒå§‹ç»ˆæ ¹æ®é¡µé¢çš„æ­£å¸¸æµè¿›è¡Œå®šä½</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.static</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: static;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="number">#73AD21</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>relative</p><p>å…ƒç´ ç›¸å¯¹äºå…¶æ­£å¸¸ä½ç½®è¿›è¡Œå®šä½ã€‚</p><p>è®¾ç½®ç›¸å¯¹å®šä½çš„å…ƒç´ çš„ topã€rightã€bottom å’Œ left å±æ€§å°†å¯¼è‡´å…¶åç¦»å…¶æ­£å¸¸ä½ç½®è¿›è¡Œè°ƒæ•´ã€‚ä¸ä¼šå¯¹å…¶ä½™å†…å®¹è¿›è¡Œè°ƒæ•´æ¥é€‚åº”å…ƒç´ ç•™ä¸‹çš„ä»»ä½•ç©ºé—´ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.relative</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="number">#73AD21</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>fixed</p><p>å…ƒç´ æ˜¯ç›¸å¯¹äºè§†å£å®šä½çš„ï¼Œè¿™æ„å‘³ç€å³ä½¿æ»šåŠ¨é¡µé¢ï¼Œå®ƒä¹Ÿå§‹ç»ˆä½äºåŒä¸€ä½ç½®ã€‚ topã€rightã€bottom å’Œ left å±æ€§ç”¨äºå®šä½æ­¤å…ƒç´ ã€‚</p><p>å›ºå®šå®šä½çš„å…ƒç´ ä¸ä¼šåœ¨é¡µé¢ä¸­é€šå¸¸åº”æ”¾ç½®çš„ä½ç½®ä¸Šç•™å‡ºç©ºéš™</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.fixed</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="number">#73AD21</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>absolute</p><p>ç›¸å¯¹äºæœ€è¿‘çš„å®šä½ç¥–å…ˆå…ƒç´ è¿›è¡Œå®šä½ï¼ˆè€Œä¸æ˜¯ç›¸å¯¹äºè§†å£å®šä½ï¼Œå¦‚ fixedï¼‰ã€‚</p><p>ç„¶è€Œï¼Œå¦‚æœç»å¯¹å®šä½çš„å…ƒç´ æ²¡æœ‰ç¥–å…ˆï¼Œå®ƒå°†ä½¿ç”¨æ–‡æ¡£ä¸»ä½“ï¼ˆbodyï¼‰ï¼Œå¹¶éšé¡µé¢æ»šåŠ¨ä¸€èµ·ç§»åŠ¨</p><p>stickç²˜æ€§å®šä½</p><p>ç²˜æ€§å…ƒç´ æ ¹æ®æ»šåŠ¨ä½ç½®åœ¨ç›¸å¯¹ï¼ˆrelativeï¼‰å’Œå›ºå®šï¼ˆfixedï¼‰ä¹‹é—´åˆ‡æ¢ã€‚å®ƒä¼šè¢«ç›¸å¯¹å®šä½ï¼Œç›´åˆ°åœ¨è§†å£ä¸­é‡åˆ°ç»™å®šçš„åç§»ä½ç½®ä¸ºæ­¢ - ç„¶åå°†å…¶â€œç²˜è´´â€åœ¨é€‚å½“çš„ä½ç½®ï¼ˆæ¯”å¦‚ position:fixedï¼‰</p><p>é‡å å…ƒç´ </p><p>z-index å±æ€§æŒ‡å®šå…ƒç´ çš„å †æ ˆé¡ºåºï¼ˆå“ªä¸ªå…ƒç´ åº”æ”¾ç½®åœ¨å…¶ä»–å…ƒç´ çš„å‰é¢æˆ–åé¢ï¼‰ã€‚</p><p>å…ƒç´ å¯ä»¥è®¾ç½®æ­£æˆ–è´Ÿçš„å †å é¡ºåº</p><p>å¦‚æœä¸¤ä¸ªå®šä½çš„å…ƒç´ é‡å è€ŒæœªæŒ‡å®š <strong>z-index</strong>ï¼Œåˆ™ä½äº HTML ä»£ç ä¸­æœ€åçš„å…ƒç´ å°†æ˜¾ç¤ºåœ¨é¡¶éƒ¨</p><p><img data-src="http://cdn.sekyoro.top/imgs/093530.png" alt="image-20211021232711981"></p><p>æº¢å‡º</p><p>overflow</p><p>overflow å±æ€§å¯è®¾ç½®ä»¥ä¸‹å€¼ï¼š</p><ul><li>visible - é»˜è®¤ã€‚æº¢å‡ºæ²¡æœ‰è¢«å‰ªè£ã€‚å†…å®¹åœ¨å…ƒç´ æ¡†å¤–æ¸²æŸ“</li><li>hidden - æº¢å‡ºè¢«å‰ªè£ï¼Œå…¶ä½™å†…å®¹å°†ä¸å¯è§</li><li>scroll - æº¢å‡ºè¢«å‰ªè£ï¼ŒåŒæ—¶æ·»åŠ æ»šåŠ¨æ¡ä»¥æŸ¥çœ‹å…¶ä½™å†…å®¹</li><li>auto - ä¸ scroll ç±»ä¼¼ï¼Œä½†ä»…åœ¨å¿…è¦æ—¶æ·»åŠ æ»šåŠ¨æ¡</li></ul><p>overflow:visible</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: visible;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>hiddenç§»é™¤å€¼è¢«è£å‡,è£å‰ªå†…å®¹éšè—</p><p>scrollï¼Œæº¢å‡ºå°†è¢«è£å‰ªï¼Œå¹¶æ·»åŠ æ»šåŠ¨æ¡ä»¥ä¾¿åœ¨æ¡†å†…æ»šåŠ¨ã€‚è¯·æ³¨æ„ï¼Œè¿™å°†åœ¨æ°´å¹³å’Œå‚ç›´æ–¹å‘ä¸Šæ·»åŠ ä¸€ä¸ªæ»šåŠ¨æ¡ï¼ˆå³ä½¿æ‚¨ä¸éœ€è¦å®ƒï¼‰</p><p>auto å€¼ç±»ä¼¼äº scrollï¼Œä½†æ˜¯å®ƒä»…åœ¨å¿…è¦æ—¶æ·»åŠ æ»šåŠ¨æ¡</p><p>overflow-x å’Œ overflow-y å±æ€§è§„å®šæ˜¯ä»…æ°´å¹³è¿˜æ˜¯å‚ç›´åœ°ï¼ˆæˆ–åŒæ—¶ï¼‰æ›´æ”¹å†…å®¹çš„æº¢å‡º</p><p>floatæµ®åŠ¨å±æ€§</p><p>float è§„å®šå…ƒç´ å¦‚ä½•æµ®åŠ¨</p><p>clear è§„å®šå…ƒç´ å¯ä»¥åœ¨æ¸…æ¥šçš„å…ƒç´ æ—è¾¹ä»¥åŠåœ¨å“ªä¸€ä¾§æµ®åŠ¨</p><p>float</p><p>float å±æ€§ç”¨äºå®šä½å’Œæ ¼å¼åŒ–å†…å®¹ï¼Œä¾‹å¦‚è®©å›¾åƒå‘å·¦æµ®åŠ¨åˆ°å®¹å™¨ä¸­çš„æ–‡æœ¬é‚£é‡Œã€‚</p><p>float å±æ€§å¯ä»¥è®¾ç½®ä»¥ä¸‹å€¼ä¹‹ä¸€ï¼š</p><ul><li>left - å…ƒç´ æµ®åŠ¨åˆ°å…¶å®¹å™¨çš„å·¦ä¾§</li><li>right - å…ƒç´ æµ®åŠ¨åœ¨å…¶å®¹å™¨çš„å³ä¾§</li><li>none - å…ƒç´ ä¸ä¼šæµ®åŠ¨ï¼ˆå°†æ˜¾ç¤ºåœ¨æ–‡æœ¬ä¸­åˆšå‡ºç°çš„ä½ç½®ï¼‰ã€‚é»˜è®¤å€¼ã€‚</li><li>inherit - å…ƒç´ ç»§æ‰¿å…¶çˆ¶çº§çš„ float å€¼</li></ul><p>clearå±æ€§æŒ‡å®šå“ªäº›å…ƒç´ å¯ä»¥æµ®åŠ¨äºè¢«æ¸…é™¤å…ƒç´ çš„æ—è¾¹ä»¥åŠå“ªä¸€ä¾§</p><p>åœ¨æ¸…é™¤æµ®åŠ¨æ—¶ï¼Œåº”è¯¥å¯¹æ¸…é™¤ä¸æµ®åŠ¨è¿›è¡ŒåŒ¹é…ï¼šå¦‚æœæŸä¸ªå…ƒç´ æµ®åŠ¨åˆ°å·¦ä¾§ï¼Œåˆ™åº”æ¸…é™¤å·¦ä¾§ã€‚æ‚¨çš„æµ®åŠ¨å…ƒç´ ä¼šç»§ç»­æµ®åŠ¨ï¼Œä½†æ˜¯è¢«æ¸…é™¤çš„å…ƒç´ å°†æ˜¾ç¤ºåœ¨å…¶ä¸‹æ–¹</p><p>å¦‚æœä¸€ä¸ªå…ƒç´ æ¯”åŒ…å«å®ƒçš„å…ƒç´ é«˜ï¼Œå¹¶ä¸”å®ƒæ˜¯æµ®åŠ¨çš„ï¼Œå®ƒå°†â€œæº¢å‡ºâ€åˆ°å…¶å®¹å™¨ä¹‹å¤–</p><p>è¿˜å¯ä»¥ä½¿ç”¨ä¼ªå…ƒç´ </p><p><img data-src="http://cdn.sekyoro.top/imgs/093532.png" alt="image-20211022102527673"></p><p>display:inline-block</p><p>ä¸ display: inline ç›¸æ¯”ï¼Œä¸»è¦åŒºåˆ«åœ¨äº display: inline-block å…è®¸åœ¨å…ƒç´ ä¸Šè®¾ç½®å®½åº¦å’Œé«˜åº¦ã€‚</p><p>åŒæ ·ï¼Œå¦‚æœè®¾ç½®äº† display: inline-blockï¼Œå°†ä¿ç•™ä¸Šä¸‹å¤–è¾¹è·/å†…è¾¹è·ï¼Œè€Œ display: inline åˆ™ä¸ä¼š</p><p>display: inlineã€display: inline-block ä»¥åŠ display: block</p><p>å¯¹é½</p><p>å±…ä¸­å¯¹é½</p><p>è¦ä½¿å—å…ƒç´ ï¼ˆä¾‹å¦‚ <div> ï¼‰æ°´å¹³å±…ä¸­ï¼Œè¯·ä½¿ç”¨ margin: auto;ã€‚</p><p>è®¾ç½®å…ƒç´ çš„å®½åº¦å°†é˜²æ­¢å…¶å»¶ä¼¸åˆ°å®¹å™¨çš„è¾¹ç¼˜</p><p>å¦‚æœæœªè®¾ç½® <strong>width</strong> å±æ€§ï¼ˆæˆ–å°†å…¶è®¾ç½®ä¸º 100ï¼…ï¼‰ï¼Œåˆ™å±…ä¸­å¯¹é½æ— æ•ˆ</p><p>margin:auto</p><p>å±…ä¸­å¯¹é½æ–‡æœ¬</p><p>text-align:center</p><p>å±…ä¸­å¯¹é½å›¾åƒ</p><p>display:block</p><p>margin-left:auto</p><p>margin-right:auto</p><p>å·¦å³å¯¹é½</p><p>position:absolute</p><p>width</p><p>right</p><p><strong>æ³¨æ„ï¼š</strong>ç»å¯¹å®šä½çš„å…ƒç´ å°†ä»æ­£å¸¸æµä¸­åˆ é™¤ï¼Œå¹¶å¯èƒ½å‡ºç°å…ƒç´ é‡å </p><p>å‚ç›´å¯¹é½</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.center</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">70px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">3px</span> solid green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚éœ€åŒæ—¶å‚ç›´å’Œæ°´å¹³å¯¹é½ï¼Œè¯·ä½¿ç”¨ padding å’Œ text-align: center;</p><p>ä½¿ç”¨line-height</p><p>ä½¿ç”¨<em>å…¶å€¼</em>ç­‰äº height å±æ€§å€¼çš„ line-height å±æ€§</p><p>position transform</p><p>flexbox</p><p>css ç»„åˆå™¨</p><p>CSS é€‰æ‹©å™¨å¯ä»¥åŒ…å«å¤šä¸ªç®€å•é€‰æ‹©å™¨ã€‚åœ¨ç®€å•é€‰æ‹©å™¨ä¹‹é—´ï¼Œæˆ‘ä»¬å¯ä»¥åŒ…å«ä¸€ä¸ªç»„åˆå™¨ã€‚</p><p>CSS ä¸­æœ‰å››ç§ä¸åŒçš„ç»„åˆå™¨ï¼š</p><ul><li>åä»£é€‰æ‹©å™¨ (ç©ºæ ¼)</li><li>å­é€‰æ‹©å™¨ (&gt;)</li><li>ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ (+)</li><li>é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨ (~)</li></ul><p>åä»£é€‰æ‹©å±äºæŒ‡å®šå…ƒç´ åä»£çš„æ‰€æœ‰å…ƒç´ </p><p>å­é€‰æ‹©å™¨åŒ¹é…å±äºæŒ‡å®šå…ƒç´ å­å…ƒç´ çš„æ‰€æœ‰å…ƒç´ </p><p>ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨åŒ¹é…æ‰€æœ‰ä½œä¸ºæŒ‡å®šå…ƒç´ çš„ç›¸é‚»åŒçº§çš„å…ƒç´ ã€‚</p><p>å…„å¼Ÿï¼ˆåŒçº§ï¼‰å…ƒç´ å¿…é¡»å…·æœ‰ç›¸åŒçš„çˆ¶å…ƒç´ ï¼Œâ€œç›¸é‚»â€çš„æ„æ€æ˜¯â€œç´§éšå…¶åâ€</p><p>é€šç”¨å…„å¼Ÿé€‰æ‹©å™¨åŒ¹é…å±äºæŒ‡å®šå…ƒç´ çš„åŒçº§å…ƒç´ çš„æ‰€æœ‰å…ƒç´ ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­é€‰æ‹©å±äº &lt;\div&gt; å…ƒç´ çš„åŒçº§å…ƒç´ çš„æ‰€æœ‰ &lt;\p&gt; å…ƒç´ </p><p>ç©ºæ ¼æ˜¯é€‰æ‹©æ‰€æœ‰å­å…ƒç´ </p><p>>æ˜¯ä¸€çº§å­å…ƒç´ </p><p>+æ˜¯åŒçº§çš„ä¸´è¿‘å…ƒç´ </p><p><img data-src="http://cdn.sekyoro.top/imgs/065525.png" alt="image-20211022112841898"></p><p>æ‰€æœ‰ç›¸åŒçš„çˆ¶å…ƒç´ ä¸­ä½äº p å…ƒç´ ä¹‹åçš„æ‰€æœ‰ ul å…ƒç´ </p><p>ä¼ªç±»</p><p>ä¼ªç±»ç”¨äºå®šä¹‰å…ƒç´ çš„ç‰¹æ®ŠçŠ¶æ€.</p><p>å®ƒå¯ä»¥ç”¨äºï¼š</p><ul><li>è®¾ç½®é¼ æ ‡æ‚¬åœåœ¨å…ƒç´ ä¸Šæ—¶çš„æ ·å¼</li><li>ä¸ºå·²è®¿é—®å’Œæœªè®¿é—®é“¾æ¥è®¾ç½®ä¸åŒçš„æ ·å¼</li><li>è®¾ç½®å…ƒç´ è·å¾—ç„¦ç‚¹æ—¶çš„æ ·å¼</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">selector:pseudo-class &#123;</span><br><span class="line">  property: value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é”šä¼ªç±»</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æœªè®¿é—®çš„é“¾æ¥ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:link</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#FF0000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å·²è®¿é—®çš„é“¾æ¥ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#00FF00</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* é¼ æ ‡æ‚¬åœé“¾æ¥ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#FF00FF</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* å·²é€‰æ‹©çš„é“¾æ¥ */</span></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0000FF</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¼ªç±»å’Œcssç±»</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ff0000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®€å•çš„å·¥å…·æç¤ºæ‚¬åœ</p><p>æŠŠé¼ æ ‡æ‚¬åœåˆ° &lt;\div&gt; å…ƒç´ ä»¥æ˜¾ç¤º &lt;\p&gt; å…ƒç´ ï¼ˆç±»ä¼¼å·¥å…·æç¤ºçš„æ•ˆæœ</p><p>:first-childä¼ªç±»</p><p>:first-child ä¼ªç±»ä¸æŒ‡å®šçš„å…ƒç´ åŒ¹é…ï¼šè¯¥å…ƒç´ æ˜¯å¦ä¸€ä¸ªå…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">  <span class="attribute">color</span>: blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>:langä¼ªç±»</p><p>:lang ä¼ªç±»å…è®¸æ‚¨ä¸ºä¸åŒçš„è¯­è¨€å®šä¹‰ç‰¹æ®Šçš„è§„åˆ™</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"><span class="selector-tag">q</span><span class="selector-pseudo">:lang</span>(en) &#123;</span></span><br><span class="line"><span class="css">  <span class="attribute">quotes</span>: <span class="string">&quot;~&quot;</span> <span class="string">&quot;~&quot;</span>;</span></span><br><span class="line"><span class="css">&#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Some text <span class="tag">&lt;<span class="name">q</span> <span class="attr">lang</span>=<span class="string">&quot;no&quot;</span>&gt;</span>A quote in a paragraph<span class="tag">&lt;/<span class="name">q</span>&gt;</span> Some text.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¼ªå…ƒç´ </p><p><strong>::first-letter</strong> ä¼ªå…ƒç´ åªé€‚ç”¨äºå—çº§å…ƒç´ </p><p><code>::first-line</code> ä¼ªå…ƒç´ åªèƒ½åº”ç”¨äºå—çº§å…ƒç´ </p><p><img data-src="http://cdn.sekyoro.top/imgs/093535.png" alt="image-20211022120348771"></p><p>é€æ˜åº¦</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ opacity å±æ€§ä¸ºå…ƒç´ çš„èƒŒæ™¯æ·»åŠ é€æ˜åº¦æ—¶ï¼Œå…¶æ‰€æœ‰å­å…ƒç´ éƒ½ç»§æ‰¿ç›¸åŒçš„é€æ˜åº¦ã€‚è¿™å¯èƒ½ä¼šä½¿å®Œå…¨é€æ˜çš„å…ƒç´ å†…çš„æ–‡æœ¬éš¾ä»¥é˜…è¯»</p><p>ä¸å¸Œæœ›å¯¹å­å…ƒç´ åº”ç”¨ä¸é€æ˜åº¦ï¼Œå¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œè¯·ä½¿ç”¨ RGBA é¢œè‰²å€¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">76</span>, <span class="number">175</span>, <span class="number">80</span>, <span class="number">0.3</span>) /* Green background with <span class="number">30%</span> opacity */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å›ºå®šå®šä½åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065532.png" alt="image-20211022142033095"></p>]]></content>
      
      
      
        <tags>
            
            <tag> front </tag>
            
            <tag> CSS </tag>
            
            <tag> CSS3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wmå…¥å‘</title>
      <link href="2021/10/20/wm%E5%85%A5%E5%9D%91/"/>
      <url>2021/10/20/wm%E5%85%A5%E5%9D%91/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>WMå…¥é—¨</p><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>wmï¼Œwindow manager</p><p>ç›¸å½“äºæ˜¯ç¾åŒ–äº†</p><span id="more"></span><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><p>å®‰è£…ä¸ªå¥½çœ‹çš„ç»ˆç«¯æ¨¡æ‹Ÿå™¨,è¿™é‡Œæˆ‘è£…alacritty</p><p>è£…ä¸€ä¸ªi3wmæˆ–è€…dwmæˆ–è€…å…¶ä»–çš„wm</p><p>alacrittyæ˜¯ç”¨Rustå†™çš„,å®‰è£…å®˜æ–¹æ–‡æ¡£çš„ä¸€æ­¥ä¸€æ­¥æ¥å°±è¡Œ,éœ€è¦è£…Rustç¼–è¯‘å™¨,<strong>æ³¨æ„</strong>æˆ‘ç”¨çš„Ubuntu,æœ¬èº«å¸¦äº†rustc,éœ€è¦å…ˆå¸è½½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get remove rustc</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸‹è½½Rusté¡µé¢ï¼Œdefaultå°±è¡Œ</p><p><img data-src="http://cdn.sekyoro.top/imgs/094206.png" alt="image-20211011190048735"></p><p>i3wmæˆ‘æ˜¯æŒ‰ç…§åˆ«äººé…ç½®å¥½äº†çš„æ–‡ä»¶ç›´æ¥ä¸‹è½½çš„</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install i3</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>,äº‹å®ä¸Šä¸æ­¢è¦è£…i3,è¿˜æœ‰å¾ˆå¤šå…¶ä»–æœ‰ç”¨çš„åŒ…ä»¥åŠä¾èµ–.å¯ä»¥çœ‹çœ‹ä¸‹é¢çš„å‚è€ƒèµ„æ–™,éƒ½å¾ˆæœ‰ç”¨</p><p>å‚è€ƒ</p><p><a href="https://www.youtube.com/watch?v=omhky9FgViU&amp;t=771s">Installing I3 Window Manager in Ubuntu 19.04 - YouTube</a></p><p>è¿™ä¸ªè€å“¥æŒºå¥½çš„,ç…§ç€åšå°±è¡Œ</p><p><a href="https://www.youtube.com/watch?v=S5ra0DUDZww">Alacritty - A Fast Terminal Emulator with GPU Acceleration - YouTube</a></p><p><a href="https://github.com/alacritty/alacritty/blob/master/INSTALL.md">alacritty/INSTALL.md at master Â· alacritty/alacritty (github.com)</a></p><p>å…³äºalacrittyç»ˆç«¯é…ç½®ä»¥åŠå®˜æ–¹æ–‡æ¡£</p><p><a href="https://www.bilibili.com/video/BV11J411t7RY">ã€é«˜æ•ˆç¥å™¨ã€‘dwmå®‰è£…ä¸é…ç½®ï¼ˆ1ï¼‰ â€”â€” æç®€çš„çª—å£ç®¡ç†å™¨ ã€Sucklessçš„æç®€ä¸»ä¹‰02ã€‘_å“”å“©å“”å“©_bilibili</a></p><p>è¿™æ˜¯å…³äºdwmçš„</p><p><a href="https://cxybb.com/article/weixin_43372529/106712115">i3wmç¾åŒ–ä¸é…ç½®ä¹‹ä½¿ç”¨fehè¿›è¡Œéšæœºå£çº¸çš„é…ç½®å¹¶é€æ˜åŒ–ç»ˆç«¯_å¤§é»„å¾ˆé»„çš„åšå®¢-ç¨‹åºå‘˜å®å®_i3wm å£çº¸ - ç¨‹åºå‘˜å®å® (cxybb.com)</a></p><p>ç¾åŒ–å£çº¸</p>]]></content>
      
      
      
        <tags>
            
            <tag> wm </tag>
            
            <tag> i3wm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dwmå…¥é—¨</title>
      <link href="2021/10/10/dwm%E5%85%A5%E9%97%A8/"/>
      <url>2021/10/10/dwm%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="DWMå…¥é—¨"><a href="#DWMå…¥é—¨" class="headerlink" title="DWMå…¥é—¨"></a>DWMå…¥é—¨</h1><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>æ¡Œé¢ç¯å¢ƒ:KDE GNOME XFCEç­‰</p><p>æ³›æŒ‡æ¡Œé¢çš„èƒŒæ™¯å›¾ç‰‡ï¼Œæ¡Œé¢çš„åº”ç”¨ç¨‹åºè½¯ä»¶ï¼Œæ¡Œé¢çš„å¿«æ·æ–¹å¼ï¼Œæ¡Œé¢çš„DIYå°éƒ¨ä»¶ç­‰ç»„æˆçš„ä¸€ä¸ªç›´è§‚çš„è§†è§‰ç¯å¢ƒã€‚æ¡Œé¢ç¯å¢ƒå¯èƒ½ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„<a href="https://baike.baidu.com/item/çª—å£ç®¡ç†å™¨/8902451">çª—å£ç®¡ç†å™¨</a>ï¼Œ ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªåƒ KDE æˆ–è€… GNOMEè¿™æ ·çš„å®Œæ•´<a href="https://baike.baidu.com/item/æ¡Œé¢åº”ç”¨ç¨‹åº/2331979">æ¡Œé¢åº”ç”¨ç¨‹åº</a>å¥—ä»¶ã€‚</p><span id="more"></span><p>çª—å£ç®¡ç†å™¨ wm </p><p>æ˜¾ç¤ºç®¡ç†å™¨(Display Managerï¼ŒDM)åˆå«åšâ€œç™»é™†ç®¡ç†å™¨â€ï¼Œå¦‚sddmã€lightdmç­‰</p><p>dynamic window manager</p><p><a href="https://dwm.suckless.org/">dwm</a>æ˜¯<a href="https://wiki.archlinux.org/title/X">X</a>ä¸‹çš„ä¸€ä¸ªåŠ¨æ€çª—å£ç®¡ç†å™¨ã€‚å®ƒç”¨å¹³é“ºçš„ã€æ ˆå¼çš„å’Œå…¨å±çš„å¸ƒå±€æ–¹å¼ï¼Œå€ŸåŠ©ä¸€äº›å¯é€‰çš„è¡¥ä¸è¿˜å¯ä»¥å®ç°å…¶ä»–çš„å¸ƒå±€ã€‚å¸ƒå±€å¯ä»¥åŠ¨æ€å¾—æ”¹å˜ï¼Œä¸ºç¨‹åºæä¾›æœ€ä¼˜çš„ç¯å¢ƒå’Œæ€§èƒ½ã€‚dwmç‰¹åˆ«è½»é‡å¿«é€Ÿï¼Œç”¨Cè¯­è¨€ç¼–å†™ï¼Œè¢«è®¾è®¡çš„ç›®æ ‡æ˜¯æ§åˆ¶åœ¨2000è¡Œä»¥ä¸‹çš„ä»£ç ã€‚åœ¨xrandrå’ŒXineramaæ”¯æŒä¸‹å¯å®ç°multi-headã€‚</p><p>dwmæ˜¯ç›®å‰å¹³é“ºå¼æ¡Œé¢ä¸­çš„ä½¼ä½¼è€…ï¼Œè‡ªå·±æœ¬èº«å°±æ˜¯ä¸€ä¸ªçª—å£ç®¡ç†å™¨WM.å ç”¨èµ„æºä½</p><p>æ˜¯sucklessç»„ç»‡å¼€å‘,archLinuxä¸‹çš„ä¸œè¥¿</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ç›´æ¥å¼€è£…  dwm</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git clone git://http://git.suckless.org/dwm</span><br><span class="line"></span><br><span class="line">cd dwm</span><br><span class="line"></span><br><span class="line">make</span><br><span class="line"></span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><p>ä¸è¿‡æˆ‘å»ºè®®,æœ‰åˆ«äººå†™å¥½è¡¥ä¸çš„,æˆ–è€…è‡ªå·±æ‰“ä¸Šè¡¥ä¸.</p><p>è£…å¥½å,ç”±äºæˆ‘æ˜¯Ubuntu,deæ˜¯gnome,ç™»é™†ç®¡ç†å™¨æ˜¯gdm  éœ€è¦åœ¨/usr/share/xsessions/ä¸‹åˆ›å»ºç±»ä¼¼ä¸€ä¸ªå¼•å¯¼çš„ä¸œè¥¿,å¼•å¯¼åˆ°dwm  de  </p><p>ä¸‹é¢æ˜¯ubuntuçš„de,å¯ä»¥å‚ç…§è¿™ä¸ªå†™</p><p><img data-src="http://cdn.sekyoro.top/imgs/065536.png" alt="image-20211010201156141"></p><p>å†™å¥½åæ³¨é”€,è¿›å…¥ç™»é™†ç•Œé¢</p><p><img data-src="http://cdn.sekyoro.top/imgs/093601.png" alt="image-20211010201857620"></p><p>å¯ä»¥çœ‹åˆ°æœ‰dwm</p><p>å‚è€ƒ</p><p><a href="https://zhuanlan.zhihu.com/p/183861786">å…¥å‘dwmâ€”â€”åŸæ¥çª—å£ç®¡ç†å™¨è¿˜å¯ä»¥è¿™æ ·ç”¨ï¼Ÿï¼ - çŸ¥ä¹ (zhihu.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> dwm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…ohmyzshå¹¶é…ç½®</title>
      <link href="2021/10/10/%E5%AE%89%E8%A3%85ohmyzsh%E5%B9%B6%E9%85%8D%E7%BD%AE/"/>
      <url>2021/10/10/%E5%AE%89%E8%A3%85ohmyzsh%E5%B9%B6%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="shellä»‹ç»"><a href="#shellä»‹ç»" class="headerlink" title="shellä»‹ç»"></a>shellä»‹ç»</h2><p>çœŸæ­£èƒ½å¤Ÿæ§åˆ¶è®¡ç®—æœºç¡¬ä»¶ï¼ˆCPUã€å†…å­˜ã€æ˜¾ç¤ºå™¨ç­‰ï¼‰çš„åªæœ‰æ“ä½œç³»ç»Ÿå†…æ ¸ï¼ˆKernelï¼‰ï¼Œå›¾å½¢ç•Œé¢å’Œå‘½ä»¤è¡Œåªæ˜¯æ¶è®¾åœ¨ç”¨æˆ·å’Œå†…æ ¸ä¹‹é—´çš„ä¸€åº§æ¡¥æ¢ã€‚</p><span id="more"></span><p>ç”±äºå®‰å…¨ã€å¤æ‚ã€ç¹çç­‰åŸå› ï¼Œç”¨æˆ·ä¸èƒ½ç›´æ¥æ¥è§¦å†…æ ¸ï¼ˆä¹Ÿæ²¡æœ‰å¿…è¦ï¼‰ï¼Œéœ€è¦å¦å¤–å†å¼€å‘ä¸€ä¸ªç¨‹åºï¼Œè®©ç”¨æˆ·ç›´æ¥ä½¿ç”¨è¿™ä¸ªç¨‹åºï¼›è¯¥ç¨‹åºçš„ä½œç”¨å°±æ˜¯æ¥æ”¶ç”¨æˆ·çš„æ“ä½œï¼ˆç‚¹å‡»å›¾æ ‡ã€è¾“å…¥å‘½ä»¤ï¼‰ï¼Œå¹¶è¿›è¡Œç®€å•çš„å¤„ç†ï¼Œç„¶åå†ä¼ é€’ç»™å†…æ ¸ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œç”¨æˆ·å’Œå†…æ ¸ä¹‹é—´å°±å¤šäº†ä¸€å±‚â€œä»£ç†â€ï¼Œè¿™å±‚â€œä»£ç†â€æ—¢ç®€åŒ–äº†ç”¨æˆ·çš„æ“ä½œï¼Œä¹Ÿä¿æŠ¤äº†å†…æ ¸ã€‚</p><p>ç”¨æˆ·ç•Œé¢å’Œå‘½ä»¤è¡Œå°±æ˜¯è¿™ä¸ªå¦å¤–å¼€å‘çš„ç¨‹åºï¼Œå°±æ˜¯è¿™å±‚â€œä»£ç†â€ã€‚åœ¨Linuxä¸‹ï¼Œè¿™ä¸ªå‘½ä»¤è¡Œç¨‹åºå«åš <strong>Shell</strong>ã€‚</p><p>Shell é™¤äº†èƒ½è§£é‡Šç”¨æˆ·è¾“å…¥çš„å‘½ä»¤ï¼Œå°†å®ƒä¼ é€’ç»™å†…æ ¸ï¼Œè¿˜å¯ä»¥ï¼š</p><ul><li>è°ƒç”¨å…¶ä»–ç¨‹åºï¼Œç»™å…¶ä»–ç¨‹åºä¼ é€’æ•°æ®æˆ–å‚æ•°ï¼Œå¹¶è·å–ç¨‹åºçš„å¤„ç†ç»“æœï¼›</li><li>åœ¨å¤šä¸ªç¨‹åºä¹‹é—´ä¼ é€’æ•°æ®ï¼ŒæŠŠä¸€ä¸ªç¨‹åºçš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªç¨‹åºçš„è¾“å…¥ï¼›</li><li>Shell æœ¬èº«ä¹Ÿå¯ä»¥è¢«å…¶ä»–ç¨‹åºè°ƒç”¨ã€‚</li></ul><p>ç”±æ­¤å¯è§ï¼ŒShell æ˜¯å°†å†…æ ¸ã€ç¨‹åºå’Œç”¨æˆ·è¿æ¥äº†èµ·æ¥ã€‚</p><p>Shell æœ¬èº«æ”¯æŒçš„å‘½ä»¤å¹¶ä¸å¤šï¼Œä½†æ˜¯å®ƒå¯ä»¥è°ƒç”¨å…¶ä»–çš„ç¨‹åºï¼Œæ¯ä¸ªç¨‹åºå°±æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè¿™ä½¿å¾— Shell å‘½ä»¤çš„æ•°é‡å¯ä»¥æ— é™æ‰©å±•ï¼Œå…¶ç»“æœå°±æ˜¯ Shell çš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå®Œå…¨èƒ½å¤Ÿèƒœä»» Linux çš„æ—¥å¸¸ç®¡ç†å·¥ä½œï¼Œå¦‚æ–‡æœ¬æˆ–å­—ç¬¦ä¸²æ£€ç´¢ã€æ–‡ä»¶çš„æŸ¥æ‰¾æˆ–åˆ›å»ºã€å¤§è§„æ¨¡è½¯ä»¶çš„è‡ªåŠ¨éƒ¨ç½²ã€æ›´æ”¹ç³»ç»Ÿè®¾ç½®ã€ç›‘æ§æœåŠ¡å™¨æ€§èƒ½ã€å‘é€æŠ¥è­¦é‚®ä»¶ã€æŠ“å–ç½‘é¡µå†…å®¹ã€å‹ç¼©æ–‡ä»¶ç­‰ã€‚</p><p>Shell å¹¶ä¸æ˜¯ç®€å•çš„å †ç Œå‘½ä»¤ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨ Shell ä¸­ç¼–ç¨‹ï¼Œè¿™å’Œä½¿ç”¨ C/C++ã€Javaã€Python ç­‰å¸¸è§çš„ç¼–ç¨‹è¯­è¨€å¹¶æ²¡æœ‰ä»€ä¹ˆä¸¤æ ·ã€‚</p><h2 id="ä¸ºä»€ä¹ˆç”¨zsh"><a href="#ä¸ºä»€ä¹ˆç”¨zsh" class="headerlink" title="ä¸ºä»€ä¹ˆç”¨zsh"></a>ä¸ºä»€ä¹ˆç”¨zsh</h2><p>ä¸€èˆ¬Linuxä¸‹æœ‰bash,shç­‰,zshåŠŸèƒ½è¾ƒå¤š,ä½†é…ç½®éº»çƒ¦.</p><p>å› ä¸ºæœ‰oh-my-zshå·¥å…·å¯ä»¥æ–¹ä¾¿é…ç½®zsh,æ‰€ä»¥ä½¿ç”¨äº†zsh</p><p>æˆ‘ä½¿ç”¨çš„Ubuntu,æ²¡æœ‰zsh</p><p>å…ˆä¸‹è½½</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install zsh;</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/070056.png" alt="image-20211010162840129"></p><p>æ¥ä¸‹æ¥å®‰è£…æ‰€è¯´çš„å·¥å…·</p><p><img data-src="http://cdn.sekyoro.top/imgs/094207.png" alt="image-20211010164449180"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> curl</span></span><br><span class="line">sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> wegt</span> </span><br><span class="line">sh -c &quot;$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)&quot;</span><br></pre></td></tr></table></figure><p>å¤šåŠä¼šå‡ºç°ç½‘ç»œé—®é¢˜â€¦</p><p>å¯ä»¥ç¿»å¢™</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨git</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh</span><br><span class="line">cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc</span><br><span class="line">chsh -s /bin/zsh</span><br></pre></td></tr></table></figure><p>æˆ‘ç”¨è™šæ‹Ÿæœºæ—¶å‡ºç°ä¸€ä¸ªé—®é¢˜,chsh -s /bin/zsh æ²¡æœ‰ååº”â€¦</p><p>é‡å¯ä¹‹åå°±å¥½äº†,åº”è¯¥æ˜¯å°bug</p><p><img data-src="http://cdn.sekyoro.top/imgs/070059.png" alt="image-20211010170942581"></p><p>æˆ‘ä»¬å¯ä»¥å‘ç°æœ‰ä¸¤ä¸ªzsh</p><p>ä¸€ä¸ª/bin/zsh å¦ä¸€ä¸ª /usr/bin/zsh</p><p>è²Œä¼¼éƒ½å¯ä»¥ç”¨</p><p>åœ¨~ç›®å½•ä¸‹å¯ä»¥çœ‹è§.ohmyzshä¸.zshrcæ–‡ä»¶</p><p>å¯ä»¥åœ¨.zshrcæ›´æ”¹æ’ä»¶ä¸»é¢˜</p><p>å¯ä»¥åœ¨.oh-my-zshæŸ¥çœ‹ç›´æ¥å¯ä»¥ç”¨çš„ä¸»é¢˜å’Œæ’ä»¶</p><p><img data-src="http://cdn.sekyoro.top/imgs/094212.png" alt="image-20211010171620642"></p><p>å½“ç„¶,ä¸€äº›ç¬¬ä¸‰æ–¹æ’ä»¶ä¹Ÿæ˜¯éœ€è¦çš„,å¯ä»¥ä»ç½‘ä¸Šä¸‹è½½</p><h2 id="å®‰è£…æ’ä»¶-ä¸»é¢˜"><a href="#å®‰è£…æ’ä»¶-ä¸»é¢˜" class="headerlink" title="å®‰è£…æ’ä»¶,ä¸»é¢˜"></a>å®‰è£…æ’ä»¶,ä¸»é¢˜</h2><p>å®‰è£…ç¬¬ä¸‰æ–¹æ’ä»¶,å¯ä»¥å®‰è£…åˆ°åˆšåœ¨æ‰€è¯´çš„pluginsç›®å½•ï¼Œä¹Ÿå¯ä»¥å®‰è£…åˆ°ä¸€ä¸ªcustomä¸‹çš„pluginç›®å½•</p><p>åœ¨ç›¸å…³githubä¸»é¡µç›´æ¥cloneåˆ°è¯¥ç›®å½•ä¸‹</p><p>1.incr  è‡ªåŠ¨æç¤º</p><p>2.auto-suggestions</p><p>3.zsh-syntax-hightlighting</p><p>4.autojump</p><p>å®‰è£…autojumpæ—¶æ³¨æ„æç¤º,éœ€è¦åœ¨ç›¸å…³æ–‡ä»¶æ›´æ”¹</p><p><img data-src="http://cdn.sekyoro.top/imgs/070100.png" alt="image-20211010173204014"></p><p>ç„¶ååœ¨.zshrcæ–‡ä»¶ä¸­ä¿®æ”¹</p><p><img data-src="http://cdn.sekyoro.top/imgs/070102.png" alt="image-20211010175003689"></p><p>å¢åŠ æ’ä»¶å³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source .zshrc</span><br></pre></td></tr></table></figure><p>å†sourceä¸€ä¸‹æ›´æ–°</p><p>æ›´æ”¹ä¸»é¢˜ç±»ä¼¼</p><p><img data-src="http://cdn.sekyoro.top/imgs/070103.png" alt="image-20211010175117138"></p><p>å¦‚æœä½¿ç”¨æŸäº›ä¸»é¢˜ä¼šæœ‰å­—ä½“ç¼ºå¤±,æ¯”å¦‚agnoster</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install fonts-powerline</span><br></pre></td></tr></table></figure><p>ä¸‹è½½ç›¸å…³å­—ä½“å³å¯</p><h2 id="å±•ç¤º"><a href="#å±•ç¤º" class="headerlink" title="å±•ç¤º"></a>å±•ç¤º</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094214.png" alt="image-20211010175430975"></p><p><img data-src="http://cdn.sekyoro.top/imgs/094215.png" alt="image-20211010175510860"></p><p><img data-src="http://cdn.sekyoro.top/imgs/094221.png" alt="image-20211010180652754"></p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://cloud.tencent.com/developer/article/1495395">ä¿®æ”¹ Linux é»˜è®¤ Shell ç”¨ chsh -s /bin/zsh å‘½ä»¤ä¸ç”Ÿæ•ˆï¼Œæç¤º chsh: Shell not changed. æ€ä¹ˆåŠï¼Ÿ - äº‘+ç¤¾åŒº - è…¾è®¯äº‘ (tencent.com)</a></p><p><a href="https://www.cnblogs.com/monsterdev/p/11166720.html">Oh-My-Zshçš„é…ç½®ä¸ä½¿ç”¨ - å†è§ç†æƒ³_ - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://jyzhangchn.github.io/oh-my-zsh-diy.html">oh-my-zsh æ’ä»¶ä»‹ç» | Jenniferâ€™s Blog (jyzhangchn.github.io)</a></p><p><a href="https://www.mintimate.cn/2021/02/05/configZsh/">Linux/Macå¦‚ä½•é…ç½®zshå¹¶ä½¿ç”¨Oh-my-zshï¼Ÿè®©ä½ çš„ç»ˆç«¯æ›´åŠ å¥½ç”¨ - Mintimateâ€™s Blog</a></p><p><a href="https://www.cnblogs.com/misfit/p/10694397.html#:~:text=Oh-My-ZshåŠä¸»é¢˜ã€æ’ä»¶å®‰è£…ä¸é…ç½® 1 æ‰“å¼€ç»ˆç«¯ï¼Œç¼–è¾‘&gt;&gt;&gt;&gt;é¦–é€‰é¡¹&gt;&gt;&gt;&gt;å‘½ä»¤ 2,å‹¾é€‰â€œè¿è¡Œè‡ªå®šä¹‰å‘½ä»¤è€Œä¸æ˜¯shellâ€é€‰é¡¹ 3 åœ¨ä¸‹é¢çš„â€œè‡ªå®šä¹‰å‘½ä»¤â€ä¸­å¡«å†™" title="zsh">Oh-My-ZshåŠä¸»é¢˜ã€æ’ä»¶å®‰è£…ä¸é…ç½® - è‡ªå‘½ä¸å‡¡çš„æµ·æµª - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://blog.csdn.net/qq_41550190/article/details/119804102">(15æ¡æ¶ˆæ¯) è§£å†³ï¼š/usr/bin/env: â€˜pythonâ€™: No such file or directory_skrï¼Ÿ-CSDNåšå®¢</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> zsh </tag>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>socketå­¦ä¹ </title>
      <link href="2021/10/03/socket%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/10/03/socket%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="socketå­¦ä¹ "><a href="#socketå­¦ä¹ " class="headerlink" title="socketå­¦ä¹ "></a>socketå­¦ä¹ </h1><p>èµ·å› æ˜¯è€å¸ˆçš„ä½œä¸š</p><span id="more"></span><h2 id="ä»€ä¹ˆæ˜¯-socketï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-socketï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ socketï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ socketï¼Ÿ</h2><p>socket çš„åŸæ„æ˜¯â€œæ’åº§â€ï¼Œåœ¨è®¡ç®—æœºé€šä¿¡é¢†åŸŸï¼Œsocket è¢«ç¿»è¯‘ä¸ºâ€œå¥—æ¥å­—â€ï¼Œå®ƒæ˜¯è®¡ç®—æœºä¹‹é—´è¿›è¡Œé€šä¿¡çš„ä¸€ç§çº¦å®šæˆ–ä¸€ç§æ–¹å¼ã€‚é€šè¿‡ socket è¿™ç§çº¦å®šï¼Œä¸€å°è®¡ç®—æœºå¯ä»¥æ¥æ”¶å…¶ä»–è®¡ç®—æœºçš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥å‘å…¶ä»–è®¡ç®—æœºå‘é€æ•°æ®ã€‚</p><p>socket çš„å…¸å‹åº”ç”¨å°±æ˜¯ Web æœåŠ¡å™¨å’Œæµè§ˆå™¨ï¼šæµè§ˆå™¨è·å–ç”¨æˆ·è¾“å…¥çš„ URLï¼Œå‘æœåŠ¡å™¨å‘èµ·è¯·æ±‚ï¼ŒæœåŠ¡å™¨åˆ†ææ¥æ”¶åˆ°çš„ URLï¼Œå°†å¯¹åº”çš„ç½‘é¡µå†…å®¹è¿”å›ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨å†ç»è¿‡è§£æå’Œæ¸²æŸ“ï¼Œå°±å°†æ–‡å­—ã€å›¾ç‰‡ã€è§†é¢‘ç­‰å…ƒç´ å‘ˆç°ç»™ç”¨æˆ·ã€‚</p><p>å­¦ä¹  socketï¼Œä¹Ÿå°±æ˜¯å­¦ä¹ è®¡ç®—æœºä¹‹é—´å¦‚ä½•é€šä¿¡ï¼Œå¹¶ç¼–å†™å‡ºå®ç”¨çš„ç¨‹åº</p><h2 id="ä¸€ä¸ªå¼€å§‹"><a href="#ä¸€ä¸ªå¼€å§‹" class="headerlink" title="ä¸€ä¸ªå¼€å§‹"></a>ä¸€ä¸ªå¼€å§‹</h2><p>é€šè¿‡ socket() å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªç½‘ç»œè¿æ¥ï¼Œæˆ–è€…è¯´æ‰“å¼€ä¸€ä¸ªç½‘ç»œæ–‡ä»¶ï¼Œsocket() çš„è¿”å›å€¼å°±æ˜¯æ–‡ä»¶æè¿°ç¬¦ã€‚æœ‰äº†æ–‡ä»¶æè¿°ç¬¦ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ™®é€šçš„æ–‡ä»¶æ“ä½œå‡½æ•°æ¥ä¼ è¾“æ•°æ®äº†ï¼Œä¾‹å¦‚ï¼š</p><ul><li>ç”¨ read() è¯»å–ä»è¿œç¨‹è®¡ç®—æœºä¼ æ¥çš„æ•°æ®ï¼›</li><li>ç”¨ write() å‘è¿œç¨‹è®¡ç®—æœºå†™å…¥æ•°æ®ã€‚</li></ul><p>Windows ä¹Ÿæœ‰ç±»ä¼¼â€œæ–‡ä»¶æè¿°ç¬¦â€çš„æ¦‚å¿µï¼Œä½†é€šå¸¸è¢«ç§°ä¸ºâ€œæ–‡ä»¶å¥æŸ„â€ã€‚</p><p>ä¸ UNIX/Linux ä¸åŒçš„æ˜¯ï¼ŒWindows ä¼šåŒºåˆ† socket å’Œæ–‡ä»¶ï¼ŒWindows å°±æŠŠ socket å½“åšä¸€ä¸ªç½‘ç»œè¿æ¥æ¥å¯¹å¾…ï¼Œå› æ­¤éœ€è¦è°ƒç”¨ä¸“é—¨é’ˆå¯¹ socket è€Œè®¾è®¡çš„æ•°æ®ä¼ è¾“å‡½æ•°ï¼Œé’ˆå¯¹æ™®é€šæ–‡ä»¶çš„è¾“å…¥è¾“å‡ºå‡½æ•°å°±æ— æ•ˆäº†ã€‚</p><h3 id="å¥—æ¥å­—"><a href="#å¥—æ¥å­—" class="headerlink" title="å¥—æ¥å­—"></a>å¥—æ¥å­—</h3><h4 id="æµæ ¼å¼å¥—æ¥å­—ï¼ˆSOCK-STREAMï¼‰"><a href="#æµæ ¼å¼å¥—æ¥å­—ï¼ˆSOCK-STREAMï¼‰" class="headerlink" title="æµæ ¼å¼å¥—æ¥å­—ï¼ˆSOCK_STREAMï¼‰"></a>æµæ ¼å¼å¥—æ¥å­—ï¼ˆSOCK_STREAMï¼‰</h4><p>æµæ ¼å¼å¥—æ¥å­—ï¼ˆStream Socketsï¼‰ä¹Ÿå«â€œé¢å‘è¿æ¥çš„å¥—æ¥å­—â€ï¼Œåœ¨ä»£ç ä¸­ä½¿ç”¨ SOCK_STREAM è¡¨ç¤ºã€‚</p><p>SOCK_STREAM æ˜¯ä¸€ç§å¯é çš„ã€åŒå‘çš„é€šä¿¡æ•°æ®æµï¼Œæ•°æ®å¯ä»¥å‡†ç¡®æ— è¯¯åœ°åˆ°è¾¾å¦ä¸€å°è®¡ç®—æœºï¼Œå¦‚æœæŸåæˆ–ä¸¢å¤±ï¼Œå¯ä»¥é‡æ–°å‘é€ã€‚</p><blockquote><p>æµæ ¼å¼å¥—æ¥å­—æœ‰è‡ªå·±çš„çº é”™æœºåˆ¶ï¼Œåœ¨æ­¤æˆ‘ä»¬å°±ä¸è®¨è®ºäº†ã€‚</p></blockquote><p>SOCK_STREAM æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ï¼š</p><ul><li>æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸ä¼šæ¶ˆå¤±ï¼›</li><li>æ•°æ®æ˜¯æŒ‰ç…§é¡ºåºä¼ è¾“çš„ï¼›</li><li>æ•°æ®çš„å‘é€å’Œæ¥æ”¶ä¸æ˜¯åŒæ­¥çš„ï¼ˆæœ‰çš„æ•™ç¨‹ä¹Ÿç§°â€œä¸å­˜åœ¨æ•°æ®è¾¹ç•Œâ€ï¼‰ã€‚</li></ul><p>å¯ä»¥å°† SOCK_STREAM æ¯”å–»æˆä¸€æ¡ä¼ é€å¸¦ï¼Œåªè¦ä¼ é€å¸¦æœ¬èº«æ²¡æœ‰é—®é¢˜ï¼ˆä¸ä¼šæ–­ç½‘ï¼‰ï¼Œå°±èƒ½ä¿è¯æ•°æ®ä¸ä¸¢å¤±ï¼›åŒæ—¶ï¼Œè¾ƒæ™šä¼ é€çš„æ•°æ®ä¸ä¼šå…ˆåˆ°è¾¾ï¼Œè¾ƒæ—©ä¼ é€çš„æ•°æ®ä¸ä¼šæ™šåˆ°è¾¾ï¼Œè¿™å°±ä¿è¯äº†æ•°æ®æ˜¯æŒ‰ç…§é¡ºåºä¼ é€’çš„ã€‚</p><h4 id="æ•°æ®æŠ¥æ ¼å¼å¥—æ¥å­—ï¼ˆSOCK-DGRAMï¼‰"><a href="#æ•°æ®æŠ¥æ ¼å¼å¥—æ¥å­—ï¼ˆSOCK-DGRAMï¼‰" class="headerlink" title="æ•°æ®æŠ¥æ ¼å¼å¥—æ¥å­—ï¼ˆSOCK_DGRAMï¼‰"></a>æ•°æ®æŠ¥æ ¼å¼å¥—æ¥å­—ï¼ˆSOCK_DGRAMï¼‰</h4><p>æ•°æ®æŠ¥æ ¼å¼å¥—æ¥å­—ï¼ˆDatagram Socketsï¼‰ä¹Ÿå«â€œæ— è¿æ¥çš„å¥—æ¥å­—â€ï¼Œåœ¨ä»£ç ä¸­ä½¿ç”¨ SOCK_DGRAM è¡¨ç¤ºã€‚</p><p>è®¡ç®—æœºåªç®¡ä¼ è¾“æ•°æ®ï¼Œä¸ä½œæ•°æ®æ ¡éªŒï¼Œå¦‚æœæ•°æ®åœ¨ä¼ è¾“ä¸­æŸåï¼Œæˆ–è€…æ²¡æœ‰åˆ°è¾¾å¦ä¸€å°è®¡ç®—æœºï¼Œæ˜¯æ²¡æœ‰åŠæ³•è¡¥æ•‘çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®é”™äº†å°±é”™äº†ï¼Œæ— æ³•é‡ä¼ ã€‚</p><p>å› ä¸ºæ•°æ®æŠ¥å¥—æ¥å­—æ‰€åšçš„æ ¡éªŒå·¥ä½œå°‘ï¼Œæ‰€ä»¥åœ¨ä¼ è¾“æ•ˆç‡æ–¹é¢æ¯”æµæ ¼å¼å¥—æ¥å­—è¦é«˜ã€‚</p><p>å¯ä»¥å°† SOCK_DGRAM æ¯”å–»æˆé«˜é€Ÿç§»åŠ¨çš„æ‘©æ‰˜è½¦å¿«é€’ï¼Œå®ƒæœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p><ul><li>å¼ºè°ƒå¿«é€Ÿä¼ è¾“è€Œéä¼ è¾“é¡ºåºï¼›</li><li>ä¼ è¾“çš„æ•°æ®å¯èƒ½ä¸¢å¤±ä¹Ÿå¯èƒ½æŸæ¯ï¼›</li><li>é™åˆ¶æ¯æ¬¡ä¼ è¾“çš„æ•°æ®å¤§å°ï¼›</li><li>æ•°æ®çš„å‘é€å’Œæ¥æ”¶æ˜¯åŒæ­¥çš„ï¼ˆæœ‰çš„æ•™ç¨‹ä¹Ÿç§°â€œå­˜åœ¨æ•°æ®è¾¹ç•Œâ€ï¼‰</li></ul><h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><h2 id="æœåŠ¡ç«¯"><a href="#æœåŠ¡ç«¯" class="headerlink" title="æœåŠ¡ç«¯"></a>æœåŠ¡ç«¯</h2><h3 id="WSAStartup"><a href="#WSAStartup" class="headerlink" title="WSAStartup()"></a>WSAStartup()</h3><p>è°ƒç”¨ WSAStartup() å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼Œä»¥æŒ‡æ˜ WinSock è§„èŒƒçš„ç‰ˆæœ¬ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">WSAStartup</span><span class="params">(WORD wVersionRequested, LPWSADATA lpWSAData)</span></span>;</span><br></pre></td></tr></table></figure><p>wVersionRequested ä¸º WinSock è§„èŒƒçš„ç‰ˆæœ¬å·ï¼Œä½å­—èŠ‚ä¸ºä¸»ç‰ˆæœ¬å·ï¼Œé«˜å­—èŠ‚ä¸ºå‰¯ç‰ˆæœ¬å·ï¼ˆä¿®æ­£ç‰ˆæœ¬å·ï¼‰ï¼›lpWSAData ä¸ºæŒ‡å‘ WSAData ç»“æ„ä½“çš„æŒ‡é’ˆã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065839.png" alt="image-20211003220519393"></p><p>makewordæ˜¯å°†ä¸¤ä¸ªbyteå‹åˆå¹¶æˆä¸€ä¸ªwordå‹ï¼Œä¸€ä¸ªåœ¨é«˜8ä½(b)ï¼Œä¸€ä¸ªåœ¨ä½8ä½(a)</p><p> å¦‚æœæˆåŠŸï¼ŒWSAStartupå‡½æ•°è¿”å›0ã€‚å¦åˆ™ï¼Œè¿”å›ä¸‹é¢åˆ—è¡¨æ˜¾ç¤ºçš„é”™è¯¯ç ä¹‹ä¸€</p><div class="table-container"><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>é”™è¯¯ç </td><td>è§£é‡Š</td></tr><tr><td>WSASYSNOTREADY</td><td>ç½‘ç»œé€šä¿¡ä¸­ä¸‹å±‚çš„ç½‘ç»œå­ç³»ç»Ÿæ²¡å‡†å¤‡å¥½</td></tr><tr><td>WSAVERNOTSUPPORTED</td><td>Socketå®ç°æä¾›ç‰ˆæœ¬å’Œsocketéœ€è¦çš„ç‰ˆæœ¬ä¸ç¬¦</td></tr><tr><td>WSAEINPROGRESS</td><td>ä¸€ä¸ªé˜»å¡çš„Socketæ“ä½œæ­£åœ¨è¿›è¡Œ</td></tr><tr><td>WSAEPROCLIM</td><td>Socketçš„å®ç°è¶…è¿‡Socketæ”¯æŒçš„ä»»åŠ¡æ•°é™åˆ¶</td></tr><tr><td>WSAEFAULT</td><td>lpWSADataå‚æ•°ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æŒ‡é’ˆ</td></tr></tbody></table></div><h3 id="WSADATAä¸SOCKET"><a href="#WSADATAä¸SOCKET" class="headerlink" title="WSADATAä¸SOCKET"></a>WSADATAä¸SOCKET</h3><p>WSAStartup() å‡½æ•°æ‰§è¡ŒæˆåŠŸåï¼Œä¼šå°†ä¸ ws2_32.dll æœ‰å…³çš„ä¿¡æ¯å†™å…¥ WSAData ç»“æ„ä½“å˜é‡</p><p><img data-src="http://cdn.sekyoro.top/imgs/094003.png" alt="image-20211003221025248"></p><p>WinSock ç¼–ç¨‹çš„ç¬¬ä¸€æ­¥å°±æ˜¯åŠ è½½ ws2_32.dllï¼Œç„¶åè°ƒç”¨ WSAStartup() å‡½æ•°è¿›è¡Œåˆå§‹åŒ–ï¼Œå¹¶æŒ‡æ˜è¦ä½¿ç”¨çš„ç‰ˆæœ¬å·ã€‚</p><h3 id="socket"><a href="#socket" class="headerlink" title="socket()"></a>socket()</h3><p>Windows ä¸‹ä½¿ç”¨ socket() å‡½æ•°æ¥åˆ›å»ºå¥—æ¥å­—ï¼ŒåŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">SOCKET <span class="title">socket</span><span class="params">(<span class="keyword">int</span> af, <span class="keyword">int</span> type, <span class="keyword">int</span> protocol)</span></span>;</span><br></pre></td></tr></table></figure><p>af ä¸ºåœ°å€æ—ï¼ˆAddress Familyï¼‰ï¼Œä¹Ÿå°±æ˜¯ IP åœ°å€ç±»å‹ï¼Œå¸¸ç”¨çš„æœ‰ AF_INET å’Œ AF_INET6ã€‚AF æ˜¯â€œAddress Familyâ€çš„ç®€å†™ï¼ŒINETæ˜¯â€œInetnetâ€çš„ç®€å†™ã€‚AF_INET è¡¨ç¤º IPv4 åœ°å€ï¼Œä¾‹å¦‚ 127.0.0.1ï¼›AF_INET6 è¡¨ç¤º IPv6 åœ°å€ï¼Œä¾‹å¦‚ 1030::C9B4:FF12:48AA:1A2Bã€‚</p><p>è®°ä½<code>127.0.0.1</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®ŠIPåœ°å€ï¼Œè¡¨ç¤ºæœ¬æœºåœ°å€</p><p>type ä¸ºæ•°æ®ä¼ è¾“æ–¹å¼ï¼Œå¸¸ç”¨çš„æœ‰ SOCK_STREAM å’Œ SOCK_DGRAM</p><p> protocol è¡¨ç¤ºä¼ è¾“åè®®ï¼Œå¸¸ç”¨çš„æœ‰ IPPROTO_TCP å’Œ IPPTOTO_UDPï¼Œåˆ†åˆ«è¡¨ç¤º TCP ä¼ è¾“åè®®å’Œ UDP ä¼ è¾“åè®®</p><p>Windows ä¸æŠŠå¥—æ¥å­—ä½œä¸ºæ™®é€šæ–‡ä»¶å¯¹å¾…ï¼Œè€Œæ˜¯è¿”å› SOCKET ç±»å‹çš„å¥æŸ„</p><p><img data-src="http://cdn.sekyoro.top/imgs/065840.png" alt="image-20211003222457345"></p><p>å¯ä»¥çœ‹åˆ°,è¿™é‡Œæ˜¯SOCK_STREAMé¢å‘è¿æ¥çš„,è¯´æ˜æ˜¯TCPåè®®</p><h3 id="bind-å‡½æ•°"><a href="#bind-å‡½æ•°" class="headerlink" title="bind() å‡½æ•°"></a>bind() å‡½æ•°</h3><p>bind() å‡½æ•°çš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bind</span><span class="params">(<span class="keyword">int</span> sock, struct sockaddr *addr, <span class="keyword">socklen_t</span> addrlen)</span></span>;  <span class="comment">//Linux</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bind</span><span class="params">(SOCKET sock, <span class="keyword">const</span> struct sockaddr *addr, <span class="keyword">int</span> addrlen)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><p>sock ä¸º socket æ–‡ä»¶æè¿°ç¬¦ï¼Œaddr ä¸º sockaddr ç»“æ„ä½“å˜é‡çš„æŒ‡é’ˆï¼Œaddrlen ä¸º addr å˜é‡çš„å¤§å°ï¼Œå¯ç”± sizeof() è®¡ç®—å¾—å‡º.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065841.png" alt="image-20211003222759995"></p><p>oldSocketæ˜¯åˆšæ‰socket()å‡½æ•°è¿”å›çš„socket</p><p>sockaddr_in ç»“æ„ä½“</p><p>å…ˆçœ‹ä¸€ä¸‹ sockaddr_in ç»“æ„ä½“ï¼Œå®ƒçš„æˆå‘˜å˜é‡å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sockaddr_in</span>&#123;</span>    <span class="keyword">sa_family_t</span>     sin_family;   <span class="comment">//åœ°å€æ—ï¼ˆAddress Familyï¼‰ï¼Œä¹Ÿå°±æ˜¯åœ°å€ç±»å‹    </span></span><br><span class="line">                   <span class="keyword">uint16_t</span>        sin_port;     <span class="comment">//16ä½çš„ç«¯å£å·    </span></span><br><span class="line">                   <span class="class"><span class="keyword">struct</span> <span class="title">in_addr</span>  <span class="title">sin_addr</span>;</span>     <span class="comment">//32ä½IPåœ°å€    </span></span><br><span class="line">                   <span class="keyword">char</span>            sin_zero[<span class="number">8</span>];  <span class="comment">//ä¸ä½¿ç”¨ï¼Œä¸€èˆ¬ç”¨0å¡«å……</span></span><br><span class="line">                  &#125;;</span><br></pre></td></tr></table></figure><p> sin_family å’Œ socket() çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å«ä¹‰ç›¸åŒï¼Œå–å€¼ä¹Ÿè¦ä¿æŒä¸€è‡´</p><p>sin_prot ä¸ºç«¯å£å·ã€‚uint16_t çš„é•¿åº¦ä¸ºä¸¤ä¸ªå­—èŠ‚ï¼Œç†è®ºä¸Šç«¯å£å·çš„å–å€¼èŒƒå›´ä¸º 0~65536ï¼Œä½† 0~1023 çš„ç«¯å£ä¸€èˆ¬ç”±ç³»ç»Ÿåˆ†é…ç»™ç‰¹å®šçš„æœåŠ¡ç¨‹åºï¼Œä¾‹å¦‚ Web æœåŠ¡çš„ç«¯å£å·ä¸º 80ï¼ŒFTP æœåŠ¡çš„ç«¯å£å·ä¸º 21ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç¨‹åºè¦å°½é‡åœ¨ 1024~65536 ä¹‹é—´åˆ†é…ç«¯å£å·ã€‚</p><p>ç«¯å£å·éœ€è¦ç”¨ htons() å‡½æ•°è½¬æ¢</p><p>sin_addr æ˜¯ struct in_addr ç»“æ„ä½“ç±»å‹çš„å˜é‡</p><p>sin_zero[8] æ˜¯å¤šä½™çš„8ä¸ªå­—èŠ‚ï¼Œæ²¡æœ‰ç”¨ï¼Œä¸€èˆ¬ä½¿ç”¨ memset() å‡½æ•°å¡«å……ä¸º 0</p><h4 id="in-addr-ç»“æ„ä½“"><a href="#in-addr-ç»“æ„ä½“" class="headerlink" title="in_addr ç»“æ„ä½“"></a>in_addr ç»“æ„ä½“</h4><p>sockaddr_in çš„ç¬¬3ä¸ªæˆå‘˜æ˜¯ in_addr ç±»å‹çš„ç»“æ„ä½“ï¼Œè¯¥ç»“æ„ä½“åªåŒ…å«ä¸€ä¸ªæˆå‘˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">in_addr</span>&#123;</span>    <span class="keyword">in_addr_t</span>  s_addr;  <span class="comment">//32ä½çš„IPåœ°å€&#125;;</span></span><br></pre></td></tr></table></figure><p>in_addr_t åœ¨å¤´æ–‡ä»¶ <netinet/in.h> ä¸­å®šä¹‰ï¼Œç­‰ä»·äº unsigned longï¼Œé•¿åº¦ä¸º4ä¸ªå­—èŠ‚ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œs_addr æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè€ŒIPåœ°å€æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥éœ€è¦ inet_addr() å‡½æ•°è¿›è¡Œè½¬æ¢ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> ip = inet_addr(<span class="string">&quot;127.0.0.1&quot;</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%ld\n&quot;</span>, ip);</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065843.png" alt="image-20211003223419184"></p><p>è®¾ç½®sockaddr_in  æ³¨æ„,åˆå°†å…¶å¼ºåˆ¶è½¬æ¢ä¸ºäº†ä¸€ä¸ªé€šç”¨çš„socket_addr</p><p><img data-src="http://cdn.sekyoro.top/imgs/065845.png" alt="image-20211003224306508"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065846.png" alt="image-20211003224327739"></p><p>sockaddr å’Œ sockaddr_in çš„é•¿åº¦ç›¸åŒï¼Œéƒ½æ˜¯16å­—èŠ‚ï¼Œåªæ˜¯å°†IPåœ°å€å’Œç«¯å£å·åˆå¹¶åˆ°ä¸€èµ·ï¼Œç”¨ä¸€ä¸ªæˆå‘˜ sa_data è¡¨ç¤ºã€‚è¦æƒ³ç»™ sa_data èµ‹å€¼ï¼Œå¿…é¡»åŒæ—¶æŒ‡æ˜IPåœ°å€å’Œç«¯å£å·ï¼Œä¾‹å¦‚â€127.0.0.1:80â€œï¼Œé—æ†¾çš„æ˜¯ï¼Œæ²¡æœ‰ç›¸å…³å‡½æ•°å°†è¿™ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆéœ€è¦çš„å½¢å¼ï¼Œä¹Ÿå°±å¾ˆéš¾ç»™ sockaddr ç±»å‹çš„å˜é‡èµ‹å€¼ï¼Œæ‰€ä»¥ä½¿ç”¨ sockaddr_in æ¥ä»£æ›¿ã€‚è¿™ä¸¤ä¸ªç»“æ„ä½“çš„é•¿åº¦ç›¸åŒï¼Œå¼ºåˆ¶è½¬æ¢ç±»å‹æ—¶ä¸ä¼šä¸¢å¤±å­—èŠ‚ï¼Œä¹Ÿæ²¡æœ‰å¤šä½™çš„å­—èŠ‚ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065847.png" alt="image-20211004102955888"></p><p><strong>htons</strong>çš„åŠŸèƒ½ï¼šå°†ä¸€ä¸ªæ— ç¬¦å·çŸ­æ•´å‹çš„ä¸»æœºæ•°å€¼è½¬æ¢ä¸ºç½‘ç»œ <a href="http://baike.baidu.com/view/567601.htm">å­—èŠ‚é¡ºåº</a>ï¼Œå³å¤§å°¾é¡ºåº(big-endian)</p><p>å‚æ•°u_short hostshortï¼š16ä½ <a href="http://baike.baidu.com/view/6052699.htm">æ— ç¬¦å·æ•´æ•°</a></p><p>è¿”å›å€¼ï¼šTCP/IPç½‘ç»œ <a href="http://baike.baidu.com/view/567601.htm">å­—èŠ‚é¡ºåº</a>.</p><p>The Windows <strong>Sockets</strong> <strong>inet</strong>_<strong>addr</strong> function converts a string containing an (Ipv4) Internet Protocol dotted address into a proper address for the IN_ADDR structure. </p><p>sockaddr æ˜¯ä¸€ç§é€šç”¨çš„ç»“æ„ä½“ï¼Œå¯ä»¥ç”¨æ¥ä¿å­˜å¤šç§ç±»å‹çš„IPåœ°å€å’Œç«¯å£å·ï¼Œè€Œ sockaddr_in æ˜¯ä¸“é—¨ç”¨æ¥ä¿å­˜ IPv4 åœ°å€çš„ç»“æ„ä½“</p><p>ä½¿ç”¨ bind() ç»‘å®šå¥—æ¥å­—åï¼Œè¿˜éœ€è¦ä½¿ç”¨ listen() å‡½æ•°è®©å¥—æ¥å­—è¿›å…¥è¢«åŠ¨ç›‘å¬çŠ¶æ€ï¼Œå†è°ƒç”¨ accept() å‡½æ•°ï¼Œå°±å¯ä»¥éšæ—¶å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚äº†ã€‚</p><h3 id="listen-å‡½æ•°"><a href="#listen-å‡½æ•°" class="headerlink" title="listen() å‡½æ•°"></a>listen() å‡½æ•°</h3><p>é€šè¿‡ listen() å‡½æ•°å¯ä»¥è®©å¥—æ¥å­—è¿›å…¥è¢«åŠ¨ç›‘å¬çŠ¶æ€ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">listen</span><span class="params">(<span class="keyword">int</span> sock, <span class="keyword">int</span> backlog)</span></span>;  <span class="comment">//Linux</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">listen</span><span class="params">(SOCKET sock, <span class="keyword">int</span> backlog)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><p>sock ä¸ºéœ€è¦è¿›å…¥ç›‘å¬çŠ¶æ€çš„å¥—æ¥å­—ï¼Œbacklog ä¸ºè¯·æ±‚é˜Ÿåˆ—çš„æœ€å¤§é•¿åº¦ã€‚</p><p>æ‰€è°“è¢«åŠ¨ç›‘å¬ï¼Œæ˜¯æŒ‡å½“æ²¡æœ‰å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¥—æ¥å­—å¤„äºâ€œç¡çœ â€çŠ¶æ€ï¼Œåªæœ‰å½“æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¥—æ¥å­—æ‰ä¼šè¢«â€œå”¤é†’â€æ¥å“åº”è¯·æ±‚ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065850.png" alt="image-20211003224816157"></p><h4 id="è¯·æ±‚é˜Ÿåˆ—"><a href="#è¯·æ±‚é˜Ÿåˆ—" class="headerlink" title="è¯·æ±‚é˜Ÿåˆ—"></a>è¯·æ±‚é˜Ÿåˆ—</h4><p>å½“å¥—æ¥å­—æ­£åœ¨å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚æ—¶ï¼Œå¦‚æœæœ‰æ–°çš„è¯·æ±‚è¿›æ¥ï¼Œå¥—æ¥å­—æ˜¯æ²¡æ³•å¤„ç†çš„ï¼Œåªèƒ½æŠŠå®ƒæ”¾è¿›ç¼“å†²åŒºï¼Œå¾…å½“å‰è¯·æ±‚å¤„ç†å®Œæ¯•åï¼Œå†ä»ç¼“å†²åŒºä¸­è¯»å–å‡ºæ¥å¤„ç†ã€‚å¦‚æœä¸æ–­æœ‰æ–°çš„è¯·æ±‚è¿›æ¥ï¼Œå®ƒä»¬å°±æŒ‰ç…§å…ˆåé¡ºåºåœ¨ç¼“å†²åŒºä¸­æ’é˜Ÿï¼Œç›´åˆ°ç¼“å†²åŒºæ»¡ã€‚è¿™ä¸ªç¼“å†²åŒºï¼Œå°±ç§°ä¸ºè¯·æ±‚é˜Ÿåˆ—ï¼ˆRequest Queueï¼‰ã€‚</p><p>ç¼“å†²åŒºçš„é•¿åº¦ï¼ˆèƒ½å­˜æ”¾å¤šå°‘ä¸ªå®¢æˆ·ç«¯è¯·æ±‚ï¼‰å¯ä»¥é€šè¿‡ listen() å‡½æ•°çš„ backlog å‚æ•°æŒ‡å®šï¼Œä½†ç©¶ç«Ÿä¸ºå¤šå°‘å¹¶æ²¡æœ‰ä»€ä¹ˆæ ‡å‡†ï¼Œå¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚æ¥å®šï¼Œå¹¶å‘é‡å°çš„è¯å¯ä»¥æ˜¯10æˆ–è€…20ã€‚</p><p>å¦‚æœå°† backlog çš„å€¼è®¾ç½®ä¸º SOMAXCONNï¼Œå°±ç”±ç³»ç»Ÿæ¥å†³å®šè¯·æ±‚é˜Ÿåˆ—é•¿åº¦ï¼Œè¿™ä¸ªå€¼ä¸€èˆ¬æ¯”è¾ƒå¤§ï¼Œå¯èƒ½æ˜¯å‡ ç™¾ï¼Œæˆ–è€…æ›´å¤šã€‚</p><h3 id="accept-å‡½æ•°"><a href="#accept-å‡½æ•°" class="headerlink" title="accept() å‡½æ•°"></a>accept() å‡½æ•°</h3><p>å½“å¥—æ¥å­—å¤„äºç›‘å¬çŠ¶æ€æ—¶ï¼Œå¯ä»¥é€šè¿‡ accept() å‡½æ•°æ¥æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ã€‚å®ƒçš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">accept</span><span class="params">(<span class="keyword">int</span> sock, struct sockaddr *addr, <span class="keyword">socklen_t</span> *addrlen)</span></span>;  <span class="comment">//Linux</span></span><br><span class="line"><span class="function">SOCKET <span class="title">accept</span><span class="params">(SOCKET sock, struct sockaddr *addr, <span class="keyword">int</span> *addrlen)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><p>å®ƒçš„å‚æ•°ä¸ listen() å’Œ connect() æ˜¯ç›¸åŒçš„ï¼šsock ä¸ºæœåŠ¡å™¨ç«¯å¥—æ¥å­—ï¼Œaddr ä¸º sockaddr_in ç»“æ„ä½“å˜é‡ï¼Œaddrlen ä¸ºå‚æ•° addr çš„é•¿åº¦ï¼Œå¯ç”± sizeof() æ±‚å¾—ã€‚</p><p>accept() è¿”å›ä¸€ä¸ªæ–°çš„å¥—æ¥å­—æ¥å’Œå®¢æˆ·ç«¯é€šä¿¡ï¼Œaddr ä¿å­˜äº†å®¢æˆ·ç«¯çš„IPåœ°å€å’Œç«¯å£å·ï¼Œè€Œ sock æ˜¯æœåŠ¡å™¨ç«¯çš„å¥—æ¥å­—ï¼Œå¤§å®¶æ³¨æ„åŒºåˆ†ã€‚åé¢å’Œå®¢æˆ·ç«¯é€šä¿¡æ—¶ï¼Œè¦ä½¿ç”¨è¿™ä¸ªæ–°ç”Ÿæˆçš„å¥—æ¥å­—ï¼Œè€Œä¸æ˜¯åŸæ¥æœåŠ¡å™¨ç«¯çš„å¥—æ¥å­—ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065851.png" alt="image-20211003225553648"></p><p>accept() è¿”å›ä¸€ä¸ªæ–°çš„å¥—æ¥å­—æ¥å’Œå®¢æˆ·ç«¯é€šä¿¡ï¼Œaddr ä¿å­˜äº†å®¢æˆ·ç«¯çš„IPåœ°å€å’Œç«¯å£å·ï¼Œè€Œ oldSocket æ˜¯æœåŠ¡å™¨ç«¯çš„å¥—æ¥å­—ï¼Œ</p><p>æ³¨æ„åŒºåˆ†ã€‚åé¢å’Œå®¢æˆ·ç«¯é€šä¿¡æ—¶ï¼Œè¦ä½¿ç”¨è¿™ä¸ªæ–°ç”Ÿæˆçš„å¥—æ¥å­—ï¼Œè€Œä¸æ˜¯åŸæ¥æœåŠ¡å™¨ç«¯çš„å¥—æ¥å­—ã€‚</p><p>listen() åªæ˜¯è®©å¥—æ¥å­—è¿›å…¥ç›‘å¬çŠ¶æ€ï¼Œå¹¶æ²¡æœ‰çœŸæ­£æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œlisten() åé¢çš„ä»£ç ä¼šç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ° accept()ã€‚accept() ä¼šé˜»å¡ç¨‹åºæ‰§è¡Œï¼ˆåé¢ä»£ç ä¸èƒ½è¢«æ‰§è¡Œï¼‰ï¼Œç›´åˆ°æœ‰æ–°çš„è¯·æ±‚åˆ°æ¥</p><h3 id="Windowsä¸‹æ•°æ®çš„æ¥æ”¶å’Œå‘é€"><a href="#Windowsä¸‹æ•°æ®çš„æ¥æ”¶å’Œå‘é€" class="headerlink" title="Windowsä¸‹æ•°æ®çš„æ¥æ”¶å’Œå‘é€"></a>Windowsä¸‹æ•°æ®çš„æ¥æ”¶å’Œå‘é€</h3><p>è¦åœ¨ä¸€ä¸ªå¾ªç¯ä¸­ç›‘å¬äº‹ä»¶</p><p><img data-src="http://cdn.sekyoro.top/imgs/065853.png" alt="image-20211003230747958"></p><p>Windows åŒºåˆ†æ™®é€šæ–‡ä»¶å’Œå¥—æ¥å­—ï¼Œå¹¶å®šä¹‰äº†ä¸“é—¨çš„æ¥æ”¶å’Œå‘é€çš„å‡½æ•°ã€‚</p><p>ä»æœåŠ¡å™¨ç«¯å‘é€æ•°æ®ä½¿ç”¨ send() å‡½æ•°ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">send</span><span class="params">(SOCKET sock, <span class="keyword">const</span> <span class="keyword">char</span> *buf, <span class="keyword">int</span> len, <span class="keyword">int</span> flags)</span></span>;</span><br></pre></td></tr></table></figure><p>sock ä¸ºè¦å‘é€æ•°æ®çš„å¥—æ¥å­—ï¼Œbuf ä¸ºè¦å‘é€çš„æ•°æ®çš„ç¼“å†²åŒºåœ°å€ï¼Œlen ä¸ºè¦å‘é€çš„æ•°æ®çš„å­—èŠ‚æ•°ï¼Œflags ä¸ºå‘é€æ•°æ®æ—¶çš„é€‰é¡¹ã€‚</p><p>è¿”å›å€¼å’Œå‰ä¸‰ä¸ªå‚æ•°ä¸å†èµ˜è¿°ï¼Œæœ€åçš„ flags å‚æ•°ä¸€èˆ¬è®¾ç½®ä¸º 0 æˆ– NULLã€‚</p><p>åœ¨å®¢æˆ·ç«¯æ¥æ”¶æ•°æ®ä½¿ç”¨ recv() å‡½æ•°ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recv</span><span class="params">(SOCKET sock, <span class="keyword">char</span> *buf, <span class="keyword">int</span> len, <span class="keyword">int</span> flags)</span></span>;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯ä¸‹çº¿ï¼Œè¿”å›0,é‡Šæ”¾å®¢æˆ·ç«¯socket</p><p>æ‰§è¡Œå¤±è´¥ï¼Œè¿”å›<code>SOCKET_ERROR</code></p><p><img data-src="http://cdn.sekyoro.top/imgs/065855.png" alt="image-20211003230553718"></p><p>è¿™é‡Œè®¾ç½®äº†å®¢æˆ·ç«¯è¾“å…¥quitå³é€€å‡ºå¾ªç¯</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">closesocket</span>(newSocket);</span><br><span class="line"><span class="built_in">closesocket</span>(oldSocket);</span><br><span class="line"><span class="built_in">WSACleanup</span>();</span><br></pre></td></tr></table></figure><p>å…³é—­ä¸¤ä¸ªå¥æŸ„</p><p>ç»ˆæ­¢Winsock 2 DLL (Ws2_32.dll) çš„ä½¿ç”¨.</p><h2 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h2><p>socket() å‡½æ•°ç”¨æ¥åˆ›å»ºå¥—æ¥å­—ï¼Œç¡®å®šå¥—æ¥å­—çš„å„ç§å±æ€§ï¼Œç„¶åæœåŠ¡å™¨ç«¯è¦ç”¨ bind() å‡½æ•°å°†å¥—æ¥å­—ä¸ç‰¹å®šçš„IPåœ°å€å’Œç«¯å£ç»‘å®šèµ·æ¥ï¼Œåªæœ‰è¿™æ ·ï¼Œæµç»è¯¥IPåœ°å€å’Œç«¯å£çš„æ•°æ®æ‰èƒ½äº¤ç»™å¥—æ¥å­—å¤„ç†ï¼›è€Œå®¢æˆ·ç«¯è¦ç”¨ connect() å‡½æ•°å»ºç«‹è¿æ¥ã€‚</p><h3 id="connect-å‡½æ•°"><a href="#connect-å‡½æ•°" class="headerlink" title="connect() å‡½æ•°"></a>connect() å‡½æ•°</h3><p>connect() å‡½æ•°ç”¨æ¥å»ºç«‹è¿æ¥ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> sock, struct sockaddr *serv_addr, <span class="keyword">socklen_t</span> addrlen)</span></span>;  <span class="comment">//Linux</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">connect</span><span class="params">(SOCKET sock, <span class="keyword">const</span> struct sockaddr *serv_addr, <span class="keyword">int</span> addrlen)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><p>å‚æ•°ç±»å‹ä¸ä¸Šè¿°ç›¸åŒ</p><p><img data-src="http://cdn.sekyoro.top/imgs/065856.png" alt="image-20211003231620650"></p><p>ä¹‹å‰åŒç†ä¹Ÿè¦ç”¨WSAStartupå…ˆåˆå§‹åŒ–,ç„¶åä½¿ç”¨sock()å»ºç«‹å®¢æˆ·ç«¯å¥—æ¥å­—</p><p><img data-src="http://cdn.sekyoro.top/imgs/094004.png" alt="image-20211003232120611"></p><p>æ³¨æ„,å®¢æˆ·ç«¯çš„ä»£ç åªåˆ›å»ºäº†å®¢æˆ·ç«¯çš„å¥—æ¥å­—ä¸”ä¸æœåŠ¡ç«¯è¿æ¥</p><p>ç„¶åå‘é€æ¶ˆæ¯</p><h3 id="send"><a href="#send" class="headerlink" title="send()"></a>send()</h3><p><img data-src="http://cdn.sekyoro.top/imgs/065858.png" alt="image-20211004100255294"></p><p>ä»å®¢æˆ·ç«¯å‘é€æ•°æ®ä½¿ç”¨ send() å‡½æ•°ï¼Œå®ƒçš„åŸå‹ä¸ºï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">send</span><span class="params">(SOCKET sock, <span class="keyword">const</span> <span class="keyword">char</span> *buf, <span class="keyword">int</span> len, <span class="keyword">int</span> flags)</span></span>;</span><br></pre></td></tr></table></figure><p>sock ä¸ºè¦å‘é€æ•°æ®çš„å¥—æ¥å­—ï¼Œbuf ä¸ºè¦å‘é€çš„æ•°æ®çš„ç¼“å†²åŒºåœ°å€ï¼Œlen ä¸ºè¦å‘é€çš„æ•°æ®çš„å­—èŠ‚æ•°ï¼Œflags ä¸ºå‘é€æ•°æ®æ—¶çš„é€‰é¡¹ã€‚</p><h2 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h2><p>TCP æ˜¯é¢å‘è¿æ¥çš„ä¼ è¾“åè®®ï¼Œå»ºç«‹è¿æ¥æ—¶è¦ç»è¿‡ä¸‰æ¬¡æ¡æ‰‹ï¼Œæ–­å¼€è¿æ¥æ—¶è¦ç»è¿‡å››æ¬¡æ¡æ‰‹ï¼Œä¸­é—´ä¼ è¾“æ•°æ®æ—¶ä¹Ÿè¦å›å¤ACKåŒ…ç¡®è®¤ï¼Œå¤šç§æœºåˆ¶ä¿è¯äº†æ•°æ®èƒ½å¤Ÿæ­£ç¡®åˆ°è¾¾ï¼Œä¸ä¼šä¸¢å¤±æˆ–å‡ºé”™ã€‚</p><p>UDP æ˜¯éè¿æ¥çš„ä¼ è¾“åè®®ï¼Œæ²¡æœ‰å»ºç«‹è¿æ¥å’Œæ–­å¼€è¿æ¥çš„è¿‡ç¨‹ï¼Œå®ƒåªæ˜¯ç®€å•åœ°æŠŠæ•°æ®ä¸¢åˆ°ç½‘ç»œä¸­ï¼Œä¹Ÿä¸éœ€è¦ACKåŒ…ç¡®è®¤ã€‚</p><h3 id="UDPä¸­çš„æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯æ²¡æœ‰è¿æ¥"><a href="#UDPä¸­çš„æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯æ²¡æœ‰è¿æ¥" class="headerlink" title="UDPä¸­çš„æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯æ²¡æœ‰è¿æ¥"></a>UDPä¸­çš„æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯æ²¡æœ‰è¿æ¥</h3><p>UDPä¸åƒTCPï¼Œæ— éœ€åœ¨è¿æ¥çŠ¶æ€ä¸‹äº¤æ¢æ•°æ®ï¼Œå› æ­¤åŸºäºUDPçš„æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä¹Ÿæ— éœ€ç»è¿‡è¿æ¥è¿‡ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¿…è°ƒç”¨ listen() å’Œ accept() å‡½æ•°ã€‚UDPä¸­åªæœ‰åˆ›å»ºå¥—æ¥å­—çš„è¿‡ç¨‹å’Œæ•°æ®äº¤æ¢çš„è¿‡ç¨‹ã€‚</p><h3 id="UDPæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯å‡åªéœ€1ä¸ªå¥—æ¥å­—"><a href="#UDPæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯å‡åªéœ€1ä¸ªå¥—æ¥å­—" class="headerlink" title="UDPæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯å‡åªéœ€1ä¸ªå¥—æ¥å­—"></a>UDPæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯å‡åªéœ€1ä¸ªå¥—æ¥å­—</h3><p>TCPä¸­ï¼Œå¥—æ¥å­—æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚å¦‚è¦å‘10ä¸ªå®¢æˆ·ç«¯æä¾›æœåŠ¡ï¼Œé‚£ä¹ˆé™¤äº†è´Ÿè´£ç›‘å¬çš„å¥—æ¥å­—å¤–ï¼Œè¿˜éœ€è¦åˆ›å»º10å¥—æ¥å­—ã€‚ä½†åœ¨UDPä¸­ï¼Œä¸ç®¡æ˜¯æœåŠ¡å™¨ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯éƒ½åªéœ€è¦1ä¸ªå¥—æ¥å­—ã€‚ä¹‹å‰è§£é‡ŠUDPåŸç†çš„æ—¶å€™ä¸¾äº†é‚®å¯„åŒ…è£¹çš„ä¾‹å­ï¼Œè´Ÿè´£é‚®å¯„åŒ…è£¹çš„å¿«é€’å…¬å¸å¯ä»¥æ¯”å–»ä¸ºUDPå¥—æ¥å­—ï¼Œåªè¦æœ‰1ä¸ªå¿«é€’å…¬å¸ï¼Œå°±å¯ä»¥é€šè¿‡å®ƒå‘ä»»æ„åœ°å€é‚®å¯„åŒ…è£¹ã€‚åŒæ ·ï¼Œåªéœ€1ä¸ªUDPå¥—æ¥å­—å°±å¯ä»¥å‘ä»»æ„ä¸»æœºä¼ é€æ•°æ®ã€‚</p><h2 id="åŸºäºUDPçš„æ¥æ”¶å’Œå‘é€å‡½æ•°"><a href="#åŸºäºUDPçš„æ¥æ”¶å’Œå‘é€å‡½æ•°" class="headerlink" title="åŸºäºUDPçš„æ¥æ”¶å’Œå‘é€å‡½æ•°"></a>åŸºäºUDPçš„æ¥æ”¶å’Œå‘é€å‡½æ•°</h2><p>åˆ›å»ºå¥½TCPå¥—æ¥å­—åï¼Œä¼ è¾“æ•°æ®æ—¶æ— éœ€å†æ·»åŠ åœ°å€ä¿¡æ¯ï¼Œå› ä¸ºTCPå¥—æ¥å­—å°†ä¿æŒä¸å¯¹æ–¹å¥—æ¥å­—çš„è¿æ¥ã€‚æ¢è¨€ä¹‹ï¼ŒTCPå¥—æ¥å­—çŸ¥é“ç›®æ ‡åœ°å€ä¿¡æ¯ã€‚ä½†UDPå¥—æ¥å­—ä¸ä¼šä¿æŒè¿æ¥çŠ¶æ€ï¼Œæ¯æ¬¡ä¼ è¾“æ•°æ®éƒ½è¦æ·»åŠ ç›®æ ‡åœ°å€ä¿¡æ¯ï¼Œè¿™ç›¸å½“äºåœ¨é‚®å¯„åŒ…è£¹å‰å¡«å†™æ”¶ä»¶äººåœ°å€ã€‚</p><p>udpä¸tcpåè®®ä¸åŒ,ä½†åˆ›å»ºå¥—æ¥å­—ä¸ç»‘å®šè¿æ¥ipæµç¨‹ç±»ä¼¼.</p><p>å…ˆåˆå§‹åŒ–WSAStartup()</p><p><img data-src="http://cdn.sekyoro.top/imgs/065901.png" alt="image-20211004094535914"></p><p>å†åˆ›å»ºå¥—æ¥å­—,ä¸è¿‡è¿™é‡Œé¢å‘çš„æ˜¯æ•°æ®æŠ¥è¿æ¥</p><p><img data-src="http://cdn.sekyoro.top/imgs/065903.png" alt="image-20211004094604239"></p><p>å†åˆå§‹åŒ–sockadd_in,å¡«å…¥ipv4åœ°å€ä¸ç«¯å£,è¿›è¡Œç»‘å®š</p><p><img data-src="http://cdn.sekyoro.top/imgs/094006.png" alt="image-20211004094721033"></p><p>ç»‘å®šä¹‹åè¿›è¡Œæ¥æ”¶æ•°æ®å³å¯.</p><p><img data-src="http://cdn.sekyoro.top/imgs/065905.png" alt="image-20211004100014595"></p><p>æ¥æ”¶æ•°æ®ä½¿ç”¨ recvfrom() å‡½æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">recvfrom</span><span class="params">(SOCKET sock, <span class="keyword">char</span> *buf, <span class="keyword">int</span> nbytes, <span class="keyword">int</span> flags, <span class="keyword">const</span> struct sockaddr *from, <span class="keyword">int</span> *addrlen)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><h3 id="recvfrom"><a href="#recvfrom" class="headerlink" title="recvfrom()"></a>recvfrom()</h3><p>ç”±äºUDPæ•°æ®çš„å‘é€ç«¯ä¸ä¸å®šï¼Œæ‰€ä»¥ recvfrom() å‡½æ•°å®šä¹‰ä¸ºå¯æ¥æ”¶å‘é€ç«¯ä¿¡æ¯çš„å½¢å¼ï¼Œå…·ä½“å‚æ•°å¦‚ä¸‹ï¼š</p><ul><li>sockï¼šç”¨äºæ¥æ”¶UDPæ•°æ®çš„å¥—æ¥å­—ï¼›</li><li>bufï¼šä¿å­˜æ¥æ”¶æ•°æ®çš„ç¼“å†²åŒºåœ°å€ï¼›</li><li>nbytesï¼šå¯æ¥æ”¶çš„æœ€å¤§å­—èŠ‚æ•°ï¼ˆä¸èƒ½è¶…è¿‡bufç¼“å†²åŒºçš„å¤§å°ï¼‰ï¼›</li><li>flagsï¼šå¯é€‰é¡¹å‚æ•°ï¼Œè‹¥æ²¡æœ‰å¯ä¼ é€’0ï¼›</li><li>fromï¼šå­˜æœ‰å‘é€ç«¯åœ°å€ä¿¡æ¯çš„sockaddrç»“æ„ä½“å˜é‡çš„åœ°å€ï¼›</li><li>addrlenï¼šä¿å­˜å‚æ•° from çš„ç»“æ„ä½“å˜é‡é•¿åº¦çš„å˜é‡åœ°å€å€¼ã€‚</li></ul><h3 id="sendto"><a href="#sendto" class="headerlink" title="sendto()"></a>sendto()</h3><p>å‘é€æ•°æ®ä½¿ç”¨ sendto() å‡½æ•°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">sendto</span><span class="params">(SOCKET sock, <span class="keyword">const</span> <span class="keyword">char</span> *buf, <span class="keyword">int</span> nbytes, <span class="keyword">int</span> flags, <span class="keyword">const</span> struct sockadr *to, <span class="keyword">int</span> addrlen)</span></span>;  <span class="comment">//Windows</span></span><br></pre></td></tr></table></figure><p>Linuxå’ŒWindowsä¸‹çš„ sendto() å‡½æ•°ç±»ä¼¼ï¼Œä¸‹é¢æ˜¯è¯¦ç»†å‚æ•°è¯´æ˜ï¼š</p><ul><li>sockï¼šç”¨äºä¼ è¾“UDPæ•°æ®çš„å¥—æ¥å­—ï¼›</li><li>bufï¼šä¿å­˜å¾…ä¼ è¾“æ•°æ®çš„ç¼“å†²åŒºåœ°å€ï¼›</li><li>nbytesï¼šå¸¦ä¼ è¾“æ•°æ®çš„é•¿åº¦ï¼ˆä»¥å­—èŠ‚è®¡ï¼‰ï¼›</li><li>flagsï¼šå¯é€‰é¡¹å‚æ•°ï¼Œè‹¥æ²¡æœ‰å¯ä¼ é€’0ï¼›</li><li>toï¼šå­˜æœ‰ç›®æ ‡åœ°å€ä¿¡æ¯çš„ sockaddr ç»“æ„ä½“å˜é‡çš„åœ°å€ï¼›</li><li>addrlenï¼šä¼ é€’ç»™å‚æ•° to çš„åœ°å€å€¼ç»“æ„ä½“å˜é‡çš„é•¿åº¦ã€‚</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/065905.png" alt="image-20211004100619357"></p><p>ä½¿ç”¨inet_ntoaä¸ntohså¯ä»¥å°†æ•°æ®è½¬ä¸ºå­—ç¬¦ä¸²,æ•´æ•°</p><p><img data-src="http://cdn.sekyoro.top/imgs/065908.png" alt="image-20211004102623675"></p><h2 id="å®éªŒç»“æœ"><a href="#å®éªŒç»“æœ" class="headerlink" title="å®éªŒç»“æœ"></a>å®éªŒç»“æœ</h2><h4 id="tcpé€šä¿¡"><a href="#tcpé€šä¿¡" class="headerlink" title="tcpé€šä¿¡"></a>tcpé€šä¿¡</h4><p><img data-src="http://cdn.sekyoro.top/imgs/065910.png" alt="image-20211004100907639"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065912.png" alt="image-20211004100913307"></p><h4 id="udpé€šä¿¡"><a href="#udpé€šä¿¡" class="headerlink" title="udpé€šä¿¡"></a>udpé€šä¿¡</h4><p><img data-src="http://cdn.sekyoro.top/imgs/065913.png" alt="image-20211004101456204"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065914.png" alt="image-20211004101508985"></p><p>ä¸‹é¢æ˜¯æˆ‘è·Ÿå…¶ä»–ipåœ°å€äº¤äº’çš„</p><p>å®¢æˆ·ç«¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/065917.png" alt="img"></p><p>æœåŠ¡ç«¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/094009.png" alt="image-20211004102014108"></p><p>å¯ä»¥çœ‹åˆ°å®¢æˆ·ç«¯çš„ipä¸ç«¯å£</p>]]></content>
      
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> socket </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxè¿›ç¨‹ä¸ç£ç›˜ç®¡ç†</title>
      <link href="2021/09/21/%E5%91%BD%E4%BB%A4%E9%9B%86-4/"/>
      <url>2021/09/21/%E5%91%BD%E4%BB%A4%E9%9B%86-4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Linuxè¿›ç¨‹ä¸ç£ç›˜ç®¡ç†"><a href="#Linuxè¿›ç¨‹ä¸ç£ç›˜ç®¡ç†" class="headerlink" title="Linuxè¿›ç¨‹ä¸ç£ç›˜ç®¡ç†"></a>Linuxè¿›ç¨‹ä¸ç£ç›˜ç®¡ç†</h2><p><strong>è¿›ç¨‹</strong>ï¼ˆprocessï¼‰ï¼šè¿›ç¨‹æ˜¯ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œåœ¨æ—©æœŸçš„ UNIXã€Linux 2.4 åŠæ›´æ—©çš„ç‰ˆæœ¬ä¸­ï¼Œå®ƒæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„ç‹¬ç«‹åŸºæœ¬å•ä½ã€‚</p><span id="more"></span><ul><li>åŠ¨æ€æ€§ï¼šè¿›ç¨‹çš„å®è´¨æ˜¯ä¸€æ¬¡ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ï¼Œæœ‰åˆ›å»ºã€æ’¤é”€ç­‰çŠ¶æ€çš„å˜åŒ–ã€‚è€Œç¨‹åºæ˜¯ä¸€ä¸ªé™æ€çš„å®ä½“ã€‚</li><li>å¹¶å‘æ€§ï¼šè¿›ç¨‹å¯ä»¥åšåˆ°åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œæœ‰å¤šä¸ªç¨‹åºåœ¨è¿è¡Œä¸­ã€‚ç¨‹åºåªæ˜¯é™æ€çš„å®ä½“ï¼Œæ‰€ä»¥ä¸å­˜åœ¨å¹¶å‘æ€§ã€‚</li><li>ç‹¬ç«‹æ€§ï¼šè¿›ç¨‹å¯ä»¥ç‹¬ç«‹åˆ†é…èµ„æºï¼Œç‹¬ç«‹æ¥å—è°ƒåº¦ï¼Œç‹¬ç«‹åœ°è¿è¡Œã€‚</li><li>å¼‚æ­¥æ€§ï¼šè¿›ç¨‹ä»¥ä¸å¯é¢„çŸ¥çš„é€Ÿåº¦å‘å‰æ¨è¿›ã€‚</li><li>ç»“æ„æ€§ï¼šè¿›ç¨‹æ‹¥æœ‰ä»£ç æ®µã€æ•°æ®æ®µã€PCBï¼ˆè¿›ç¨‹æ§åˆ¶å—ï¼Œè¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼‰ã€‚ä¹Ÿæ­£æ˜¯å› ä¸ºæœ‰ç»“æ„æ€§ï¼Œè¿›ç¨‹æ‰å¯ä»¥åšåˆ°ç‹¬ç«‹åœ°è¿è¡Œã€‚</li></ul><blockquote><p><strong>å¹¶å‘ï¼š</strong>åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œå®è§‚æ¥çœ‹æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨æ´»åŠ¨ï¼Œæœ‰æ¡ä¸ç´Šçš„æ‰§è¡Œï¼ˆæ¯ä¸€ç¬é—´åªæœ‰ä¸€ä¸ªåœ¨æ‰§è¡Œï¼Œåªæ˜¯åœ¨ä¸€æ®µæ—¶é—´æœ‰å¤šä¸ªç¨‹åºéƒ½æ‰§è¡Œè¿‡ï¼‰</p><p><strong>å¹¶è¡Œï¼š</strong>åœ¨æ¯ä¸€ä¸ªç¬é—´ï¼Œéƒ½æœ‰å¤šä¸ªç¨‹åºéƒ½åœ¨åŒæ—¶æ‰§è¡Œï¼Œè¿™ä¸ªå¿…é¡»æœ‰å¤šä¸ª CPU æ‰è¡Œ</p></blockquote><p><strong>çº¿ç¨‹</strong>ï¼ˆthreadï¼‰æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚ä¸€æ¡çº¿ç¨‹æŒ‡çš„æ˜¯è¿›ç¨‹ä¸­ä¸€ä¸ªå•ä¸€é¡ºåºçš„æ§åˆ¶æµï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ã€‚å› ä¸ºçº¿ç¨‹ä¸­å‡ ä¹ä¸åŒ…å«ç³»ç»Ÿèµ„æºï¼Œæ‰€ä»¥æ‰§è¡Œæ›´å¿«ã€æ›´æœ‰æ•ˆç‡ã€‚</p><h3 id="è¿›ç¨‹åˆ†ç±»"><a href="#è¿›ç¨‹åˆ†ç±»" class="headerlink" title="è¿›ç¨‹åˆ†ç±»"></a>è¿›ç¨‹åˆ†ç±»</h3><ul><li>ç”¨æˆ·è¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç”¨æˆ·ç¨‹åºã€åº”ç”¨ç¨‹åºæˆ–ç§°ä¹‹ä¸ºå†…æ ¸ä¹‹å¤–çš„ç³»ç»Ÿç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ­¤ç±»è¿›ç¨‹å¯ä»¥åœ¨ç”¨æˆ·çš„æ§åˆ¶ä¸‹è¿è¡Œæˆ–å…³é—­ã€‚</li><li>ç³»ç»Ÿè¿›ç¨‹ï¼šé€šè¿‡æ‰§è¡Œç³»ç»Ÿå†…æ ¸ç¨‹åºè€Œäº§ç”Ÿçš„è¿›ç¨‹ï¼Œæ¯”å¦‚å¯ä»¥æ‰§è¡Œå†…å­˜èµ„æºåˆ†é…å’Œè¿›ç¨‹åˆ‡æ¢ç­‰ç›¸å¯¹åº•å±‚çš„å·¥ä½œï¼›è€Œä¸”è¯¥è¿›ç¨‹çš„è¿è¡Œä¸å—ç”¨æˆ·çš„å¹²é¢„ï¼Œå³ä½¿æ˜¯ root ç”¨æˆ·ä¹Ÿä¸èƒ½å¹²é¢„ç³»ç»Ÿè¿›ç¨‹çš„è¿è¡Œ</li></ul><ul><li>äº¤äº’è¿›ç¨‹ï¼šç”±ä¸€ä¸ª shell ç»ˆç«¯å¯åŠ¨çš„è¿›ç¨‹ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’æ“ä½œï¼Œå¯ä»¥è¿è¡Œäºå‰å°ï¼Œä¹Ÿå¯ä»¥è¿è¡Œåœ¨åå°ã€‚</li><li>æ‰¹å¤„ç†è¿›ç¨‹ï¼šè¯¥è¿›ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹é›†åˆï¼Œè´Ÿè´£æŒ‰é¡ºåºå¯åŠ¨å…¶ä»–çš„è¿›ç¨‹ã€‚</li><li>å®ˆæŠ¤è¿›ç¨‹ï¼šå®ˆæŠ¤è¿›ç¨‹æ˜¯ä¸€ç›´è¿è¡Œçš„ä¸€ç§è¿›ç¨‹ï¼Œåœ¨ Linux ç³»ç»Ÿå¯åŠ¨æ—¶å¯åŠ¨ï¼Œåœ¨ç³»ç»Ÿå…³é—­æ—¶ç»ˆæ­¢ã€‚å®ƒä»¬ç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯å¹¶ä¸”å‘¨æœŸæ€§çš„æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›å‘ç”Ÿçš„äº‹ä»¶ã€‚ä¾‹å¦‚ httpd è¿›ç¨‹ï¼Œä¸€ç›´å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œç­‰å¾…ç”¨æˆ·çš„è®¿é—®ã€‚è¿˜æœ‰ç»å¸¸ç”¨çš„ cronï¼ˆåœ¨ centOS ç³»åˆ—ä¸º crondï¼‰è¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹ä¸º crontab çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œå¯ä»¥å‘¨æœŸæ€§çš„æ‰§è¡Œç”¨æˆ·è®¾å®šçš„æŸäº›ä»»åŠ¡ã€‚</li></ul><p>æˆ‘ä»¬å¯åŠ¨äº†ç»ˆç«¯ï¼Œå°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ª bash è¿›ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ bash ä¸­å†è¾“å…¥ bash åˆ™ä¼šå†å¯åŠ¨ä¸€ä¸ª bash çš„è¿›ç¨‹ï¼Œæ­¤æ—¶ç¬¬äºŒä¸ª bash è¿›ç¨‹å°±æ˜¯ç”±ç¬¬ä¸€ä¸ª bash è¿›ç¨‹åˆ›å»ºå‡ºæ¥çš„ï¼Œä»–ä»¬ä¹‹é—´å…³ç³»æ˜¯çˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹</p><p><img data-src="http://cdn.sekyoro.top/imgs/065730.png" alt="image-20210915105254288"></p><h3 id="è¿›ç¨‹æŸ¥çœ‹"><a href="#è¿›ç¨‹æŸ¥çœ‹" class="headerlink" title="è¿›ç¨‹æŸ¥çœ‹"></a>è¿›ç¨‹æŸ¥çœ‹</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>top</code> å®æ—¶çš„æŸ¥çœ‹è¿›ç¨‹çš„çŠ¶æ€ï¼Œä»¥åŠç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯ï¼ˆå¦‚ CPUã€å†…å­˜ä¿¡æ¯ç­‰ï¼‰ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ <code>ps</code> æ¥é™æ€æŸ¥çœ‹å½“å‰çš„è¿›ç¨‹ä¿¡æ¯ï¼ŒåŒæ—¶æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>pstree</code> æ¥æŸ¥çœ‹å½“å‰æ´»è·ƒè¿›ç¨‹çš„æ ‘å½¢ç»“æ„ã€‚</p><h4 id="top"><a href="#top" class="headerlink" title="top"></a>top</h4><p>æŸ¥çœ‹ç³»ç»Ÿä¸­ä½¿ç”¨CPUã€ä½¿ç”¨å†…å­˜æœ€å¤šçš„è¿›ç¨‹ï¼›</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure><p>å¯¹äºè¿›ç¨‹ï¼Œå¹³æ—¶æˆ‘ä»¬æœ€å¸¸æƒ³çŸ¥é“çš„å°±æ˜¯å“ªäº›è¿›ç¨‹å ç”¨CPUæœ€å¤šï¼Œå ç”¨å†…å­˜æœ€å¤šã€‚ä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤å°±å¯ä»¥æ»¡è¶³è¦æ±‚:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Pï¼šæ ¹æ®CPUä½¿ç”¨ç™¾åˆ†æ¯”å¤§å°è¿›è¡Œæ’åºã€‚</span><br><span class="line">Mï¼šæ ¹æ®é©»ç•™å†…å­˜å¤§å°è¿›è¡Œæ’åºã€‚</span><br><span class="line">iï¼šä½¿topä¸æ˜¾ç¤ºä»»ä½•é—²ç½®æˆ–è€…åƒµæ­»è¿›ç¨‹ã€‚</span><br></pre></td></tr></table></figure><p>å¯ä»¥è¯´ topå°±æ˜¯linuxä¸‹çš„ä»»åŠ¡ç®¡ç†å™¨</p><p><img data-src="http://cdn.sekyoro.top/imgs/065733.png" alt="image-20210915110542055"></p><p><strong>å…³äºè¿›ç¨‹æƒ…å†µ</strong></p><div class="table-container"><table><thead><tr><th>åˆ—å</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>PID</td><td>è¿›ç¨‹ id</td></tr><tr><td>USER</td><td>è¯¥è¿›ç¨‹çš„æ‰€å±ç”¨æˆ·</td></tr><tr><td>PR</td><td>è¯¥è¿›ç¨‹æ‰§è¡Œçš„ä¼˜å…ˆçº§ priority å€¼  è¶Šå°è¶Šé«˜</td></tr><tr><td>NI</td><td>è¯¥è¿›ç¨‹çš„ nice å€¼</td></tr><tr><td>VIRT</td><td>è¯¥è¿›ç¨‹ä»»åŠ¡æ‰€ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜çš„æ€»æ•°</td></tr><tr><td>RES</td><td>è¯¥è¿›ç¨‹æ‰€ä½¿ç”¨çš„ç‰©ç†å†…å­˜æ•°ï¼Œä¹Ÿç§°ä¹‹ä¸ºé©»ç•™å†…å­˜æ•°</td></tr><tr><td>SHR</td><td>è¯¥è¿›ç¨‹å…±äº«å†…å­˜çš„å¤§å°</td></tr><tr><td>S</td><td>è¯¥è¿›ç¨‹è¿›ç¨‹çš„çŠ¶æ€: S=sleep R=running Z=zombie</td></tr><tr><td>%CPU</td><td>è¯¥è¿›ç¨‹ CPU çš„åˆ©ç”¨ç‡</td></tr><tr><td>%MEM</td><td>è¯¥è¿›ç¨‹å†…å­˜çš„åˆ©ç”¨ç‡</td></tr><tr><td>TIME+</td><td>è¯¥è¿›ç¨‹æ´»è·ƒçš„æ€»æ—¶é—´</td></tr><tr><td>COMMAND</td><td>è¯¥è¿›ç¨‹è¿è¡Œçš„åå­—</td></tr></tbody></table></div><p><strong>NICE å€¼</strong>å«åšé™æ€ä¼˜å…ˆçº§ï¼Œæ˜¯ç”¨æˆ·ç©ºé—´çš„ä¸€ä¸ªä¼˜å…ˆçº§å€¼ï¼Œå…¶å–å€¼èŒƒå›´æ˜¯ -20 è‡³ 19ã€‚è¿™ä¸ªå€¼è¶Šå°ï¼Œè¡¨ç¤ºè¿›ç¨‹â€ä¼˜å…ˆçº§â€è¶Šé«˜ï¼Œè€Œå€¼è¶Šå¤§â€œä¼˜å…ˆçº§â€è¶Šä½ã€‚nice å€¼ä¸­çš„ -20 åˆ° 19ï¼Œä¸­ -20 ä¼˜å…ˆçº§æœ€é«˜ï¼Œ 0 æ˜¯é»˜è®¤çš„å€¼ï¼Œè€Œ 19 ä¼˜å…ˆçº§æœ€ä½ã€‚</p><p><strong>PR å€¼</strong>è¡¨ç¤º Priority å€¼å«åŠ¨æ€ä¼˜å…ˆçº§ï¼Œæ˜¯è¿›ç¨‹åœ¨å†…æ ¸ä¸­å®é™…çš„ä¼˜å…ˆçº§å€¼ï¼Œè¿›ç¨‹ä¼˜å…ˆçº§çš„å–å€¼èŒƒå›´æ˜¯é€šè¿‡ä¸€ä¸ªå®å®šä¹‰çš„ï¼Œè¿™ä¸ªå®çš„åç§°æ˜¯ <code>MAX_PRIO</code>ï¼Œå®ƒçš„å€¼ä¸º 140ã€‚Linux å®é™…ä¸Šå®ç°äº† 140 ä¸ªä¼˜å…ˆçº§èŒƒå›´ï¼Œå–å€¼èŒƒå›´æ˜¯ä» <code>0-139</code>ï¼Œè¿™ä¸ªå€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ã€‚è€Œè¿™å…¶ä¸­çš„ <code>0-99</code> æ˜¯å®æ—¶è¿›ç¨‹çš„å€¼ï¼Œè€Œ <code>100-139</code> æ˜¯ç»™ç”¨æˆ·çš„ã€‚</p><p>å…¶ä¸­ PR ä¸­çš„ <code>100 to 139</code> å€¼éƒ¨åˆ†æœ‰è¿™ä¹ˆä¸€ä¸ªå¯¹åº” <code>PR = 20 + (-20 to +19)</code>ï¼Œè¿™é‡Œçš„ <code>-20 to +19</code> ä¾¿æ˜¯ nice å€¼ï¼Œæ‰€ä»¥è¯´ä¸¤ä¸ªè™½ç„¶éƒ½æ˜¯ä¼˜å…ˆçº§ï¼Œè€Œä¸”æœ‰åƒä¸ä¸‡ç¼•çš„å…³ç³»ï¼Œä½†æ˜¯ä»–ä»¬çš„å€¼ï¼Œä»–ä»¬çš„ä½œç”¨èŒƒå›´å¹¶ä¸ç›¸åŒã€‚</p><p><strong>VIRT</strong> ä»»åŠ¡æ‰€ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜çš„æ€»æ•°ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰çš„ä»£ç ï¼Œæ•°æ®ï¼Œå…±äº«åº“å’Œè¢«æ¢å‡º swap ç©ºé—´çš„é¡µé¢ç­‰æ‰€å æ®ç©ºé—´çš„æ€»æ•°ã€‚</p><p>ä¸‹é¢æ¥è§£æä¸€ä¸‹</p><p><img data-src="http://cdn.sekyoro.top/imgs/065733.png" alt="image-20210915110618881"></p><ul><li>ç¬¬ä¸€è¡Œ</li></ul><p>11:05:55 ï¼š ç³»ç»Ÿå½“å‰æ—¶é—´ </p><p>up 219min ï¼š ç³»ç»Ÿå¼€æœºåˆ°ç°åœ¨ç»è¿‡äº†å¤šå°‘æ—¶é—´</p><p>1 user ï¼š å½“å‰1ç”¨æˆ·åœ¨çº¿</p><p>load average: 0.14, 0.09, 0.11ï¼š ç³»ç»Ÿ1åˆ†é’Ÿã€5åˆ†é’Ÿã€15åˆ†é’Ÿçš„CPUè´Ÿè½½ä¿¡æ¯</p><ul><li>ç¬¬äºŒè¡Œ</li></ul><p>Tasksï¼šä»»åŠ¡;296totalï¼šå½“å‰æœ‰87ä¸ªä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯87ä¸ªè¿›ç¨‹ã€‚</p><p>runningï¼š2ä¸ªè¿›ç¨‹æ­£åœ¨è¿è¡Œ</p><p>294sleepingï¼š294ä¸ªè¿›ç¨‹ç¡çœ </p><p>0 stoppedï¼šåœæ­¢çš„è¿›ç¨‹æ•°</p><p>0 zombieï¼šåƒµæ­»çš„è¿›ç¨‹æ•°</p><p><img data-src="http://cdn.sekyoro.top/imgs/065735-1.png" alt="image-20210915111128522"></p><ul><li><p>ç¬¬ä¸‰è¡Œ</p><p>Cpu(s)ï¼šè¡¨ç¤ºè¿™ä¸€è¡Œæ˜¾ç¤ºCPUæ€»ä½“ä¿¡æ¯</p><p>2.7%usï¼šç”¨æˆ·æ€è¿›ç¨‹å ç”¨CPUæ—¶é—´ç™¾åˆ†æ¯”ï¼Œä¸åŒ…å«reniceå€¼ä¸ºè´Ÿçš„ä»»åŠ¡å ç”¨çš„CPUçš„æ—¶é—´ã€‚</p><p>0.7%syï¼šå†…æ ¸å ç”¨CPUæ—¶é—´ç™¾åˆ†æ¯”</p><p>niï¼šæ”¹å˜è¿‡ä¼˜å…ˆçº§çš„è¿›ç¨‹å ç”¨CPUçš„ç™¾åˆ†æ¯”</p><p>96.6%idï¼šç©ºé—²CPUæ—¶é—´ç™¾åˆ†æ¯”</p><p>waï¼šç­‰å¾…I/Oçš„CPUæ—¶é—´ç™¾åˆ†æ¯”</p><p>hiï¼šCPUç¡¬ä¸­æ–­æ—¶é—´ç™¾åˆ†æ¯”</p><p>siï¼šCPUè½¯ä¸­æ–­æ—¶é—´ç™¾åˆ†æ¯”</p><p>æ³¨ï¼šè¿™é‡Œæ˜¾ç¤ºæ•°æ®æ˜¯æ‰€æœ‰cpuçš„å¹³å‡å€¼ï¼Œå¦‚æœæƒ³çœ‹æ¯ä¸€ä¸ªcpuçš„å¤„ç†æƒ…å†µï¼ŒæŒ‰1å³å¯ï¼›æŠ˜å ï¼Œå†æ¬¡æŒ‰1ï¼›</p></li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/065739.png" alt="image-20210915112109665"></p><div class="table-container"><table><thead><tr><th>å†…å®¹</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>1952.9 total</td><td>ç‰©ç†å†…å­˜æ€»é‡</td></tr><tr><td>409.0 used</td><td>ä½¿ç”¨çš„ç‰©ç†å†…å­˜æ€»é‡</td></tr><tr><td>409.0 free</td><td>ç©ºé—²å†…å­˜æ€»é‡</td></tr><tr><td>681.1 buffers</td><td>ç”¨ä½œå†…æ ¸ç¼“å­˜çš„å†…å­˜é‡</td></tr></tbody></table></div><p><strong>æ³¨æ„ï¼š</strong></p><blockquote><p>ç³»ç»Ÿä¸­å¯ç”¨çš„ç‰©ç†å†…å­˜æœ€å¤§å€¼å¹¶ä¸æ˜¯ free è¿™ä¸ªå•ä¸€çš„å€¼ï¼Œè€Œæ˜¯ free + buffers + swap ä¸­çš„ cached çš„å’Œã€‚</p></blockquote><p><img data-src="http://cdn.sekyoro.top/imgs/065741.png" alt="image-20210915112325499"></p><div class="table-container"><table><thead><tr><th>å†…å®¹</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>total</td><td>äº¤æ¢åŒºæ€»é‡</td></tr><tr><td>used</td><td>ä½¿ç”¨çš„äº¤æ¢åŒºæ€»é‡</td></tr><tr><td>free</td><td>ç©ºé—²äº¤æ¢åŒºæ€»é‡</td></tr><tr><td>cached</td><td>ç¼“å†²çš„äº¤æ¢åŒºæ€»é‡ï¼Œå†…å­˜ä¸­çš„å†…å®¹è¢«æ¢å‡ºåˆ°äº¤æ¢åŒºï¼Œè€Œååˆè¢«æ¢å…¥åˆ°å†…å­˜ï¼Œä½†ä½¿ç”¨è¿‡çš„äº¤æ¢åŒºå°šæœªè¢«è¦†ç›–</td></tr></tbody></table></div><p><strong>äº¤äº’å‘½ä»¤</strong></p><div class="table-container"><table><thead><tr><th>å¸¸ç”¨äº¤äº’å‘½ä»¤</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>q</td><td>é€€å‡ºç¨‹åº</td></tr><tr><td>I</td><td>åˆ‡æ¢æ˜¾ç¤ºå¹³å‡è´Ÿè½½å’Œå¯åŠ¨æ—¶é—´çš„ä¿¡æ¯</td></tr><tr><td>P</td><td>æ ¹æ® CPU ä½¿ç”¨ç™¾åˆ†æ¯”å¤§å°è¿›è¡Œæ’åº</td></tr><tr><td>M</td><td>æ ¹æ®é©»ç•™å†…å­˜å¤§å°è¿›è¡Œæ’åº</td></tr><tr><td>i</td><td>å¿½ç•¥é—²ç½®å’Œåƒµæ­»çš„è¿›ç¨‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼€å…³å¼å‘½ä»¤</td></tr><tr><td>k</td><td>ç»ˆæ­¢ä¸€ä¸ªè¿›ç¨‹ï¼Œç³»ç»Ÿæç¤ºè¾“å…¥ PID åŠå‘é€çš„ä¿¡å·å€¼ã€‚ä¸€èˆ¬ç»ˆæ­¢è¿›ç¨‹ç”¨ 15 ä¿¡å·ï¼Œä¸èƒ½æ­£å¸¸ç»“æŸåˆ™ä½¿ç”¨ 9 ä¿¡å·ã€‚å®‰å…¨æ¨¡å¼ä¸‹è¯¥å‘½ä»¤è¢«å±è”½ã€‚</td></tr></tbody></table></div><h4 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065742.png" alt="image-20210915112813151"></p><ul><li><p>l é•¿æ ¼å¼è¾“å‡ºï¼›</p></li><li><p>u æŒ‰ç”¨æˆ·åå’Œå¯åŠ¨æ—¶é—´çš„é¡ºåºæ¥æ˜¾ç¤ºè¿›ç¨‹ï¼›</p></li><li><p>j ç”¨ä»»åŠ¡æ ¼å¼æ¥æ˜¾ç¤ºè¿›ç¨‹ï¼›</p></li><li><p>f ç”¨æ ‘å½¢æ ¼å¼æ¥æ˜¾ç¤ºè¿›ç¨‹ï¼›</p></li><li><p>a æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·çš„æ‰€æœ‰è¿›ç¨‹ï¼ˆåŒ…æ‹¬å…¶å®ƒç”¨æˆ·ï¼‰ï¼›</p></li><li><p>x æ˜¾ç¤ºæ— æ§åˆ¶ç»ˆç«¯çš„è¿›ç¨‹ï¼›</p></li><li><p>r æ˜¾ç¤ºè¿è¡Œä¸­çš„è¿›ç¨‹ï¼›</p></li><li><p>-e æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹,ç¯å¢ƒå˜é‡</p></li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/065745.png" alt="image-20210915113103961"></p><div class="table-container"><table><thead><tr><th>å†…å®¹</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><code>F</code></td><td>è¿›ç¨‹çš„æ ‡å¿—ï¼ˆprocess flagsï¼‰ï¼Œå½“ flags å€¼ä¸º 1 åˆ™è¡¨ç¤ºæ­¤å­ç¨‹åºåªæ˜¯ fork ä½†æ²¡æœ‰æ‰§è¡Œ execï¼Œä¸º 4 è¡¨ç¤ºæ­¤ç¨‹åºä½¿ç”¨è¶…çº§ç®¡ç†å‘˜ root æƒé™</td></tr><tr><td><code>USER</code></td><td>è¿›ç¨‹çš„æ‹¥æœ‰ç”¨æˆ·</td></tr><tr><td><code>PID</code></td><td>è¿›ç¨‹çš„ ID</td></tr><tr><td><code>PPID</code></td><td>å…¶çˆ¶è¿›ç¨‹çš„ PID</td></tr><tr><td><code>SID</code></td><td>session çš„ ID</td></tr><tr><td><code>TPGID</code></td><td>å‰å°è¿›ç¨‹ç»„çš„ ID</td></tr><tr><td><code>%CPU</code></td><td>è¿›ç¨‹å ç”¨çš„ CPU ç™¾åˆ†æ¯”</td></tr><tr><td><code>%MEM</code></td><td>å ç”¨å†…å­˜çš„ç™¾åˆ†æ¯”</td></tr><tr><td><code>NI</code></td><td>è¿›ç¨‹çš„ NICE å€¼</td></tr><tr><td><code>VSZ</code></td><td>è¿›ç¨‹ä½¿ç”¨è™šæ‹Ÿå†…å­˜å¤§å°</td></tr><tr><td><code>RSS</code></td><td>é©»ç•™å†…å­˜ä¸­é¡µçš„å¤§å°</td></tr><tr><td><code>TTY</code></td><td>ç»ˆç«¯ ID</td></tr><tr><td><code>S or STAT</code></td><td>è¿›ç¨‹çŠ¶æ€</td></tr><tr><td><code>WCHAN</code></td><td>æ­£åœ¨ç­‰å¾…çš„è¿›ç¨‹èµ„æº</td></tr><tr><td><code>START</code></td><td>å¯åŠ¨è¿›ç¨‹çš„æ—¶é—´</td></tr><tr><td><code>TIME</code></td><td>è¿›ç¨‹æ¶ˆè€— CPU çš„æ—¶é—´</td></tr><tr><td><code>COMMAND</code></td><td>å‘½ä»¤çš„åç§°å’Œå‚æ•°</td></tr></tbody></table></div><p>æŸ¥è¯¢æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ps</span> -rf</span><br></pre></td></tr></table></figure><h4 id="pstree"><a href="#pstree" class="headerlink" title="pstree"></a>pstree</h4><p><img data-src="http://cdn.sekyoro.top/imgs/065747.png" alt="image-20210915113749274"></p><p>å¯ä»¥å¾ˆç›´æ¥çš„çœ‹åˆ°ç›¸åŒçš„è¿›ç¨‹æ•°é‡ï¼Œæœ€ä¸»è¦çš„è¿˜æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰€æœ‰è¿›ç¨‹ä¹‹é—´çš„ç›¸å…³æ€§</p><h3 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><p>å†…å­˜ç®¡ç†</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">free</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ</p><p><img data-src="http://cdn.sekyoro.top/imgs/065748.png" alt="image-20210915114130103"></p><p>è¿›ç¨‹ç»„ä¸Sessions</p><p>æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä¼šæ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„çš„æˆå‘˜ï¼Œè€Œä¸”è¿™ä¸ªè¿›ç¨‹ç»„æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œä»–ä»¬æ˜¯ä¾é  PGIDï¼ˆprocess group IDï¼‰æ¥åŒºåˆ«çš„ï¼Œè€Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ç»„ä¸­çš„ä¸€å‘˜ã€‚</p><p>ä¸€èˆ¬æƒ…å†µï¼Œè¿›ç¨‹ç»„çš„ PGID ç­‰åŒäºè¿›ç¨‹ç»„çš„ç¬¬ä¸€ä¸ªæˆå‘˜çš„ PIDï¼Œå¹¶ä¸”è¿™æ ·çš„è¿›ç¨‹ç§°ä¸ºè¯¥è¿›ç¨‹ç»„çš„é¢†å¯¼è€…ï¼Œä¹Ÿå°±æ˜¯é¢†å¯¼è¿›ç¨‹ï¼Œè¿›ç¨‹ä¸€èˆ¬é€šè¿‡ä½¿ç”¨ <code>getpgrp()</code> ç³»ç»Ÿè°ƒç”¨æ¥å¯»æ‰¾å…¶æ‰€åœ¨ç»„çš„ PGIDï¼Œé¢†å¯¼è¿›ç¨‹å¯ä»¥å…ˆç»ˆç»“ï¼Œæ­¤æ—¶è¿›ç¨‹ç»„ä¾ç„¶å­˜åœ¨ï¼Œå¹¶æŒæœ‰ç›¸åŒçš„ PGIDï¼Œç›´åˆ°è¿›ç¨‹ç»„ä¸­æœ€åä¸€ä¸ªè¿›ç¨‹ç»ˆç»“ã€‚</p><p>ä¸è¿›ç¨‹ç»„ç±»ä¼¼ï¼Œæ¯å½“ä¸€ä¸ªè¿›ç¨‹è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå®ƒä¾¿ä¼šæˆä¸ºå…¶çˆ¶è¿›ç¨‹æ‰€åœ¨ Session ä¸­çš„ä¸€å‘˜ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹ç»„éƒ½ä¼šåœ¨ä¸€ä¸ª Session ä¸­ï¼Œå¹¶ä¸”è¿™ä¸ª Session æ˜¯å”¯ä¸€å­˜åœ¨çš„ï¼Œ</p><p>Session ä¸»è¦æ˜¯é’ˆå¯¹ä¸€ä¸ª tty å»ºç«‹ï¼ŒSession ä¸­çš„æ¯ä¸ªè¿›ç¨‹éƒ½ç§°ä¸ºä¸€ä¸ªå·¥ä½œ(job)ã€‚æ¯ä¸ªä¼šè¯å¯ä»¥è¿æ¥ä¸€ä¸ªç»ˆç«¯(control terminal)ã€‚å½“æ§åˆ¶ç»ˆç«¯æœ‰è¾“å…¥è¾“å‡ºæ—¶ï¼Œéƒ½ä¼ é€’ç»™è¯¥ä¼šè¯çš„å‰å°è¿›ç¨‹ç»„ã€‚Session æ„ä¹‰åœ¨äºå°†å¤šä¸ª jobs å›Šæ‹¬åœ¨ä¸€ä¸ªç»ˆç«¯ï¼Œå¹¶å–å…¶ä¸­çš„ä¸€ä¸ª job ä½œä¸ºå‰å°ï¼Œæ¥ç›´æ¥æ¥æ”¶è¯¥ç»ˆç«¯çš„è¾“å…¥è¾“å‡ºä»¥åŠç»ˆç«¯ä¿¡å·ã€‚ å…¶ä»– jobs åœ¨åå°è¿è¡Œã€‚</p><blockquote><p><strong>å‰å°</strong>ï¼ˆforegroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œèƒ½ä¸ä½ æœ‰äº¤äº’çš„</p><p><strong>åå°</strong>ï¼ˆbackgroundï¼‰å°±æ˜¯åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼Œä½†æ˜¯ä½ å¹¶ä¸èƒ½ä¸å…¶ä»»ä½•çš„äº¤äº’ï¼Œä¹Ÿä¸ä¼šæ˜¾ç¤ºå…¶æ‰§è¡Œçš„è¿‡ç¨‹</p></blockquote><p>è¢«åœæ­¢å¹¶æ”¾ç½®åœ¨åå°çš„å·¥ä½œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‘½ä»¤æ¥æŸ¥çœ‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">jobs</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™æ ·çš„ä¸€ä¸ªå‘½ä»¤å°†åå°çš„å·¥ä½œæ‹¿åˆ°å‰å°æ¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åé¢ä¸åŠ å‚æ•°æå–é¢„è®¾å·¥ä½œï¼ŒåŠ å‚æ•°æå–æŒ‡å®šå·¥ä½œçš„ç¼–å·</span></span><br><span class="line"><span class="comment"># ubuntu åœ¨ zsh ä¸­éœ€è¦ %ï¼Œåœ¨ bash ä¸­ä¸éœ€è¦ %</span></span><br><span class="line"><span class="built_in">fg</span> [%jobnumber]</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºè¿›ç¨‹"><a href="#åˆ›å»ºè¿›ç¨‹" class="headerlink" title="åˆ›å»ºè¿›ç¨‹"></a>åˆ›å»ºè¿›ç¨‹</h4><p>â€‹    åœ¨Linuxç³»ç»Ÿä¸­ï¼Œé™¤äº†ç³»ç»Ÿå¯åŠ¨ä¹‹åçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ç”±ç³»ç»Ÿæ¥åˆ›å»ºï¼Œå…¶ä½™çš„è¿›ç¨‹éƒ½å¿…é¡»ç”±å·²å­˜åœ¨çš„è¿›ç¨‹æ¥åˆ›å»ºï¼Œæ–°åˆ›å»ºçš„è¿›ç¨‹å«åšå­è¿›ç¨‹ï¼Œè€Œåˆ›å»ºå­è¿›ç¨‹çš„è¿›ç¨‹å«åšçˆ¶è¿›ç¨‹ã€‚é‚£ä¸ªåœ¨ç³»ç»Ÿå¯åŠ¨åŠå®Œæˆåˆå§‹åŒ–ä¹‹åï¼ŒLinuxè‡ªåŠ¨åˆ›å»ºçš„è¿›ç¨‹å«åšæ ¹è¿›ç¨‹ã€‚æ ¹è¿›ç¨‹æ˜¯Linuxä¸­æ‰€æœ‰è¿›ç¨‹çš„ç¥–å®—ï¼Œå…¶ä½™è¿›ç¨‹éƒ½æ˜¯æ ¹è¿›ç¨‹çš„å­å­™ã€‚å…·æœ‰åŒä¸€ä¸ªçˆ¶è¿›ç¨‹çš„è¿›ç¨‹å«åšå…„å¼Ÿè¿›ç¨‹<br>â€‹    å…³äºçˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ä¾¿ä¼šæåŠè¿™ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ <code>fork()</code> ä¸ <code>exec()</code></p><p>å­è¿›ç¨‹å°±æ˜¯çˆ¶è¿›ç¨‹é€šè¿‡ç³»ç»Ÿè°ƒç”¨ <code>fork()</code> è€Œäº§ç”Ÿçš„å¤åˆ¶å“ï¼Œ<code>fork()</code> å°±æ˜¯æŠŠçˆ¶è¿›ç¨‹çš„ PCB ç­‰è¿›ç¨‹çš„æ•°æ®ç»“æ„ä¿¡æ¯ç›´æ¥å¤åˆ¶è¿‡æ¥ï¼Œåªæ˜¯ä¿®æ”¹äº† PIDï¼Œæ‰€ä»¥ä¸€æ¨¡ä¸€æ ·ï¼Œåªæœ‰åœ¨æ‰§è¡Œ <code>exec()</code> ä¹‹åæ‰ä¼šä¸åŒã€‚</p><p>ä¸ºäº†åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­åˆ†è£‚å‡ºå­è¿›ç¨‹ï¼ŒLinuxæä¾›äº†ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨fork()ã€‚è¿™é‡Œæ‰€è¯´çš„åˆ†è£‚ï¼Œå®é™…ä¸Šæ˜¯ä¸€ç§å¤åˆ¶ã€‚å› ä¸ºåœ¨ç³»ç»Ÿä¸­è¡¨ç¤ºä¸€ä¸ªè¿›ç¨‹çš„å®ä½“æ˜¯è¿›ç¨‹æ§åˆ¶å—ï¼Œåˆ›å»ºæ–°è¿›ç¨‹çš„ä¸»è¦å·¥ä½œå°±æ˜¯è¦åˆ›å»ºä¸€ä¸ªæ–°æ§åˆ¶å—ï¼Œè€Œåˆ›å»ºä¸€ä¸ªæ–°æ§åˆ¶å—æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å¤åˆ¶ã€‚</p><p>â€‹    å½“ç„¶ï¼Œè¿™é‡Œçš„å¤åˆ¶å¹¶ä¸æ˜¯å®Œå…¨å¤åˆ¶ï¼Œå› ä¸ºçˆ¶è¿›ç¨‹æ§åˆ¶å—ä¸­æŸäº›é¡¹çš„å†…å®¹å¿…é¡»æŒ‰ç…§å­è¿›ç¨‹çš„ç‰¹æ€§æ¥ä¿®æ”¹ï¼Œä¾‹å¦‚è¿›ç¨‹çš„æ ‡è¯†ã€çŠ¶æ€ç­‰ã€‚å¦å¤–ï¼Œå­è¿›ç¨‹æ§åˆ¶å—è¿˜å¿…é¡»è¦æœ‰è¡¨ç¤ºè‡ªå·±çˆ¶è¿›ç¨‹çš„åŸŸå’Œç§æœ‰ç©ºé—´ï¼Œä¾‹å¦‚æ•°æ®ç©ºé—´ã€ç”¨æˆ·å †æ ˆç­‰ã€‚</p><p>å‡½æ•°fork()åˆ†è£‚å‡ºäº†ä¸¤ä¸ªè¿›ç¨‹ï¼šå› ä¸ºè‡ªå‡½æ•°fork()ä¹‹åæ‰§è¡Œäº†ä¸¤éä¹‹åçš„ä»£ç ï¼ˆå…ˆå­è¿›ç¨‹ä¸€æ¬¡ï¼Œåçˆ¶è¿›ç¨‹ä¸€æ¬¡ï¼‰ã€‚åŒæ—¶ï¼Œè¿™ä¹Ÿè¯æ˜äº†çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹è¿è¡Œçš„æ˜¯åŒä¸€ä¸ªç¨‹åºï¼Œä¹Ÿæ­£æ˜¯è¿™ä¸ªç†ç”±ï¼Œç³»ç»Ÿå¹¶æœªåœ¨å†…å­˜ä¸­ç»™å­è¿›ç¨‹é…ç½®ç‹¬ç«‹çš„ç¨‹åºè¿è¡Œç©ºé—´ï¼Œè€Œåªæ˜¯ç®€å•åœ°å°†ç¨‹åºæŒ‡é’ˆæŒ‡å‘çˆ¶è¿›ç¨‹çš„ä»£ç ï¼›<br>    ä¸¤ä¸ªè¿›ç¨‹å…·æœ‰å„è‡ªçš„æ•°æ®åŒºå’Œç”¨æˆ·å †æ ˆï¼Œåœ¨å‡½æ•°fork()ç”Ÿæˆå­è¿›ç¨‹æ—¶ï¼Œå°†çˆ¶è¿›ç¨‹æ•°æ®åŒºå’Œç”¨æˆ·å †æ ˆçš„å†…å®¹åˆ†åˆ«å¤åˆ¶ç»™äº†å­è¿›ç¨‹ã€‚åŒæ—¶ï¼Œæ¥ä¸‹æ¥çš„å†…å®¹ï¼Œçˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹éƒ½æ˜¯å¯¹è‡ªå·±çš„æ•°æ®åŒºå’Œå †æ ˆä¸­çš„å†…å®¹è¿›è¡Œä¿®æ”¹è¿ç®—äº†ã€‚<br>çˆ¶è¿›ç¨‹ä¸­è°ƒç”¨fork()ä¹‹åä¼šäº§ç”Ÿä¸¤ç§ç»“æœï¼šä¸€ç§ä¸ºåˆ†è£‚å­è¿›ç¨‹å¤±è´¥ï¼Œå¦ä¸€ç§å°±æ˜¯åˆ†è£‚å­è¿›ç¨‹æˆåŠŸã€‚<strong>å¦‚æœfork()å¤±è´¥ï¼Œåˆ™è¿”å›-1,ï¼›å¦åˆ™ä¼šå‡ºç°çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹ä¸¤ä¸ªè¿›ç¨‹ï¼Œåœ¨å­è¿›ç¨‹ä¸­fork()è¿”å›0ï¼Œåœ¨çˆ¶è¿›ç¨‹ä¸­fork()è¿”å›å­è¿›ç¨‹çš„IDã€‚</strong></p><p>â€‹    <strong>åœ¨ä»£ç ä¸­è·å¾—å½“å‰è¿›ç¨‹pidçš„å‡½æ•°ä¸ºï¼šgetpid()ï¼›</strong></p><p><strong>åœ¨ä»£ç ä¸­è·å¾—å½“å‰è¿›ç¨‹çˆ¶è¿›ç¨‹pidçš„å‡½æ•°ä¸ºï¼šgetppid()ã€‚</strong></p><p><strong>è¿™é‡Œéœ€è¦æ³¨æ˜ä¸€ç‚¹ï¼š</strong>çˆ¶å­è¿›ç¨‹çš„è°ƒåº¦çš„é¡ºåºæ˜¯ç”±è°ƒåº¦å™¨å†³å®šçš„ï¼Œä¸è¿›ç¨‹çš„åˆ›å»ºé¡ºåºæ— å…³ã€‚</p><p>â€‹    å½“ä¸€ä¸ªå­è¿›ç¨‹è¦æ­£å¸¸çš„ç»ˆæ­¢è¿è¡Œæ—¶ï¼Œæˆ–è€…è¯¥è¿›ç¨‹ç»“æŸæ—¶å®ƒçš„ä¸»å‡½æ•° <code>main()</code> ä¼šæ‰§è¡Œ <code>exit(n);</code> æˆ–è€… <code>return n</code>ï¼Œè¿™é‡Œçš„è¿”å›å€¼ n æ˜¯ä¸€ä¸ªä¿¡å·ï¼Œç³»ç»Ÿä¼šæŠŠè¿™ä¸ª SIGCHLD ä¿¡å·ä¼ ç»™å…¶çˆ¶è¿›ç¨‹ï¼Œå½“ç„¶è‹¥æ˜¯å¼‚å¸¸ç»ˆæ­¢ä¹Ÿå¾€å¾€æ˜¯å› ä¸ºè¿™ä¸ªä¿¡å·ã€‚</p><p>â€‹    åœ¨å°†è¦ç»“æŸæ—¶çš„å­è¿›ç¨‹ä»£ç æ‰§è¡Œéƒ¨åˆ†å·²ç»ç»“æŸæ‰§è¡Œäº†ï¼Œç³»ç»Ÿçš„èµ„æºä¹ŸåŸºæœ¬å½’è¿˜ç»™ç³»ç»Ÿäº†ï¼Œä½†è‹¥æ˜¯å…¶è¿›ç¨‹çš„è¿›ç¨‹æ§åˆ¶å—ï¼ˆPCBï¼‰ä»é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œè€Œå®ƒçš„ PCB è¿˜åœ¨ï¼Œä»£è¡¨è¿™ä¸ªè¿›ç¨‹è¿˜å­˜åœ¨ï¼ˆå› ä¸º PCB å°±æ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—ï¼Œé‡Œé¢æœ‰ PID ç­‰æ¶ˆæ¯ï¼‰ï¼Œå¹¶æ²¡æœ‰æ¶ˆäº¡ï¼Œè¿™æ ·çš„è¿›ç¨‹ç§°ä¹‹ä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰</p><p>â€‹    æ­£å¸¸æƒ…å†µä¸‹ï¼Œçˆ¶è¿›ç¨‹ä¼šæ”¶åˆ°ä¸¤ä¸ªè¿”å›å€¼ï¼šexit codeï¼ˆSIGCHLD ä¿¡å·ï¼‰ä¸ <code>reason for termination</code> ã€‚ä¹‹åï¼Œçˆ¶è¿›ç¨‹ä¼šä½¿ç”¨ <code>wait(&amp;status)</code> ç³»ç»Ÿè°ƒç”¨ä»¥è·å–å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ï¼Œç„¶åå†…æ ¸å°±å¯ä»¥ä»å†…å­˜ä¸­é‡Šæ”¾å·²ç»“æŸçš„å­è¿›ç¨‹çš„ PCBï¼›è€Œå¦‚è‹¥çˆ¶è¿›ç¨‹æ²¡æœ‰è¿™ä¹ˆåšçš„è¯ï¼Œå­è¿›ç¨‹çš„ PCB å°±ä¼šä¸€ç›´é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸€ç›´ç•™åœ¨ç³»ç»Ÿä¸­æˆä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆZombieï¼‰ã€‚</p><p>è™½ç„¶åƒµå°¸è¿›ç¨‹æ˜¯å·²ç»æ”¾å¼ƒäº†å‡ ä¹æ‰€æœ‰å†…å­˜ç©ºé—´ï¼Œæ²¡æœ‰ä»»ä½•å¯æ‰§è¡Œä»£ç ï¼Œä¹Ÿä¸èƒ½è¢«è°ƒåº¦ï¼Œåœ¨è¿›ç¨‹åˆ—è¡¨ä¸­ä¿ç•™ä¸€ä¸ªä½ç½®ï¼Œè®°è½½è¯¥è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ç­‰ä¿¡æ¯ä¾›å…¶çˆ¶è¿›ç¨‹æ”¶é›†ï¼Œä»è€Œé‡Šæ”¾å®ƒã€‚ä½†æ˜¯ Linux ç³»ç»Ÿä¸­èƒ½ä½¿ç”¨çš„ PID æ˜¯æœ‰é™çš„ï¼Œå¦‚æœç³»ç»Ÿä¸­å­˜åœ¨æœ‰å¤§é‡çš„åƒµå°¸è¿›ç¨‹ï¼Œç³»ç»Ÿå°†ä¼šå› ä¸ºæ²¡æœ‰å¯ç”¨çš„ PID ä»è€Œå¯¼è‡´ä¸èƒ½äº§ç”Ÿæ–°çš„è¿›ç¨‹ã€‚</p><p>â€‹    è¿›ç¨‹ 0 æ˜¯ç³»ç»Ÿå¼•å¯¼æ—¶åˆ›å»ºçš„ä¸€ä¸ªç‰¹æ®Šè¿›ç¨‹ï¼Œä¹Ÿç§°ä¹‹ä¸ºå†…æ ¸åˆå§‹åŒ–ï¼Œå…¶æœ€åä¸€ä¸ªåŠ¨ä½œå°±æ˜¯è°ƒç”¨ <code>fork()</code> åˆ›å»ºå‡ºä¸€ä¸ªå­è¿›ç¨‹è¿è¡Œ <code>/sbin/init</code> å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè€Œè¯¥è¿›ç¨‹å°±æ˜¯ PID=1 çš„è¿›ç¨‹ 1ï¼Œè€Œè¿›ç¨‹ 0 å°±è½¬ä¸ºäº¤æ¢è¿›ç¨‹ï¼ˆä¹Ÿè¢«ç§°ä¸ºç©ºé—²è¿›ç¨‹ï¼‰ï¼Œè¿›ç¨‹ 1 ï¼ˆinit è¿›ç¨‹ï¼‰æ˜¯ç¬¬ä¸€ä¸ªç”¨æˆ·æ€çš„è¿›ç¨‹ï¼Œå†ç”±å®ƒä¸æ–­è°ƒç”¨ fork() æ¥åˆ›å»ºç³»ç»Ÿé‡Œå…¶ä»–çš„è¿›ç¨‹ï¼Œæ‰€ä»¥å®ƒæ˜¯æ‰€æœ‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æˆ–è€…ç¥–å…ˆè¿›ç¨‹ã€‚åŒæ—¶å®ƒæ˜¯ä¸€ä¸ªå®ˆæŠ¤ç¨‹åºï¼Œç›´åˆ°è®¡ç®—æœºå…³æœºæ‰ä¼šåœæ­¢ã€‚</p><h4 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h4><p><img data-src="http://cdn.sekyoro.top/imgs/065751.png" alt="image-20210915121843368"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="keyword">int</span> id = getpid();</span><br><span class="line"> <span class="built_in">printf</span>(<span class="string">&quot;my id is %d\n&quot;</span>,id);</span><br><span class="line"> <span class="keyword">int</span> num = fork();</span><br><span class="line"> <span class="keyword">if</span>(num==<span class="number">0</span>)</span><br><span class="line"> &#123;<span class="comment">//child</span></span><br><span class="line">         <span class="keyword">int</span> n = getpid();</span><br><span class="line">         <span class="keyword">int</span> pn = getppid();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;I am child\nmy id is %d and my parent&#x27;s id is %d\n&quot;</span>,n,pn);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">else</span> <span class="keyword">if</span>(num&gt;<span class="number">0</span>)</span><br><span class="line"> &#123;</span><br><span class="line">        <span class="comment">//parent</span></span><br><span class="line">        <span class="keyword">int</span> n = getpid();</span><br><span class="line">        <span class="keyword">int</span> pn = getppid();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;I am parent\nmy id is %d\nmy parent&#x27;s id is %d\n&quot;</span>,n,pn);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>forkå‡½æ•°è°ƒç”¨ä¸€æ¬¡ï¼Œä¼šè¿”å›ä¸¤ä¸ªå‡½æ•°å€¼ï¼Œå¯¹äºçˆ¶è¿›ç¨‹è€Œè¨€ï¼Œè¿”å›çš„æ˜¯å­è¿›ç¨‹çš„PIDï¼ˆå› ä¸ºä¸€ä¸ªçˆ¶è¿›ç¨‹å¯èƒ½æœ‰å¤šä¸ªå­è¿›ç¨‹ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸€ä¸ªå‡½æ•°å¯ä»¥ä½¿çˆ¶è¿›ç¨‹è·å–å…¶æ‰€æœ‰çš„å­è¿›ç¨‹IDï¼‰ï¼Œå¯¹äºå­è¿›ç¨‹è¿”å›å€¼æ˜¯0ï¼ˆè¿™æ ·å°±èƒ½åŒºåˆ†çˆ¶å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹æ˜¯å¯ä»¥é€šè¿‡getppidæ¥è·å–çˆ¶è¿›ç¨‹çš„IDï¼Œå¦‚æœè¿›ç¨‹åˆ›å»ºå¤±è´¥ï¼Œé‚£ä¹ˆè¿”å›ç»™çˆ¶è¿›ç¨‹-1ï¼‰ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065754.png" alt="image-20210915125351563"></p><h4 id="æ€æ­»è¿›ç¨‹"><a href="#æ€æ­»è¿›ç¨‹" class="headerlink" title="æ€æ­»è¿›ç¨‹"></a>æ€æ­»è¿›ç¨‹</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span></span><br></pre></td></tr></table></figure><p>æ€æ­»æŒ‡å®šPIDçš„è¿›ç¨‹ (PIDä¸ºProcess ID)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$kill</span> PID</span><br></pre></td></tr></table></figure><p>æ€æ­»ç›¸å…³è¿›ç¨‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> -9 3434</span><br></pre></td></tr></table></figure><p>æ€æ­»jobå·¥ä½œ (jobä¸ºjob number)</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$kill</span> %job</span><br></pre></td></tr></table></figure><p>å¯ä»¥å…ˆç”¨ ps -auxæŸ¥çœ‹è¿›ç¨‹</p><p>ç„¶åé€šè¿‡kill pid æ€æ­»è¿›ç¨‹</p><h3 id="ç£ç›˜ç®¡ç†"><a href="#ç£ç›˜ç®¡ç†" class="headerlink" title="ç£ç›˜ç®¡ç†"></a>ç£ç›˜ç®¡ç†</h3><h4 id="æŸ¥çœ‹ç£ç›˜å’Œç›®å½•çš„å®¹é‡"><a href="#æŸ¥çœ‹ç£ç›˜å’Œç›®å½•çš„å®¹é‡" class="headerlink" title="æŸ¥çœ‹ç£ç›˜å’Œç›®å½•çš„å®¹é‡"></a>æŸ¥çœ‹ç£ç›˜å’Œç›®å½•çš„å®¹é‡</h4><ul><li>ä½¿ç”¨ <code>df</code> å‘½ä»¤æŸ¥çœ‹ç£ç›˜çš„å®¹é‡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure><p>-h: humanç¼©å†™ï¼Œä»¥æ˜“è¯»çš„æ–¹å¼æ˜¾ç¤ºç»“æœï¼ˆå³å¸¦å•ä½ï¼šæ¯”å¦‚M/Gï¼Œå¦‚æœä¸åŠ è¿™ä¸ªå‚æ•°ï¼Œæ˜¾ç¤ºçš„æ•°å­—ä»¥Bä¸ºå•ä½ï¼‰</p><p><img data-src="http://cdn.sekyoro.top/imgs/065755.png" alt="image-20210915221319880"></p><p>ç‰©ç†ä¸»æœºä¸Šçš„ <code>/dev/sda2</code> æ˜¯å¯¹åº”ç€ä¸»æœºç¡¬ç›˜çš„åˆ†åŒºï¼Œåé¢çš„æ•°å­—è¡¨ç¤ºåˆ†åŒºå·ï¼Œæ•°å­—å‰é¢çš„å­—æ¯ a è¡¨ç¤ºç¬¬å‡ å—ç¡¬ç›˜ï¼ˆä¹Ÿå¯èƒ½æ˜¯å¯ç§»åŠ¨ç£ç›˜ï¼‰ï¼Œä½ å¦‚æœä¸»æœºä¸Šæœ‰å¤šå—ç¡¬ç›˜åˆ™å¯èƒ½è¿˜ä¼šå‡ºç° <code>/dev/sdb</code>ï¼Œ<code>/dev/sdc</code> è¿™äº›ç£ç›˜è®¾å¤‡éƒ½ä¼šåœ¨ <code>/dev</code> ç›®å½•ä¸‹ä»¥æ–‡ä»¶çš„å­˜åœ¨å½¢å¼</p><p>ä½¿ç”¨ <code>du</code> å‘½ä»¤æŸ¥çœ‹ç›®å½•çš„å®¹é‡</p><p>-s é€’å½’æ•´ä¸ªç›®å½•çš„å¤§å°</p><p>-h å¯¹äººå¯è¯» å³æ˜¾ç¤ºM/GB</p><h3 id="ç£ç›˜æŒ‚è½½"><a href="#ç£ç›˜æŒ‚è½½" class="headerlink" title="ç£ç›˜æŒ‚è½½"></a>ç£ç›˜æŒ‚è½½</h3><p><img data-src="/images/70.png" alt="img"></p><p>lsblk</p><p>æŸ¥çœ‹ç£ç›˜æŒ‚è½½æƒ…å†µ</p><p><img data-src="http://cdn.sekyoro.top/imgs/065758.png" alt="image-20210915221448745"></p><p>fdisk -l æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰è¯†åˆ«åˆ°çš„ç£ç›˜</p><p><img data-src="http://cdn.sekyoro.top/imgs/065801.png" alt="image-20210915221545182"></p><h4 id="mkfs-å‘½ä»¤æ ¼å¼åŒ–ç£ç›˜"><a href="#mkfs-å‘½ä»¤æ ¼å¼åŒ–ç£ç›˜" class="headerlink" title="mkfs å‘½ä»¤æ ¼å¼åŒ–ç£ç›˜"></a>mkfs å‘½ä»¤æ ¼å¼åŒ–ç£ç›˜</h4><p><img data-src="http://cdn.sekyoro.top/imgs/065803.png" alt="image-20210915200330145"></p><p>sudo mkfs.ext4 ç£ç›˜(ä¹Ÿå¯ä»¥æ˜¯è™šæ‹Ÿè½¯ç›˜)</p><h4 id="mount-å‘½ä»¤æŒ‚è½½ç£ç›˜åˆ°ç›®å½•æ ‘"><a href="#mount-å‘½ä»¤æŒ‚è½½ç£ç›˜åˆ°ç›®å½•æ ‘" class="headerlink" title="mount å‘½ä»¤æŒ‚è½½ç£ç›˜åˆ°ç›®å½•æ ‘"></a>mount å‘½ä»¤æŒ‚è½½ç£ç›˜åˆ°ç›®å½•æ ‘</h4><p>ç”¨æˆ·è¦å¯¹è¯¥æ–‡ä»¶ç³»ç»Ÿæ‰§è¡Œ <code>mount</code> çš„æŒ‡ä»¤ä»¥è¿›è¡ŒæŒ‚è½½ã€‚è¯¥æŒ‡ä»¤é€šå¸¸æ˜¯ä½¿ç”¨åœ¨ USB æˆ–å…¶ä»–å¯ç§»é™¤å­˜å‚¨è®¾å¤‡ä¸Šï¼Œè€Œæ ¹ç›®å½•åˆ™éœ€è¦å§‹ç»ˆä¿æŒæŒ‚è½½çš„çŠ¶æ€ã€‚åˆå› ä¸º Linux/UNIX æ–‡ä»¶ç³»ç»Ÿå¯ä»¥å¯¹åº”ä¸€ä¸ªæ–‡ä»¶è€Œä¸ä¸€å®šè¦æ˜¯ç¡¬ä»¶è®¾å¤‡ï¼Œæ‰€ä»¥å¯ä»¥æŒ‚è½½ä¸€ä¸ªåŒ…å«æ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶åˆ°ç›®å½•æ ‘ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount [options] [<span class="built_in">source</span>] [directory]</span><br></pre></td></tr></table></figure><h5 id="å®ä¾‹-1"><a href="#å®ä¾‹-1" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h5><p>1.å¢åŠ ä¸€å—ç¡¬ç›˜</p><p>å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸‹æ·»åŠ ä¸€ä¸ªç¡¬å—</p><p>æˆ–è€…ä½¿ç”¨ ddå‘½ä»¤åˆ¶ä½œè½¯ç›˜</p><p>dd if=/dev/zero of=virtual.img bs=1M count=256</p><p><img data-src="http://cdn.sekyoro.top/imgs/093942.png" alt="image-20210915222919566"></p><p>æˆ‘è¿™é‡Œæ·»åŠ äº†ä¸€ä¸ªæ–°ç¡¬ç›˜</p><p>ä½¿ç”¨df -h æŸ¥çœ‹å·²æŒ‚è½½çš„ç£ç›˜</p><p><img data-src="http://cdn.sekyoro.top/imgs/065804.png" alt="image-20210915224037960"></p><p>ç„¶åä½¿ç”¨ fdisk -l æŸ¥çœ‹ç³»ç»Ÿåˆ†åŒºæƒ…å†µ</p><p><img data-src="http://cdn.sekyoro.top/imgs/065806.png" alt="image-20210915224258674"></p><p>å‘ç° sda,ä¹Ÿå°±æ˜¯åˆšåˆšæ·»åŠ çš„5Gç¡¬ç›˜æ²¡æœ‰æŒ‚è½½</p><p>ç»§ç»­ä½¿ç”¨lsblkè¿˜å¯ä»¥æŸ¥çœ‹ä¸€äº›æƒ…å†µ</p><p><img data-src="http://cdn.sekyoro.top/imgs/065809.png" alt="image-20210915224357414"></p><p>å‘ç°  sdaç¡®å®æ²¡æœ‰æŒ‚è½½ç‚¹</p><p>å°±å†³å®šæŒ‚è½½å®ƒäº†!</p><p>å¦‚æœæ˜¯è‡ªå·±åˆ›å»ºçš„è½¯ç›˜å†ä½¿ç”¨mkfsæ ¼å¼åŒ–</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkfs.ext4 virtual.img</span><br></pre></td></tr></table></figure><p>2.åˆ†åŒº</p><p>sudo fdisk virtual.img(è½¯ç›˜)</p><p>sudo fdisk /dev/sdb (æ·»åŠ çš„ç¡¬ç›˜)</p><p>æŒ‰ç…§æŒ‡ç¤ºå®Œæˆåˆ†åŒº</p><p><img data-src="http://cdn.sekyoro.top/imgs/093944.png" alt="image-20210915224757951"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065810.png" alt="image-20210915224847528"></p><p>è¿™æ ·å°±åˆ†å¥½åŒºäº†,åˆ†äº†ä¸€ä¸ªä¸»åŒº</p><p><img data-src="http://cdn.sekyoro.top/imgs/065816.png" alt="image-20210915225032272"></p><p>ä½¿ç”¨fdisk -l å‘ç°æœ‰äº†æ ‡è¯†ç¬¦</p><p>3.æ ¼å¼åŒ–</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs -t ext4 /dev/sda1</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065817.png" alt="image-20210915225208889"></p><p>4.æŒ‚è½½ </p><p>å…ˆåˆ›å»ºä¸€ä¸ªç›®å½•,ä½¿ç”¨</p><p>mount è®¾å¤‡å ç›®å½•å</p><p><strong>ç›®å½•æœ€å¥½å»ºç«‹åœ¨/mntä¸‹ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä¸“é—¨æŒ‚è½½çš„ã€‚</strong></p><p><img data-src="http://cdn.sekyoro.top/imgs/065823.png" alt="image-20210915225335936"></p><p>å¦‚æœé‡å¯è¿™ç§æŒ‚è½½å…³ç³»å°±ä¼šæ¶ˆå¤±</p><p>è¿™æ˜¯ä¸´æ—¶æŒ‚è½½</p><p><img data-src="http://cdn.sekyoro.top/imgs/065825.png" alt="image-20210915225425145"></p><p>df -h å‘ç°æŒ‚è½½æˆåŠŸäº†</p><h4 id="è®¾ç½®å¼€æœºæŒ‚è½½"><a href="#è®¾ç½®å¼€æœºæŒ‚è½½" class="headerlink" title="è®¾ç½®å¼€æœºæŒ‚è½½"></a>è®¾ç½®å¼€æœºæŒ‚è½½</h4><ol><li>æŸ¥çœ‹å¼€æœºæŒ‚è½½fstabæ–‡ä»¶<br>ç³»ç»Ÿå¼€æœºæ—¶ä¼šä¸»åŠ¨è¯»å–/etc/fstabè¿™ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ ¹æ®æ–‡ä»¶é‡Œé¢çš„é…ç½®æŒ‚è½½ç£ç›˜ã€‚<br><code># cat /etc/fstab</code></li></ol><blockquote><p>æ¯ä¸€åˆ—ä»£è¡¨çš„å«ä¹‰ï¼š<br>ç¬¬ä¸€åˆ—ï¼šç£ç›˜çš„ç¼–å·æˆ–è€…UUID //æŒ‚è½½ç‚¹éœ€è¦ä½¿ç”¨UUIDæ¥è¿›è¡ŒæŒ‚è½½<br>ç¬¬äºŒåˆ—ï¼šéœ€è¦æŒ‚è½½åˆ°çš„ç›®å½•<br>ç¬¬ä¸‰åˆ—ï¼šæ–‡ä»¶ç³»ç»Ÿæ ¼å¼<br>ç¬¬å››åˆ—ï¼šç³»ç»Ÿçš„é»˜è®¤å‚æ•°ï¼Œä¸€èˆ¬å¡«defaults<br>ç¬¬äº”åˆ—ï¼šæ˜¯å¦åšdumpå¤‡ä»½ï¼Œ0è¡¨ç¤ºä¸å¤‡ä»½ï¼Œ1è¡¨ç¤ºæ¯å¤©å¤‡ä»½ï¼Œ2è¡¨ç¤ºä¸å®šæœŸå¤‡ä»½<br>ç¬¬å…­åˆ—ï¼šæ˜¯å¦å¼€æœºæ£€æŸ¥æ‰‡åŒºï¼š0è¡¨ç¤ºä¸æ£€æŸ¥ï¼Œ1è¡¨ç¤ºæœ€æ—©æ£€éªŒï¼Œ2è¡¨ç¤ºåœ¨1ä¹‹åå¼€å§‹æ£€éªŒ</p></blockquote><h4 id="è§£é™¤æŒ‚è½½"><a href="#è§£é™¤æŒ‚è½½" class="headerlink" title="è§£é™¤æŒ‚è½½"></a>è§£é™¤æŒ‚è½½</h4><p>umount è®¾å¤‡å</p>]]></content>
      
      
      <categories>
          
          <category> Linux_study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç”¨æˆ·ä¸ç”¨æˆ·ç»„ç®¡ç†</title>
      <link href="2021/09/21/%E5%91%BD%E4%BB%A4%E9%9B%86-3/"/>
      <url>2021/09/21/%E5%91%BD%E4%BB%A4%E9%9B%86-3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Linuxç”¨æˆ·ä¸ç”¨æˆ·ç»„ç®¡ç†"><a href="#Linuxç”¨æˆ·ä¸ç”¨æˆ·ç»„ç®¡ç†" class="headerlink" title="Linuxç”¨æˆ·ä¸ç”¨æˆ·ç»„ç®¡ç†"></a>Linuxç”¨æˆ·ä¸ç”¨æˆ·ç»„ç®¡ç†</h2><p>ä¸Šä¸€èŠ‚å·²ç»æåˆ°äº†ä¸€äº›Linuxç”¨æˆ·çš„çŸ¥è¯†</p><p>å¤§éƒ¨åˆ† Linux ç³»ç»Ÿåœ¨å®‰è£…æ—¶éƒ½ä¼šå»ºè®®ç”¨æˆ·æ–°å»ºä¸€ä¸ªç”¨æˆ·è€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ root ç”¨æˆ·è¿›è¡Œç™»å½•ï¼Œå½“ç„¶ä¹Ÿæœ‰ç›´æ¥ä½¿ç”¨ root ç™»å½•çš„ä¾‹å¦‚ Kaliï¼ˆåŸºäº Debian çš„ Linux å‘è¡Œç‰ˆï¼Œé›†æˆå¤§é‡å·¥å…·è½¯ä»¶ï¼Œä¸»è¦ç”¨äºæ•°å­—å–è¯çš„æ“ä½œç³»ç»Ÿï¼‰ã€‚ä¸€èˆ¬æˆ‘ä»¬ç™»å½•ç³»ç»Ÿæ—¶éƒ½æ˜¯ä»¥æ™®é€šè´¦æˆ·çš„èº«ä»½ç™»å½•çš„ï¼Œè¦åˆ›å»ºç”¨æˆ·éœ€è¦ root æƒé™ï¼Œè¦ç”¨åˆ° <code>sudo</code> å‘½ä»¤ã€‚</p><span id="more"></span><h3 id="åˆ‡æ¢ç”¨æˆ·"><a href="#åˆ‡æ¢ç”¨æˆ·" class="headerlink" title="åˆ‡æ¢ç”¨æˆ·"></a>åˆ‡æ¢ç”¨æˆ·</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su &lt;user\&gt;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æˆ·åˆ‡æ¢åˆ°user,éœ€è¦è¾“å…¥ç›®æ ‡ç”¨æˆ·çš„å¯†ç </p><p>sudo <cmd\>å¯ä»¥ä»¥ç‰¹æƒçº§åˆ«è¿è¡Œ cmd å‘½ä»¤ï¼Œéœ€è¦å½“å‰ç”¨æˆ·å±äº sudo ç»„ï¼Œä¸”éœ€è¦è¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su - &lt;user\&gt;</span><br></pre></td></tr></table></figure><p>åˆ‡æ¢ç”¨æˆ·ï¼Œä½†æ˜¯åŒæ—¶ç”¨æˆ·çš„ç¯å¢ƒå˜é‡å’Œå·¥ä½œç›®å½•ä¹Ÿä¼šè·Ÿç€æ”¹å˜æˆç›®æ ‡ç”¨æˆ·æ‰€å¯¹åº”çš„</p><h3 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo adduser \&lt;user&gt;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ·»åŠ ç”¨æˆ·æ“ä½œä¹Ÿä¼šç›¸åº”çš„å¢åŠ ä¸€ä¸ªåŒåçš„ç»„ï¼Œç”¨æˆ·å±äºåŒåç»„</p><p><img data-src="http://cdn.sekyoro.top/imgs/092949.png" alt="image-20210914162057186"></p><p>è¿™ä¸ªå‘½ä»¤ä¸ä½†å¯ä»¥æ·»åŠ ç”¨æˆ·åˆ°ç³»ç»Ÿï¼ŒåŒæ—¶ä¹Ÿä¼šé»˜è®¤ä¸ºæ–°ç”¨æˆ·åœ¨ /home ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•</p><p><img data-src="http://cdn.sekyoro.top/imgs/092951.png" alt="image-20210914162257824"></p><h3 id="ç”¨æˆ·ç»„"><a href="#ç”¨æˆ·ç»„" class="headerlink" title="ç”¨æˆ·ç»„"></a>ç”¨æˆ·ç»„</h3><p>åœ¨ Linux é‡Œé¢æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªå½’å±ï¼ˆç”¨æˆ·ç»„ï¼‰ï¼Œç”¨æˆ·ç»„ç®€å•åœ°ç†è§£å°±æ˜¯ä¸€ç»„ç”¨æˆ·çš„é›†åˆï¼Œå®ƒä»¬å…±äº«ä¸€äº›èµ„æºå’Œæƒé™ï¼ŒåŒæ—¶æ‹¥æœ‰ç§æœ‰èµ„æº</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groups</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç”¨æˆ·æ‰€å±ç”¨æˆ·ç»„</p><p>æ–°å»ºçš„ç”¨æˆ· æ‰€å±ç”¨æˆ·ç»„å³è‡ªèº«</p><p><img data-src="http://cdn.sekyoro.top/imgs/065134.png" alt="image-20210914162603936"></p><p>ä¸€ä¸ªç”¨æˆ·å¯ä»¥å±äºå¤šä¸ªç»„ï¼Œå°†ç”¨æˆ·åŠ å…¥åˆ°ç»„:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$usermod</span> -G groupName username</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065135.png" alt="image-20210914163504552"></p><p>è¿™æ ·stuå°±æ‹¥æœ‰sudoæƒé™äº†</p><p><img data-src="http://cdn.sekyoro.top/imgs/065140.png" alt="image-20210914164017539"></p><p>å˜æ›´ç”¨æˆ·æ‰€å±çš„æ ¹ç»„(å°†ç”¨æˆ·åŠ å…¥åˆ°æ–°çš„ç»„ï¼Œå¹¶ä»åŸæœ‰çš„ç»„ä¸­é™¤å»ï¼‰:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$usermod</span> -g groupName username</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤ç”¨æˆ·"><a href="#åˆ é™¤ç”¨æˆ·" class="headerlink" title="åˆ é™¤ç”¨æˆ·"></a>åˆ é™¤ç”¨æˆ·</h3><p><code>sudo deluser lilei --remove-home</code></p><p><img data-src="http://cdn.sekyoro.top/imgs/065145.png" alt="image-20210914164438751"></p><p>ç³»ç»Ÿçš„æ‰€æœ‰ç”¨æˆ·åŠæ‰€æœ‰ç»„ä¿¡æ¯åˆ†åˆ«è®°å½•åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­ï¼š/etc/passwd , /etc/group é»˜è®¤æƒ…å†µä¸‹è¿™ä¸¤ä¸ªæ–‡ä»¶å¯¹æ‰€æœ‰ç”¨æˆ·å¯è¯»ï¼š</p><p>æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·åŠæƒé™:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$more</span> /etc/passwd</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ‰€æœ‰çš„ç”¨æˆ·ç»„åŠæƒé™:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$more</span> /etc/group</span><br></pre></td></tr></table></figure><p>å½“ç„¶ less is better than more</p><h5 id="etc-group-æ–‡ä»¶æ ¼å¼è¯´æ˜"><a href="#etc-group-æ–‡ä»¶æ ¼å¼è¯´æ˜" class="headerlink" title="etc/group æ–‡ä»¶æ ¼å¼è¯´æ˜"></a><code>etc/group</code> æ–‡ä»¶æ ¼å¼è¯´æ˜</h5><p>/etc/group çš„å†…å®¹åŒ…æ‹¬ç”¨æˆ·ç»„ï¼ˆGroupï¼‰ã€ç”¨æˆ·ç»„å£ä»¤ã€GIDï¼ˆç»„ IDï¼‰ åŠè¯¥ç”¨æˆ·ç»„æ‰€åŒ…å«çš„ç”¨æˆ·ï¼ˆUserï¼‰ï¼Œæ¯ä¸ªç”¨æˆ·ç»„ä¸€æ¡è®°å½•ã€‚æ ¼å¼å¦‚ä¸‹ï¼š</p><blockquote><p>group_name:password:GID:user_list</p></blockquote><p>å¦‚æœç”¨æˆ·çš„ GID ç­‰äºç”¨æˆ·ç»„çš„ GIDï¼Œé‚£ä¹ˆæœ€åä¸€ä¸ªå­—æ®µ <code>user_list</code> å°±æ˜¯ç©ºçš„</p><p><img data-src="http://cdn.sekyoro.top/imgs/065147.png" alt="image-20210914171348580"></p><p>xè¡¨ç¤ºå¯†ç  ä¸å¯è§</p><p>åˆ©ç”¨æŸ¥çœ‹æ–‡ä»¶å‘½ä»¤å¯ä»¥çŸ¥é“æœ‰æ²¡æœ‰è¯¥ç”¨æˆ·</p><p>grepå¯ä»¥ç”¨äºæœç´¢</p><p><img data-src="http://cdn.sekyoro.top/imgs/065148.png" alt="image-20210914164726095"></p><h3 id="æ·»åŠ ç”¨æˆ·ç»„"><a href="#æ·»åŠ ç”¨æˆ·ç»„" class="headerlink" title="æ·»åŠ ç”¨æˆ·ç»„"></a>æ·»åŠ ç”¨æˆ·ç»„</h3><p><code>groupadd</code>å‘½ä»¤<br>åŠŸèƒ½ï¼šæ·»åŠ ç”¨æˆ·ç»„<br>ç”¨æ³•ï¼šgroupadd [-g gid][-o][-r][-f] groupname<br>å‚æ•°<br>-g gidï¼šé™¤éä½¿ç”¨-oå‚æ•°ä¸ç„¶è¯¥å€¼å¿…é¡»æ˜¯å”¯ä¸€ï¼Œä¸å¯ç›¸åŒã€‚æ•°å€¼ä¸å¯ä¸ºè´Ÿã€‚<br>-oï¼šå…è®¸è®¾ç½®ç›¸åŒç»„idçš„ç¾¤ç»„<br>-rï¼šå»ºç«‹ç³»ç»Ÿç»„<br>-fï¼šå¼ºåˆ¶æ‰§è¡Œï¼Œé»˜è®¤æ˜¯ä¸å…è®¸åˆ›å»ºç›¸åŒidçš„ç»„çš„ï¼Œä½¿ç”¨æ­¤å‚æ•°å°±å¯ä»¥ï¼Œè€Œä¸”ä¸ç”¨-oé€‰é¡¹ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065149.png" alt="image-20210914165619148"></p><h3 id="ä¿®æ”¹ç”¨æˆ·ç»„"><a href="#ä¿®æ”¹ç”¨æˆ·ç»„" class="headerlink" title="ä¿®æ”¹ç”¨æˆ·ç»„"></a>ä¿®æ”¹ç”¨æˆ·ç»„</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupmod</span><br></pre></td></tr></table></figure><p>å‘½ä»¤<br>åŠŸèƒ½ï¼šä¿®æ”¹ç”¨æˆ·ç»„<br>ç”¨æ³•ï¼šgroupmod [-g gid [-o]] [-n group_name] group<br>å‚æ•°ï¼š<br>-g gidï¼šæŒ‡å®šid<br>-oï¼šä¸groupaddç›¸åŒ<br>-n group_nameï¼šä¿®æ”¹ç”¨æˆ·ç»„åä¸ºgroup_name</p><p><img data-src="http://cdn.sekyoro.top/imgs/065152.png" alt="image-20210914165717338"></p><h3 id="åˆ é™¤ç”¨æˆ·ç»„"><a href="#åˆ é™¤ç”¨æˆ·ç»„" class="headerlink" title="åˆ é™¤ç”¨æˆ·ç»„"></a>åˆ é™¤ç”¨æˆ·ç»„</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delgroup  &lt;groupname\&gt;</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065154.png" alt="image-20210914165056709"></p><p>åˆ é™¤ç”¨æˆ·ç»„å¯ä»¥ä½¿ç”¨ <code>groupdel</code> å‘½ä»¤ï¼Œå€˜è‹¥è¯¥ç¾¤ç»„ä¸­ä»åŒ…æ‹¬æŸäº›ç”¨æˆ·ï¼Œåˆ™å¿…é¡»å…ˆåˆ é™¤è¿™äº›ç”¨æˆ·åï¼Œæ‰èƒ½åˆ é™¤ç¾¤ç»„ã€‚</p><p>æ³¨æ„ adduser ä¸useraddéƒ½æœ‰,ä½†æ˜¯æœ‰å·®åˆ«</p><p><code>useradd</code> åªåˆ›å»ºç”¨æˆ·ï¼Œä¸ä¼šåˆ›å»ºç”¨æˆ·å¯†ç å’Œå·¥ä½œç›®å½•ï¼Œåˆ›å»ºå®Œäº†éœ€è¦ä½¿ç”¨ <code>passwd &lt;username&gt;</code> å»è®¾ç½®æ–°ç”¨æˆ·çš„å¯†ç ã€‚<code>adduser</code> åœ¨åˆ›å»ºç”¨æˆ·çš„åŒæ—¶ï¼Œä¼šåˆ›å»ºå·¥ä½œç›®å½•å’Œå¯†ç ï¼ˆæç¤ºä½ è®¾ç½®ï¼‰ï¼Œåšè¿™ä¸€ç³»åˆ—çš„æ“ä½œ</p><p>è‹¥ä½¿ç”¨useradd åˆ™éœ€è¦ä½¿ç”¨$passwd usernameä¿®æ”¹å¯†ç </p><h3 id="æ‰¹é‡æ·»åŠ -åˆ é™¤ç”¨æˆ·"><a href="#æ‰¹é‡æ·»åŠ -åˆ é™¤ç”¨æˆ·" class="headerlink" title="æ‰¹é‡æ·»åŠ (åˆ é™¤ç”¨æˆ·)"></a>æ‰¹é‡æ·»åŠ (åˆ é™¤ç”¨æˆ·)</h3><p>æˆ‘åœ¨ç½‘ä¸Šæœåˆ°çš„åŠæ³•åŸºæœ¬éƒ½æ˜¯ç”¨è„šæœ¬æ‰§è¡Œ,è²Œä¼¼æ²¡æœ‰è¿™æ–¹é¢ç›´æ¥çš„å‘½ä»¤</p><p>å¦‚æœç”¨è„šæœ¬æ‰¹é‡å¤„ç†çš„è¯,è¿™ä¸ªé—®é¢˜ä¹Ÿå°±ä¸ç®—é—®é¢˜äº†</p><p>å‰ææ˜¯è¦ä¼šå†™shellè„šæœ¬</p><p>å…³äºvimä»¥åŠshellè„šæœ¬å­¦ä¹ å†…å®¹è¿˜æ˜¯ä¸å°‘çš„</p><p>æˆ‘åé¢ä¼šå†™ä¸€ç‚¹</p><p><img data-src="http://cdn.sekyoro.top/imgs/065157.png" alt="image-20210914172622881"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065200.png" alt="image-20210914172610914"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065217.png" alt="image-20210914172252606"></p><p>æˆ‘åœ¨ubuntuä¸Šè¯•äº†ä¸€ä¸‹,å‘ç°ä¼šæŠ¥é”™  stdinè¯†åˆ«ä¸äº†</p><p>è¿™ç§æ–¹æ³•åªèƒ½åœ¨å…¶ä»–å‘è¡Œç‰ˆç”¨</p><p>æ‰€ä»¥æ¢äº†ä¸€ä¸ªæ–¹æ³•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> username:newpasswd | chpasswd</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065220.png" alt="image-20210914190012781"></p><p><strong>æ³¨æ„</strong>  useraddå¹¶ä¸ä¼šæ·»åŠ ä¸»ç›®å½•,éœ€è¦åŠ ä¸Šå‚æ•°</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$useradd</span> -m username</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¸ºç”¨æˆ·åˆ›å»ºç›¸åº”çš„å¸å·å’Œç”¨æˆ·ç›®å½•/home/usernameï¼›</p><p>æˆ‘åŠ ä¸Š-må‚æ•°å</p><p><img data-src="http://cdn.sekyoro.top/imgs/065221.png" alt="image-20210914190234095"></p><p>ä½†æ˜¯!!!</p><p>æˆ‘å‘ç°æ²¡æœ‰åŠæ³•ç™»å½•,è¾“å…¥åŸæœ¬çš„å¯†ç ä¸è¡Œ</p><p>äºæ˜¯æŸ¥çœ‹äº† shadowæ–‡ä»¶(å­˜å‚¨ç”¨æˆ·å¯†ç çš„)</p><p><img data-src="http://cdn.sekyoro.top/imgs/065224.png" alt="image-20210914192729556"></p><p>å¯†ç æ˜¯ ï¼è¡¨ç¤ºè¢«é”äº†,ç„¶åæˆ‘å‘ç°å¦‚æœç”¨ |å°±ä¼šæŠ¥é”™</p><p><img data-src="http://cdn.sekyoro.top/imgs/065226.png" alt="image-20210914192816986"></p><p><img data-src="http://cdn.sekyoro.top/imgs/092953.png" alt="image-20210914192907922"></p><p>è¯´æ˜¯è®¤è¯ä»¤ç‰Œé”™è¯¯,ç„¶åæˆ‘å°†chpasswdæå‡åˆ°sudo,å³</p><p><img data-src="http://cdn.sekyoro.top/imgs/065227.png" alt="image-20210914192959814"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065229.png" alt="image-20210914193038777"></p><p>ä¿®æ”¹æˆåŠŸäº†..æ‰€ä»¥è¯´æ˜¯æƒé™ä¸å¤Ÿâ€¦</p><p>å¹¶ä¸”æˆ‘ä¸æ¸…æ¥š | ä¸ &gt;çš„å·®åˆ«..</p><p>åé¢æˆ‘å†å†™ä¸€äº›é‡å®šå‘ä¸ç®¡é“..</p><p>æ‰¹é‡åˆ é™¤ç”¨æˆ·  ä¸”åˆ é™¤ç”¨æˆ·ç›®å½• -r</p><p><img data-src="http://cdn.sekyoro.top/imgs/065232.png" alt="image-20210914191430644"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065233.png" alt="image-20210914191500303"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chpasswd &lt; user.txt</span><br></pre></td></tr></table></figure><h4 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h4><p>ä¹Ÿå¯ä»¥åˆ©ç”¨newusersä¸chpasswdæ‰¹é‡æ–°å»ºç”¨æˆ·</p><p>ä¸€ä¸ªuser.txtå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user001:x600: 100:user:/home/user001:/bin/bashwin00: x:520:520::/home/win00:/sbin/nologin  é€šè¿‡è¿™ä¸ªå±æ€§è®©ç”¨æˆ·æ— æ³•ç™»å½•</span><br></pre></td></tr></table></figure><blockquote><p>å­—æ®µå«ä¹‰ï¼š</p><p>Accountï¼šç”¨æˆ·çš„åç§°ï¼Œå¦‚ä¾‹å­ä¸­çš„rootï¼›</p><p>Passwordï¼šç”¨æˆ·å¯†ç ï¼Œæˆ‘ä»¬çœ‹åˆ°è¿™é‡Œåªæ˜¾ç¤ºxï¼Œä¸æ˜¯æŒ‡å¯†ç å°±ä¸ºxï¼Œè€Œæ˜¯è¡¨ç¤ºè¯¥å¯†ç å·²ç»è¢«ç§»åŠ¨åˆ°shadowä¸­å»äº†ã€‚</p><p>UIDï¼šç”¨æˆ·IDã€‚</p><p>GIDï¼šç»„IDã€‚æŒ‡æ˜ç”¨æˆ·æ‰€å±ç»„ã€‚</p><p>GECOSï¼šä¸€èˆ¬è¯´æ˜ç”¨æˆ·ä¿¡æ¯çš„</p><p>Directoryï¼šå³å¸¸è¯´çš„å®¶ç›®å½•</p><p>Shellï¼šç”¨æ¥æŒ‡æ˜ç”¨æˆ·ç™»å½•æ—¶é¢„è®¾ä½¿ç”¨çš„bash</p></blockquote><p>ï¼ˆ2ï¼‰newusers &lt; user.txt</p><p>ç„¶åå¯ä»¥æ‰§è¡Œcat /etc/passwdæ£€æŸ¥/etc/passwdæ–‡ä»¶æ˜¯å¦å·²ç»å‡ºç°è¿™äº›ç”¨æˆ·çš„æ•°æ®ï¼Œå¹¶ä¸”ç”¨æˆ·çš„å®¿ä¸»ç›®å½•æ˜¯å¦å·²ç»åˆ›å»ºã€‚æ­¤æ—¶å°±ä¼šåœ¨/etc/shadowä¸­å¯¹æ–°å¢çš„ç”¨æˆ·äº§ç”Ÿå¯†ç </p><p>ï¼ˆ3ï¼‰ç¼–è¾‘æ¯ä¸ªç”¨æˆ·çš„å¯†ç å¯¹ç…§æ–‡ä»¶ï¼Œ</p><p>èŒƒä¾‹æ–‡ä»¶passwd.txtå†…å®¹å¦‚ä¸‹:</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user001:å¯†ç user002:å¯†ç ....</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰chpasswd &lt; passwd.txt</p>]]></content>
      
      
      <categories>
          
          <category> Linux_study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux æ–‡ä»¶ç®¡ç†åŠç›®å½•ä¸æƒé™æ§åˆ¶</title>
      <link href="2021/09/21/%E5%91%BD%E4%BB%A4%E9%9B%86-2/"/>
      <url>2021/09/21/%E5%91%BD%E4%BB%A4%E9%9B%86-2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Linux-æ–‡ä»¶ç®¡ç†åŠç›®å½•ä¸æƒé™æ§åˆ¶"><a href="#Linux-æ–‡ä»¶ç®¡ç†åŠç›®å½•ä¸æƒé™æ§åˆ¶" class="headerlink" title="Linux æ–‡ä»¶ç®¡ç†åŠç›®å½•ä¸æƒé™æ§åˆ¶"></a>Linux æ–‡ä»¶ç®¡ç†åŠç›®å½•ä¸æƒé™æ§åˆ¶</h2><p><strong>å‰è¨€</strong></p><p>äº‹å®ä¸Šæåˆ°å¯¹æ–‡ä»¶åŠç›®å½•ç®¡ç†æ—¶,æˆ‘è®¤ä¸ºæ— æ³•é¿å…ä¼šè¯´åˆ°ç”¨æˆ·åŠç”¨æˆ·ç»„.æ‰€ä»¥åœ¨è¿™ä¸ªä¸»é¢˜ä¸‹å…ˆæåŠä¸€ä¸‹.</p><p>Linuxå¯ä»¥å®ç°å¤šç”¨æˆ·ç™»é™†,è¿™äº›ç”¨æˆ·å¯ä»¥å…±äº«ä¸€äº›æ–‡ä»¶,ä½†ä»–ä»¬ä¹Ÿéƒ½æœ‰è‡ªå·±çš„ç©ºé—´.å®é™…ä¸Šä»–ä»¬çš„æ–‡ä»¶éƒ½æ˜¯æ”¾åœ¨åŒä¸€ä¸ªç‰©ç†ç£ç›˜ç”šè‡³åŒä¸€ä¸ªç›®å½•çš„.è¿™å°±æ˜¯å› ä¸º<strong>ç”¨æˆ·ç®¡ç†</strong>ä¸<strong>æƒé™æœºåˆ¶</strong>ã€‚<br><span id="more"></span><br>æ‰€ä»¥æœ‰äº›æ–‡ä»¶,æˆ‘ä»¬å¯èƒ½æ— æ³•è¿›è¡Œæ›´æ”¹,åé¢ä¼šæåˆ°.</p><p>è¾“å…¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">who am i </span><br></pre></td></tr></table></figure><p>å¯ä»¥æŸ¥çœ‹å½“å‰ç”¨æˆ·</p><p><img data-src="http://cdn.sekyoro.top/imgs/065407.png" alt="image-20210913235127244"></p><p>rootè´¦æˆ·æƒé™æœ€é«˜,å¯ä»¥å¯¹å…¶ä»–ç”¨æˆ·æ–‡ä»¶è¿›è¡Œåˆ æ”¹</p><p>sudo å‘½ä»¤æå‡æƒé™,å¦åˆ™ä¸€äº›å‘½ä»¤å¯èƒ½æ— æ³•æ‰§è¡Œ</p><p>è¿™ä¸ªå‘½ä»¤ä¼šå¸¸ç”¨</p><p>sudo  #ä½¿ç”¨è¿™ä¸ªå‘½ä»¤éœ€è¦çŸ¥é“å½“å‰ç™»é™†ç”¨æˆ·å¯†ç ä¸”è¯¥ç”¨æˆ·åœ¨sudoç”¨æˆ·ç»„å†….</p><p>ç”¨æˆ·ç»„å°±æ˜¯è‹¥å¹²ä¸ªç”¨æˆ·åœ¨ä¸€èµ·çš„ç»„åˆ,å…¶ä»–ç”¨æˆ·å°±æ˜¯æ—¢ä¸æ˜¯æœ¬èº«ç”¨æˆ·ä¹Ÿä¸æ˜¯è¿™ä¸ªç”¨æˆ·ç»„é‡Œçš„ç”¨æˆ·.</p><h3 id="æ–‡ä»¶åŠç›®å½•çš„ç®¡ç†"><a href="#æ–‡ä»¶åŠç›®å½•çš„ç®¡ç†" class="headerlink" title="æ–‡ä»¶åŠç›®å½•çš„ç®¡ç†"></a>æ–‡ä»¶åŠç›®å½•çš„ç®¡ç†</h3><p>æœ‰äº†äº›åŸºæœ¬çŸ¥è¯†å°±å¯ä»¥å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œäº†</p><p>Linuxç›®å½•ç»“æ„ä¸Windowsä¸åŒ,ä»¥ç›®å½•ä¸ºä¸».å¯ä»¥ç†è§£ä¸ºæ ‘å½¢ç›®å½•æ˜¯ä¸€ä¸ªç”¨æˆ·å¯æ“ä½œç³»ç»Ÿçš„éª¨æ¶ã€‚è™½ç„¶æœ¬è´¨ä¸Šæ— è®ºæ˜¯ç›®å½•ç»“æ„è¿˜æ˜¯æ“ä½œç³»ç»Ÿå†…æ ¸éƒ½æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ï¼Œä½†ä»é€»è¾‘ä¸Šæ¥è¯´ Linux çš„ç£ç›˜æ˜¯æŒ‚è½½åœ¨ç›®å½•ä¸Šçš„ï¼Œæ¯ä¸€ä¸ªç›®å½•ä¸ä»…èƒ½ä½¿ç”¨æœ¬åœ°ç£ç›˜åˆ†åŒºçš„æ–‡ä»¶ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç½‘ç»œä¸Šçš„æ–‡ä»¶ç³»ç»Ÿã€‚</p><p>Linuxç›®å½•é…ç½®ä¾æ® FHSã€‚æ ¹æ®è¿™ä¸ªæ ‡å‡†,Linuxçš„ç›®å½•è¯¥æ”¾é‚£äº›æ–‡ä»¶æ˜¯æœ‰è§„å®šçš„</p><p><img data-src="https://doc.shiyanlou.com/linux_base/4-1.png" alt="img"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065409.png" alt="img"></p><p><strong>å…³äºç›®å½•æ ‘</strong></p><p>ç»å¯¹è·¯å¾„: ç”±æ ¹ç›®å½•/å¼€å§‹å†™èµ·çš„æ–‡ä»¶åæˆ–ç›®å½•åç§°</p><p>ç›¸å¯¹è·¯å¾„:ç›¸å¯¹äºç›®å‰è·¯å¾„çš„æ–‡ä»¶åå†™æ³•</p><p># ç»å¯¹è·¯å¾„ </p><p>cd /usr/local/bin </p><h1 id="ç›¸å¯¹è·¯å¾„"><a href="#ç›¸å¯¹è·¯å¾„" class="headerlink" title="ç›¸å¯¹è·¯å¾„"></a>ç›¸å¯¹è·¯å¾„</h1><p>cd ../../usr/local/bin</p><p>cd    æ”¹å˜å½“å‰ç›®å½•</p><ul><li>æ‰¾åˆ°æ–‡ä»¶/ç›®å½•ä½ç½®ï¼šcd</li><li>åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªå·¥ä½œç›®å½•ï¼š cd -</li><li>åˆ‡æ¢åˆ°homeç›®å½•ï¼š cd or cd ~</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/093329.png" alt="image-20210913192130268"></p><ul><li>æ˜¾ç¤ºå½“å‰è·¯å¾„: pwd</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/093331.png" alt="image-20210913192046022"></p><ul><li><p>æ›´æ”¹å½“å‰å·¥ä½œè·¯å¾„ä¸º</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path: <span class="variable">$cd</span> path</span><br></pre></td></tr></table></figure></li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/093333.png" alt="image-20210913192304748"></p><p>.. è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•</p><p>.  è¡¨ç¤ºå½“å‰ç›®å½•</p><p>ç°åœ¨å¯ä»¥å¼€å§‹å¯¹æ–‡ä»¶çš„æŸ¥çœ‹äº†</p><p>å‘½ä»¤</p><ul><li>åˆ›å»ºç›®å½•ï¼šmkdir</li><li>åˆ é™¤ï¼šrm</li><li>åˆ é™¤éç©ºç›®å½•ï¼šrm -rf fileç›®å½•</li><li>åˆ é™¤æ—¥å¿— rm <em>log (ç­‰ä»·: $find ./ -name â€œ</em>logâ€ -exec rm {} ;)</li><li>ç§»åŠ¨ï¼šmv</li><li>å¤åˆ¶ï¼šcp (å¤åˆ¶ç›®å½•ï¼šcp -r )</li><li>åˆ›å»ºæ–‡ä»¶:touch</li></ul><h4 id="æ–°å»º"><a href="#æ–°å»º" class="headerlink" title="æ–°å»º"></a>æ–°å»º</h4><h5 id="touch-åˆ›å»ºç©ºç™½æ–‡ä»¶"><a href="#touch-åˆ›å»ºç©ºç™½æ–‡ä»¶" class="headerlink" title="touch åˆ›å»ºç©ºç™½æ–‡ä»¶"></a>touch åˆ›å»ºç©ºç™½æ–‡ä»¶</h5><p><img data-src="http://cdn.sekyoro.top/imgs/093335.png" alt="image-20210913192915649"></p><h5 id="mkdir-æ–°å»ºç›®å½•"><a href="#mkdir-æ–°å»ºç›®å½•" class="headerlink" title="mkdir æ–°å»ºç›®å½•"></a>mkdir æ–°å»ºç›®å½•</h5><p><img data-src="http://cdn.sekyoro.top/imgs/093336.png" alt="image-20210913193233984"></p><p>æˆ‘ä»¬å‘ç°å¦‚æœæƒ³åˆ›å»ºå¤šå±‚çš„ç›®å½•ç›´æ¥ä½¿ç”¨mkdirä¸è¡Œ,éœ€è¦ mkdir -p</p><p><img data-src="http://cdn.sekyoro.top/imgs/093338.png" alt="image-20210913193350560"></p><p>åŒæ—¶ä¸€ä¸ªç›®å½•ä¸‹æ–‡ä»¶ä¸èƒ½ä¸æ–‡ä»¶å¤¹åŒå</p><h4 id="å¤åˆ¶"><a href="#å¤åˆ¶" class="headerlink" title="å¤åˆ¶"></a>å¤åˆ¶</h4><p>ä½¿ç”¨ cpå‘½ä»¤ï¼ˆcopyï¼‰å¤åˆ¶ä¸€ä¸ªæ–‡ä»¶åˆ°æŒ‡å®šç›®å½•</p><p><img data-src="http://cdn.sekyoro.top/imgs/093339.png" alt="image-20210913193711075"></p><p>æ–‡ä»¶çš„å¤åˆ¶ã€‚é»˜è®¤å¤åˆ¶æ–‡ä»¶çš„æ•°æ®</p><p><img data-src="http://cdn.sekyoro.top/imgs/065411.png" alt="image-20210913200119663"></p><h5 id="å¤åˆ¶ç›®å½•"><a href="#å¤åˆ¶ç›®å½•" class="headerlink" title="å¤åˆ¶ç›®å½•"></a>å¤åˆ¶ç›®å½•</h5><p>ç›´æ¥ä½¿ç”¨cpå¤åˆ¶ç›®å½•ä¼šå‡ºé”™</p><p>åŠ ä¸Šå‚æ•° -r é€’å½’å¤åˆ¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cp</span> -r source_dir  dest_dir</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å‚æ•°</p><p>-f ï¼šä¸ºå¼ºåˆ¶ (force) çš„æ„æ€ï¼Œè‹¥æœ‰é‡å¤æˆ–å…¶å®ƒç–‘é—®æ—¶ï¼Œä¸ä¼šè¯¢é—®ä½¿ç”¨è€…ï¼Œè€Œå¼ºåˆ¶å¤åˆ¶ï¼›<br>-i ï¼šè‹¥ç›®çš„æ–‡ä»¶(destination)å·²ç»å­˜åœ¨æ—¶ï¼Œåœ¨è¦†ç›–æ—¶ä¼šå…ˆè¯¢é—®æ˜¯å¦çœŸçš„åŠ¨ä½œï¼<br>-l ï¼šè¿›è¡Œç¡¬é“¾æ¥ (hard link) å»ºç«‹ï¼Œè€Œéå¤åˆ¶æ¡£æ¡ˆæœ¬èº«ï¼›<br>-p ï¼šè¿åŒæ¡£æ¡ˆçš„å±æ€§(æƒé™,æ—¶é—´,ç”¨æˆ·)ä¸€èµ·å¤åˆ¶è¿‡å»ï¼Œè€Œéä½¿ç”¨é¢„è®¾å±æ€§ï¼›<br>-r ï¼šé€’å½’æŒç»­å¤åˆ¶ï¼Œç”¨äºç›®å½•çš„å¤åˆ¶è¡Œä¸ºï¼›</p><p>-d:å¤åˆ¶æˆä¸ºç¬¦å·è¿æ¥</p><p>é»˜è®¤æƒ…å†µä¸‹,cpåç›®æ ‡æ–‡ä»¶æ‹¥æœ‰è€…æ˜¯å‘½ä»¤æ‰§è¡Œè€….å¦‚æœæƒ³è¦è¿ç€è¿™ä¸ªå±æ€§æ›´æ”¹éœ€è¦åŠ ä¸Š-p</p><p>å¤åˆ¶æ—¶éœ€è¦è€ƒè™‘:</p><p>ä¿ç•™æºæ–‡ä»¶å®Œæ•´ä¿¡æ¯?</p><p>æºæ–‡ä»¶æ˜¯å¦æ˜¯ç¬¦å·é“¾æ¥</p><p>æºæ–‡ä»¶æ˜¯å¦æ˜¯mulu</p><h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><p>ä½¿ç”¨ <code>rm</code>ï¼ˆremove files or directoriesï¼‰å‘½ä»¤åˆ é™¤ä¸€ä¸ªæ–‡ä»¶</p><p><img data-src="http://cdn.sekyoro.top/imgs/093341.png" alt="image-20210913195612391"></p><p>å½“ç„¶ ä¸èƒ½åˆ é™¤æœ¬èº«ä¸å­˜åœ¨çš„æ–‡ä»¶</p><p>æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°æƒ³è¦åˆ é™¤ä¸€äº›ä¸ºåªè¯»æƒé™çš„æ–‡ä»¶ï¼Œç›´æ¥ä½¿ç”¨ <code>rm</code> åˆ é™¤ä¼šæ˜¾ç¤ºä¸€ä¸ªæç¤º,åŠ ä¸Š -få‚æ•°ç›´æ¥å¼ºåˆ¶åˆ é™¤</p><p>-i  åœ¨åˆ é™¤å‰ä¼šè¯¢é—®</p><p><img data-src="http://cdn.sekyoro.top/imgs/093342.png" alt="image-20210913195758530"></p><h5 id="åˆ é™¤ç›®å½•"><a href="#åˆ é™¤ç›®å½•" class="headerlink" title="åˆ é™¤ç›®å½•"></a>åˆ é™¤ç›®å½•</h5><p>åŒæ ·çš„,éœ€è¦åŠ ä¸Š-rå‚æ•°æ‰èƒ½åˆ é™¤ç›®å½•</p><p><img data-src="http://cdn.sekyoro.top/imgs/093344.png" alt="image-20210913200839956"></p><p>å…¶å®ä¹Ÿå¯ä»¥ä½¿ç”¨rmdir,ä½†åªèƒ½åˆ é™¤ç©ºç›®å½•</p><p><img data-src="http://cdn.sekyoro.top/imgs/093345.png" alt="image-20210913201913643"></p><p><img data-src="http://cdn.sekyoro.top/imgs/093347.png" alt="image-20210913201926192"></p><h4 id="ç§»åŠ¨"><a href="#ç§»åŠ¨" class="headerlink" title="ç§»åŠ¨"></a>ç§»åŠ¨</h4><p>ä½¿ç”¨mvå‘½ä»¤ç§»åŠ¨æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv <span class="built_in">source</span> destination </span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093351.png" alt="image-20210913201207839"></p><h5 id="é‡å‘½åæ–‡ä»¶"><a href="#é‡å‘½åæ–‡ä»¶" class="headerlink" title="é‡å‘½åæ–‡ä»¶"></a>é‡å‘½åæ–‡ä»¶</h5><p><code>mv</code> å‘½ä»¤é™¤äº†èƒ½ç§»åŠ¨æ–‡ä»¶å¤–ï¼Œè¿˜èƒ½ç»™æ–‡ä»¶é‡å‘½åã€‚å‘½ä»¤æ ¼å¼ä¸º <code>mv æ—§çš„æ–‡ä»¶å æ–°çš„æ–‡ä»¶å</code>ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/093354.png" alt="image-20210913201430489"></p><h3 id="æ–‡ä»¶æƒé™"><a href="#æ–‡ä»¶æƒé™" class="headerlink" title="æ–‡ä»¶æƒé™"></a>æ–‡ä»¶æƒé™</h3><p>Unix/Linux ç³»ç»Ÿæ˜¯ä¸€ä¸ªå…¸å‹çš„å¤šç”¨æˆ·ç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·å¤„äºä¸åŒçš„åœ°ä½ï¼Œå¯¹æ–‡ä»¶å’Œç›®å½•æœ‰ä¸åŒçš„è®¿é—®æƒé™ã€‚ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ŒUnix/Linux ç³»ç»Ÿé™¤äº†å¯¹ç”¨æˆ·æƒé™ä½œäº†ä¸¥æ ¼çš„ç•Œå®šå¤–ï¼Œè¿˜åœ¨ç”¨æˆ·èº«ä»½è®¤è¯ã€è®¿é—®æ§åˆ¶ã€ä¼ è¾“å®‰å…¨ã€æ–‡ä»¶è¯»å†™æƒé™ç­‰æ–¹é¢ä½œäº†å‘¨å¯†çš„æ§åˆ¶ã€‚</p><p>åœ¨ Unix/Linux ä¸­çš„æ¯ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•éƒ½åŒ…å«æœ‰è®¿é—®æƒé™ï¼Œè¿™äº›è®¿é—®æƒé™å†³å®šäº†è°èƒ½è®¿é—®å’Œå¦‚ä½•è®¿é—®è¿™äº›æ–‡ä»¶å’Œç›®å½•ã€‚</p><h4 id="æŸ¥çœ‹æ–‡ä»¶ä¸ç›®å½•"><a href="#æŸ¥çœ‹æ–‡ä»¶ä¸ç›®å½•" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶ä¸ç›®å½•"></a>æŸ¥çœ‹æ–‡ä»¶ä¸ç›®å½•</h4><p>ä¹‹å‰ä¹Ÿç”¨åˆ°å¾ˆå¤šæ¬¡  lså‘½ä»¤</p><p><img data-src="http://cdn.sekyoro.top/imgs/093356.png" alt="image-20210913202256597"></p><p>lsåˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶</p><p>-a  æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶åŠç›®å½•ï¼ˆåŒ…å«ä»¥â€œ.â€å¼€å¤´çš„éšè—æ–‡ä»¶ï¼‰<br><img data-src="http://cdn.sekyoro.top/imgs/093401.png" alt="image-20210913202947310">-l  æ˜¾ç¤ºè¯¦ç»†æ–‡ä»¶å†…å®¹,é•¿æ ¼å¼</p><p>-h  ä¸-lä¸€èµ·ä½¿ç”¨ï¼Œè¾“å‡ºæ˜“äºé˜…è¯»çš„æ–‡ä»¶å¤§å°ã€‚ Human-readable</p><p><img data-src="http://cdn.sekyoro.top/imgs/093403.png" alt="image-20210913202919245"></p><p>-r  å°†æ–‡ä»¶ä»¥ç›¸åæ¬¡åºæ˜¾ç¤º(åŸå®šä»¥è‹±æ–‡å­—æ¯æ¬¡åº)</p><p>-d è‹¥ä¸åŠ å‚æ•°æŒ‡å®šç›®å½•,lsä¼šåˆ—å‡ºç›®å½•ä¸­çš„å†…å®¹,è‹¥ä¸-lç»“åˆåˆ™å¯ä»¥æŸ¥çœ‹ç›®å½•ä¿¡æ¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/093405.png" alt="image-20210913202837994"></p><p>-t å®‰ä¿®æ”¹æ—¥æœŸæ’åºè¾“å‡º</p><p>-S æŒ‰æ–‡ä»¶å¤§å°æ’åºè¾“å‡º</p><p>æˆ‘ä»¬ä¼šå‘ç° åœ¨é•¿æ ¼å¼ä¸‹,æ–‡ä»¶å‰é¢ä¼šæœ‰ä¸€äº›ä¸œè¥¿</p><p><img data-src="http://cdn.sekyoro.top/imgs/093407.png" alt="image-20210913203233587"></p><p>åˆ†åˆ«æ˜¯ æ–‡ä»¶ç±»å‹æƒé™  é“¾æ¥æ•°  æ–‡ä»¶æ‰€å±ç”¨æˆ·ç»„ æ–‡ä»¶å¤§å°Byte  æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´  æ–‡ä»¶å (å½“ç„¶åé¢å¯èƒ½ä¼šæœ‰è½¯é“¾æ¥) </p><p><img data-src="http://cdn.sekyoro.top/imgs/065412.png" alt="pic"></p><h4 id="å…³äºæƒé™"><a href="#å…³äºæƒé™" class="headerlink" title="å…³äºæƒé™"></a>å…³äºæƒé™</h4><p><img data-src="https://doc.shiyanlou.com/linux_base/3-10.png" alt="pic"></p><p>è¯»æƒé™ï¼Œè¡¨ç¤ºä½ å¯ä»¥ä½¿ç”¨ <code>cat &lt;file name&gt;</code> å‘½ä»¤æ¥è¯»å–æŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼›å†™æƒé™ï¼Œè¡¨ç¤ºä½ å¯ä»¥ç¼–è¾‘å’Œä¿®æ”¹æŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼›</p><p>æ‰§è¡Œæƒé™ï¼Œé€šå¸¸æŒ‡å¯ä»¥è¿è¡Œçš„äºŒè¿›åˆ¶ç¨‹åºæ–‡ä»¶æˆ–è€…è„šæœ¬æ–‡ä»¶ï¼Œå¦‚åŒ Windows ä¸Šçš„ <code>exe</code> åç¼€çš„æ–‡ä»¶ï¼Œä¸è¿‡ Linux ä¸Šä¸æ˜¯é€šè¿‡æ–‡ä»¶åç¼€åæ¥åŒºåˆ†æ–‡ä»¶çš„ç±»å‹ã€‚ä½ éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œ<strong>ä¸€ä¸ªç›®å½•åŒæ—¶å…·æœ‰è¯»æƒé™å’Œæ‰§è¡Œæƒé™æ‰å¯ä»¥æ‰“å¼€å¹¶æŸ¥çœ‹å†…éƒ¨æ–‡ä»¶ï¼Œè€Œä¸€ä¸ªç›®å½•è¦æœ‰å†™æƒé™æ‰å…è®¸åœ¨å…¶ä¸­åˆ›å»ºå…¶å®ƒæ–‡ä»¶</strong>ï¼Œè¿™æ˜¯å› ä¸ºç›®å½•æ–‡ä»¶å®é™…ä¿å­˜ç€è¯¥ç›®å½•é‡Œé¢çš„æ–‡ä»¶çš„åˆ—è¡¨ç­‰ä¿¡æ¯ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/093409.png" alt="image-20210913203914866"></p><p>å¯ä»¥åˆ†æä¸€ä¸‹,è¿™æ˜¯ä¸ªç›®å½•(d) æ‹¥æœ‰è€…ä¸ç”¨æˆ·ç»„æƒé™éƒ½æ˜¯rwx,å³å¯è¯»å¯å†™å¯æ‰§è¡Œ. ä½†å…¶ä»–ç”¨æˆ·ä¸èƒ½å†™,è¯´æ˜å…¶ä»–ç”¨æˆ·ä¸èƒ½æ”¹å†™è¯¥ç›®å½•.æ‰€æœ‰è€…ä¸æ‰€å±ç”¨æˆ·ç»„ä¸ºshiyanlou</p><h4 id="æ›´æ”¹æƒé™"><a href="#æ›´æ”¹æƒé™" class="headerlink" title="æ›´æ”¹æƒé™"></a>æ›´æ”¹æƒé™</h4><p>chgrp:ä¿®æ”¹æ–‡ä»¶æ‰€å±ç”¨æˆ·ç»„</p><p>chown:ä¿®æ”¹æ–‡ä»¶æ‹¥æœ‰è€…</p><p>-R å‚æ•°é€’å½’ä¿®æ”¹è¿é€šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</p><p>chomd:ä¿®æ”¹æ–‡ä»¶çš„æƒé™</p><ul><li>æ”¹å˜æ–‡ä»¶çš„æ‹¥æœ‰è€… chown</li><li>æ”¹å˜æ–‡ä»¶è¯»ã€å†™ã€æ‰§è¡Œç­‰å±æ€§ chmod</li><li>é€’å½’å­ç›®å½•ä¿®æ”¹ï¼š chown -R tuxapp source/</li><li>å¢åŠ è„šæœ¬å¯æ‰§è¡Œæƒé™ï¼š chmod a+x myscript</li></ul><p>æ³¨æ„ ç”¨æˆ·ç»„åœ¨ etc/groupé‡Œã€‚ç”¨æˆ·åœ¨etc/passwdé‡Œ</p><h5 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h5><p><img data-src="http://cdn.sekyoro.top/imgs/093412.png" alt="image-20210913205052643"></p><p>åˆ›å»ºç”¨æˆ·,åœ¨è¯¥ç”¨æˆ·ç›®å½•ä¸‹åˆ›å»ºiponeæ–‡ä»¶ã€‚å‘ç°è¯¥æ–‡ä»¶æ‰€æœ‰è€…æ˜¯lilei</p><p>ç°åœ¨åˆ‡å›root</p><p><img data-src="http://cdn.sekyoro.top/imgs/093414.png" alt="image-20210913205812323"></p><p>å‘ç°è¯¥æ–‡ä»¶æ‰€æœ‰è€…å˜ä¸ºshiyanlou</p><p><img data-src="http://cdn.sekyoro.top/imgs/065414.png" alt="image-20210913205912499"></p><p>ç°åœ¨æ˜¯æ›´æ”¹äº†æ–‡ä»¶çš„æ‰€æœ‰è€…,ä¸‹é¢ç»§ç»­æ›´æ”¹æ‰€å±ç”¨æˆ·ç»„</p><p><img data-src="http://cdn.sekyoro.top/imgs/065417.png" alt="image-20210913212151973"></p><p>è¿™æ ·çš„è¯lileiå°±åªæœ‰rxçš„æƒé™äº†,ä¹Ÿå°±æ˜¯è¯´æ— æ³•æ›´æ”¹æ–‡ä»¶.æˆ‘ä»¬è¯•ä¸€è¯•</p><p><img data-src="http://cdn.sekyoro.top/imgs/093417.png" alt="image-20210913212322183"></p><p>ä¼šå‘ç°æ— æ³•ä¿®æ”¹â€¦</p><p>æ¥ä¸‹æ¥è¿›è¡Œä¿®æ”¹æƒé™</p><ol><li><p>äºŒè¿›åˆ¶æ•°å­—è¡¨ç¤º</p><p><img data-src="http://cdn.sekyoro.top/imgs/065421.png" alt="pic"></p></li></ol><p>ç¬¬ä¸€ä½æŒ‡å®šå±ä¸»çš„æƒé™ï¼Œç¬¬äºŒä½æŒ‡å®šç»„æƒé™ï¼Œç¬¬ä¸‰ä½æŒ‡å®šå…¶ä»–ç”¨æˆ·çš„æƒé™ï¼Œæ¯ä½é€šè¿‡4(è¯»)ã€2(å†™)ã€1(æ‰§è¡Œ)ä¸‰ç§æ•°å€¼çš„å’Œæ¥ç¡®å®šæƒé™ã€‚å¦‚6(4+2)ä»£è¡¨æœ‰è¯»å†™æƒï¼Œ7(4+2+1)æœ‰è¯»ã€å†™å’Œæ‰§è¡Œçš„æƒé™ã€‚</p><p>ä¾‹å¦‚<img data-src="http://cdn.sekyoro.top/imgs/065426.png" alt="image-20210913211810594"></p><p>å¯ä»¥å‘ç°æ”¹ä¸ºäº†æ‹¥æœ‰è€…å¯è¯»å¯å†™</p><ol><li><p>ç¬¦å·æ“ä½œ</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$chmod</span> userMark(+|-)PermissionsMark</span></span><br></pre></td></tr></table></figure><p>userMarkå–å€¼ï¼š</p><ul><li>uï¼šç”¨æˆ·</li><li>gï¼šç»„</li><li>oï¼šå…¶å®ƒç”¨æˆ·</li><li>aï¼šæ‰€æœ‰ç”¨æˆ·</li></ul><p>PermissionsMarkå–å€¼ï¼š</p><ul><li>r:è¯»</li><li>wï¼šå†™</li><li>xï¼šæ‰§è¡Œ</li></ul></li></ol><p><img data-src="http://cdn.sekyoro.top/imgs/093418.png" alt="image-20210913212537141"></p><p><code>+</code> å’Œ <code>-</code> åˆ†åˆ«è¡¨ç¤ºå¢åŠ å’Œå»æ‰ç›¸åº”çš„æƒé™ã€‚</p><p>åœ¨shellä¸­ï¼Œè¦ä¿®æ”¹æ–‡ä»¶å½“å‰çš„ç”¨æˆ·å¿…é¡»å…·æœ‰ç®¡ç†å‘˜rootçš„æƒé™ã€‚å¯ä»¥é€šè¿‡suå‘½ä»¤åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œä¹Ÿå¯ä»¥é€šè¿‡sudoè·å¾—rootçš„æƒé™</p><p><strong>æ³¨æ„</strong>:å¯¹äºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ¥è¯´ã€‚ rwxæƒé™ä¸å¤ªä¸€æ ·</p><p>æ–‡ä»¶:r è¯»å–æ–‡ä»¶å†…å®¹  wä¿®æ”¹æ–‡ä»¶å†…å®¹  xæ‰§è¡Œæ–‡ä»¶å†…å®¹</p><p>ç›®å½•:r è¯»åˆ°æ–‡ä»¶å  wä¿®æ”¹æ–‡ä»¶å  xè¿›å…¥ç›®å½•æƒé™</p><p>ä¹Ÿå°±æ˜¯è¯´è‹¥æ²¡æœ‰xæƒé™,æ— æ³•è¿›å…¥ç›®å½•(ä¸ä»£è¡¨ä¸èƒ½çŸ¥é“ç›®å½•ä¸‹çš„ä¸œè¥¿)</p><h5 id="å®ä¾‹-1"><a href="#å®ä¾‹-1" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h5><p><img data-src="http://cdn.sekyoro.top/imgs/093420.png" alt="image-20210913213443471"></p><p>åˆ›å»ºä¸€ä¸ªç›®å½• ç„¶åæ›´æ”¹æƒé™ ä½¿å¾—ç”¨æˆ·ç»„ä¸å…¶ä»–ç”¨æˆ·åªæœ‰ræƒé™</p><p><img data-src="http://cdn.sekyoro.top/imgs/093422.png" alt="image-20210913213634417"></p><p>ä½¿ç”¨groupsæŸ¥çœ‹å½“å‰ç”¨æˆ·çš„ç”¨æˆ·ç»„ã€‚å‘ç°ä»–åŠ å…¥äº†å¤šä¸ªç”¨æˆ·ç»„</p><p><img data-src="http://cdn.sekyoro.top/imgs/065429.png" alt="image-20210913213536038"></p><p>ç„¶åæƒ³è¦è¿›å…¥è¯¥ç›®å½•æƒé™ä¸å¤Ÿ,å› ä¸ºåªæœ‰r</p><p>sudoå¤§æ³•  æ›´æ”¹æƒé™è¿›å…¥æ–‡ä»¶</p><p><img data-src="http://cdn.sekyoro.top/imgs/065431.png" alt="image-20210913214229305"></p><p>æ·»åŠ ä¸€ä¸ªæ–‡ä»¶</p><p><img data-src="http://cdn.sekyoro.top/imgs/093424.png" alt="image-20210913214622660"></p><p>å‘ç°å¯ä»¥æŸ¥è¯¢ç›®å½•ä¸‹çš„æ–‡ä»¶ååˆ—è¡¨ä½†æ— æ³•åˆ‡æ¢åˆ°ç›®å½•å†…ã€‚ç”šè‡³æ— æ³•è¯»å–æ–‡ä»¶å†…å®¹</p><h4 id="fileç¡®å®šæ–‡ä»¶ç±»å‹"><a href="#fileç¡®å®šæ–‡ä»¶ç±»å‹" class="headerlink" title="fileç¡®å®šæ–‡ä»¶ç±»å‹"></a>fileç¡®å®šæ–‡ä»¶ç±»å‹</h4><p>Linuxä¸‹ä¸è¦æ±‚æ–‡ä»¶åååº”æ–‡ä»¶ç±»å‹,ä½¿ç”¨fileå‘½ä»¤å¯ä»¥æŸ¥çœ‹ç±»å‹</p><p><img data-src="http://cdn.sekyoro.top/imgs/093427.png" alt="image-20210913215723013"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065433.png" alt="image-20210913225537180"></p><h4 id="lessæŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶"><a href="#lessæŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶" class="headerlink" title="lessæŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶"></a>lessæŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶</h4><p><img data-src="http://cdn.sekyoro.top/imgs/065434.png" alt="image-20210913215804478"></p><p>æˆ‘ä»¬å¯ä»¥ä¸Šä¸‹ç¿»é¡µã€‚qé€€å‡º</p><h4 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h4><p>catå‘½ä»¤ç”¨äºè¿æ¥æ–‡ä»¶å¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ä¸Šã€‚</p><p>æˆ‘å†™åœ¨è¿™é‡Œæ˜¯å› ä¸ºè¿™äº›å‘½ä»¤ç”¨çš„æŒºå¤šçš„</p><p>æŠŠ textfile1 çš„æ–‡æ¡£å†…å®¹åŠ ä¸Šè¡Œå·åè¾“å…¥ textfile2 è¿™ä¸ªæ–‡æ¡£é‡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -n textfile1 &gt; textfile2</span><br></pre></td></tr></table></figure><p>æŠŠ textfile1 å’Œ textfile2 çš„æ–‡æ¡£å†…å®¹åŠ ä¸Šè¡Œå·ï¼ˆç©ºç™½è¡Œä¸åŠ ï¼‰ä¹‹åå°†å†…å®¹é™„åŠ åˆ° textfile3 æ–‡æ¡£é‡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -b textfile1 textfile2 &gt;&gt; textfile3</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹æ–‡ä»¶ï¼šcat-vi-head-tail-more"><a href="#æŸ¥çœ‹æ–‡ä»¶ï¼šcat-vi-head-tail-more" class="headerlink" title="æŸ¥çœ‹æ–‡ä»¶ï¼šcat vi head tail more"></a>æŸ¥çœ‹æ–‡ä»¶ï¼šcat vi head tail more</h4><p>æ˜¾ç¤ºæ—¶åŒæ—¶æ˜¾ç¤ºè¡Œå·:</p><figure class="highlight sh"><figcaption><span>l</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$cat</span> -n</span><br></pre></td></tr></table></figure><p>æŒ‰é¡µæ˜¾ç¤ºåˆ—è¡¨å†…å®¹:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">ls -al | more</span></span><br></pre></td></tr></table></figure><p>åªçœ‹å‰10è¡Œ:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">head - 10 **</span></span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºæ–‡ä»¶ç¬¬ä¸€è¡Œ:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">head -1 filename</span></span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºæ–‡ä»¶å€’æ•°ç¬¬äº”è¡Œ:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">tail -5 filename</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ä¸¤ä¸ªæ–‡ä»¶é—´çš„å·®åˆ«:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">diff file1 file2</span></span><br></pre></td></tr></table></figure><p>åŠ¨æ€æ˜¾ç¤ºæ–‡æœ¬æœ€æ–°ä¿¡æ¯:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">tail -f crawler.log</span></span><br></pre></td></tr></table></figure><h3 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><p>Linuxé“¾æ¥åˆ†ä¸¤ç§ï¼Œä¸€ç§è¢«ç§°ä¸ºç¡¬é“¾æ¥ï¼ˆHard Linkï¼‰ï¼Œå¦ä¸€ç§è¢«ç§°ä¸ºç¬¦å·é“¾æ¥ï¼ˆSymbolic Linkï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œlnå‘½ä»¤äº§ç”Ÿç¡¬é“¾æ¥</p><p>åœ¨Linuxçš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¿å­˜åœ¨ç£ç›˜åˆ†åŒºä¸­çš„æ–‡ä»¶ä¸ç®¡æ˜¯ä»€ä¹ˆç±»å‹éƒ½ç»™å®ƒåˆ†é…ä¸€ä¸ªç¼–å·ï¼Œç§°ä¸ºç´¢å¼•èŠ‚ç‚¹å·(Inode Index)ã€‚åœ¨Linuxä¸­ï¼Œå¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ç´¢å¼•èŠ‚ç‚¹æ˜¯å­˜åœ¨çš„</p><h4 id="è½¯é“¾æ¥"><a href="#è½¯é“¾æ¥" class="headerlink" title="è½¯é“¾æ¥"></a>è½¯é“¾æ¥</h4><p>ä¹Ÿå«ç¬¦å·é“¾æ¥</p><p>ä¸Windowsçš„å¿«æ·æ–¹å¼ç±»ä¼¼</p><p>åœ¨ç¬¦å·è¿æ¥ä¸­ï¼Œæ–‡ä»¶å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«çš„æœ‰å¦ä¸€æ–‡ä»¶çš„ä½ç½®ä¿¡æ¯ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s cc ccTo :ç¬¦å·é“¾æ¥(è½¯é“¾æ¥)ï¼›åˆ é™¤æºï¼Œå¦ä¸€ä¸ªæ— æ³•ä½¿ç”¨ï¼›ï¼ˆåé¢ä¸€ä¸ªccTo ä¸ºæ–°å»ºçš„æ–‡ä»¶ï¼‰</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065436.png" alt="image-20210913220642505"></p><p>ls -li   -iå¯ä»¥æ˜¾ç¤ºinodeèŠ‚ç‚¹ã€‚é€šè¿‡è¿™ä¸ªåˆ¤æ–­é“¾æ¥ã€‚å½“ç„¶,ç¬¦å·é“¾æ¥inodeä¸åŒä¸”æœ‰ç®­å¤´æŒ‡å‘è¢«é“¾æ¥çš„æ–‡ä»¶.</p><p>è‹¥æºæ–‡ä»¶è¢«åˆ ,åˆ™ç¬¦å·é“¾æ¥çš„æ–‡ä»¶ä¹Ÿå¤±æ•ˆ</p><p><img data-src="http://cdn.sekyoro.top/imgs/065439.png" alt="image-20210913221115358"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065444.png" alt="image-20210913221136588"></p><h4 id="ç¡¬é“¾æ¥"><a href="#ç¡¬é“¾æ¥" class="headerlink" title="ç¡¬é“¾æ¥"></a>ç¡¬é“¾æ¥</h4><p>å®ƒä¸è½¯é“¾æ¥å®ç°æ–¹å¼ä¸åŒ</p><p>ç¡¬é“¾æ¥æŒ‡é€šè¿‡ç´¢å¼•èŠ‚ç‚¹æ¥è¿›è¡Œè¿æ¥ã€‚ç¡¬è¿æ¥çš„ä½œç”¨æ˜¯å…è®¸ä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªæœ‰æ•ˆè·¯å¾„åï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥å»ºç«‹ç¡¬è¿æ¥åˆ°é‡è¦æ–‡ä»¶ï¼Œä»¥é˜²æ­¢â€œè¯¯åˆ â€çš„åŠŸèƒ½ã€‚å…¶åŸå› å¦‚ä¸Šæ‰€è¿°ï¼Œå› ä¸ºå¯¹åº”è¯¥ç›®å½•çš„ç´¢å¼•èŠ‚ç‚¹æœ‰ä¸€ä¸ªä»¥ä¸Šçš„é“¾æ¥ã€‚åªåˆ é™¤ä¸€ä¸ªè¿æ¥å¹¶ä¸å½±å“ç´¢å¼•èŠ‚ç‚¹æœ¬èº«å’Œå…¶å®ƒçš„è¿æ¥ï¼Œåªæœ‰å½“æœ€åä¸€ä¸ªè¿æ¥è¢«åˆ é™¤åï¼Œæ–‡ä»¶çš„æ•°æ®å—åŠç›®å½•çš„è¿æ¥æ‰ä¼šè¢«é‡Šæ”¾ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ–‡ä»¶çœŸæ­£åˆ é™¤çš„æ¡ä»¶æ˜¯ä¸ä¹‹ç›¸å…³çš„æ‰€æœ‰ç¡¬è¿æ¥æ–‡ä»¶å‡è¢«åˆ é™¤ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/065446.png" alt="image-20210913221552058"></p><p>ç¡¬é“¾æ¥f2åˆ°f1ï¼Œå°†f1åˆ æ‰.å› ä¸ºèŠ‚ç‚¹ç›¸åŒ,å‘ç°åŸæœ¬è½¯é“¾æ¥åˆ°f1çš„f3ç¡¬é“¾æ¥åˆ°äº†f2</p><p><img data-src="http://cdn.sekyoro.top/imgs/065448.png" alt="image-20210913221853123"></p><p>åˆ é™¤è¢«è½¯é“¾æ¥çš„æ–‡ä»¶,åœ¨åˆ›å»ºåŒåæ–‡ä»¶,å‘ç°è½¯é“¾æ¥çš„æ–‡ä»¶æ›´æ–°äº†</p><p><img data-src="http://cdn.sekyoro.top/imgs/065452.png" alt="image-20210913222100169"></p><h3 id="æ–‡ä»¶å‹ç¼©ä¸è§£å‹"><a href="#æ–‡ä»¶å‹ç¼©ä¸è§£å‹" class="headerlink" title="æ–‡ä»¶å‹ç¼©ä¸è§£å‹"></a>æ–‡ä»¶å‹ç¼©ä¸è§£å‹</h3><p>åœ¨ Windows ä¸Šæœ€å¸¸è§çš„ä¸å¤–ä¹è¿™ä¸¤ç§ <code>*.zip</code>ï¼Œ<code>*.7z</code> åç¼€çš„å‹ç¼©æ–‡ä»¶ã€‚è€Œåœ¨ Linux ä¸Šé¢å¸¸è§çš„æ ¼å¼é™¤äº†ä»¥ä¸Šä¸¤ç§å¤–ï¼Œè¿˜æœ‰ <code>.rar</code>ï¼Œ<code>*.gz</code>ï¼Œ<code>*.xz</code>ï¼Œ<code>*.bz2</code>ï¼Œ<code>*.tar</code>ï¼Œ<code>*.tar.gz</code>ï¼Œ<code>*.tar.xz</code>ï¼Œ<code>*.tar.bz2</code>ï¼Œ</p><p>Linux å¸¸ç”¨çš„å‹ç¼©ä¸è§£å‹ç¼©å‘½ä»¤æœ‰ï¼štarã€gzipã€gunzipã€bzip2ã€bunzip2ã€compress ã€uncompressã€ zipã€ unzipã€rarã€unrar ç­‰</p><div class="table-container"><table><thead><tr><th>æ–‡ä»¶åç¼€å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>*.zip</code></td><td>zip ç¨‹åºæ‰“åŒ…å‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*.rar</code></td><td>rar ç¨‹åºå‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*.7z</code></td><td>7zip ç¨‹åºå‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*.tar</code></td><td>tar ç¨‹åºæ‰“åŒ…ï¼Œæœªå‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*.gz</code></td><td>gzip ç¨‹åºï¼ˆGNU zipï¼‰å‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*.xz</code></td><td>xz ç¨‹åºå‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*.bz2</code></td><td>bzip2 ç¨‹åºå‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*.tar.gz</code></td><td>tar æ‰“åŒ…ï¼Œgzip ç¨‹åºå‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*.tar.xz</code></td><td>tar æ‰“åŒ…ï¼Œxz ç¨‹åºå‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*tar.bz2</code></td><td>tar æ‰“åŒ…ï¼Œbzip2 ç¨‹åºå‹ç¼©çš„æ–‡ä»¶</td></tr><tr><td><code>*.tar.7z</code></td><td>tar æ‰“åŒ…ï¼Œ7z ç¨‹åºå‹ç¼©çš„æ–‡ä»¶</td></tr></tbody></table></div><p>ç®€å•æ¥è¯´,å°±æ˜¯æ‰“åŒ…,å‹ç¼©</p><h4 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h4><h5 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…"></a>æ‰“åŒ…</h5><p>æœ€å¸¸ç”¨çš„æ‰“åŒ…å‘½ä»¤æ˜¯ tarï¼Œä½¿ç”¨ tar ç¨‹åºæ‰“å‡ºæ¥çš„åŒ…æˆ‘ä»¬å¸¸ç§°ä¸º tar åŒ…ï¼Œtar åŒ…æ–‡ä»¶çš„å‘½ä»¤é€šå¸¸éƒ½æ˜¯ä»¥ .tar ç»“å°¾çš„ã€‚ç”Ÿæˆ tar åŒ…åï¼Œå°±å¯ä»¥ç”¨å…¶å®ƒçš„ç¨‹åºæ¥è¿›è¡Œå‹ç¼©äº†</p><p>â€‹    tarå®ç°äº†å¯¹ 7zã€gzipã€xzã€bzip2 ç­‰å·¥å…·çš„æ”¯æŒï¼Œè¿™äº›å‹ç¼©å·¥å…·æœ¬èº«åªèƒ½å®ç°å¯¹æ–‡ä»¶æˆ–ç›®å½•ï¼ˆå•ç‹¬å‹ç¼©ç›®å½•ä¸­çš„æ–‡ä»¶ï¼‰çš„å‹ç¼©ï¼Œæ²¡æœ‰å®ç°å¯¹æ–‡ä»¶çš„æ‰“åŒ…å‹ç¼©.</p><p>ä¸‹æ¥æ¥ä»‹ç»å‚æ•°</p><p>-c åˆ›å»ºä¸€ä¸ªtaråŒ…   -fæŒ‡å®šæ–‡ä»¶å</p><p>-r å¢åŠ æ–‡ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -cf mytar.tar file</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065458.png" alt="image-20210913223434051"></p><p>åˆ›å»ºäº†ä¸€ä¸ªtaråŒ…</p><p>è¿˜å¯ä»¥åŠ ä¸Š <code>-v</code> å‚æ•°ä»¥å¯è§†çš„çš„æ–¹å¼è¾“å‡ºæ‰“åŒ…çš„æ–‡ä»¶ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/093429.png" alt="image-20210913223923573"></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -uf all.tar logo.gif</span><br></pre></td></tr></table></figure><p>æ›´æ–°åŸæ¥ tar åŒ… all.tar ä¸­ logo.gif æ–‡ä»¶ï¼Œ-u æ˜¯è¡¨ç¤ºæ›´æ–°æ–‡ä»¶çš„æ„æ€</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -tf all.tar</span><br></pre></td></tr></table></figure><p>åˆ—å‡º all.tar åŒ…ä¸­æ‰€æœ‰æ–‡ä»¶ï¼Œ-t æ˜¯åˆ—å‡ºæ–‡ä»¶çš„æ„æ€</p><ul><li>ä¿ç•™æ–‡ä»¶å±æ€§å’Œè·Ÿéšé“¾æ¥ï¼ˆç¬¦å·é“¾æ¥æˆ–è½¯é“¾æ¥ï¼‰ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä½¿ç”¨ tar å¤‡ä»½æ–‡ä»¶å½“ä½ åœ¨å…¶ä»–ä¸»æœºè¿˜åŸæ—¶å¸Œæœ›ä¿ç•™æ–‡ä»¶çš„å±æ€§ï¼ˆ<code>-p</code> å‚æ•°ï¼‰å’Œå¤‡ä»½é“¾æ¥æŒ‡å‘çš„æºæ–‡ä»¶è€Œä¸æ˜¯é“¾æ¥æœ¬èº«ï¼ˆ<code>-h</code> å‚æ•°ï¼‰ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -cphf etc.tar /etc</span><br></pre></td></tr></table></figure><h5 id="è§£åŒ…"><a href="#è§£åŒ…" class="headerlink" title="è§£åŒ…"></a>è§£åŒ…</h5><p>è§£åŒ…ä¸€ä¸ªæ–‡ä»¶ï¼ˆ<code>-x</code> å‚æ•°ï¼‰åˆ°æŒ‡å®šè·¯å¾„çš„<strong>å·²å­˜åœ¨</strong>ç›®å½•ï¼ˆ<code>-C</code> å‚æ•°ï¼‰</p><p><img data-src="http://cdn.sekyoro.top/imgs/065459.png" alt="image-20210913225018181"></p><p><img data-src="http://cdn.sekyoro.top/imgs/065501.png" alt="image-20210913224507056"></p><p>åªæŸ¥çœ‹ä¸è§£åŒ…æ–‡ä»¶ <code>-t</code> å‚æ•°</p><h5 id="å‹ç¼©ä¸è§£å‹"><a href="#å‹ç¼©ä¸è§£å‹" class="headerlink" title="å‹ç¼©ä¸è§£å‹"></a>å‹ç¼©ä¸è§£å‹</h5><p>å¯¹äºåˆ›å»ºä¸åŒçš„å‹ç¼©æ ¼å¼çš„æ–‡ä»¶ï¼Œå¯¹äº tar æ¥è¯´æ˜¯ç›¸å½“ç®€å•çš„ï¼Œéœ€è¦çš„åªæ˜¯æ¢ä¸€ä¸ªå‚æ•°</p><p>åœ¨åˆ›å»º tar æ–‡ä»¶çš„åŸºç¡€ä¸Šæ·»åŠ  <code>-z</code> å‚æ•°</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -czf mytar.tar.gz file</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065503.png" alt="image-20210913225228029"></p><p>è§£å‹æ–‡ä»¶ä½¿ç”¨ -xzf (å¯¹äºgzip)</p><p><img data-src="http://cdn.sekyoro.top/imgs/065506.png" alt="image-20210913225338711"></p><div class="table-container"><table><thead><tr><th>å‹ç¼©æ–‡ä»¶æ ¼å¼</th><th>å‚æ•°</th></tr></thead><tbody><tr><td><code>*.tar.gz</code></td><td><code>-z</code></td></tr><tr><td><code>*.tar.xz</code></td><td><code>-J</code></td></tr><tr><td><code>*tar.bz2</code></td><td><code>-j</code></td></tr></tbody></table></div><h4 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h4><p>å…¶å®å…‰tarå·²ç»å¤Ÿäº†,è¿™é‡Œç¨å¾®å†™ä¸€ä¸‹zip</p><p><code>-r</code> å‚æ•°è¡¨ç¤ºé€’å½’æ‰“åŒ…åŒ…å«å­ç›®å½•çš„å…¨éƒ¨å†…å®¹</p><p><code>-q</code> å‚æ•°è¡¨ç¤ºä¸ºå®‰é™æ¨¡å¼ï¼Œå³ä¸å‘å±å¹•è¾“å‡ºä¿¡æ¯</p><p><code>-o</code>ï¼Œè¡¨ç¤ºè¾“å‡ºæ–‡ä»¶</p><p>è¿˜å¯ä»¥è®¾ç½®å‹ç¼©ç­‰çº§</p><p>zip -r -o myzip.zip file</p><p><img data-src="http://cdn.sekyoro.top/imgs/065511.png" alt="image-20210913225914594"></p><p>duç”¨äºæŸ¥çœ‹æ–‡ä»¶å¤§å°</p><p>-eè®¾ç½®å¯†ç </p><p><img data-src="http://cdn.sekyoro.top/imgs/065514.png" alt="image-20210913230218420"></p><p>-l ç”¨äºä½¿LFè½¬åŒ–ä¸ºCR+LF. ä¹Ÿå°±æ˜¯linuxæ¢è¡Œç¬¦ä¸ºLFåœ¨windowsä¸Šæ— æ³•æ˜¾ç¤º</p><p><strong>unzipç”¨äºè§£å‹</strong></p><p>-q å®‰é™æ¨¡å¼</p><p>-d  æŒ‡å®šè¾“å‡ºåˆ°çš„ç›®å½•</p><p>-l  ä¸è§£å‹åªæŸ¥çœ‹å†…å®¹</p><p>ä¸­æ–‡å‹ç¼©åŒ… -O GBK æŒ‡å®šç¼–ç ç±»å‹</p><p><strong>å°ç»“</strong></p><ul><li>zipï¼š</li><li>æ‰“åŒ… ï¼šzip something.zip something ï¼ˆç›®å½•è¯·åŠ  -r å‚æ•°ï¼‰</li><li>è§£åŒ…ï¼šunzip something.zip</li><li>æŒ‡å®šè·¯å¾„ï¼š-d å‚æ•°</li><li>tarï¼š</li><li>æ‰“åŒ…ï¼štar -cf something.tar something</li><li>è§£åŒ…ï¼štar -xf something.tar</li><li>æŒ‡å®šè·¯å¾„ï¼š-C å‚æ•°</li></ul><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><p>å®æ—¶æŸ¥æ‰¾</p><p>æœå¯»æ–‡ä»¶æˆ–ç›®å½•:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$find</span> ./ -name <span class="string">&quot;core*&quot;</span> | xargs file</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾ç›®æ ‡æ–‡ä»¶å¤¹ä¸­æ˜¯å¦æœ‰objæ–‡ä»¶:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$find</span> ./ -name <span class="string">&#x27;*.o&#x27;</span></span><br></pre></td></tr></table></figure><p>æŒ‡å®šç›®å½•  ä¸ -nameæŸ¥æ‰¾å…³é”®å­—(å¯ç”¨æ­£åˆ™)</p><p>é€’å½’å½“å‰ç›®å½•åŠå­ç›®å½•åˆ é™¤æ‰€æœ‰.oæ–‡ä»¶:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$find</span> ./ -name <span class="string">&quot;*.o&quot;</span> -<span class="built_in">exec</span> rm &#123;&#125; \;</span><br></pre></td></tr></table></figure><h3 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h3><p>locateä¼šä¸ºæ–‡ä»¶ç³»ç»Ÿå»ºç«‹ç´¢å¼•æ•°æ®åº“ï¼Œå¦‚æœæœ‰æ–‡ä»¶æ›´æ–°ï¼Œéœ€è¦å®šæœŸæ‰§è¡Œæ›´æ–°å‘½ä»¤æ¥æ›´æ–°ç´¢å¼•åº“ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$locate</span> string</span><br></pre></td></tr></table></figure><p>å¯»æ‰¾åŒ…å«æœ‰stringçš„è·¯å¾„:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$updatedb</span></span><br></pre></td></tr></table></figure><p>ä¸findä¸åŒï¼Œlocateå¹¶ä¸æ˜¯å®æ—¶æŸ¥æ‰¾ã€‚ä½ éœ€è¦æ›´æ–°æ•°æ®åº“ï¼Œä»¥è·å¾—æœ€æ–°çš„æ–‡ä»¶ç´¢å¼•ä¿¡æ¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Linux_study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxè½¯ä»¶éƒ¨ç½²åŠåº”ç”¨</title>
      <link href="2021/09/21/%E5%91%BD%E4%BB%A4%E9%9B%86-1/"/>
      <url>2021/09/21/%E5%91%BD%E4%BB%A4%E9%9B%86-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ç©ç©linux<br><span id="more"></span></p><h2 id="1-Linuxè½¯ä»¶éƒ¨ç½²åŠåº”ç”¨"><a href="#1-Linuxè½¯ä»¶éƒ¨ç½²åŠåº”ç”¨" class="headerlink" title="1.Linuxè½¯ä»¶éƒ¨ç½²åŠåº”ç”¨"></a>1.Linuxè½¯ä»¶éƒ¨ç½²åŠåº”ç”¨</h2><p>åœ¨Linuxä¸­,è½¯ä»¶åŒ…åˆ†ä¸º</p><ul><li>æºç åŒ…å®‰è£…  æä¾›äº†è¯¥è½¯ä»¶æ‰€æœ‰ç¨‹åºæºä»£ç çš„å‘å¸ƒå½¢å¼ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±<strong>ç¼–è¯‘æˆå¯æ‰§è¡Œçš„äºŒè¿›åˆ¶ä»£ç å¹¶è¿›è¡Œå®‰è£…</strong>ï¼Œä¼˜ç‚¹æ˜¯<strong>é…ç½®çµæ´»</strong>ï¼Œå¯ä»¥éšæ„å»æ‰æˆ–ä¿ç•™æŸäº›åŠŸèƒ½æˆ–è€…æ¨¡å—ï¼Œé€‚åº”å¤šç§ç¡¬ä»¶/æ“ä½œç³»ç»Ÿå¹³å°åŠç¼–è¯‘ç¯å¢ƒï¼Œç¼ºç‚¹å°±æ˜¯<strong>éš¾åº¦æ¯”è¾ƒå¤§</strong>ï¼Œä¸€èˆ¬ä¸é€‚åˆåˆå­¦è€…ä½¿ç”¨ã€‚</li><li>äºŒè¿›åˆ¶åŒ…å®‰è£…  äº‹å…ˆå·²ç»ç¼–è¯‘å¥½çš„<strong>äºŒè¿›åˆ¶</strong>å½¢å¼çš„è½¯ä»¶åŒ…ï¼Œæœ‰ç‚¹äº‹<strong>å®‰è£…æ–¹ä¾¿</strong>ï¼Œç¼ºç‚¹æ˜¯çµæ´»æ€§å·®ï¼Œå¦‚æœè¯¥è½¯ä»¶åŒ…æ˜¯ä¸ºç‰¹å®šçš„ç¡¬ä»¶/æ“ä½œç³»ç»Ÿå¹³å°ç¼–è¯‘çš„ï¼Œé‚£å®ƒå°±ä¸èƒ½å†å¦å¤–çš„å¹³å°æˆ–è€…ç¯å¢ƒä¸‹æ­£ç¡®æ‰§è¡Œ</li></ul><p>æ³¨æ„,åœ¨ä¸åŒlinuxå‘è¡Œç‰ˆä¸Šè½¯ä»¶å®‰è£…æœºåˆ¶ä¸åŒ</p><ul><li>DPKG Debian(ubuntu)   å‘½ä»¤rpm   åœ¨çº¿å‡çº§ yum </li><li>RPM  (Centos Fedora)   å‘½ä»¤dpkg    åœ¨çº¿apt(apt-get)</li></ul><h3 id="æºç åŒ…å®‰è£…"><a href="#æºç åŒ…å®‰è£…" class="headerlink" title="æºç åŒ…å®‰è£…"></a>æºç åŒ…å®‰è£…</h3><p>è½¯ä»¶å‘å¸ƒè€…å°†æºä»£ç å…ˆä»¥taræ‰“åŒ…,å†è¿›è¡Œå‹ç¼©(å¦‚gzip,bzip2,xz)å¾—åˆ°æ‰€è°“<a href="https://baike.baidu.com/item/tarball/6505617">Tarball </a>æ–‡ä»¶.</p><p>è§£å‹è¯¥æ–‡ä»¶å¯ä»¥å¾—åˆ°</p><ul><li>æºä»£ç æ–‡ä»¶</li><li>æ£€æµ‹ç¨‹åºæ–‡ä»¶(configureæˆ–configæ–‡ä»¶)</li><li>æœ¬è½¯ä»¶çš„å»ºè®®å®‰è£…è¯´æ˜(installæˆ–readme)</li></ul><p>é€šå¸¸çš„å®‰è£…æµç¨‹</p><ol><li>åœ¨å‚å•†ç½‘ç«™ä¸‹è½½ä¸€ä¸ªTarballæ–‡ä»¶</li><li>å°†Tarballæ–‡ä»¶è§£å¼€,äº§ç”Ÿå¾ˆå¤šæºä»£ç æ–‡ä»¶</li><li>åˆ©ç”¨gccæˆ–make(ä¸makefile)ç»“åˆ,äº§ç”Ÿç›®æ ‡æ–‡ä»¶</li><li>ä»¥gccè¿›è¡Œå‡½æ•°åº“ä¸ä¸»,å­ç¨‹åºè¿›è¡Œé“¾æ¥,å½¢æˆä¸»è¦çš„äºŒè¿›åˆ¶æ–‡ä»¶</li><li>å°†ä¸Šè¿°æ–‡ä»¶ä»¥åŠç›¸å…³é…ç½®æ–‡ä»¶å®‰è£…åœ¨ä¸»æœºä¸Š(install)</li></ol><h4 id="å¤§æ¦‚æ­¥éª¤"><a href="#å¤§æ¦‚æ­¥éª¤" class="headerlink" title="å¤§æ¦‚æ­¥éª¤"></a>å¤§æ¦‚æ­¥éª¤</h4><p>ä¸‹è½½æºä»£ç è½¯ä»¶åŒ…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget url</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥åœ¨ä¸€äº›ç½‘ç«™ä¸Šä¸‹è½½å¾—åˆ°ä¸€ä¸ªå‹ç¼©åŒ… wgetåŠŸèƒ½ä¸‹è½½urlä¸Šçš„æ–‡ä»¶</p><p>è§£å‹ç¼©</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -jxvf xx.tar.bz2</span><br><span class="line">tar -zxvf xx.tar.gz</span><br></pre></td></tr></table></figure><p>è¿›å…¥å‹ç¼©ç›®å½•</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure.   <span class="comment">#ç¼–è¯‘ç¯å¢ƒæ£€æŸ¥ä»¥åŠå®‰è£…é…ç½®</span></span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--prefix == å®‰è£…è·¯å¾„</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘æºä»£ç </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make   <span class="comment">#å†ä¿®æ”¹configureåä¼šæœ‰ä¸€ä¸ªmakefileã€‚ makeåˆ©ç”¨è¯¥æ–‡ä»¶(æ–‡ä»¶ä¸­æœ‰ç›¸å…³çš„é…ç½®æ¡ä»¶)è¿›è¡Œç¼–è¯‘</span></span><br></pre></td></tr></table></figure><p>å½“ç„¶ä¹‹å‰ä¹Ÿå¯ä»¥make cleanä¸€ä¸‹,ç›®çš„æ˜¯æ¸…é™¤.oç›®æ ‡æ–‡ä»¶ </p><p>å®‰è£…åˆ°æœ¬æœºå™¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šæŸ¥çœ‹å®‰è£…è¯´æ˜,æå‰å¤„ç†è½¯ä»¶åŒ…ä¾èµ–</p><h4 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h4><p>ä¹‹å‰æˆ‘åœ¨è™šæ‹Ÿæœºä¸Šè£…äº†ä¸€ä¸ªbochs(å¼€æºIA-32(x86)ç”µè„‘æ¨¡æ‹Ÿå™¨) ç¬¦åˆæºä»£ç å®‰è£…,æŠŠè¿™ä¸ªè¿‡ç¨‹è®°å½•ä¸‹</p><ol><li><p>åœ¨å®˜ç½‘ä¸‹è½½è½¯ä»¶åŒ…,ä¼šå¾—åˆ°ä¸€ä¸ªå‹ç¼©åŒ…. tar.gzæˆ–ç±»ä¼¼åç¼€æ–‡ä»¶</p></li><li><p>è§£å‹è¯¥æ–‡ä»¶ã€‚tar -zxvf nasm.tar.gz</p><p>å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹</p></li></ol><p><img data-src="http://cdn.sekyoro.top/imgs/065551.png" alt="image-20210912223547434"></p><ol><li><p>å‰ä¸¤æ­¥å…¶å®å¾ˆç®€å•,ç°åœ¨æ˜¯æºç å®‰è£…çš„é‡ç‚¹:é…ç½®</p><p>åœ¨å¾—åˆ°çš„æ–‡ä»¶ä¸­æœ‰è®¸å¤šç¨‹åºæ–‡ä»¶,é€šå¸¸æœ‰configure,æˆ‘ä»¬å¯ä»¥é€šè¿‡ ./configure -å‚æ•° æ¥è¿›è¡Œç›¸å…³é…ç½®</p><p><img data-src="http://cdn.sekyoro.top/imgs/065553.png" alt="image-20210912223807497"></p><p>è¿›è¡Œç¼–è¯‘è®¾ç½®</p><p>å½“ç„¶,æˆ‘é—¨å¾ˆå¯èƒ½æ ¹æœ¬ä¸çŸ¥é“æœ‰å“ªäº›å‚æ•°,å¯ä»¥åœ¨è§£å‹å¾—åˆ°æ–‡ä»¶ä¸­æ‰¾åˆ°ç›¸å…³é…ç½®è¯´æ˜(ä¸€å®šä¼šæœ‰çš„,ä¸è¿‡æ˜¯è‹±æ–‡)</p><p><img data-src="http://cdn.sekyoro.top/imgs/065555.png" alt="image-20210912223955416"></p></li></ol><p>   é…ç½®å¥½åä¼šæœ‰makefile(æˆ–ç±»ä¼¼çš„ä¸œè¥¿),ç„¶åç›´æ¥makeæ ¹æ®è¿™ä¸ªé…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®,é…ç½®å¥½åå°±èƒ½ç›´æ¥å®‰è£…äº†</p><p> <img data-src="http://cdn.sekyoro.top/imgs/093630.png" alt="image-20210912224149809"></p><p>   å› ä¸ºæˆ‘å·²ç»è£…å¥½çš„,è¿™é‡Œæ˜¾ç¤ºå°±ä¼šä¸ä¸€æ ·</p><ol><li>å®‰è£…ã€‚make install</li></ol><p><img data-src="http://cdn.sekyoro.top/imgs/065557.png" alt="image-20210912224240669"></p><h3 id="äºŒè¿›åˆ¶å®‰è£…"><a href="#äºŒè¿›åˆ¶å®‰è£…" class="headerlink" title="äºŒè¿›åˆ¶å®‰è£…"></a>äºŒè¿›åˆ¶å®‰è£…</h3><p>æˆ‘ä»¬éœ€è¦åšçš„åªæ˜¯å°†ä»ç½‘ç»œä¸Šä¸‹è½½çš„äºŒè¿›åˆ¶åŒ…è§£å‹åæ”¾åˆ°åˆé€‚çš„ç›®å½•ï¼Œç„¶åå°†åŒ…å«å¯æ‰§è¡Œçš„ä¸»ç¨‹åºæ–‡ä»¶çš„ç›®å½•æ·»åŠ è¿›<code>PATH</code>ç¯å¢ƒå˜é‡å³å¯</p><p>ä¼˜ç‚¹ï¼šå®‰è£…è¿‡ç¨‹ç®€å•å¿«é€Ÿ</p><p>ç¼ºç‚¹ï¼šæ— æ³•æŸ¥çœ‹æºä»£ç ã€é€‰æ‹©åŠŸèƒ½ä¸çµæ´»ã€æœ‰ä¾èµ–æ€§ï¼ˆéœ€è¦æå‰ä¸€äº›å‰ç½®ä¾èµ–åŒ…ï¼‰</p><p>è¿™å°±è®¾è®¡åˆ°åˆšæ‰è¯´çš„rpmä¸dpkgäº†.     <strong>æ³¨æ„srpmé‡Œé¢æ˜¯æºç ,rpmä¸dpkgä¸‹è½½çš„æ˜¯ç»è¿‡ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶,ä¸å¯ä¿®æ”¹å‚æ•°</strong></p><p>æˆ‘è®¤ä¸ºäºŒè¿›åˆ¶å®‰è£…éš¾ç‚¹æ˜¯å®‰è£…çš„è·¯å¾„ä»¥åŠç›¸å…³çš„ä¸œè¥¿,å®ƒéƒ½ç»™ä½ é»˜è®¤äº†,çµæ´»æ€§å°,ä½†å®‰è£…ç®€å•.</p><p>dpkgä¸rpmåªæ˜¯ç”¨åœ¨ä¸åŒlinuxå‘è¡Œå¹³å°,å› ä¸ºæˆ‘ç”¨çš„ubuntu,åªå†™ä¸€ä¸‹dpkgå°±è¡Œäº†.é“ç†ç±»ä¼¼.</p><p>dpkgæœ¬èº«æ˜¯ä¸€ä¸ªåº•å±‚å·¥å…·,ä¸Šå±‚çš„å·¥å…·å¦‚apt,ç”¨äºè¿œç¨‹è·å–å®‰è£…åŒ…</p><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th></th></tr></thead><tbody><tr><td>-i</td><td>å®‰è£…æŒ‡å®šdebåŒ…</td><td></td></tr><tr><td>-R</td><td>åŠ ä¸Šç›®å½•,å®‰è£…ç›®å½•ä¸‹çš„æ‰€æœ‰debåŒ…</td><td></td></tr><tr><td>-r</td><td>remove ç§»é™¤å®‰è£…çš„è½¯ä»¶åŒ…</td><td></td></tr><tr><td>-s</td><td>æ˜¾ç¤ºå·²å®‰è£…åŒ…çš„ä¿¡æ¯</td><td></td></tr><tr><td>-L</td><td>æ˜¾ç¤ºå·²å®‰è£…çš„è½¯ä»¶åŒ…çš„ç›®å½•ä¿¡æ¯</td><td></td></tr><tr><td>-l</td><td>åˆ—å‡ºå·²å®‰è£…çš„æ‰€æœ‰è½¯ä»¶åŒ…</td></tr></tbody></table></div><h3 id="å¤§æ¦‚æ­¥éª¤-1"><a href="#å¤§æ¦‚æ­¥éª¤-1" class="headerlink" title="å¤§æ¦‚æ­¥éª¤"></a>å¤§æ¦‚æ­¥éª¤</h3><ol><li>ä¸‹è½½(ä¸å®‰è£…)ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶(å¦‚ä½•çŸ¥é“æ˜¯å¦æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶å‘¢,è¦ä¹ˆè‡ªå·±ç”„åˆ«,è¦ä¹ˆåˆ©ç”¨aptæˆ–yum)ä¸€èˆ¬ .rpm .deb æ˜¯äºŒè¿›åˆ¶</li><li>åˆ©ç”¨dpkg(ubuntu)æˆ–rpm(Centos)å®‰è£…,å‚æ•°è§ä¸Š,åˆ—ä¸¾ä¸å…¨,è‡ªè¡Œæœç´¢</li><li>è¿™æ ·æ–‡ä»¶å°±åœ¨å¯¹åº”çš„ç›®å½•</li></ol><p>è¿‡ç¨‹ç¡®å®æ¯”æºç åŒ…å®‰è£…ç®€å•</p><p>æ³¨æ„: apt-get installå®‰è£…ç›®å½•æ˜¯åŒ…çš„ç»´æŠ¤è€…ç¡®å®šçš„ï¼Œä¸æ˜¯ç”¨æˆ·</p><h4 id="å®ä¾‹-1"><a href="#å®ä¾‹-1" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h4><p>æˆ‘å®‰è£…ä¸€ä¸ªEmacsè¯•ä¸€è¯•</p><p>æ¶‰åŠåˆ°apt  åé¢ä¼šè¯´</p><ol><li><p>åˆ©ç”¨aptåœ¨çº¿ä¸‹è½½ä¸€ä¸ªè½¯ä»¶</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update  <span class="comment">#æ›´æ–°è½¯ä»¶åˆ—è¡¨</span></span><br><span class="line">sudo apt -d install -y emacs <span class="comment">#åªä¸‹è½½ä¸å®‰è£… ä¸”å›åº”å®‰è£…é€‰é¡¹æ—¶ä¸€å¾‹yes.</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/065600.png" alt="image-20210912231853997"></p></li><li><p>åˆ©ç”¨dpkgå®‰è£…</p><p>å¯ä»¥æŠŠå®‰è£…åŒ…ç§»åŠ¨åˆ°ä¸€ä¸ªè·¯å¾„ä¸‹å®‰è£…åœ¨é‚£</p><p>æˆ‘ä»¬å‘ç°ä¸æ­¢ä¸‹è½½äº†ä¸€ä¸ªåŒ…,è¯´æœ‰ä¾èµ–å…³ç³»,è¦ä¸€èµ·å®‰è£…</p><p><img data-src="http://cdn.sekyoro.top/imgs/065604.png" alt="image-20210912232149245"></p></li></ol><p>â€‹                    å¦‚æœå‡ºç°ä¸€äº›ä¾èµ–å…³ç³»,å®‰è£…æ—¶å°±è¦æå‰æˆ–ä¸€èµ·å®‰è£…</p><p>â€‹                    è¿™æ˜¯å¯ä»¥åˆ©ç”¨aptçš„ -få‚æ•°ä¿®å¤ä¾èµ–å…³ç³»,ç›¸å½“äºå°†æ²¡å®‰è£…çš„éƒ½è£…ä¸Šäº†</p><p><img data-src="http://cdn.sekyoro.top/imgs/065612.png" alt="image-20210912232408925"></p><h3 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><p>åœ¨çº¿ä¸‹è½½</p><p>aptä¸yum</p><p>æˆ‘ä»¬ç”¨åˆ°äº†aptä¸‹è½½,è¿™ä¸ªä¸œè¥¿å…¶å®å¾ˆå¸¸ç”¨.yumæ˜¯å…¶ä»–å‘è¡Œç‰ˆçš„,åŒç†</p><p>ä¸€èˆ¬æœ‰äººå¸¸ç”¨apt-get,äº‹å®ä¸Šaptæ›´å¸¸ç”¨,ä¹Ÿæ›´å¥½(è‡³å°‘æˆ‘è®¤ä¸º)</p><p><img data-src="http://cdn.sekyoro.top/imgs/065617.png" alt="image-20210912232716641"></p><p>aptå¯ä»¥è‡ªåŠ¨ä¸‹è½½,é…ç½®å®‰è£…äºŒè¿›åˆ¶<strong>æˆ–æºä»£ç </strong>æ ¼å¼çš„è½¯ä»¶åŒ….</p><p>å½“æ‰§è¡Œå®‰è£…æ—¶,ä¼šåœ¨æœ¬åœ°çš„æ•°æ®åº“ä¸­æœç´¢å…³äºè½¯ä»¶çš„ç›¸å…³ä¿¡æ¯,æ ¹æ®ä¿¡æ¯åœ¨ç›¸å…³æœåŠ¡å™¨ä¸Šä¸‹è½½(ä½ ä¹Ÿè®¸æœ€å¥½è¦æ¢æº).éœ€è¦æ‰§è¡Œsudo apt update ä½¿æœ¬åœ°è½¯ä»¶åŒ…åˆ—è¡¨ä¸æœåŠ¡å™¨ä¿æŒä¸€è‡´.</p><p>å¥½æ¶ˆæ¯ï¼šaptå¯ä»¥å¾ˆå¥½çš„å¤„ç†ä¾èµ–å…³ç³»</p><div class="table-container"><table><thead><tr><th>å·¥å…·</th><th>è¯´æ˜</th><th></th></tr></thead><tbody><tr><td>install</td><td>å®‰è£…è½¯ä»¶åŒ…</td><td></td></tr><tr><td>update</td><td>ä»æœåŠ¡å™¨ä¸Šæ›´æ–°ç”¨äºæ›´æ–°æœ¬åœ°è½¯ä»¶çš„åˆ—è¡¨</td><td></td></tr><tr><td>upgrade</td><td>å‡çº§æœ¬åœ°è½¯ä»¶</td><td></td></tr><tr><td>remove</td><td>ç§»é™¤å·²å®‰è£…çš„è½¯ä»¶åŒ…ä¸ä¸å…¶æœ‰å…³ç³»çš„è½¯ä»¶åŒ…(æ ªè¿)</td><td></td></tr><tr><td>clean</td><td>ç§»é™¤ä¸‹è½½åˆ°æœ¬åœ°çš„è½¯ä»¶åŒ…  è·¯å¾„ /var/cache/apt/archives/</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th></th></tr></thead><tbody><tr><td>-d</td><td>åªä¸‹è½½ä¸å®‰è£…</td><td></td></tr><tr><td>-y</td><td>è‡ªåŠ¨å›åº”æ˜¯å¦å®‰è£…è½¯ä»¶åŒ…çš„é€‰é¡¹  yes</td><td></td></tr><tr><td>-f</td><td>ä¿®å¤ä¾èµ–å…³ç³»</td></tr></tbody></table></div><p>å¯ä»¥ä½¿ç”¨sudo-cache searchæœç´¢æœ¬åœ°æœ‰æ²¡æœ‰è¯¥è½¯ä»¶</p><p><img data-src="http://cdn.sekyoro.top/imgs/065621.png" alt="image-20210912233857067"></p><h3 id="è½¯ä»¶å¸è½½-æ›´æ–°"><a href="#è½¯ä»¶å¸è½½-æ›´æ–°" class="headerlink" title="è½¯ä»¶å¸è½½ æ›´æ–°"></a>è½¯ä»¶å¸è½½ æ›´æ–°</h3><p>æ ¹æ®ä¸åŒçš„å®‰è£…æ–¹å¼è¿›è¡Œ</p><h4 id="æºç å¸è½½-æ›´æ–°"><a href="#æºç å¸è½½-æ›´æ–°" class="headerlink" title="æºç å¸è½½ æ›´æ–°"></a>æºç å¸è½½ æ›´æ–°</h4><p>æˆ‘ä»¬å·²ç»çŸ¥é“æºç å®‰è£…æ¯”è¾ƒéº»çƒ¦äº†,å¸è½½çš„è¯ä¹Ÿæœ‰ç‚¹å°éº»çƒ¦</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make uninstall <span class="comment">#å¯ä»¥å¸è½½</span></span><br></pre></td></tr></table></figure><p>äº‹å®ä¸Šæœ‰äº›æºç åŒ…å¹¶æœªæä¾›è¿™æ ·çš„å¸è½½æ–¹å¼</p><p>å¯ä»¥åœ¨å®‰è£…æ—¶æŒ‡å®šå®‰è£…è·¯å¾„   â€”prefix==è·¯å¾„</p><p>å¸è½½æ—¶æŠŠé‚£ä¸ªç›®å½•åˆ é™¤å°±è¡Œ </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm  -rf ç›®å½•</span><br></pre></td></tr></table></figure><p>æ›´æ–°çš„è¯,å¦‚æœæ˜¯ä»ç½‘ç«™ä¸Šä¸‹è½½ç¼–è¯‘çš„åªæœ‰é‡æ–°ä¸‹è½½å†èµ°ä¸€éæµç¨‹</p><h4 id="äºŒè¿›åˆ¶å¸è½½-æ›´æ–°"><a href="#äºŒè¿›åˆ¶å¸è½½-æ›´æ–°" class="headerlink" title="äºŒè¿›åˆ¶å¸è½½ æ›´æ–°"></a>äºŒè¿›åˆ¶å¸è½½ æ›´æ–°</h4><p>äºŒè¿›åˆ¶ä»£ç å¦‚æœåœ¨ä¸€ä¸ªç›®å½•(æ¯”å¦‚æ˜¯è§£å‹åˆ°ä¸€ä¸ªç›®å½•çš„æƒ…å†µ),ç›´æ¥</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf ç›®å½•</span><br></pre></td></tr></table></figure><p>æˆ‘è¯•ä¸€ä¸‹,å¸è½½æºç å®‰è£…çš„bochs,è¯•ä¸€è¯• make uninstall</p><p><img data-src="http://cdn.sekyoro.top/imgs/065623.png" alt="image-20210912234855213"></p><p>æˆåŠŸäº†,æˆ‘å¥½ä¸å®¹æ˜“å®‰è£…çš„è½¯ä»¶æ²¡äº†</p><p>å¯ä»¥çœ‹å‡º,å®‰è£…çš„è½¯ä»¶çš„è·¯å¾„ä¸å¤ªå¥½ç¡®å®š</p><p>æ›´æ–°çš„è¯åŒç†,äº‹å®ä¸Šå¦‚æœä»ç½‘ç«™ä¸Šä¸‹è½½çš„,ä¸ç®¡æ˜¯æºç è¿˜æ˜¯äºŒè¿›åˆ¶,åªèƒ½é‡æ–°èµ°ä¸€éå¼€å§‹çš„æµç¨‹äº†</p><p><strong>ä½†æ˜¯</strong></p><p>å¦‚æœç”¨aptæˆ–ç±»ä¼¼çš„è½¯ä»¶ç®¡ç†å°±ä¸ä¸€æ ·äº†</p><p>æ›´æ–°è½¯ä»¶åŒ…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt update         <span class="comment"># æ›´æ–°å®‰è£…æº(Source)apt upgrade         # æ›´æ–°å·²å®‰è£…çš„è½¯ä»¶åŒ…apt dist-upgrade      # æ›´æ–°å·²å®‰è£…çš„è½¯ä»¶åŒ…(è¯†åˆ«å¹¶å¤„ç†ä¾èµ–å…³ç³»çš„æ”¹å˜)</span></span><br></pre></td></tr></table></figure><p>å¸è½½è½¯ä»¶åŒ…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt remove PackageName       <span class="comment"># åˆ é™¤è½¯ä»¶åŒ…, ä¿ç•™é…ç½®æ–‡ä»¶apt purge PackageName        # åˆ é™¤è½¯ä»¶åŒ…, åŒæ—¶åˆ é™¤é…ç½®æ–‡ä»¶apt autoremove PackageName     # ç§»é™¤ä¹‹å‰è¢«å…¶ä»–è½¯ä»¶ä¾èµ–ä½†ä¸å†è¢«ä½¿ç”¨çš„è½¯ä»¶</span></span><br></pre></td></tr></table></figure><p> å®‰è£…è½¯ä»¶åŒ…</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install PackageName         <span class="comment"># æ™®é€šå®‰è£…apt install PackageName=VersionName   # å®‰è£…æŒ‡å®šåŒ…çš„æŒ‡å®šç‰ˆæœ¬apt --reinstall install PackageName   #é‡æ–°å®‰è£…apt build-dep PackageName        # å®‰è£…æºç åŒ…æ‰€éœ€è¦çš„ç¼–è¯‘ç¯å¢ƒapt -f install             # ä¿®å¤ä¾èµ–å…³ç³»</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong> å¦‚æœå‡ºç°ä¸€äº›é—®é¢˜éœ€è¦é‡æ–°å®‰è£…è½¯ä»¶, â€”reinstall installå¾ˆæœ‰ç”¨ï¼Œ</p><p>åŒæ—¶dpkgä¹Ÿå¯ä»¥å¤„ç†è½¯ä»¶çš„å¸è½½</p><ol><li>dpkg -r package-nameåˆ é™¤è½¯ä»¶åŒ…ï¼ˆä¿ç•™é…ç½®ä¿¡æ¯ï¼‰</li><li>dpkg â€”configure package-name é…ç½®è½¯ä»¶åŒ…ï¼Œå¦‚æœåŠ ä¸Š<code>-a</code>è¡¨ç¤ºé…ç½®æ‰€æœ‰æœªé…ç½®çš„è½¯ä»¶åŒ…</li></ol><h4 id="å®ä¾‹-2"><a href="#å®ä¾‹-2" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h4><p>1.æ›´æ–°è½¯ä»¶åˆ—è¡¨</p><p><img data-src="http://cdn.sekyoro.top/imgs/065628.png" alt="image-20210913000617325"></p><p>2.æ›´æ–°æœ¬åœ°è½¯ä»¶</p><p><img data-src="http://cdn.sekyoro.top/imgs/065630.png" alt="image-20210913000704670"></p><p>è¿™æ ·å°±æ›´æ–°äº†</p><p>å¸è½½çš„è¯ </p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove</span><br></pre></td></tr></table></figure><p>å°±ä¸ç¤ºèŒƒäº†,æ‡’å¾—å†è£…</p><h3 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h3><p>å› ä¸ºLinuxå‘½ä»¤å¤ªå¤šäº†,å­¦ä¼šä½¿ç”¨å¸®åŠ©å¾ˆé‡è¦</p><ul><li>åœ¨åªè®°å¾—éƒ¨åˆ†å‘½ä»¤å…³é”®å­—çš„åœºåˆï¼Œæˆ‘ä»¬å¯é€šè¿‡man -kæ¥æœç´¢ï¼›</li><li>éœ€è¦çŸ¥é“æŸä¸ªå‘½ä»¤çš„ç®€è¦è¯´æ˜ï¼Œå¯ä»¥ä½¿ç”¨whatisï¼›è€Œæ›´è¯¦ç»†çš„ä»‹ç»ï¼Œåˆ™å¯ç”¨infoå‘½ä»¤ï¼›</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/065632.png" alt="image-20210913231211364"></p><ul><li>æŸ¥çœ‹å‘½ä»¤åœ¨å“ªä¸ªä½ç½®ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨whichï¼›</li><li>è€Œå¯¹äºå‘½ä»¤çš„å…·ä½“å‚æ•°åŠä½¿ç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°å¼ºå¤§çš„man</li><li>helpä¹Ÿå¯ä»¥æŸ¥çœ‹å†…ç½®å‘½ä»¤(helpä¸åœ¨zshä¸­,ä¸”lsä¸æ˜¯å†…ç½®å‘½ä»¤ï¼‰</li></ul><p>ç®€è¦è¯´æ˜å‘½ä»¤çš„ä½œç”¨ï¼ˆæ˜¾ç¤ºå‘½ä»¤æ‰€å¤„çš„manåˆ†ç±»é¡µé¢ï¼‰:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$whatis</span> <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç¨‹åºçš„binaryæ–‡ä»¶æ‰€åœ¨è·¯å¾„:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$which</span> <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p>è¯¦ç»†çš„è¯´æ˜æ–‡æ¡£:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$info</span> <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p>eg:æŸ¥æ‰¾makeç¨‹åºå®‰è£…è·¯å¾„:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$which</span> make/opt/app/openav/soft/bin/make install</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç¨‹åºçš„æœç´¢è·¯å¾„:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$whereis</span> <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p>å½“ç³»ç»Ÿä¸­å®‰è£…äº†åŒä¸€è½¯ä»¶çš„å¤šä¸ªç‰ˆæœ¬æ—¶ï¼Œä¸ç¡®å®šä½¿ç”¨çš„æ˜¯å“ªä¸ªç‰ˆæœ¬æ—¶ï¼Œè¿™ä¸ªå‘½ä»¤å°±èƒ½æ´¾ä¸Šç”¨åœº</p>]]></content>
      
      
      <categories>
          
          <category> Linux_study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®ä¿¡å°ç¨‹åºå¼€å‘</title>
      <link href="2021/09/06/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/"/>
      <url>2021/09/06/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="å¾®ä¿¡å°ç¨‹åºå¼€å‘"><a href="#å¾®ä¿¡å°ç¨‹åºå¼€å‘" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºå¼€å‘"></a>å¾®ä¿¡å°ç¨‹åºå¼€å‘</h1><p>å¼€å‘æ–‡æ¡£æŒºé½å…¨çš„,ä¹Ÿæ˜¯å€Ÿç€å¾®ä¿¡è¿™ä¸ªå¹³å°.</p><p>å¼€å‘æ¨¡å¼ä¹ŸæŒºå¥½.</p><p>ä¸è¿‡ç¼ºç‚¹ä¹Ÿæ˜¯åªèƒ½å±€é™åœ¨è¿™ä¸ªå¹³å°,è¦å¼€å‘æ‰‹æœºè½¯ä»¶è¿˜è¦çœ‹å…¶ä»–çš„è€Œä¸”ç°åœ¨webæ¯”è¾ƒå¥½.</p><span id="more"></span><p><strong>å¼€å‘æ–‡æ¡£</strong></p><p><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/">å°ç¨‹åºç®€ä»‹ | å¾®ä¿¡å¼€æ”¾æ–‡æ¡£ (qq.com)</a></p><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094148.png" alt="image-20210831185320318"></p><p><img data-src="http://cdn.sekyoro.top/imgs/image-20210831185251774.png" alt="image-20210831185251774" style="zoom:67%;" /></p><h3 id="é¡¹ç›®é…ç½®æ–‡ä»¶"><a href="#é¡¹ç›®é…ç½®æ–‡ä»¶" class="headerlink" title="é¡¹ç›®é…ç½®æ–‡ä»¶"></a>é¡¹ç›®é…ç½®æ–‡ä»¶</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">project.config.json</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/094149.png" alt="image-20210831185432310"></p><p>å½“ä½ é‡æ–°å®‰è£…å·¥å…·æˆ–è€…æ¢ç”µè„‘å·¥ä½œæ—¶ï¼Œä½ åªè¦è½½å…¥åŒä¸€ä¸ªé¡¹ç›®çš„ä»£ç åŒ…ï¼Œå¼€å‘è€…å·¥å…·å°±è‡ªåŠ¨ä¼šå¸®ä½ æ¢å¤åˆ°å½“æ—¶ä½ å¼€å‘é¡¹ç›®æ—¶çš„ä¸ªæ€§åŒ–é…ç½®ï¼Œå…¶ä¸­ä¼šåŒ…æ‹¬ç¼–è¾‘å™¨çš„é¢œè‰²ã€ä»£ç ä¸Šä¼ æ—¶è‡ªåŠ¨å‹ç¼©ç­‰ç­‰ä¸€ç³»åˆ—é€‰é¡¹ã€‚</p><h3 id="ä¸»ä½“æ–‡ä»¶"><a href="#ä¸»ä½“æ–‡ä»¶" class="headerlink" title="ä¸»ä½“æ–‡ä»¶"></a>ä¸»ä½“æ–‡ä»¶</h3><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.json</span><br><span class="line"></span><br><span class="line">app.js</span><br><span class="line"></span><br><span class="line">app.wxssï¼ˆå¯é€‰æ–‡ä»¶ï¼‰</span><br></pre></td></tr></table></figure><h4 id="app-json"><a href="#app-json" class="headerlink" title="app.json"></a>app.json</h4><p>å°ç¨‹åºçš„å…¨å±€é…ç½®æ–‡ä»¶.åŒ…å«</p><ol><li>å°ç¨‹åºæ‰€æœ‰é¡µé¢çš„è·¯å¾„åœ°å€</li><li>å¯¼èˆªæ æ ·å¼</li><li><p>â€¦</p></li><li><p><code>pages</code>å­—æ®µ â€”â€” ç”¨äºæè¿°å½“å‰å°ç¨‹åºæ‰€æœ‰é¡µé¢è·¯å¾„ï¼Œè¿™æ˜¯ä¸ºäº†è®©å¾®ä¿¡å®¢æˆ·ç«¯çŸ¥é“å½“å‰ä½ çš„å°ç¨‹åºé¡µé¢å®šä¹‰åœ¨å“ªä¸ªç›®å½•ã€‚</p></li><li><code>window</code>å­—æ®µ â€”â€” å®šä¹‰å°ç¨‹åºæ‰€æœ‰é¡µé¢çš„é¡¶éƒ¨èƒŒæ™¯é¢œè‰²ï¼Œæ–‡å­—é¢œè‰²å®šä¹‰ç­‰</li></ol><p>è¿˜å¯ä»¥é…ç½®tabBar,networkTimeout,debugç­‰å±æ€§</p><p>æ³¨æ„:pagesè®°å½•å°ç¨‹åºæ‰€æœ‰é¡µé¢çš„è·¯å¾„åœ°å€.å…¶ä¸­å¦‚æœæœ‰å¤šä¸ªé¡µé¢åœ°å€,<strong>ç¬¬ä¸€ä¸ªé»˜è®¤ä¸ºå°ç¨‹åºåˆå§‹é¡µé¢</strong></p><p>tabBarè®¾ç½®é¡µé¢åº•éƒ¨tabå·¥å…·æ¡è¡¨ç°</p><p><img data-src="http://cdn.sekyoro.top/imgs/094151.png" alt="image-20210831192321856"></p><p>windowå±æ€§å¯¹åº”çš„å€¼æ˜¯å¯¹è±¡å½¢å¼</p><p>è¿˜æœ‰networkTimeoutå’Œdebug</p><p><img data-src="http://cdn.sekyoro.top/imgs/094153.png" alt="image-20210831192927512"></p><h4 id="app-js"><a href="#app-js" class="headerlink" title="app.js"></a>app.js</h4><p>å…¨å±€é€»è¾‘æ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">App(</span><br><span class="line"></span><br><span class="line">&#123;<span class="function"><span class="title">onLaunch</span>(<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line"></span><br><span class="line"><span class="attr">globalData</span>:&#123;&#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="app-wxss"><a href="#app-wxss" class="headerlink" title="app.wxss"></a>app.wxss</h4><p>å¯ä»¥ä¸å†™,ç±»ä¼¼äºcss.è§„å®šæ‰€æœ‰é¡µé¢éƒ½å¯ç”¨çš„æ ·å¼æ•ˆæœ</p><h3 id="é¡µé¢é…ç½®æ–‡ä»¶"><a href="#é¡µé¢é…ç½®æ–‡ä»¶" class="headerlink" title="é¡µé¢é…ç½®æ–‡ä»¶"></a>é¡µé¢é…ç½®æ–‡ä»¶</h3><p>åœ¨æ ¹ç›®å½•ä¸‹çš„pagesæ–‡ä»¶å¤¹ä¸­ä¿å­˜æ‰€æœ‰é¡µé¢æ–‡ä»¶</p><p>æ¯ä¸€ä¸ªç‹¬ç«‹çš„é¡µé¢åŸºæœ¬éƒ½ç”±å››ç§æ–‡ä»¶æ„æˆ</p><p>wxml wxss jså’Œjson</p><p>ç”±äºé¡µé¢çš„jsonåªèƒ½å†™ä¸windowç›¸å…³çš„é…ç½®æ— é¡»åƒapp.jsoné‚£æ ·å¤æ‚</p><h3 id="sitemap-js"><a href="#sitemap-js" class="headerlink" title="sitemap.js"></a>sitemap.js</h3><p>å¼€å‘è€…å¯ä»¥é€šè¿‡ <code>sitemap.json</code> é…ç½®ï¼Œæˆ–è€…ç®¡ç†åå°é¡µé¢æ”¶å½•å¼€å…³æ¥é…ç½®å…¶å°ç¨‹åºé¡µé¢æ˜¯å¦å…è®¸å¾®ä¿¡ç´¢å¼•ã€‚å½“å¼€å‘è€…å…è®¸å¾®ä¿¡ç´¢å¼•æ—¶ï¼Œå¾®ä¿¡ä¼šé€šè¿‡çˆ¬è™«çš„å½¢å¼ï¼Œä¸ºå°ç¨‹åºçš„é¡µé¢å†…å®¹å»ºç«‹ç´¢å¼•ã€‚å½“ç”¨æˆ·çš„æœç´¢è¯æ¡è§¦å‘è¯¥ç´¢å¼•æ—¶ï¼Œå°ç¨‹åºçš„é¡µé¢å°†å¯èƒ½å±•ç¤ºåœ¨æœç´¢ç»“æœä¸­ã€‚ çˆ¬è™«è®¿é—®å°ç¨‹åºå†…é¡µé¢æ—¶ï¼Œä¼šæºå¸¦ç‰¹å®šçš„ user-agentï¼š<code>mpcrawler</code> åŠ<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/scene-list.html">åœºæ™¯å€¼</a>ï¼š<code>1129</code>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥å°ç¨‹åºçˆ¬è™«å‘ç°çš„é¡µé¢æ•°æ®å’ŒçœŸå®ç”¨æˆ·çš„å‘ˆç°ä¸ä¸€è‡´ï¼Œé‚£ä¹ˆè¯¥é¡µé¢å°†ä¸ä¼šè¿›å…¥ç´¢å¼•ä¸­ã€‚</p><p>å…·ä½“é…ç½®è¯´æ˜</p><ol><li>é¡µé¢æ”¶å½•è®¾ç½®ï¼šå¯å¯¹æ•´ä¸ªå°ç¨‹åºçš„ç´¢å¼•è¿›è¡Œå…³é—­ï¼Œå°ç¨‹åºç®¡ç†åå°-åŠŸèƒ½-é¡µé¢å†…å®¹æ¥å…¥-é¡µé¢æ”¶å½•å¼€å…³ï¼›<a href="https://mp.weixin.qq.com/wxopen/readtemplate?t=config/collection_agreement_tmpl">è¯¦æƒ…</a></li><li>sitemap é…ç½®ï¼šå¯å¯¹ç‰¹å®šé¡µé¢çš„ç´¢å¼•è¿›è¡Œå…³é—­</li></ol><p>åœ¨å†™ç½‘ç«™æ—¶ä¹Ÿä¼šæœ‰sitemapç›¸å½“äºå¾®ä¿¡å†…å¯¹ä½ çš„å°ç¨‹åºçš„ç´¢å¼•,å¯ä»¥è®¾ç½®å“ªäº›èƒ½ç´¢å¼•åˆ°å“ªäº›ä¸èƒ½</p><p>æ„Ÿè§‰ä¸ç”¨æ”¹</p><h3 id="å…¶ä»–æ–‡ä»¶"><a href="#å…¶ä»–æ–‡ä»¶" class="headerlink" title="å…¶ä»–æ–‡ä»¶"></a>å…¶ä»–æ–‡ä»¶</h3><p><img data-src="http://cdn.sekyoro.top/imgs/094154.png" alt="image-20210831193616831"></p><p>utilsæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾å…¬å…±jsæ–‡ä»¶å¯ä»¥è¢«å…¶ä»–æ–‡ä»¶å¼•ç”¨</p><p>è¿˜å¯ä»¥è‡ªå®šä¹‰èµ„æºæ–‡ä»¶å¤¹å­˜æ”¾å…¶ä»–æ–‡ä»¶,å¦‚å›¾ç‰‡ç­‰</p><h2 id="IDEä½¿ç”¨"><a href="#IDEä½¿ç”¨" class="headerlink" title="IDEä½¿ç”¨"></a>IDEä½¿ç”¨</h2><p>æ„Ÿè§‰è·Ÿvscodeç±»ä¼¼,åŠŸèƒ½è¿˜æ˜¯æŒºå¤šçš„</p><p>æˆ‘å°±ä¸å¤šä»‹ç»äº†</p><p><img data-src="http://cdn.sekyoro.top/imgs/094155.png" alt="å›¾ç‰‡"></p><h2 id="å°ç¨‹åºæ¡†æ¶"><a href="#å°ç¨‹åºæ¡†æ¶" class="headerlink" title="å°ç¨‹åºæ¡†æ¶"></a>å°ç¨‹åºæ¡†æ¶</h2><h3 id="é€»è¾‘å±‚"><a href="#é€»è¾‘å±‚" class="headerlink" title="é€»è¾‘å±‚"></a>é€»è¾‘å±‚</h3><p>App Services</p><p>é€»è¾‘å±‚ä¸»è¦ä½œç”¨æ˜¯å¤„ç†æ•°æ®åå‘é€ç»™è§†å›¾å±‚æ¸²æŸ“ä»¥åŠæ¥å—è§†å›¾å±‚çš„åé¦ˆ.ï¼ˆä¸€èˆ¬è§£é‡Šï¼‰</p><p>ä¸ªäººè®¤ä¸ºå°±æ˜¯åå°çš„å¤„ç†.MVVMç»“æ„</p><p>åœ¨ <code>JavaScript</code> çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†ä¸€äº›åŠŸèƒ½ï¼Œä»¥æ–¹ä¾¿å°ç¨‹åºçš„å¼€å‘ï¼š</p><ul><li>å¢åŠ  <code>App</code> å’Œ <code>Page</code> æ–¹æ³•ï¼Œè¿›è¡Œ<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/app.html">ç¨‹åºæ³¨å†Œ</a>å’Œ<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page.html">é¡µé¢æ³¨å†Œ</a>ã€‚</li><li>å¢åŠ  <code>getApp</code> å’Œ <code>getCurrentPages</code> æ–¹æ³•ï¼Œåˆ†åˆ«ç”¨æ¥è·å– <code>App</code> å®ä¾‹å’Œå½“å‰é¡µé¢æ ˆã€‚</li><li>æä¾›ä¸°å¯Œçš„ <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/api.html">API</a>ï¼Œå¦‚å¾®ä¿¡ç”¨æˆ·æ•°æ®ï¼Œæ‰«ä¸€æ‰«ï¼Œæ”¯ä»˜ç­‰å¾®ä¿¡ç‰¹æœ‰èƒ½åŠ›ã€‚</li><li>æä¾›<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/module.html#æ¨¡å—åŒ–">æ¨¡å—åŒ–</a>èƒ½åŠ›ï¼Œæ¯ä¸ªé¡µé¢æœ‰ç‹¬ç«‹çš„<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/module.html#æ–‡ä»¶ä½œç”¨åŸŸ">ä½œç”¨åŸŸ</a>ã€‚</li></ul><p><strong>æ³¨æ„ï¼šå°ç¨‹åºæ¡†æ¶çš„é€»è¾‘å±‚å¹¶éè¿è¡Œåœ¨æµè§ˆå™¨ä¸­ï¼Œå› æ­¤ <code>JavaScript</code> åœ¨ web ä¸­ä¸€äº›èƒ½åŠ›éƒ½æ— æ³•ä½¿ç”¨ï¼Œå¦‚ <code>window</code>ï¼Œ<code>document</code> ç­‰ã€‚</strong></p><h3 id="æ³¨å†Œç¨‹åº"><a href="#æ³¨å†Œç¨‹åº" class="headerlink" title="æ³¨å†Œç¨‹åº"></a>æ³¨å†Œç¨‹åº</h3><h4 id="App"><a href="#App" class="headerlink" title="App()"></a>App()</h4><p>åªèƒ½å†™åœ¨app.jså†…ä¸”åªèƒ½æ³¨å†Œä¸€ä¸ª</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">App(&#123;</span><br><span class="line">  onLaunch (options) &#123;</span><br><span class="line">    <span class="comment">// Do something initial when launch.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onShow (options) &#123;</span><br><span class="line">    <span class="comment">// Do something when show.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onHide () &#123;</span><br><span class="line">    <span class="comment">// Do something when hide.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onError (msg) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(msg)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">globalData</span>: <span class="string">&#x27;I am global data&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">App(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å½“å°ç¨‹åºåˆå§‹åŒ–å®Œæˆæ—¶ï¼Œä¼šè§¦å‘ onLaunchï¼ˆå…¨å±€åªè§¦å‘ä¸€æ¬¡ï¼‰</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onLaunch</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å½“å°ç¨‹åºå¯åŠ¨ï¼Œæˆ–ä»åå°è¿›å…¥å‰å°æ˜¾ç¤ºï¼Œä¼šè§¦å‘ onShow</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onShow</span>: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å½“å°ç¨‹åºä»å‰å°è¿›å…¥åå°ï¼Œä¼šè§¦å‘ onHide</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onHide</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * å½“å°ç¨‹åºå‘ç”Ÿè„šæœ¬é”™è¯¯ï¼Œæˆ–è€… api è°ƒç”¨å¤±è´¥æ—¶ï¼Œä¼šè§¦å‘ onError å¹¶å¸¦ä¸Šé”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onError</span>: <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å°ç¨‹åºåå°å°±æ˜¯æŒ‰Homeé”®æˆ–æŸäº›æŒ‰é’®å°†å°ç¨‹åºé€€åˆ°åå°</p><p>onLaunch()å’ŒonShow()æ–¹æ³•åœ¨è§¦å‘æ—¶ä¼šè¿”å›å‚æ•°</p><p>globalDataå¯ä»¥è‡ªç”±å®šä¹‰</p><h4 id="onpageNotFound"><a href="#onpageNotFound" class="headerlink" title="onpageNotFound()"></a>onpageNotFound()</h4><p>å½“éœ€è¦æ‰“å¼€çš„é¡µé¢ä¸å‚¬åœ¨æ—¶,å¾®ä¿¡å®¢æˆ·ç«¯ä¼šæœ‰ä¸€ä¸ªåŸç”Ÿæ¨¡æ¿é¡µé¢æç¤º.å¦‚æœæƒ³æ›´æ”¹å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•</p><h4 id="getApp"><a href="#getApp" class="headerlink" title="getApp()"></a>getApp()</h4><p>è·å–å°ç¨‹åºå®ä¾‹</p><p>æ•´ä¸ªå°ç¨‹åºåªæœ‰ä¸€ä¸ª App å®ä¾‹ï¼Œæ˜¯å…¨éƒ¨é¡µé¢å…±äº«çš„ã€‚å¼€å‘è€…å¯ä»¥é€šè¿‡ <code>getApp</code> æ–¹æ³•è·å–åˆ°å…¨å±€å”¯ä¸€çš„ App å®ä¾‹ï¼Œè·å–Appä¸Šçš„æ•°æ®æˆ–è°ƒç”¨å¼€å‘è€…æ³¨å†Œåœ¨ <code>App</code> ä¸Šçš„å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// xxx.js</span></span><br><span class="line"><span class="keyword">const</span> appInstance = getApp()</span><br><span class="line"><span class="built_in">console</span>.log(appInstance.globalData) <span class="comment">// I am global data</span></span><br></pre></td></tr></table></figure><h3 id="æ³¨å†Œé¡µé¢"><a href="#æ³¨å†Œé¡µé¢" class="headerlink" title="æ³¨å†Œé¡µé¢"></a>æ³¨å†Œé¡µé¢</h3><p>å¯¹äºå°ç¨‹åºä¸­çš„æ¯ä¸ªé¡µé¢ï¼Œéƒ½éœ€è¦åœ¨é¡µé¢å¯¹åº”çš„ <code>js</code> æ–‡ä»¶ä¸­è¿›è¡Œæ³¨å†Œï¼ŒæŒ‡å®šé¡µé¢çš„åˆå§‹æ•°æ®ã€ç”Ÿå‘½å‘¨æœŸå›è°ƒã€äº‹ä»¶å¤„ç†å‡½æ•°ç­‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">text</span>: <span class="string">&quot;This is page data.&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onLoad</span>: <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢åˆ›å»ºæ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onShow</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢å‡ºç°åœ¨å‰å°æ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onReady</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢é¦–æ¬¡æ¸²æŸ“å®Œæ¯•æ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onHide</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢ä»å‰å°å˜ä¸ºåå°æ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onUnload</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢é”€æ¯æ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onPullDownRefresh</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// è§¦å‘ä¸‹æ‹‰åˆ·æ–°æ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onReachBottom</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢è§¦åº•æ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onShareAppMessage</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢è¢«ç”¨æˆ·åˆ†äº«æ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onPageScroll</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢æ»šåŠ¨æ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">onResize</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é¡µé¢å°ºå¯¸å˜åŒ–æ—¶æ‰§è¡Œ</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="title">onTabItemTap</span>(<span class="params">item</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// tab ç‚¹å‡»æ—¶æ‰§è¡Œ</span></span><br><span class="line">    <span class="built_in">console</span>.log(item.index)</span><br><span class="line">    <span class="built_in">console</span>.log(item.pagePath)</span><br><span class="line">    <span class="built_in">console</span>.log(item.text)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// äº‹ä»¶å“åº”å‡½æ•°</span></span><br><span class="line">  <span class="attr">viewTap</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.setData(&#123;</span><br><span class="line">      <span class="attr">text</span>: <span class="string">&#x27;Set some data for updating view.&#x27;</span></span><br><span class="line">    &#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// this is setData callback</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// è‡ªç”±æ•°æ®</span></span><br><span class="line">  <span class="attr">customData</span>: &#123;</span><br><span class="line">    <span class="attr">hi</span>: <span class="string">&#x27;MINA&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="åˆå§‹æ•°æ®"><a href="#åˆå§‹æ•°æ®" class="headerlink" title="åˆå§‹æ•°æ®"></a>åˆå§‹æ•°æ®</h4><p>dataå±æ€§  å½“é¡µé¢åŠ è½½æ—¶ç”±é€»è¾‘å±‚åˆ°æ¸²æŸ“å±‚å› æ­¤dataæ•°æ®å¿…é¡»æ˜¯å¯ä»¥è½¬åŒ–æˆjsonçš„ç±»å‹  </p><p>wxmlå¯ä»¥è¿›è¡Œæ•°æ®ç»‘å®š</p><p>WXML é€šè¿‡ { {å˜é‡å}} æ¥ç»‘å®š WXML æ–‡ä»¶å’Œå¯¹åº”çš„ JavaScript æ–‡ä»¶ä¸­çš„ data å¯¹è±¡å±æ€§ã€‚</p><h4 id="ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°"><a href="#ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°"></a><a id="test">ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°</a></h4><p>Page()å‡½æ•°ä¸­ä¼šç”ŸæˆonLoad(),onShow()ç­‰</p><p><img data-src="http://cdn.sekyoro.top/imgs/094157.png" alt="image-20210831204052874"></p><p><img data-src="http://cdn.sekyoro.top/imgs/094158.png" alt="image-20210831204116813"></p><ul><li><code>navigateTo</code>, <code>redirectTo</code> åªèƒ½æ‰“å¼€é tabBar é¡µé¢ã€‚</li><li><code>switchTab</code> åªèƒ½æ‰“å¼€ tabBar é¡µé¢ã€‚</li><li><code>reLaunch</code> å¯ä»¥æ‰“å¼€ä»»æ„é¡µé¢ã€‚</li><li>é¡µé¢åº•éƒ¨çš„ tabBar ç”±é¡µé¢å†³å®šï¼Œå³åªè¦æ˜¯å®šä¹‰ä¸º tabBar çš„é¡µé¢ï¼Œåº•éƒ¨éƒ½æœ‰ tabBarã€‚</li><li>è°ƒç”¨é¡µé¢è·¯ç”±å¸¦çš„å‚æ•°å¯ä»¥åœ¨ç›®æ ‡é¡µé¢çš„<code>onLoad</code>ä¸­è·å–ã€‚</li></ul><h4 id="é¡µé¢äº‹ä»¶å¤„ç†å‡½æ•°"><a href="#é¡µé¢äº‹ä»¶å¤„ç†å‡½æ•°" class="headerlink" title="é¡µé¢äº‹ä»¶å¤„ç†å‡½æ•°"></a>é¡µé¢äº‹ä»¶å¤„ç†å‡½æ•°</h4><p>Pagesä¸­çš„ onPullDownRefresh(),onReachBottom()ç­‰</p><h4 id="ç»„ä»¶äº‹ä»¶å¤„ç†å‡½æ•°"><a href="#ç»„ä»¶äº‹ä»¶å¤„ç†å‡½æ•°" class="headerlink" title="ç»„ä»¶äº‹ä»¶å¤„ç†å‡½æ•°"></a>ç»„ä»¶äº‹ä»¶å¤„ç†å‡½æ•°</h4><p>åœ¨wxmlä¸Šå®šä¹‰äº‹ä»¶ç»‘å®š,äº‹ä»¶è§¦å‘æ—¶è°ƒç”¨Page()ä¸­å¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°</p><h4 id="rout"><a href="#rout" class="headerlink" title="rout"></a>rout</h4><p>åˆ©ç”¨this.routeæŸ¥çœ‹å½“å‰é¡µé¢è·¯å¾„åœ°å€</p><h4 id="setData"><a href="#setData" class="headerlink" title="setData()"></a>setData()</h4><p>åœ¨Pages()ä¸­åŒæ­¥æ›´æ–°dataå±æ€§ä¸­çš„æ•°æ®å€¼ä¹Ÿå¼‚æ­¥æ›´æ–°ç›¸å…³æ•°æ®åˆ°wxmlé¡µé¢ã€‚</p><p>ä¹Ÿå¯ä»¥åœ¨pagesä¸­åˆ©ç”¨this.dataè°ƒç”¨æ•°æ®</p><h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><p><a href="https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png">https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png</a></p><p>é¡µé¢è·¯ç”±è§<a href="#test">è·¯ç”±</a></p><p>å°ç¨‹åºåº”ç”¨æ‰“å¼€æ—¶é¦–å…ˆonLaunch()</p><p>é¡µé¢æ‰“å¼€æ—¶é¦–å…ˆonLoad(),åˆæ¬¡æ¸²æŸ“onReady()</p><h2 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h2><p>å¯ä»¥å°†ä¸€äº›å…¬å…±çš„ä»£ç æŠ½ç¦»æˆä¸ºä¸€ä¸ªå•ç‹¬çš„ js æ–‡ä»¶ï¼Œä½œä¸ºä¸€ä¸ªæ¨¡å—ã€‚æ¨¡å—åªæœ‰é€šè¿‡ <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/module.html"><code>module.exports</code></a> æˆ–è€… <code>exports</code> æ‰èƒ½å¯¹å¤–æš´éœ²æ¥å£ã€‚</p><p>æ³¨æ„ï¼š</p><ul><li><code>exports</code> æ˜¯ <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/module.html"><code>module.exports</code></a> çš„ä¸€ä¸ªå¼•ç”¨ï¼Œå› æ­¤åœ¨æ¨¡å—é‡Œè¾¹éšæ„æ›´æ”¹ <code>exports</code> çš„æŒ‡å‘ä¼šé€ æˆæœªçŸ¥çš„é”™è¯¯ã€‚æ‰€ä»¥æ›´æ¨èå¼€å‘è€…é‡‡ç”¨ <code>module.exports</code> æ¥æš´éœ²æ¨¡å—æ¥å£ï¼Œé™¤éä½ å·²ç»æ¸…æ™°çŸ¥é“è¿™ä¸¤è€…çš„å…³ç³»ã€‚</li><li>å°ç¨‹åºç›®å‰ä¸æ”¯æŒç›´æ¥å¼•å…¥ <code>node_modules</code> , å¼€å‘è€…éœ€è¦ä½¿ç”¨åˆ° <code>node_modules</code> æ—¶å€™å»ºè®®æ‹·è´å‡ºç›¸å…³çš„ä»£ç åˆ°å°ç¨‹åºçš„ç›®å½•ä¸­ï¼Œæˆ–è€…ä½¿ç”¨å°ç¨‹åºæ”¯æŒçš„ <a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/npm.html">npm</a> åŠŸèƒ½ã€‚</li></ul><h3 id="æ–‡ä»¶ä½œç”¨åŸŸ"><a href="#æ–‡ä»¶ä½œç”¨åŸŸ" class="headerlink" title="æ–‡ä»¶ä½œç”¨åŸŸ"></a>æ–‡ä»¶ä½œç”¨åŸŸ</h3><p>åœ¨å°ç¨‹åºçš„ä»»æ„jsæ–‡ä»¶å£°æ˜çš„å˜é‡å’Œå‡½æ•°åªåœ¨è¯¥æ–‡ä»¶æœ‰æ•ˆ</p><p>ä¸åŒjsæ–‡ä»¶å£°æ˜ç›¸åŒåå­—çš„å˜é‡å’Œå‡½æ•°ä¸ä¼šç›¸äº’å½±å“</p><p>é€šè¿‡å…¨å±€å‡½æ•° <code>getApp</code> å¯ä»¥è·å–å…¨å±€çš„åº”ç”¨å®ä¾‹ï¼Œå¦‚æœéœ€è¦å…¨å±€çš„æ•°æ®å¯ä»¥åœ¨ <code>App()</code> ä¸­è®¾ç½®</p><h3 id="æ¨¡å—è°ƒç”¨"><a href="#æ¨¡å—è°ƒç”¨" class="headerlink" title="æ¨¡å—è°ƒç”¨"></a>æ¨¡å—è°ƒç”¨</h3><p>å¯ä»¥å°†å…¬å…±çš„jsæ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­</p><p>åªèƒ½é€šè¿‡module.exportsæˆ–exportså¯¹å¤–æä¾›æ¥å£</p><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>ä¸ºäº†è®©å¼€å‘è€…å¯ä»¥å¾ˆæ–¹ä¾¿çš„è°ƒèµ·å¾®ä¿¡æä¾›çš„èƒ½åŠ›ï¼Œä¾‹å¦‚è·å–ç”¨æˆ·ä¿¡æ¯ã€å¾®ä¿¡æ”¯ä»˜ç­‰ç­‰ï¼Œå°ç¨‹åºæä¾›äº†å¾ˆå¤š API ç»™å¼€å‘è€…å»ä½¿ç”¨ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¤šæ•° API çš„å›è°ƒéƒ½æ˜¯å¼‚æ­¥ï¼Œä½ éœ€è¦å¤„ç†å¥½ä»£ç é€»è¾‘çš„å¼‚æ­¥é—®é¢˜ã€‚</p><ul><li>ç½‘ç»œ</li><li>åª’ä½“</li><li>æ–‡ä»¶</li><li>æ•°æ®</li><li>ä½ç½®</li><li>è®¾å¤‡</li><li>ç•Œé¢</li></ul><h2 id="è§†å›¾å±‚"><a href="#è§†å›¾å±‚" class="headerlink" title="è§†å›¾å±‚"></a>è§†å›¾å±‚</h2><h3 id="WXML"><a href="#WXML" class="headerlink" title="WXML"></a>WXML</h3><p>ç±»ä¼¼HTML</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åœ¨æ­¤å¤„å†™æ³¨é‡Š --&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;æ ‡ç­¾å å±æ€§å1=&quot;å±æ€§å€¼1&quot; å±æ€§å2=&quot;å±æ€§å€¼2&quot; ...&gt; ...&lt;/æ ‡ç­¾å&gt;</span><br></pre></td></tr></table></figure><h3 id="1-æ•°æ®ç»‘å®š"><a href="#1-æ•°æ®ç»‘å®š" class="headerlink" title="1.æ•°æ®ç»‘å®š"></a>1.æ•°æ®ç»‘å®š</h3><p>1.ç®€å•ç»‘å®š</p><p>åˆ©ç”¨{ {}}å½¢å¼è¡¨ç¤ºåŠ¨æ€æ•°æ®,è¿™ä¸ªæ•°æ®åœ¨jsæ–‡ä»¶dataä¸­å®šä¹‰</p><p>å¦‚æœéœ€è¦åœ¨ç”¨æˆ·è¾“å…¥çš„åŒæ—¶æ”¹å˜ <code>this.data.value</code> ï¼Œéœ€è¦å€ŸåŠ©ç®€æ˜“åŒå‘ç»‘å®šæœºåˆ¶ã€‚æ­¤æ—¶ï¼Œå¯ä»¥åœ¨å¯¹åº”é¡¹ç›®ä¹‹å‰åŠ å…¥ <code>model:</code> å‰ç¼€ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">model:value</span>=<span class="string">&quot;&#123; &#123;value&#125;&#125;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå¦‚æœè¾“å…¥æ¡†çš„å€¼è¢«æ”¹å˜äº†ï¼Œ <code>this.data.value</code> ä¹Ÿä¼šåŒæ—¶æ”¹å˜ã€‚åŒæ—¶ï¼Œ WXML ä¸­æ‰€æœ‰ç»‘å®šäº† <code>value</code> çš„ä½ç½®ä¹Ÿä¼šè¢«ä¸€åŒæ›´æ–°ï¼Œ <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/observer.html">æ•°æ®ç›‘å¬å™¨</a> ä¹Ÿä¼šè¢«æ­£å¸¸è§¦å‘ã€‚</p><p>æ³¨æ„:åªèƒ½å•ä¸€å­—æ®µç»‘å®šä¸”ä¸èƒ½dataè·¯å¾„</p><p>2.ç»„ä»¶å±æ€§</p><p>ç»‘å®šå±æ€§å€¼ä¹Ÿå¯ä»¥åŠ¨æ€çš„å»æ”¹å˜ï¼Œæœ‰æ‰€ä¸åŒçš„æ˜¯ï¼Œå±æ€§å€¼å¿…é¡»è¢«åŒ…è£¹åœ¨åŒå¼•å·ä¸­</p><p>â€˜{ {}}â€™  åŠ ä¸ªå¼•å·</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">data-test</span>=<span class="string">&quot;&#123; &#123;test&#125;&#125;&quot;</span>&gt;</span> hello world<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.æ§åˆ¶å±æ€§ç»‘å®š</p><p>æ§åˆ¶å±æ€§ä¹Ÿå¯ä»¥ä½¿ç”¨åŠ¨æ€æ•°æ®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&#x27;&#123; &#123;condition&#125;&#125;&#x27;</span>&gt;</span>æµ‹è¯•<span class="tag">&lt;/<span class="name">view</span>&gt;</span>&lt;------------&gt;Page(    &#123;    data:    &#123;    condition:false;    &#125;    &#125;)</span><br></pre></td></tr></table></figure><p>4.å…³é”®å­—ç»‘å®š</p><p>ç›´æ¥åœ¨å¼•å·å†…å†™å¸ƒå°”å€¼ä¹Ÿå¿…é¡»ç”¨åŒæ‹¬å·æ‹¬èµ·æ¥</p><p>5.è¿ç®—ç»‘å®š</p><p>6.ç»„åˆç»‘å®š</p><p>ä¸Šé¢è¿™å‡ ä¸ªæŒºå¥½ç†è§£çš„</p><p>æ³¨æ„ç»„åˆç»‘å®šä¸ä»…å¯ä»¥ç»‘å®šæ•°ç»„ä¹Ÿå¯ä»¥ç»‘å®šå…¶ä»–å¯¹è±¡</p><h3 id="2-é€»è¾‘è¯­æ³•"><a href="#2-é€»è¾‘è¯­æ³•" class="headerlink" title="2.é€»è¾‘è¯­æ³•"></a>2.é€»è¾‘è¯­æ³•</h3><p>å¯ä»¥åœ¨{ {}}ä¸­è¿›è¡Œç®€å•é€»è¾‘è®¡ç®—</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123; &#123; a === 10? &quot;å˜é‡ a ç­‰äº10&quot;: &quot;å˜é‡ a ä¸ç­‰äº10&quot;&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br></pre></td></tr></table></figure><p>{ { }}ä¸­è¿˜å¯ä»¥ç›´æ¥æ”¾ç½®æ•°å­—ã€å­—ç¬¦ä¸²æˆ–è€…æ˜¯æ•°ç»„</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123; &#123;[1,2,3]&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span><span class="comment">&lt;!-- è¾“å‡º 1,2,3 --&gt;</span><span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123; &#123;&quot;hello world&quot;&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span><span class="comment">&lt;!-- è¾“å‡º hello world --&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ¡ä»¶é€»è¾‘"><a href="#æ¡ä»¶é€»è¾‘" class="headerlink" title="æ¡ä»¶é€»è¾‘"></a>æ¡ä»¶é€»è¾‘</h4><p>WXML ä¸­ï¼Œä½¿ç”¨ wx:if=â€{ {condition}}â€ æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ¸²æŸ“è¯¥ä»£ç å—ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123; &#123;condition&#125;&#125;&quot;</span>&gt;</span> True <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ wx:elif å’Œ wx:else æ¥æ·»åŠ ä¸€ä¸ª else å—ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123; &#123;length &gt; 5&#125;&#125;&quot;</span>&gt;</span> 1 <span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:elif</span>=<span class="string">&quot;&#123; &#123;length &gt; 2&#125;&#125;&quot;</span>&gt;</span> 2 <span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span>&gt;</span> 3 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å› ä¸º wx:if æ˜¯ä¸€ä¸ªæ§åˆ¶å±æ€§ï¼Œéœ€è¦å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ªæ ‡ç­¾ä¸Šã€‚å¦‚æœè¦ä¸€æ¬¡æ€§åˆ¤æ–­å¤šä¸ªç»„ä»¶æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ª <code>&lt;block/&gt;</code> æ ‡ç­¾å°†å¤šä¸ªç»„ä»¶åŒ…è£…èµ·æ¥ï¼Œå¹¶åœ¨ä¸Šè¾¹ä½¿ç”¨ wx:if æ§åˆ¶å±æ€§ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123; &#123;true&#125;&#125;&quot;</span>&gt;</span>  <span class="tag">&lt;<span class="name">view</span>&gt;</span> view1 <span class="tag">&lt;/<span class="name">view</span>&gt;</span>  <span class="tag">&lt;<span class="name">view</span>&gt;</span> view2 <span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h3><p>WXMLæä¾›æ¨¡æ¿ï¼ˆtemplateï¼‰ï¼Œå¯ä»¥åœ¨æ¨¡æ¿ä¸­å®šä¹‰ä»£ç ç‰‡æ®µï¼Œç„¶ååœ¨ä¸åŒçš„åœ°æ–¹è°ƒç”¨ã€‚ä½¿ç”¨ name å±æ€§ï¼Œä½œä¸ºæ¨¡æ¿çš„åå­—ã€‚ç„¶ååœ¨ <code>&lt;template/&gt;</code> å†…å®šä¹‰ä»£ç ç‰‡æ®µ</p><p>å®šä¹‰æ¨¡æ¿</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;msgItem&quot;</span>&gt;</span>  <span class="tag">&lt;<span class="name">view</span>&gt;</span>    <span class="tag">&lt;<span class="name">text</span>&gt;</span> &#123; &#123;index&#125;&#125;: &#123; &#123;msg&#125;&#125; <span class="tag">&lt;/<span class="name">text</span>&gt;</span>    <span class="tag">&lt;<span class="name">text</span>&gt;</span> Time: &#123; &#123;time&#125;&#125; <span class="tag">&lt;/<span class="name">text</span>&gt;</span>  <span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨ is å±æ€§ï¼Œå£°æ˜éœ€è¦çš„ä½¿ç”¨çš„æ¨¡æ¿ï¼Œç„¶åå°†æ¨¡æ¿æ‰€éœ€è¦çš„ data ä¼ å…¥</strong></p><p>æ¨¡æ¿ä½¿ç”¨ç¤ºä¾‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--item: &#123;  index: 0,  msg: &#x27;this is a template&#x27;,  time: &#x27;2016-06-18&#x27;&#125;--&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">name</span>=<span class="string">&quot;msgItem&quot;</span>&gt;</span>  <span class="tag">&lt;<span class="name">view</span>&gt;</span>    <span class="tag">&lt;<span class="name">text</span>&gt;</span> &#123; &#123;index&#125;&#125;: &#123; &#123;msg&#125;&#125; <span class="tag">&lt;/<span class="name">text</span>&gt;</span>    <span class="tag">&lt;<span class="name">text</span>&gt;</span> Time: &#123; &#123;time&#125;&#125; <span class="tag">&lt;/<span class="name">text</span>&gt;</span>  <span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">template</span>&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">&quot;msgItem&quot;</span> <span class="attr">data</span>=<span class="string">&quot;&#123; &#123;...item&#125;&#125;&quot;</span>/&gt;</span><span class="comment">&lt;!-- è¾“å‡º0: this is a template Time: 2016-06-18--&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥ä½¿ç”¨â€¦ç¬¦å·å°†å¯¹è±¡å†…å®¹å±•å¼€æ˜¾ç¤º</p><p>å¦‚æœå¯¹è±¡ä¸­å…ƒç´ keyå’Œvalueç›¸åŒå¯ä»¥çœç•¥è¡¨è¾¾</p><p>å¦‚æœæœ‰ç›¸åŒçš„keyåˆ™åè€…è¦†ç›–å‰è€…</p><h3 id="åˆ—è¡¨æ¸²æŸ“"><a href="#åˆ—è¡¨æ¸²æŸ“" class="headerlink" title="åˆ—è¡¨æ¸²æŸ“"></a>åˆ—è¡¨æ¸²æŸ“</h3><h4 id="1-ç®€å•æ¸²æŸ“"><a href="#1-ç®€å•æ¸²æŸ“" class="headerlink" title="1.ç®€å•æ¸²æŸ“"></a>1.ç®€å•æ¸²æŸ“</h4><p>åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ wx:for æ§åˆ¶å±æ€§ç»‘å®šä¸€ä¸ªæ•°ç»„ï¼Œå³å¯ä½¿ç”¨æ•°ç»„ä¸­å„é¡¹çš„æ•°æ®é‡å¤æ¸²æŸ“è¯¥ç»„ä»¶ã€‚é»˜è®¤æ•°ç»„çš„å½“å‰é¡¹çš„ä¸‹æ ‡å˜é‡åé»˜è®¤ä¸º indexï¼Œæ•°ç»„å½“å‰é¡¹çš„å˜é‡åé»˜è®¤ä¸º item</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&#x27;&#123; &#123;array&#125; &#125;&#x27;</span>&gt;</span>&#123; &#123;index&#125; &#125;:&#123; &#123;item&#125; &#125;<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Page(    data:&#123;    <span class="attr">array</span>:[<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;æå››&#x27;</span>]    &#125;)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ wx:for-item æŒ‡å®šæ•°ç»„å½“å‰å…ƒç´ çš„å˜é‡åï¼Œä½¿ç”¨ wx:for-index æŒ‡å®šæ•°ç»„å½“å‰ä¸‹æ ‡çš„å˜é‡å,å³è‡ªå®šä¹‰å½“å‰å…ƒç´ å’Œä¸‹è¡¨çš„å˜é‡å</p><p>æ³¨æ„,å¦‚æœæ²¡æœ‰åŒæ‹¬å·,ä¼šç›´æ¥å°†å­—ç¬¦ä¸²å½“ä½œæ•°ç»„æ‹†å¼€</p><h4 id="2-åµŒå¥—åˆ—è¡¨"><a href="#2-åµŒå¥—åˆ—è¡¨" class="headerlink" title="2.åµŒå¥—åˆ—è¡¨"></a>2.åµŒå¥—åˆ—è¡¨</h4><p>å³ä½¿ç”¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123; &#123;array&#125;&#125;&quot;</span> <span class="attr">wx:for-item</span>=<span class="string">&#x27;i&#x27;</span>&gt;</span>    <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&#x27;&#123; &#123;arrray&#125;&#125;&#x27;</span> <span class="attr">wx:for-item</span>=<span class="string">&#x27;j&#x27;</span>&gt;</span>        <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&#x27;&#123; &#123;&#125;&#125;&#x27;</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-å¤šèŠ‚ç‚¹åˆ—è¡¨"><a href="#3-å¤šèŠ‚ç‚¹åˆ—è¡¨" class="headerlink" title="3.å¤šèŠ‚ç‚¹åˆ—è¡¨"></a>3.å¤šèŠ‚ç‚¹åˆ—è¡¨</h4><p>ç±»ä¼¼ <code>block wx:if</code> ï¼Œä¹Ÿå¯ä»¥å°† <code>wx:for</code> ç”¨åœ¨ <code>&lt;block/&gt;</code> æ ‡ç­¾ä¸Šï¼Œä»¥æ¸²æŸ“ä¸€ä¸ªåŒ…å«å¤šèŠ‚ç‚¹çš„ç»“æ„å—ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123; &#123;[1, 2, 3]&#125;&#125;&quot;</span>&gt;</span>  <span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123; &#123;index&#125;&#125;: <span class="tag">&lt;/<span class="name">view</span>&gt;</span>  <span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123; &#123;item&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span><span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="4-wx-keyå±æ€§"><a href="#4-wx-keyå±æ€§" class="headerlink" title="4.wx:keyå±æ€§"></a>4.wx:keyå±æ€§</h4><p>å¦‚æœåˆ—è¡¨ä¸­é¡¹ç›®çš„ä½ç½®ä¼šåŠ¨æ€æ”¹å˜æˆ–è€…æœ‰æ–°çš„é¡¹ç›®æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”å¸Œæœ›åˆ—è¡¨ä¸­çš„é¡¹ç›®ä¿æŒè‡ªå·±çš„ç‰¹å¾å’ŒçŠ¶æ€ï¼ˆå¦‚ <code>&lt;input/&gt;</code> ä¸­çš„è¾“å…¥å†…å®¹ï¼Œ <code>&lt;switch/&gt;</code> çš„é€‰ä¸­çŠ¶æ€ï¼‰ï¼Œéœ€è¦ä½¿ç”¨ <code>wx:key</code> æ¥æŒ‡å®šåˆ—è¡¨ä¸­é¡¹ç›®çš„å”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</p><p><code>wx:key</code> çš„å€¼ä»¥ä¸¤ç§å½¢å¼æä¾›ï¼š</p><ol><li>å­—ç¬¦ä¸²ï¼Œä»£è¡¨åœ¨ for å¾ªç¯çš„ array ä¸­ item çš„æŸä¸ª propertyï¼Œè¯¥ property çš„å€¼éœ€è¦æ˜¯åˆ—è¡¨ä¸­å”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œä¸”ä¸èƒ½åŠ¨æ€æ”¹å˜ã€‚</li><li>ä¿ç•™å…³é”®å­— this ä»£è¡¨åœ¨ for å¾ªç¯ä¸­çš„ item æœ¬èº«ï¼Œè¿™ç§è¡¨ç¤ºéœ€è¦ item æœ¬èº«æ˜¯ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²æˆ–è€…æ•°å­—ï¼Œå¦‚ï¼š</li></ol><p>å½“æ•°æ®æ”¹å˜è§¦å‘æ¸²æŸ“å±‚é‡æ–°æ¸²æŸ“çš„æ—¶å€™ï¼Œä¼šæ ¡æ­£å¸¦æœ‰ key çš„ç»„ä»¶ï¼Œæ¡†æ¶ä¼šç¡®ä¿ä»–ä»¬è¢«é‡æ–°æ’åºï¼Œè€Œä¸æ˜¯é‡æ–°åˆ›å»ºï¼Œä»¥ç¡®ä¿ä½¿ç»„ä»¶ä¿æŒè‡ªèº«çš„çŠ¶æ€ï¼Œå¹¶ä¸”æé«˜åˆ—è¡¨æ¸²æŸ“æ—¶çš„æ•ˆç‡ã€‚</p><h3 id="æ¡ä»¶æ¸²æŸ“"><a href="#æ¡ä»¶æ¸²æŸ“" class="headerlink" title="æ¡ä»¶æ¸²æŸ“"></a>æ¡ä»¶æ¸²æŸ“</h3><p>1.ç®€å•æ¡ä»¶</p><p>ä½¿ç”¨wx:if=â€{ {condition}}â€åˆ¤æ–­æ˜¯å¦éœ€è¦æ¸²æŸ“</p><p>2.å¤šèŠ‚ç‚¹æ¡ä»¶</p><p>åŒç†</p><p>åœ¨\<block\>ä¸­åµŒå…¥ç»„ä»¶</p><p>3.wx:if hidden</p><p>å¦‚æœæ˜¯wx:ifåªæœ‰å½“çœŸæ—¶æ‰ä¼šå¼€å§‹æ¸²æŸ“</p><p>hiddenåˆå§‹å°±ä¼šæ¸²æŸ“,åªæ˜¯ç®€å•åœ°æ§åˆ¶æ˜¾ç¤ºå’Œéšè—</p><h3 id="äº‹ä»¶"><a href="#äº‹ä»¶" class="headerlink" title="äº‹ä»¶"></a>äº‹ä»¶</h3><p>UIç•Œé¢çš„ç¨‹åºéœ€è¦å’Œç”¨æˆ·äº’åŠ¨ï¼Œä¾‹å¦‚ç”¨æˆ·å¯èƒ½ä¼šç‚¹å‡»ä½ ç•Œé¢ä¸ŠæŸä¸ªæŒ‰é’®ï¼Œåˆæˆ–è€…é•¿æŒ‰æŸä¸ªåŒºåŸŸï¼Œè¿™ç±»åé¦ˆåº”è¯¥é€šçŸ¥ç»™å¼€å‘è€…çš„é€»è¾‘å±‚ï¼Œéœ€è¦å°†å¯¹åº”çš„å¤„ç†çŠ¶æ€å‘ˆç°ç»™ç”¨æˆ·ã€‚<br>æœ‰äº›æ—¶å€™ç¨‹åºä¸Šçš„â€œè¡Œä¸ºåé¦ˆâ€ä¸ä¸€å®šæ˜¯ç”¨æˆ·ä¸»åŠ¨è§¦å‘çš„ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨è§†é¢‘videoæ’­æ”¾çš„è¿‡ç¨‹ä¸­ï¼Œæ’­æ”¾è¿›åº¦æ˜¯ä¼šä¸€ç›´å˜åŒ–çš„ï¼Œè¿™ç§åé¦ˆä¹Ÿåº”è¯¥é€šçŸ¥ç»™å¼€å‘è€…åšç›¸åº”çš„é€»è¾‘å¤„ç†ã€‚</p><p>è§†å›¾å±‚åˆ°é€»è¾‘å±‚çš„é€šä¿¡æ–¹å¼</p><ol><li>å°†ç”¨æˆ·è¡Œä¸ºåé¦ˆåˆ°é€»è¾‘å±‚è¿›è¡Œå¤„ç†</li><li>å¯ä»¥ç»‘å®šåœ¨ç»„ä»¶ä¸­,å½“è§¦å‘äº‹ä»¶æ—¶å°±ä¼šæ‰§è¡Œé€»è¾‘å±‚ä¸­å¯¹åº”çš„äº‹ä»¶å¤„ç†å‡½æ•°</li><li>å¯¹è±¡å¯ä»¥æºå¸¦é¢å¤–çš„ä¿¡æ¯</li></ol><h4 id="1-äº‹ä»¶çš„ä½¿ç”¨"><a href="#1-äº‹ä»¶çš„ä½¿ç”¨" class="headerlink" title="1.äº‹ä»¶çš„ä½¿ç”¨"></a>1.äº‹ä»¶çš„ä½¿ç”¨</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;mybtn&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;myTap&quot;</span> <span class="attr">data-my</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">data-i</span>=<span class="string">&quot;fuck&quot;</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>bindä¸catch</p><h4 id="2-äº‹ä»¶çš„åˆ†ç±»"><a href="#2-äº‹ä»¶çš„åˆ†ç±»" class="headerlink" title="2.äº‹ä»¶çš„åˆ†ç±»"></a>2.äº‹ä»¶çš„åˆ†ç±»</h4><p>å†’æ³¡äº‹ä»¶ä¸éå†’æ³¡äº‹ä»¶</p><p>å†’æ³¡äº‹ä»¶è¢«è§¦å‘åä¼šå‘çˆ¶èŠ‚ç‚¹ä¼ é€’</p><h4 id="3-äº‹ä»¶ç»‘å®šå’Œå†’æ³¡"><a href="#3-äº‹ä»¶ç»‘å®šå’Œå†’æ³¡" class="headerlink" title="3.äº‹ä»¶ç»‘å®šå’Œå†’æ³¡"></a>3.äº‹ä»¶ç»‘å®šå’Œå†’æ³¡</h4><p>key=value</p><p>äº‹ä»¶ç»‘å®šçš„å†™æ³•ç±»ä¼¼äºç»„ä»¶çš„å±æ€§ï¼Œå¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleTap&quot;</span>&gt;</span>    Click here!<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœç”¨æˆ·ç‚¹å‡»è¿™ä¸ª view ï¼Œåˆ™é¡µé¢çš„ <code>handleTap</code> ä¼šè¢«è°ƒç”¨ã€‚</p><p>äº‹ä»¶ç»‘å®šå‡½æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ•°æ®ç»‘å®šï¼Œå¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&quot;&#123; &#123; handlerName &#125;&#125;&quot;</span>&gt;</span>    Click here!<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>catchäº‹ä»¶å¯ä»¥é˜»æ­¢å†’æ³¡äº‹ä»¶å‘ä¸Šå†’æ³¡</p><h4 id="4-äº‹ä»¶çš„æ•è·é˜¶æ®µ"><a href="#4-äº‹ä»¶çš„æ•è·é˜¶æ®µ" class="headerlink" title="4.äº‹ä»¶çš„æ•è·é˜¶æ®µ"></a>4.äº‹ä»¶çš„æ•è·é˜¶æ®µ</h4><p>è‡ªåŸºç¡€åº“ç‰ˆæœ¬ <a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">1.5.0</a> èµ·ï¼Œè§¦æ‘¸ç±»äº‹ä»¶æ”¯æŒæ•è·é˜¶æ®µã€‚æ•è·é˜¶æ®µä½äºå†’æ³¡é˜¶æ®µä¹‹å‰ï¼Œä¸”åœ¨æ•è·é˜¶æ®µä¸­ï¼Œäº‹ä»¶åˆ°è¾¾èŠ‚ç‚¹çš„é¡ºåºä¸å†’æ³¡é˜¶æ®µæ°å¥½ç›¸åã€‚éœ€è¦åœ¨æ•è·é˜¶æ®µç›‘å¬äº‹ä»¶æ—¶ï¼Œå¯ä»¥é‡‡ç”¨<code>capture-bind</code>ã€<code>capture-catch</code>å…³é”®å­—ï¼Œåè€…å°†ä¸­æ–­æ•è·é˜¶æ®µå’Œå–æ¶ˆå†’æ³¡é˜¶æ®µ</p><h4 id="5-äº‹ä»¶å¯¹è±¡"><a href="#5-äº‹ä»¶å¯¹è±¡" class="headerlink" title="5.äº‹ä»¶å¯¹è±¡"></a>5.äº‹ä»¶å¯¹è±¡</h4><p><img data-src="http://cdn.sekyoro.top/imgs/094200.png" alt="image-20210901105757525"></p><p><img data-src="http://cdn.sekyoro.top/imgs/094200-1.png" alt="image-20210901105827504"></p><h3 id="type"><a href="#type" class="headerlink" title="type"></a>type</h3><p>ä»£è¡¨äº‹ä»¶çš„ç±»å‹ã€‚</p><h3 id="timeStamp"><a href="#timeStamp" class="headerlink" title="timeStamp"></a>timeStamp</h3><p>é¡µé¢æ‰“å¼€åˆ°è§¦å‘äº‹ä»¶æ‰€ç»è¿‡çš„æ¯«ç§’æ•°ã€‚</p><h3 id="target"><a href="#target" class="headerlink" title="target"></a>target</h3><p>è§¦å‘äº‹ä»¶çš„æºç»„ä»¶ã€‚</p><div class="table-container"><table><thead><tr><th style="text-align:left">å±æ€§</th><th style="text-align:left">ç±»å‹</th><th style="text-align:left">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left">id</td><td style="text-align:left">String</td><td style="text-align:left">äº‹ä»¶æºç»„ä»¶çš„id</td></tr><tr><td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#dataset">dataset</a></td><td style="text-align:left">Object</td><td style="text-align:left">äº‹ä»¶æºç»„ä»¶ä¸Šç”±<code>data-</code>å¼€å¤´çš„è‡ªå®šä¹‰å±æ€§ç»„æˆçš„é›†åˆ</td></tr></tbody></table></div><h3 id="currentTarget"><a href="#currentTarget" class="headerlink" title="currentTarget"></a>currentTarget</h3><p>äº‹ä»¶ç»‘å®šçš„å½“å‰ç»„ä»¶ã€‚</p><div class="table-container"><table><thead><tr><th style="text-align:left">å±æ€§</th><th style="text-align:left">ç±»å‹</th><th style="text-align:left">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left">id</td><td style="text-align:left">String</td><td style="text-align:left">å½“å‰ç»„ä»¶çš„id</td></tr><tr><td style="text-align:left"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#dataset">dataset</a></td><td style="text-align:left">Object</td><td style="text-align:left">å½“å‰ç»„ä»¶ä¸Šç”±<code>data-</code>å¼€å¤´çš„è‡ªå®šä¹‰å±æ€§ç»„æˆçš„é›†åˆ</td></tr></tbody></table></div><h5 id="dataset"><a href="#dataset" class="headerlink" title="dataset"></a>dataset</h5><p>åœ¨ç»„ä»¶èŠ‚ç‚¹ä¸­å¯ä»¥é™„åŠ ä¸€äº›è‡ªå®šä¹‰æ•°æ®ã€‚è¿™æ ·ï¼Œåœ¨äº‹ä»¶ä¸­å¯ä»¥è·å–è¿™äº›è‡ªå®šä¹‰çš„èŠ‚ç‚¹æ•°æ®ï¼Œç”¨äºäº‹ä»¶çš„é€»è¾‘å¤„ç†ã€‚</p><p>åœ¨ WXML ä¸­ï¼Œè¿™äº›è‡ªå®šä¹‰æ•°æ®ä»¥ <code>data-</code> å¼€å¤´ï¼Œå¤šä¸ªå•è¯ç”±è¿å­—ç¬¦ <code>-</code> è¿æ¥ã€‚è¿™ç§å†™æ³•ä¸­ï¼Œè¿å­—ç¬¦å†™æ³•ä¼šè½¬æ¢æˆé©¼å³°å†™æ³•ï¼Œè€Œå¤§å†™å­—ç¬¦ä¼šè‡ªåŠ¨è½¬æˆå°å†™å­—ç¬¦ã€‚å¦‚ï¼š</p><ul><li><code>data-element-type</code> ï¼Œæœ€ç»ˆä¼šå‘ˆç°ä¸º <code>event.currentTarget.dataset.elementType</code> ï¼›</li><li><code>data-elementType</code> ï¼Œæœ€ç»ˆä¼šå‘ˆç°ä¸º <code>event.currentTarget.dataset.elementtype</code> ã€‚</li></ul><h4 id="6-å¼•ç”¨"><a href="#6-å¼•ç”¨" class="headerlink" title="6.å¼•ç”¨"></a>6.å¼•ç”¨</h4><h5 id="1-import"><a href="#1-import" class="headerlink" title="1.import"></a>1.import</h5><p>åœ¨ index.wxml ä¸­å¼•ç”¨äº† item.wxmlï¼Œå°±å¯ä»¥ä½¿ç”¨ itemæ¨¡æ¿ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">src</span>=<span class="string">&quot;item.wxml&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">&quot;item&quot;</span> <span class="attr">data</span>=<span class="string">&quot;&#123; &#123;text: &#x27;forbar&#x27;&#125;&#125;&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ import æœ‰ä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œå³åªä¼š import ç›®æ ‡æ–‡ä»¶ä¸­å®šä¹‰çš„ templateï¼Œè€Œä¸ä¼š import ç›®æ ‡æ–‡ä»¶ä¸­ import çš„ templateï¼Œç®€è¨€ä¹‹å°±æ˜¯ import ä¸å…·æœ‰é€’å½’çš„ç‰¹æ€§ã€‚</p><h5 id="2-include"><a href="#2-include" class="headerlink" title="2.include"></a>2.include</h5><p>include å¯ä»¥å°†ç›®æ ‡æ–‡ä»¶ä¸­é™¤äº† <code>&lt;template/&gt; &lt;wxs/&gt;</code> å¤–çš„æ•´ä¸ªä»£ç å¼•å…¥ï¼Œç›¸å½“äºæ˜¯æ‹·è´åˆ° include ä½ç½®</p><h3 id="WXSS"><a href="#WXSS" class="headerlink" title="WXSS"></a>WXSS</h3><h4 id="1-å°ºå¯¸å•ä½"><a href="#1-å°ºå¯¸å•ä½" class="headerlink" title="1.å°ºå¯¸å•ä½"></a>1.å°ºå¯¸å•ä½</h4><p>rpx  è§„å®šå±å¹•ä¸º750rpx</p><h4 id="2-æ ·å¼å¯¼å…¥"><a href="#2-æ ·å¼å¯¼å…¥" class="headerlink" title="2.æ ·å¼å¯¼å…¥"></a>2.æ ·å¼å¯¼å…¥</h4><p>ä½¿ç”¨<code>@import</code>è¯­å¥å¯ä»¥å¯¼å…¥å¤–è”æ ·å¼è¡¨ï¼Œ<code>@import</code>åè·Ÿéœ€è¦å¯¼å…¥çš„å¤–è”æ ·å¼è¡¨çš„ç›¸å¯¹è·¯å¾„ï¼Œç”¨<code>;</code>è¡¨ç¤ºè¯­å¥ç»“æŸã€‚</p><h4 id="3-å†…è”æ ·å¼"><a href="#3-å†…è”æ ·å¼" class="headerlink" title="3.å†…è”æ ·å¼"></a>3.å†…è”æ ·å¼</h4><p>æ¡†æ¶ç»„ä»¶ä¸Šæ”¯æŒä½¿ç”¨ styleã€class å±æ€§æ¥æ§åˆ¶ç»„ä»¶çš„æ ·å¼ã€‚</p><ul><li>styleï¼šé™æ€çš„æ ·å¼ç»Ÿä¸€å†™åˆ° class ä¸­ã€‚style æ¥æ”¶åŠ¨æ€çš„æ ·å¼ï¼Œåœ¨è¿è¡Œæ—¶ä¼šè¿›è¡Œè§£æï¼Œè¯·å°½é‡é¿å…å°†é™æ€çš„æ ·å¼å†™è¿› style ä¸­ï¼Œä»¥å…å½±å“æ¸²æŸ“é€Ÿåº¦ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">style</span>=<span class="string">&quot;color:&#123; &#123;color&#125;&#125;;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><ul><li>classï¼šç”¨äºæŒ‡å®šæ ·å¼è§„åˆ™ï¼Œå…¶å±æ€§å€¼æ˜¯æ ·å¼è§„åˆ™ä¸­ç±»é€‰æ‹©å™¨å(æ ·å¼ç±»å)çš„é›†åˆï¼Œæ ·å¼ç±»åä¸éœ€è¦å¸¦ä¸Š<code>.</code>ï¼Œæ ·å¼ç±»åä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;normal_view&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><h2 id="4-é€‰æ‹©å™¨"><a href="#4-é€‰æ‹©å™¨" class="headerlink" title="4.é€‰æ‹©å™¨"></a>4.é€‰æ‹©å™¨</h2><div class="table-container"><table><thead><tr><th style="text-align:left">é€‰æ‹©å™¨</th><th style="text-align:left">æ ·ä¾‹</th><th style="text-align:left">æ ·ä¾‹æè¿°</th></tr></thead><tbody><tr><td style="text-align:left">.class</td><td style="text-align:left"><code>.intro</code></td><td style="text-align:left">é€‰æ‹©æ‰€æœ‰æ‹¥æœ‰ class=â€introâ€ çš„ç»„ä»¶</td></tr><tr><td style="text-align:left">#id</td><td style="text-align:left"><code>#firstname</code></td><td style="text-align:left">é€‰æ‹©æ‹¥æœ‰ id=â€firstnameâ€ çš„ç»„ä»¶</td></tr><tr><td style="text-align:left">element</td><td style="text-align:left"><code>view</code></td><td style="text-align:left">é€‰æ‹©æ‰€æœ‰ view ç»„ä»¶</td></tr><tr><td style="text-align:left">element, element</td><td style="text-align:left"><code>view, checkbox</code></td><td style="text-align:left">é€‰æ‹©æ‰€æœ‰æ–‡æ¡£çš„ view ç»„ä»¶å’Œæ‰€æœ‰çš„ checkbox ç»„ä»¶</td></tr><tr><td style="text-align:left">::after</td><td style="text-align:left"><code>view::after</code></td><td style="text-align:left">åœ¨ view ç»„ä»¶åè¾¹æ’å…¥å†…å®¹</td></tr><tr><td style="text-align:left">::before</td><td style="text-align:left"><code>view::before</code></td><td style="text-align:left">åœ¨ view ç»„ä»¶å‰è¾¹æ’å…¥å†…å®¹</td></tr></tbody></table></div><h4 id="5-å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼"><a href="#5-å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼" class="headerlink" title="5.å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼"></a>5.å…¨å±€æ ·å¼ä¸å±€éƒ¨æ ·å¼</h4><p>å®šä¹‰åœ¨ app.wxss ä¸­çš„æ ·å¼ä¸ºå…¨å±€æ ·å¼ï¼Œä½œç”¨äºæ¯ä¸€ä¸ªé¡µé¢ã€‚åœ¨ page çš„ wxss æ–‡ä»¶ä¸­å®šä¹‰çš„æ ·å¼ä¸ºå±€éƒ¨æ ·å¼ï¼Œåªä½œç”¨åœ¨å¯¹åº”çš„é¡µé¢ï¼Œå¹¶ä¼šè¦†ç›– app.wxss ä¸­ç›¸åŒçš„é€‰æ‹©å™¨ã€‚</p><h2 id="Flexå¸ƒå±€"><a href="#Flexå¸ƒå±€" class="headerlink" title="Flexå¸ƒå±€"></a>Flexå¸ƒå±€</h2><p>åŒ…å«å†…å®¹çš„ç»„ä»¶ç§°ä¸ºå®¹å™¨,å®¹å™¨å†…éƒ¨çš„ç»„ä»¶æˆä¸ºé¡¹ç›®</p><p>æˆ‘ä»¬åªéœ€è¦åœ¨å®¹å™¨ä¸­è®¾ç½®ä»¥ä¸‹ä¸¤ä¸ªå±æ€§å³å¯å®ç°å†…å®¹ä¸ç¡®å®šä¸‹çš„å‚ç›´å±…ä¸­ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;  <span class="attribute">display</span>: flex;  <span class="attribute">flex-direction</span>: column;  <span class="attribute">justify-content</span>: center;&#125;</span><br></pre></td></tr></table></figure><p>flexä¸å•æ˜¯ä¸€ä¸ªå±æ€§ï¼Œå®ƒåŒ…å«äº†ä¸€å¥—æ–°çš„å±æ€§é›†ã€‚å±æ€§é›†åŒ…æ‹¬ç”¨äºè®¾ç½®å®¹å™¨ï¼Œå’Œç”¨äºè®¾ç½®é¡¹ç›®ä¸¤éƒ¨åˆ†ã€‚</p><p>è®¾ç½®å®¹å™¨çš„å±æ€§æœ‰ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>:flex;<span class="attribute">flex-direction</span>:rowï¼ˆé»˜è®¤å€¼ï¼‰ | row-reverse | column |column-reverseflex-wrap:nowrapï¼ˆé»˜è®¤å€¼ï¼‰ | wrap | wrap-reversejustify-content:flex-startï¼ˆé»˜è®¤å€¼ï¼‰ | flex-end | center |space-between | space-around | space-evenlyalign-items:stretchï¼ˆé»˜è®¤å€¼ï¼‰ | center  | flex-end | baseline | flex-startalign-content:stretchï¼ˆé»˜è®¤å€¼ï¼‰ | flex-start | center |flex-end | space-between | space-around | space-evenly</span><br></pre></td></tr></table></figure><p>é¡¹ç›®æ˜¯åœ¨ä¸»è½´ä¸Šæ’åˆ—ï¼Œæ’æ»¡ååœ¨äº¤å‰è½´æ–¹å‘æ¢è¡Œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œäº¤å‰è½´å‚ç›´äºä¸»è½´ï¼Œå®ƒçš„æ–¹å‘å–å†³äºä¸»è½´æ–¹å‘ã€‚</p><p><strong>flex-direction å±æ€§</strong></p><p>é€šè¿‡è®¾ç½®åæ ‡è½´ï¼Œæ¥è®¾ç½®é¡¹ç›®æ’åˆ—æ–¹å‘ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;  <span class="attribute">flex-direction</span>: rowï¼ˆé»˜è®¤å€¼ï¼‰ | row-reverse | column | column-reverse&#125;</span><br></pre></td></tr></table></figure><p>rowï¼ˆé»˜è®¤å€¼ï¼‰ï¼šä¸»è½´æ¨ªå‘ï¼Œæ–¹å‘ä¸ºä»å·¦æŒ‡å‘å³ã€‚é¡¹ç›®æ²¿ä¸»è½´æ’åˆ—ï¼Œä»å·¦åˆ°å³æ’åˆ—ã€‚</p><p>row-reverseï¼šrowçš„åæ–¹å‘ã€‚ä¸»è½´æ¨ªå‘ï¼Œæ–¹å‘ä¸ºä»å³æŒ‡å‘å·¦ã€‚é¡¹ç›®æ²¿ä¸»è½´æ’åˆ—ï¼Œä»å³åˆ°å·¦æ’åˆ—ã€‚</p><p>columnï¼šä¸»è½´çºµå‘ï¼Œæ–¹å‘ä»ä¸ŠæŒ‡å‘ä¸‹ã€‚é¡¹ç›®æ²¿ä¸»è½´æ’åˆ—ï¼Œä»ä¸Šåˆ°ä¸‹æ’åˆ—ã€‚</p><p>column-reverseï¼šcolumnçš„åæ–¹å‘ã€‚ä¸»è½´çºµå‘ï¼Œæ–¹å‘ä»ä¸‹æŒ‡å‘ä¸Šã€‚é¡¹ç›®æ²¿ä¸»è½´æ’åˆ—ï¼Œä»ä¸‹åˆ°ä¸Šæ’åˆ—ã€‚</p><h4 id="flex-wrap-å±æ€§"><a href="#flex-wrap-å±æ€§" class="headerlink" title="flex-wrap å±æ€§"></a>flex-wrap å±æ€§</h4><p>è®¾ç½®æ˜¯å¦å…è®¸é¡¹ç›®å¤šè¡Œæ’åˆ—ï¼Œä»¥åŠå¤šè¡Œæ’åˆ—æ—¶æ¢è¡Œçš„æ–¹å‘ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;  <span class="attribute">flex-wrap</span>: nowrapï¼ˆé»˜è®¤å€¼ï¼‰ | wrap | wrap-reverse&#125;</span><br></pre></td></tr></table></figure><p>nowrapï¼ˆé»˜è®¤å€¼ï¼‰ï¼šä¸æ¢è¡Œã€‚å¦‚æœå•è¡Œå†…å®¹è¿‡å¤šï¼Œåˆ™æº¢å‡ºå®¹å™¨ã€‚<br>wrapï¼šå®¹å™¨å•è¡Œå®¹ä¸ä¸‹æ‰€æœ‰é¡¹ç›®æ—¶ï¼Œæ¢è¡Œæ’åˆ—ã€‚<br>wrap-reverseï¼šå®¹å™¨å•è¡Œå®¹ä¸ä¸‹æ‰€æœ‰é¡¹ç›®æ—¶ï¼Œæ¢è¡Œæ’åˆ—ã€‚æ¢è¡Œæ–¹å‘ä¸ºwrapæ—¶çš„åæ–¹å‘ã€‚</p><p><strong>justify-content å±æ€§</strong></p><p>è®¾ç½®é¡¹ç›®åœ¨ä¸»è½´æ–¹å‘ä¸Šå¯¹é½æ–¹å¼ï¼Œä»¥åŠåˆ†é…é¡¹ç›®ä¹‹é—´åŠå…¶å‘¨å›´å¤šä½™çš„ç©ºé—´ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;  <span class="attribute">justify-content</span>: flex-startï¼ˆé»˜è®¤å€¼ï¼‰ | flex-end | center | space-between | space-around| space-evenly&#125;</span><br></pre></td></tr></table></figure><p>flex-startï¼ˆé»˜è®¤å€¼ï¼‰ï¼šé¡¹ç›®å¯¹é½ä¸»è½´èµ·ç‚¹ï¼Œé¡¹ç›®é—´ä¸ç•™ç©ºéš™ã€‚</p><p>centerï¼šé¡¹ç›®åœ¨ä¸»è½´ä¸Šå±…ä¸­æ’åˆ—ï¼Œé¡¹ç›®é—´ä¸ç•™ç©ºéš™ã€‚ä¸»è½´ä¸Šç¬¬ä¸€ä¸ªé¡¹ç›®ç¦»ä¸»è½´èµ·ç‚¹è·ç¦»ç­‰äºæœ€åä¸€ä¸ªé¡¹ç›®ç¦»ä¸»è½´ç»ˆç‚¹è·ç¦»ã€‚</p><p>flex-endï¼šé¡¹ç›®å¯¹é½ä¸»è½´ç»ˆç‚¹ï¼Œé¡¹ç›®é—´ä¸ç•™ç©ºéš™ã€‚<br>space-betweenï¼šé¡¹ç›®é—´é—´è·ç›¸ç­‰ï¼Œç¬¬ä¸€ä¸ªé¡¹ç›®ç¦»ä¸»è½´èµ·ç‚¹å’Œæœ€åä¸€ä¸ªé¡¹ç›®ç¦»ä¸»è½´ç»ˆç‚¹è·ç¦»ä¸º0ã€‚<br>space-aroundï¼šä¸space-betweenç›¸ä¼¼ã€‚ä¸åŒç‚¹ä¸ºï¼Œç¬¬ä¸€ä¸ªé¡¹ç›®ç¦»ä¸»è½´èµ·ç‚¹å’Œæœ€åä¸€ä¸ªé¡¹ç›®ç¦»ä¸»è½´ç»ˆç‚¹è·ç¦»ä¸ºä¸­é—´é¡¹ç›®é—´é—´è·çš„ä¸€åŠã€‚</p><p>space-evenlyï¼šé¡¹ç›®é—´é—´è·ã€ç¬¬ä¸€ä¸ªé¡¹ç›®ç¦»ä¸»è½´èµ·ç‚¹å’Œæœ€åä¸€ä¸ªé¡¹ç›®ç¦»ä¸»è½´ç»ˆç‚¹è·ç¦»ç­‰äºé¡¹ç›®é—´é—´è·ã€‚</p><p><strong>align-items å±æ€§</strong></p><p>è®¾ç½®é¡¹ç›®åœ¨è¡Œä¸­çš„å¯¹é½æ–¹å¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;  <span class="attribute">align-items</span>:stretchï¼ˆé»˜è®¤å€¼ï¼‰ | flex-start | center | flex-end | baseline&#125;</span><br></pre></td></tr></table></figure><p>stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šé¡¹ç›®æ‹‰ä¼¸è‡³å¡«æ»¡è¡Œé«˜ã€‚<br>flex-startï¼šé¡¹ç›®é¡¶éƒ¨ä¸è¡Œèµ·ç‚¹å¯¹é½ã€‚<br>centerï¼šé¡¹ç›®åœ¨è¡Œä¸­å±…ä¸­å¯¹é½ã€‚<br>flex-endï¼šé¡¹ç›®åº•éƒ¨ä¸è¡Œç»ˆç‚¹å¯¹é½ã€‚<br>baselineï¼šé¡¹ç›®çš„ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½ã€‚</p><p><strong>align-content å±æ€§</strong></p><p>å¤šè¡Œæ’åˆ—æ—¶ï¼Œè®¾ç½®è¡Œåœ¨äº¤å‰è½´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ï¼Œä»¥åŠåˆ†é…è¡Œä¹‹é—´åŠå…¶å‘¨å›´å¤šä½™çš„ç©ºé—´ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;  <span class="attribute">align-content</span>: stretchï¼ˆé»˜è®¤å€¼ï¼‰ | flex-start | center | flex-end | space-between |space-around | space-evenly&#125;</span><br></pre></td></tr></table></figure><p>stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå½“æœªè®¾ç½®é¡¹ç›®å°ºå¯¸ï¼Œå°†å„è¡Œä¸­çš„é¡¹ç›®æ‹‰ä¼¸è‡³å¡«æ»¡äº¤å‰è½´ã€‚å½“è®¾ç½®äº†é¡¹ç›®å°ºå¯¸ï¼Œé¡¹ç›®å°ºå¯¸ä¸å˜ï¼Œé¡¹ç›®è¡Œæ‹‰ä¼¸è‡³å¡«æ»¡äº¤å‰è½´ã€‚</p><p>flex-startï¼šé¦–è¡Œåœ¨äº¤å‰è½´èµ·ç‚¹å¼€å§‹æ’åˆ—ï¼Œè¡Œé—´ä¸ç•™é—´è·ã€‚</p><p>centerï¼šè¡Œåœ¨äº¤å‰è½´ä¸­ç‚¹æ’åˆ—ï¼Œè¡Œé—´ä¸ç•™é—´è·ï¼Œé¦–è¡Œç¦»äº¤å‰è½´èµ·ç‚¹å’Œå°¾è¡Œç¦»äº¤å‰è½´ç»ˆç‚¹è·ç¦»ç›¸ç­‰ã€‚</p><p>flex-endï¼šå°¾è¡Œåœ¨äº¤å‰è½´ç»ˆç‚¹å¼€å§‹æ’åˆ—ï¼Œè¡Œé—´ä¸ç•™é—´è·ã€‚<br>space-betweenï¼šè¡Œä¸è¡Œé—´è·ç›¸ç­‰ï¼Œé¦–è¡Œç¦»äº¤å‰è½´èµ·ç‚¹å’Œå°¾è¡Œç¦»äº¤å‰è½´ç»ˆç‚¹è·ç¦»ä¸º0ã€‚<br>space-aroundï¼šè¡Œä¸è¡Œé—´è·ç›¸ç­‰ï¼Œé¦–è¡Œç¦»äº¤å‰è½´èµ·ç‚¹å’Œå°¾è¡Œç¦»äº¤å‰è½´ç»ˆç‚¹è·ç¦»ä¸ºè¡Œä¸è¡Œé—´é—´è·çš„ä¸€åŠã€‚</p><p>space-evenlyï¼šè¡Œé—´é—´è·ã€ä»¥åŠé¦–è¡Œç¦»äº¤å‰è½´èµ·ç‚¹å’Œå°¾è¡Œç¦»äº¤å‰è½´ç»ˆç‚¹è·ç¦»ç›¸ç­‰ã€‚</p><h3 id="é¡¹ç›®å±æ€§"><a href="#é¡¹ç›®å±æ€§" class="headerlink" title="é¡¹ç›®å±æ€§"></a>é¡¹ç›®å±æ€§</h3><p>è®¾ç½®é¡¹ç›®ï¼Œç”¨äºè®¾ç½®é¡¹ç›®çš„å°ºå¯¸ã€ä½ç½®ï¼Œä»¥åŠå¯¹é¡¹ç›®çš„å¯¹é½æ–¹å¼åšç‰¹æ®Šè®¾ç½®ã€‚</p><p><strong>order å±æ€§</strong></p><p>è®¾ç½®é¡¹ç›®æ²¿ä¸»è½´æ–¹å‘ä¸Šçš„æ’åˆ—é¡ºåºï¼Œæ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ã€‚å±æ€§å€¼ä¸ºæ•´æ•°ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span>&#123;  <span class="attribute">order</span>: <span class="number">0</span>ï¼ˆé»˜è®¤å€¼ï¼‰ | &lt;integer&gt;&#125;</span><br></pre></td></tr></table></figure><p><strong>flex-shrink å±æ€§</strong></p><p>å½“é¡¹ç›®åœ¨ä¸»è½´æ–¹å‘ä¸Šæº¢å‡ºæ—¶ï¼Œé€šè¿‡è®¾ç½®é¡¹ç›®æ”¶ç¼©å› å­æ¥å‹ç¼©é¡¹ç›®é€‚åº”å®¹å™¨ã€‚å±æ€§å€¼ä¸ºé¡¹ç›®çš„æ”¶ç¼©å› å­ï¼Œå±æ€§å€¼å–éè´Ÿæ•°ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span>&#123;  <span class="attribute">flex-shrink</span>: <span class="number">1</span>ï¼ˆé»˜è®¤å€¼ï¼‰ | &lt;number&gt;&#125;<span class="selector-class">.item1</span>&#123;  <span class="attribute">width</span>: <span class="number">120px</span>;  <span class="attribute">flex-shrink</span>: <span class="number">2</span>;&#125;<span class="selector-class">.item2</span>&#123;  <span class="attribute">width</span>: <span class="number">150px</span>;  <span class="attribute">flex-shrink</span>: <span class="number">3</span>;&#125;<span class="selector-class">.item3</span>&#123;// é¡¹ç›®<span class="number">3</span>æœªè®¾ç½®<span class="attribute">flex-shrink</span>ï¼Œé»˜è®¤<span class="attribute">flex-shrink</span>å€¼ä¸º<span class="number">1</span>  <span class="attribute">width</span>: <span class="number">180px</span>;&#125;</span><br></pre></td></tr></table></figure><p><strong>flex-grow å±æ€§</strong></p><p>å½“é¡¹ç›®åœ¨ä¸»è½´æ–¹å‘ä¸Šè¿˜æœ‰å‰©ä½™ç©ºé—´æ—¶ï¼Œé€šè¿‡è®¾ç½®é¡¹ç›®æ‰©å¼ å› å­è¿›è¡Œå‰©ä½™ç©ºé—´çš„åˆ†é…ã€‚å±æ€§å€¼ä¸ºé¡¹ç›®çš„æ‰©å¼ å› å­ï¼Œå±æ€§å€¼å–éè´Ÿæ•°ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span>&#123;  <span class="attribute">flex-grow</span>: <span class="number">0</span>ï¼ˆé»˜è®¤å€¼ï¼‰ | &lt;number&gt;&#125;</span><br></pre></td></tr></table></figure><p><strong>flex-basis å±æ€§</strong></p><p>å½“å®¹å™¨è®¾ç½®flex-directionä¸ºrowæˆ–row-reverseæ—¶ï¼Œflex-basiså’ŒwidthåŒæ—¶å­˜åœ¨ï¼Œflex-basisä¼˜å…ˆçº§é«˜äºwidthï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶flex-basisä»£æ›¿é¡¹ç›®çš„widthå±æ€§ã€‚</p><p>å½“å®¹å™¨è®¾ç½®flex-directionä¸ºcolumnæˆ–column-reverseæ—¶ï¼Œflex-basiså’ŒheightåŒæ—¶å­˜åœ¨ï¼Œflex-basisä¼˜å…ˆçº§é«˜äºheightï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶flex-basisä»£æ›¿é¡¹ç›®çš„heightå±æ€§ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“flex-basiså’Œwidthï¼ˆæˆ–heightï¼‰ï¼Œå…¶ä¸­ä¸€ä¸ªå±æ€§å€¼ä¸ºautoæ—¶ï¼Œéautoçš„ä¼˜å…ˆçº§æ›´é«˜ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">flex-basis</span>: autoï¼ˆé»˜è®¤å€¼ï¼‰ | &lt;number&gt;px</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>flex å±æ€§</strong></p><p>æ˜¯flex-growï¼Œflex-shrinkï¼Œflex-basisçš„ç®€å†™æ–¹å¼ã€‚å€¼è®¾ç½®ä¸ºnoneï¼Œç­‰ä»·äº00 autoã€‚å€¼è®¾ç½®ä¸ºautoï¼Œç­‰ä»·äº1 1 autoã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">flex</span>: none | auto | @flex-grow @flex-shrink@flex-basis</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>align-self å±æ€§</strong></p><p>è®¾ç½®é¡¹ç›®åœ¨è¡Œä¸­äº¤å‰è½´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ï¼Œç”¨äºè¦†ç›–å®¹å™¨çš„align-itemsï¼Œè¿™ä¹ˆåšå¯ä»¥å¯¹é¡¹ç›®çš„å¯¹é½æ–¹å¼åšç‰¹æ®Šå¤„ç†ã€‚é»˜è®¤å±æ€§å€¼ä¸ºautoï¼Œç»§æ‰¿å®¹å™¨çš„align-itemså€¼ï¼Œå½“å®¹å™¨æ²¡æœ‰è®¾ç½®align-itemsæ—¶ï¼Œå±æ€§å€¼ä¸ºstretchã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">align-self</span>: autoï¼ˆé»˜è®¤å€¼ï¼‰ | flex-start | center | flex-end | baseline |stretch</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> wechat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pygameå®è·µ_1</title>
      <link href="2021/08/15/pygame%E5%AE%9E%E8%B7%B5-1/"/>
      <url>2021/08/15/pygame%E5%AE%9E%E8%B7%B5-1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="åˆ©ç”¨pythonåšæ¸¸æˆâ€”â€”pygame-1"><a href="#åˆ©ç”¨pythonåšæ¸¸æˆâ€”â€”pygame-1" class="headerlink" title="åˆ©ç”¨pythonåšæ¸¸æˆâ€”â€”pygame_1"></a>åˆ©ç”¨pythonåšæ¸¸æˆâ€”â€”pygame_1</h1><p>ä¹‹å‰ç¢°äº†Qt,winforms,wpf. ä¸»è¦æ˜¯æƒ³æ¥è§¦ä¸€ä¸‹GUI</p><p>æˆ‘éƒ½ä¸çŸ¥é“è¯¥å¹²å•¥äº†</p><span id="more"></span><p>è¿™ä¸ªé¡¹ç›®æ˜¯åœ¨ã€ŠPythonç¼–ç¨‹ä»å…¥é—¨åˆ°å®è·µã€‹ä¸Šæ‘˜å†™çš„  ä¸ªäººæ¨èè¿™æœ¬ä¹¦è¿˜æœ‰åŒç³»åˆ—çš„èŸ’è›‡ä¹¦</p><p>åé¢æƒ³å†™å†™matplotlibå’Œå…¶ä»–çš„pythonåº“,ä¸è¿‡Pythonè¿™ä¸ªè¯­è¨€æ˜¯çœŸçš„èˆ’æœ.</p><h2 id="pygameä»‹ç»"><a href="#pygameä»‹ç»" class="headerlink" title="pygameä»‹ç»"></a>pygameä»‹ç»</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065639.jpg" alt="Pygameæ¸¸æˆç»“æ„æ¡†æ¶"></p><h2 id="1-åˆ›å»ºç•Œé¢"><a href="#1-åˆ›å»ºç•Œé¢" class="headerlink" title="1.åˆ›å»ºç•Œé¢"></a>1.åˆ›å»ºç•Œé¢</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AlienInvasions</span>:</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;&#x27;ç®¡ç†æ¸¸æˆèµ„æºå’Œè¡Œä¸ºçš„ç±»&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åˆå§‹åŒ–æ¸¸æˆå¹¶åˆ›å»ºæ¸¸æˆèµ„æº&#x27;&#x27;&#x27;</span></span><br><span class="line">        pygame.init()</span><br><span class="line">        self.screen = pygame.display.set_mode((<span class="number">1200</span>,<span class="number">800</span>))</span><br><span class="line">        pygame.display.set_caption(<span class="string">&quot;Alien Invasion&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run_game</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;å¼€å§‹æ¸¸æˆçš„ä¸»å¾ªç¯&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># ç›‘è§†é”®ç›˜å’Œé¼ æ ‡äº‹ä»¶</span></span><br><span class="line">            <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">                <span class="keyword">if</span> event.<span class="built_in">type</span> == pygame.QUIT:</span><br><span class="line">                    sys.exit()</span><br><span class="line">            <span class="comment">#è®©æœ€è¿‘ç»˜åˆ¶çš„å±å¹•å¯è§</span></span><br><span class="line">            pygame.display.flip()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment">#åˆ›å»ºæ¸¸æˆå®ä¾‹å¹¶è¿è¡Œ</span></span><br><span class="line">    ai = AlienInvasions()</span><br><span class="line">    ai.run_game()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093652.png" alt="image-20210815132045490"></p><p>pygame.init() åˆå§‹åŒ–èƒŒæ™¯è®¾ç½® è®©pygameæ­£å¸¸å·¥ä½œ</p><p>pygame.display.set_mode() åˆ›å»ºä¸€ä¸ªæ˜¾ç¤ºçª—å£,æ¸¸æˆçš„æ‰€æœ‰å›¾å½¢å…ƒç´ éƒ½å°†åœ¨å…¶ä¸­ç»˜åˆ¶  (1200,800)æ˜¯ä¸€ä¸ªå…ƒç»„ å®½1200åƒç´  é«˜800åƒç´ </p><p>èµ‹ç»™self.screençš„å¯¹è±¡æ˜¯ä¸€ä¸ªSurface.æ˜¯å±å¹•çš„ä¸€éƒ¨åˆ†,ç”¨äºæ˜¾ç¤ºæ¸¸æˆå…ƒç´  </p><p>æ¿€æ´»æ¸¸æˆçš„åŠ¨ç”»å¾ªç¯å,æ¯ç»è¿‡ä¸€æ¬¡å¾ªç¯éƒ½å°†è‡ªåŠ¨é‡ç»˜è¿™ä¸ªSurface å°†ç”¨æˆ·è¾“å…¥è§¦å‘çš„æ‰€æœ‰å˜åŒ–éƒ½åæ˜ å‡ºæ¥</p><p>run_game()åŒ…å«ä¸€ä¸ªwhileå¾ªç¯ ç›‘è§†äº‹ä»¶</p><p>pygame.event.get()è¿”å›ä¸€ä¸ªåˆ—è¡¨ åŒ…å«å®ƒåœ¨ä¸Šä¸€æ¬¡è¢«è°ƒç”¨å‘ç”Ÿçš„æ‰€æœ‰äº‹ä»¶</p><p>æ‰€æœ‰é”®ç›˜å’Œé¼ æ ‡äº‹ä»¶éƒ½å°†å€’æ˜¯è¿™ä¸ªforå¾ªç¯è¿›è¡Œ  å¦‚æœæ£€æŸ¥åˆ°pygame.QUITåˆ™é€€å‡ºpygame.display.flip()å°†ä¸æ–­æ›´æ–°å±å¹•,ä»¥æ˜¾ç¤ºå…ƒç´ çš„æ–°ä½ç½®,å¹¶ä¸”åœ¨åŸæ¥çš„ä½ç½®éšè—å…ƒç´ ,ä»è€Œè¥é€ å¹³æ»‘çš„ç§»åŠ¨æ•ˆæœ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®å±å¹•èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">self.bg_color = (<span class="number">230</span>,<span class="number">230</span>,<span class="number">230</span>)  <span class="comment">#rgbä¸‰å…ƒç»„</span></span><br><span class="line">self.screen.fill(self.bg_color)</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093657.png" alt="image-20210815134354356"></p><p>fillå¤„ç†Surface,å¡«å……é¢œè‰²</p><h2 id="2-åˆ›å»ºè®¾ç½®ç±»"><a href="#2-åˆ›å»ºè®¾ç½®ç±»" class="headerlink" title="2.åˆ›å»ºè®¾ç½®ç±»"></a>2.åˆ›å»ºè®¾ç½®ç±»</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Settings</span>:</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å­˜å‚¨æ¸¸æˆä¸­æ‰€è®¾ç½®çš„ç±»&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åˆå§‹åŒ–æ¸¸æˆçš„è®¾ç½®&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="comment"># å±å¹•çš„è®¾ç½®</span></span><br><span class="line">        self.screen_width = <span class="number">1200</span></span><br><span class="line">        self.screen_height = <span class="number">800</span></span><br><span class="line">        self.bg_color = (<span class="number">230</span>,<span class="number">230</span>,<span class="number">230</span>)</span><br></pre></td></tr></table></figure><p>åˆ›å»ºsetting.pyæ–‡ä»¶   è¿™äº›å˜é‡å¯ç”¨äºå…¶ä»–æ–‡ä»¶è®¿é—®</p><p>è¿™æ ·å†™ä»ä»£ç ä¸Šä¾¿äºåˆ†ç¦»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> settings <span class="keyword">import</span> Settings</span><br><span class="line">self.settings = Settings()</span><br><span class="line">        self.screen = pygame.display.set_mode(</span><br><span class="line">            (self.settings.screen_width,self.settings.screen_height)</span><br><span class="line">        )</span><br><span class="line">self.screen.fill(self.settings.bg_color)</span><br></pre></td></tr></table></figure><h2 id="3-åˆ›å»ºé£èˆ¹ç±»"><a href="#3-åˆ›å»ºé£èˆ¹ç±»" class="headerlink" title="3.åˆ›å»ºé£èˆ¹ç±»"></a>3.åˆ›å»ºé£èˆ¹ç±»</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ship</span>:</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;ç®¡ç†é£èˆ¹çš„ç±»&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,ai_game</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åˆå§‹åŒ–é£èˆ¹å¹¶è®¾ç½®å…¶åˆå§‹ä½ç½®&#x27;&#x27;&#x27;</span></span><br><span class="line">        self.screen = ai_game.screen()</span><br><span class="line">        self.screen_rect = ai_game.screen.get_rect()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åŠ è½½é£èˆ¹å›¾åƒå¹¶è·å–å…¶å¤–æ¥çŸ©å½¢</span></span><br><span class="line">        self.image = pygame.image.load(<span class="string">&#x27;images/rocket.bmp&#x27;</span>)</span><br><span class="line">        self.rect = self.image.get_rect()</span><br><span class="line">        <span class="comment">#å¯¹äºæ¯è‰˜æ–°é£èˆ¹ åˆå§‹åŒ–ä½ç½®  æ”¾åœ¨å±å¹•åº•éƒ¨ä¸­å¤®</span></span><br><span class="line">        self.rect.midbottom = self.screen_rect.midbottom</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">blitme</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åœ¨æŒ‡å®šä½ç½®ç»˜åˆ¶é£èˆ¹&#x27;&#x27;&#x27;</span></span><br><span class="line">        self.screen.blit(self.image,self.rect)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†å±å¹•å’Œé£èˆ¹éƒ½å½“ä½œçŸ©å½¢,å› ä¸ºè¿™æ ·å¤„ç†æ¯”è¾ƒç®€å•</p><p>å‚æ•°æœ‰self,ai_game  åè€…æŒ‡å‘å½“å‰AlienInvasionå®ä¾‹å¼•ç”¨  è®¿é—®å®šä¹‰ä¸­çš„æ¸¸æˆèµ„æº</p><p>rectå¯¹è±¡æœ‰å±æ€§x,y,center,centerx,centery,top,bottomç­‰</p><p>blitæ–¹æ³•å°†å›¾åƒself.rectç»˜åˆ¶åˆ°æŒ‡å®šä½ç½®</p><h3 id="é£èˆ¹çš„ç§»åŠ¨"><a href="#é£èˆ¹çš„ç§»åŠ¨" class="headerlink" title="é£èˆ¹çš„ç§»åŠ¨"></a>é£èˆ¹çš„ç§»åŠ¨</h3><p>ä¸»è¦æ˜¯åˆ©ç”¨self.ship.rect.xç­‰å±æ€§</p><p>å°†run_game()åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_game</span>(<span class="params">self</span>):</span></span><br><span class="line">       <span class="string">&#x27;&#x27;&#x27;å¼€å§‹æ¸¸æˆçš„ä¸»å¾ªç¯&#x27;&#x27;&#x27;</span></span><br><span class="line">       <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">           <span class="comment"># ç›‘è§†é”®ç›˜å’Œé¼ æ ‡äº‹ä»¶</span></span><br><span class="line">           self._check_events()</span><br><span class="line">           <span class="comment"># æ›´æ–°å±å¹•</span></span><br><span class="line">           self.ship.update()</span><br><span class="line">           self._update_screen()</span><br><span class="line"></span><br><span class="line">       <span class="string">&#x27;&#x27;&#x27;è¾…åŠ©æ–¹æ³•&#x27;&#x27;&#x27;</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">_check_events</span>(<span class="params">self</span>):</span></span><br><span class="line">       <span class="string">&#x27;&#x27;&#x27;å“åº”é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶&#x27;&#x27;&#x27;</span></span><br><span class="line">       <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get():</span><br><span class="line">           <span class="keyword">if</span> event.<span class="built_in">type</span> == pygame.QUIT:</span><br><span class="line">               sys.exit()</span><br><span class="line">           <span class="keyword">elif</span> event.<span class="built_in">type</span> == pygame.KEYDOWN:</span><br><span class="line">               <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">                   <span class="comment"># å‘å³ç§»åŠ¨é£èˆ¹</span></span><br><span class="line">                   <span class="comment"># self.ship.rect.x += 10</span></span><br><span class="line">                   self.ship.moving_right = <span class="literal">True</span></span><br><span class="line">               <span class="comment"># if event.type == pygame.K_LEFT:</span></span><br><span class="line">               <span class="comment">#     self.ship.rect.x -=10</span></span><br><span class="line">           <span class="keyword">elif</span> event.<span class="built_in">type</span> == pygame.KEYUP:</span><br><span class="line">               <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">                   self.ship.moving_right = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">_update_screen</span>(<span class="params">self</span>):</span></span><br><span class="line">       self.screen.fill(self.settings.bg_color)</span><br><span class="line">       <span class="comment"># self.screen.fill(self.bg_color)</span></span><br><span class="line">       self.ship.blitme()</span><br><span class="line">       <span class="comment"># è®©æœ€è¿‘ç»˜åˆ¶çš„å±å¹•å¯è§</span></span><br><span class="line">       pygame.display.flip()</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093659.png" alt="image-20210815150339152"></p><p>æ³¨æ„event.keyè¿™ä¸ªä¸œè¥¿,ç”¨æ¥æ§åˆ¶é£èˆ¹çš„ç§»åŠ¨</p><p>è¦å®ç°è¿ç»­ç§»åŠ¨å¯ä»¥ç»™ä¸€ä¸ªmoving_rightçš„flagæ§åˆ¶</p><p>åªè¦æŒ‰ä¸‹å°±èƒ½è¿ç»­ç§»åŠ¨</p><p><img data-src="http://cdn.sekyoro.top/imgs/093704.png" alt="image-20210815150504599"></p><p>å½“ç„¶,è¦å°†è¿™ä¸ªä¸œè¥¿åŠ å…¥whileå¾ªç¯ç›‘è§†</p><p><img data-src="http://cdn.sekyoro.top/imgs/093705.png" alt="image-20210815150714799"></p><h3 id="åŠ å¿«é£èˆ¹é€Ÿåº¦"><a href="#åŠ å¿«é£èˆ¹é€Ÿåº¦" class="headerlink" title="åŠ å¿«é£èˆ¹é€Ÿåº¦"></a>åŠ å¿«é£èˆ¹é€Ÿåº¦</h3><p><img data-src="http://cdn.sekyoro.top/imgs/065641.png" alt="image-20210815152117260"></p><p><img data-src="http://cdn.sekyoro.top/imgs/093708.png" alt="image-20210815152142591"></p><p>å°†é€Ÿåº¦æ”¹ä¸º1.5åƒç´   ç”±äºrect.xä¸ºintå€¼</p><p>å°†æ”¹å˜åçš„å€¼èµ‹ç»™self.x å†èµ‹å€¼ç»™self.rect.x  åªå­˜å‚¨æ•´æ•°éƒ¨åˆ†</p><p>ä½†é—®é¢˜ä¸å¤§</p><h3 id="é™åˆ¶é£èˆ¹æ´»åŠ¨èŒƒå›´"><a href="#é™åˆ¶é£èˆ¹æ´»åŠ¨èŒƒå›´" class="headerlink" title="é™åˆ¶é£èˆ¹æ´»åŠ¨èŒƒå›´"></a>é™åˆ¶é£èˆ¹æ´»åŠ¨èŒƒå›´</h3><p>ä¸»è¦åˆ©ç”¨rect.rightç­‰é™åˆ¶</p><p>rect.rightè¿”å›è·ç¦»é£èˆ¹å¤–æ¥çŸ©å½¢å³è¾¹ç¼˜çš„xåæ ‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">self</span>):</span></span><br><span class="line">       <span class="string">&#x27;&#x27;&#x27;æ ¹æ®ç§»åŠ¨æ ‡å¿—è°ƒæ•´é£èˆ¹ä½ç½®&#x27;&#x27;&#x27;</span></span><br><span class="line">       <span class="keyword">if</span> self.moving_right <span class="keyword">and</span> self.rect.right&lt;self.screen_rect.right:</span><br><span class="line">           self.x += self.settings.ship_speed</span><br><span class="line">       <span class="keyword">if</span> self.moving_left <span class="keyword">and</span> self.rect.left&gt;<span class="number">0</span>:</span><br><span class="line">           self.x -= self.settings.ship_speed</span><br><span class="line"></span><br><span class="line">       <span class="comment"># æ ¹æ®self.xæ›´æ–°rectå¯¹è±¡</span></span><br><span class="line">       self.rect.x = self.x</span><br></pre></td></tr></table></figure><h3 id="é‡æ„äº‹ä»¶"><a href="#é‡æ„äº‹ä»¶" class="headerlink" title="é‡æ„äº‹ä»¶"></a>é‡æ„äº‹ä»¶</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_check_keydown_events</span>(<span class="params">self, event</span>):</span></span><br><span class="line">       <span class="string">&#x27;&#x27;&#x27;å“åº”æŒ‰é”®&#x27;&#x27;&#x27;</span></span><br><span class="line">       <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">           self.ship.moving_right = <span class="literal">True</span></span><br><span class="line">       <span class="keyword">elif</span> event.key == pygame.K_LEFT:</span><br><span class="line">           self.ship.moving_left = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">_check_keyup_events</span>(<span class="params">self, event</span>):</span></span><br><span class="line">       <span class="string">&#x27;&#x27;&#x27;ç›¸åº”æ¾å¼€&#x27;&#x27;&#x27;</span></span><br><span class="line">       <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">           self.ship.moving_right = <span class="literal">False</span></span><br><span class="line">       <span class="keyword">elif</span> event.key == pygame.K_LEFT:</span><br><span class="line">           self.ship.moving_left = <span class="literal">False</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> event.<span class="built_in">type</span> == pygame.QUIT:</span><br><span class="line">    sys.exit()</span><br><span class="line"><span class="keyword">elif</span> event.<span class="built_in">type</span> == pygame.KEYDOWN:</span><br><span class="line">        self._check_keydown_events(event)</span><br><span class="line"><span class="keyword">elif</span> event.<span class="built_in">type</span> == pygame.KEYUP:</span><br><span class="line">    self._check_keyup_events(event)</span><br></pre></td></tr></table></figure><h3 id="æŒ‰Qé”®é€€å‡º"><a href="#æŒ‰Qé”®é€€å‡º" class="headerlink" title="æŒ‰Qé”®é€€å‡º"></a>æŒ‰Qé”®é€€å‡º</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_check_keydown_events</span>(<span class="params">self, event</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å“åº”æŒ‰é”®&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">        self.ship.moving_right = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> event.key == pygame.K_LEFT:</span><br><span class="line">        self.ship.moving_left = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> event.key == pygame.K_q:</span><br><span class="line">        sys.exit()</span><br></pre></td></tr></table></figure><h3 id="å…¨å±"><a href="#å…¨å±" class="headerlink" title="å…¨å±"></a>å…¨å±</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">self.screen = pygame.display.set_mode((<span class="number">0</span>, <span class="number">0</span>), pygame.FULLSCREEN)</span><br><span class="line">        <span class="comment"># self.settings.screen_width = self.screen.get_rect().width</span></span><br><span class="line">        <span class="comment"># self.settings.screen_height = self.screen.get_rect().height</span></span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå­å¼¹ç±»"><a href="#åˆ›å»ºå­å¼¹ç±»" class="headerlink" title="åˆ›å»ºå­å¼¹ç±»"></a>åˆ›å»ºå­å¼¹ç±»</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">from</span> pygame.sprite <span class="keyword">import</span> Sprite</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bullet</span>(<span class="params">Sprite</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;ç®¡ç†é£èˆ¹æ‰€å‘å°„å­å¼¹çš„ç±»&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,ai_game</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åœ¨é£èˆ¹å½“å‰ä½ç½®åˆ›å»ºä¸€ä¸ªå­å¼¹å¯¹è±¡&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">super</span>.__init__()</span><br><span class="line">        self.screen = ai_game.screen</span><br><span class="line">        self.settings = ai_game.settings</span><br><span class="line">        self.color = self.settings.bullet_color</span><br><span class="line"></span><br><span class="line">        <span class="comment">#åœ¨(0,0)å¤„åˆ›å»ºä¸€ä¸ªè¡¨ç¤ºå­å¼¹çš„çŸ©å½¢,å†è®¾ç½®æ­£ç¡®çš„ä½ç½®</span></span><br><span class="line">        self.rect = pygame.Rect(<span class="number">0</span>,<span class="number">0</span>,self.settings.bullet_width,</span><br><span class="line">                                self.settings.bullet_height)</span><br><span class="line">        self.rect.midtop = ai_game.ship.rect.midtop</span><br><span class="line"></span><br><span class="line">        <span class="comment">#å­˜å‚¨ç”¨å°æ•°è¡¨ç¤ºçš„å­å¼¹ä½ç½®</span></span><br><span class="line">        self.y = <span class="built_in">float</span>(self.rect.y)    <span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;å‘ä¸Šç§»åŠ¨å­å¼¹&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="comment"># æ›´æ–°è¡¨ç¤ºå­å¼¹ä½ç½®çš„å°æ•°å€¼</span></span><br><span class="line">        self.y -= self.settings.bullet_speed</span><br><span class="line">        <span class="comment"># æ›´æ–°è¡¨ç¤ºå­å¼¹çš„rectä½ç½®</span></span><br><span class="line">        self.rect.y = self.y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">draw_bullet</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åœ¨å±å¹•ä¸Šç»˜åˆ¶å­å¼¹&#x27;&#x27;&#x27;</span></span><br><span class="line">        pygame.draw.rect(self.screen, self.color, self.rect)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;å‘ä¸Šç§»åŠ¨å­å¼¹&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="comment"># æ›´æ–°è¡¨ç¤ºå­å¼¹ä½ç½®çš„å°æ•°å€¼</span></span><br><span class="line">        self.y -= self.settings.bullet_speed</span><br><span class="line">        <span class="comment"># æ›´æ–°è¡¨ç¤ºå­å¼¹çš„rectä½ç½®</span></span><br><span class="line">        self.rect.y = self.y</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">_fire_bullet</span>(<span class="params">self</span>):</span></span><br><span class="line">      <span class="string">&#x27;&#x27;&#x27;åˆ›å»ºä¸€é¢—å­å¼¹ å°†å…¶åŠ å…¥ç¼–ç»„ä¸­&#x27;&#x27;&#x27;</span></span><br><span class="line">      new_bullet = Bullet(self)</span><br><span class="line">      self.bullets.add(new_bullet)</span><br><span class="line">          <span class="function"><span class="keyword">def</span> <span class="title">_update_screen</span>(<span class="params">self</span>):</span></span><br><span class="line">      <span class="comment"># self.screen.fill(self.settings.bg_color)</span></span><br><span class="line">      self.screen.fill(self.settings.bg_color)</span><br><span class="line">      self.ship.blitme()</span><br><span class="line">      <span class="keyword">for</span> bullet <span class="keyword">in</span> self.bullets.sprites():</span><br><span class="line">          bullet.draw_bullet()</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_check_keydown_events</span>(<span class="params">self, event</span>):</span></span><br><span class="line">      <span class="string">&#x27;&#x27;&#x27;å“åº”æŒ‰é”®&#x27;&#x27;&#x27;</span></span><br><span class="line">      <span class="keyword">if</span> event.key == pygame.K_RIGHT:</span><br><span class="line">          self.ship.moving_right = <span class="literal">True</span></span><br><span class="line">      <span class="keyword">elif</span> event.key == pygame.K_LEFT:</span><br><span class="line">          self.ship.moving_left = <span class="literal">True</span></span><br><span class="line">      <span class="keyword">elif</span> event.key == pygame.K_q:</span><br><span class="line">          sys.exit()</span><br><span class="line">      <span class="keyword">elif</span> event.key == pygame.K_SPACE:</span><br><span class="line">          self._fire_bullet() <span class="comment">#å‘å°„å­å¼¹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run_game</span>(<span class="params">self</span>):</span></span><br><span class="line">      <span class="string">&#x27;&#x27;&#x27;å¼€å§‹æ¸¸æˆçš„ä¸»å¾ªç¯&#x27;&#x27;&#x27;</span></span><br><span class="line">      <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">          <span class="comment"># ç›‘è§†é”®ç›˜å’Œé¼ æ ‡äº‹ä»¶</span></span><br><span class="line">          self._check_events()</span><br><span class="line">          <span class="comment"># æ›´æ–°å±å¹•</span></span><br><span class="line">          self.ship.update()</span><br><span class="line">          self.bullets.update()<span class="comment">#æ›´æ–°ä½ç½®</span></span><br><span class="line">          self._update_screen()</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤æ¶ˆå¤±çš„å­å¼¹"><a href="#åˆ é™¤æ¶ˆå¤±çš„å­å¼¹" class="headerlink" title="åˆ é™¤æ¶ˆå¤±çš„å­å¼¹"></a>åˆ é™¤æ¶ˆå¤±çš„å­å¼¹</h3><p>å­å¼¹æ²¡æœ‰æ¶ˆé™¤,æ‰€ä»¥ä¼šæ¶ˆè€—å†…å­˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> bullet <span class="keyword">in</span> self.bullets.copy():</span><br><span class="line">    <span class="keyword">if</span> bullet.rect.bottom &lt;=<span class="number">0</span>:</span><br><span class="line">        self.bullets.remove(bullet)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨copyæ˜¯å› ä¸ºéå†çš„æ•°ç»„ä¸èƒ½å˜åŒ–</p><h3 id="é™åˆ¶å­å¼¹æ•°é‡"><a href="#é™åˆ¶å­å¼¹æ•°é‡" class="headerlink" title="é™åˆ¶å­å¼¹æ•°é‡"></a>é™åˆ¶å­å¼¹æ•°é‡</h3><p>settings.pyè®¾ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.bullet_allowed = <span class="number">3</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_fire_bullet</span>(<span class="params">self</span>):</span></span><br><span class="line">       <span class="string">&#x27;&#x27;&#x27;åˆ›å»ºä¸€é¢—å­å¼¹ å°†å…¶åŠ å…¥ç¼–ç»„ä¸­&#x27;&#x27;&#x27;</span></span><br><span class="line">       <span class="comment">#é™åˆ¶æ•°é‡ å½“å­å¼¹æ•°é‡å°äºé™åˆ¶æ•°é‡æ—¶</span></span><br><span class="line">       <span class="keyword">if</span> <span class="built_in">len</span>(self.bullets)&lt;self.settings.bullet_allowed:</span><br><span class="line">           new_bullet = Bullet(self)</span><br><span class="line">           self.bullets.add(new_bullet)</span><br></pre></td></tr></table></figure><h3 id="é‡æ„ä»£ç "><a href="#é‡æ„ä»£ç " class="headerlink" title="é‡æ„ä»£ç "></a>é‡æ„ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_updata_bullets</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;æ›´æ–°å­å¼¹ä½ç½®å¹¶åˆ é™¤æ¶ˆå¤±å­å¼¹&#x27;&#x27;&#x27;</span></span><br><span class="line">    self.bullets.update()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ é™¤æ¶ˆå¤±çš„å­å¼¹</span></span><br><span class="line">    <span class="keyword">for</span> bullet <span class="keyword">in</span> self.bullets.copy():</span><br><span class="line">        <span class="keyword">if</span> bullet.rect.bottom &lt;= <span class="number">0</span>:</span><br><span class="line">            self.bullets.remove(bullet)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_game</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å¼€å§‹æ¸¸æˆçš„ä¸»å¾ªç¯&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># ç›‘è§†é”®ç›˜å’Œé¼ æ ‡äº‹ä»¶</span></span><br><span class="line">        self._check_events()</span><br><span class="line">        <span class="comment"># æ›´æ–°å±å¹•</span></span><br><span class="line">        self.ship.update()</span><br><span class="line">        self._updata_bullets()</span><br><span class="line">        self._update_screen()</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºå¤–æ˜Ÿäºº"><a href="#åˆ›å»ºå¤–æ˜Ÿäºº" class="headerlink" title="åˆ›å»ºå¤–æ˜Ÿäºº"></a>åˆ›å»ºå¤–æ˜Ÿäºº</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"><span class="keyword">from</span>  pygame.sprite <span class="keyword">import</span> Sprite</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Alien</span>(<span class="params">Sprite</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;è¡¨ç¤ºå•ä¸ªå¤–æ˜Ÿäºº&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,ai_game</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åˆå§‹åŒ–å¤–æ˜Ÿäºº&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.screen = ai_game.screen</span><br><span class="line"></span><br><span class="line">        <span class="comment">#åŠ è½½å¤–æ˜Ÿäººå›¾åƒå¹¶è®¾ç½®å¤§å°ä½ç½®</span></span><br><span class="line">        self.image = pygame.image.load(<span class="string">&#x27;./images/ufo.bmp&#x27;</span>)</span><br><span class="line">        self.rect = self.image.get_rect()</span><br><span class="line"></span><br><span class="line">        <span class="comment">#æ¯ä¸ªå¤–æ˜Ÿäººéƒ½ä»å·¦ä¸Šè§’äº§ç”Ÿå‡º</span></span><br><span class="line">        self.rect.x = self.rect.width</span><br><span class="line">        self.rect.y = self.rect.height</span><br><span class="line"></span><br><span class="line">        self.x = <span class="built_in">float</span>(self.rect.x)</span><br></pre></td></tr></table></figure><p>è®¾ç½®å…¶å›¾åƒä¸å¤§å°,ä½ç½®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_create_fleet</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;åˆ›å»ºå¤–æ˜Ÿäººç¾¤&#x27;&#x27;&#x27;</span></span><br><span class="line">    alien = Alien(self)</span><br><span class="line">    alien_width = alien.rect.width</span><br><span class="line">    available_space_x = self.settings.screen_width - (<span class="number">2</span> * alien_width)</span><br><span class="line">    number_aliens_x = available_space_x // (<span class="number">2</span> * alien_width)</span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€è¡Œå¤–æ˜Ÿäºº</span></span><br><span class="line">    <span class="keyword">for</span> alien_number <span class="keyword">in</span> <span class="built_in">range</span>(number_aliens_x):</span><br><span class="line">        self._create_alien(alien_number)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_create_alien</span>(<span class="params">self, alien_number</span>):</span></span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€ä¸ªå¤–æ˜Ÿäºº</span></span><br><span class="line">    alien = Alien(self)</span><br><span class="line">    alien_width = alien.rect.width</span><br><span class="line">    alien.x = alien_width + <span class="number">2</span> * alien_width * alien_number</span><br><span class="line">    alien.rect.x = alien.x</span><br><span class="line">    self.aliens.add(alien)</span><br></pre></td></tr></table></figure><p>åœ¨__init__ä¸­åŠ å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.aliens = pygame.sprite.Group()</span><br><span class="line">self._create_fleet()</span><br></pre></td></tr></table></figure><p>åŒæ—¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_update_screen</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="comment"># self.screen.fill(self.settings.bg_color)</span></span><br><span class="line">    self.screen.fill(self.settings.bg_color)</span><br><span class="line">    self.ship.blitme()</span><br><span class="line">    <span class="keyword">for</span> bullet <span class="keyword">in</span> self.bullets.sprites():</span><br><span class="line">        bullet.draw_bullet()</span><br><span class="line">    self.aliens.draw(self.screen)</span><br><span class="line">    <span class="comment"># è®©æœ€è¿‘ç»˜åˆ¶çš„å±å¹•å¯è§</span></span><br><span class="line">    pygame.display.flip()</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨sprits.drawæ–¹æ³•</p><h3 id="é‡æ„"><a href="#é‡æ„" class="headerlink" title="é‡æ„"></a>é‡æ„</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_create_fleet</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;åˆ›å»ºå¤–æ˜Ÿäººç¾¤&#x27;&#x27;&#x27;</span></span><br><span class="line">    alien = Alien(self)</span><br><span class="line">    alien_width,alien_height = alien.rect.size</span><br><span class="line">    available_space_x = self.settings.screen_width - (<span class="number">2</span> * alien_width)</span><br><span class="line">    number_aliens_x = available_space_x // (<span class="number">2</span> * alien_width)</span><br><span class="line"></span><br><span class="line">    ship_hight = self.ship.rect.height</span><br><span class="line">    available_space_y = (self.settings.screen_height-(<span class="number">3</span>*alien_height)-ship_hight)</span><br><span class="line">    number_rows = available_space_y//(<span class="number">2</span>*alien_height)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ›å»ºå¤–æ˜Ÿäººç¾¤</span></span><br><span class="line">    <span class="keyword">for</span> row_number <span class="keyword">in</span> <span class="built_in">range</span>(number_rows):</span><br><span class="line">        <span class="keyword">for</span> alien_number <span class="keyword">in</span> <span class="built_in">range</span>(number_aliens_x):</span><br><span class="line">            self._create_alien(alien_number,row_number)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_create_alien</span>(<span class="params">self, alien_number,row_number</span>):</span></span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€ä¸ªå¤–æ˜Ÿäºº</span></span><br><span class="line">    alien = Alien(self)</span><br><span class="line">    alien_width = alien.rect.width</span><br><span class="line">    alien.x = alien_width + <span class="number">2</span> * alien_width * alien_number</span><br><span class="line">    alien.rect.x = alien.x</span><br><span class="line">    alien.rect.y = alien.rect.height+<span class="number">2</span>*alien.rect.height*row_number</span><br><span class="line">    self.aliens.add(alien)</span><br></pre></td></tr></table></figure><h3 id="è®©å¤–æ˜Ÿäººç§»åŠ¨"><a href="#è®©å¤–æ˜Ÿäººç§»åŠ¨" class="headerlink" title="è®©å¤–æ˜Ÿäººç§»åŠ¨"></a>è®©å¤–æ˜Ÿäººç§»åŠ¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å‘å³ç§»åŠ¨å¤–æ˜Ÿäºº&#x27;&#x27;&#x27;</span></span><br><span class="line">    self.x += self.settings.alien_speed</span><br><span class="line">    self.rect.x = self.x</span><br></pre></td></tr></table></figure><h3 id="æ£€æŸ¥è¾¹ç•Œ-åˆ°è¾¾è¾¹ç•Œåå‘å¦ä¸€ä¸ªæ–¹å‘èµ°å¹¶å‘ä¸‹èµ°"><a href="#æ£€æŸ¥è¾¹ç•Œ-åˆ°è¾¾è¾¹ç•Œåå‘å¦ä¸€ä¸ªæ–¹å‘èµ°å¹¶å‘ä¸‹èµ°" class="headerlink" title="æ£€æŸ¥è¾¹ç•Œ åˆ°è¾¾è¾¹ç•Œåå‘å¦ä¸€ä¸ªæ–¹å‘èµ°å¹¶å‘ä¸‹èµ°"></a>æ£€æŸ¥è¾¹ç•Œ åˆ°è¾¾è¾¹ç•Œåå‘å¦ä¸€ä¸ªæ–¹å‘èµ°å¹¶å‘ä¸‹èµ°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_update_alien</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;æ›´æ–°å¤–æ˜Ÿäººç¾¤ä¸­æ‰€æœ‰å¤–æ˜Ÿäººçš„ä½ç½®&#x27;&#x27;&#x27;</span></span><br><span class="line">    self._check_fleet_edges()</span><br><span class="line">    self.aliens.update()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_check_fleet_edges</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> alien <span class="keyword">in</span> self.aliens.sprites():</span><br><span class="line">        <span class="keyword">if</span> alien.check_edges():</span><br><span class="line">            self._change_fleet_direction()</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_change_fleet_direction</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å°†æ•´ç¾¤å¤–æ˜Ÿäººä¸‹ç§»åŠ¨  å¹¶æ¢å·¦å³æ–¹å‘&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> alien <span class="keyword">in</span> self.aliens.sprites():</span><br><span class="line">        alien.rect.y += self.settings.fleet_drop_speed</span><br><span class="line">    self.settings.fleet_direction *= -<span class="number">1</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å‘å³ç§»åŠ¨å¤–æ˜Ÿäºº&#x27;&#x27;&#x27;</span></span><br><span class="line">    self.x += (self.settings.alien_speed * self.settings.fleet_direction)</span><br><span class="line">    self.rect.x = self.x</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_edges</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å¦‚æœå¤–æ˜Ÿäººåœ¨è¾¹ç¼˜è¿”å›true&#x27;&#x27;&#x27;</span></span><br><span class="line">    screen_rect = self.screen.get_rect()</span><br><span class="line">    <span class="keyword">if</span> self.rect.right &gt;= screen_rect.right <span class="keyword">or</span> self.rect.left &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><h3 id="å°„å‡»å¤–æ˜Ÿäºº"><a href="#å°„å‡»å¤–æ˜Ÿäºº" class="headerlink" title="å°„å‡»å¤–æ˜Ÿäºº"></a>å°„å‡»å¤–æ˜Ÿäºº</h3><p>è®¾è®¡ç¢°æ’</p><p>sprits.groupcollide()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_updata_bullets</span>(<span class="params">self</span>):</span></span><br><span class="line">      <span class="string">&#x27;&#x27;&#x27;æ›´æ–°å­å¼¹ä½ç½®å¹¶åˆ é™¤æ¶ˆå¤±å­å¼¹&#x27;&#x27;&#x27;</span></span><br><span class="line">      self.bullets.update()</span><br><span class="line"></span><br><span class="line">      <span class="comment"># åˆ é™¤æ¶ˆå¤±çš„å­å¼¹</span></span><br><span class="line">      <span class="keyword">for</span> bullet <span class="keyword">in</span> self.bullets.copy():</span><br><span class="line">          <span class="keyword">if</span> bullet.rect.bottom &lt;= <span class="number">0</span>:</span><br><span class="line">              self.bullets.remove(bullet)</span><br><span class="line">      self._check_bullet_alien_collisions()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_check_bullet_alien_collisions</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;ç›¸åº”å­å¼¹å’Œå¤–æ˜Ÿäººç¢°æ’&#x27;&#x27;&#x27;</span></span><br><span class="line">    collisions = pygame.sprite.groupcollide(self.bullets, self.aliens, <span class="literal">True</span>, <span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> self.aliens:</span><br><span class="line">        <span class="comment"># åˆ é™¤ç°æœ‰çš„æ‰€æœ‰å­å¼¹ å¹¶åˆ›å»ºå¤–æ˜Ÿäºº</span></span><br><span class="line">        self.bullets.empty()</span><br><span class="line">        self._create_fleet()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="é£èˆ¹ä¸ufoç›¸ç¢°æ’"><a href="#é£èˆ¹ä¸ufoç›¸ç¢°æ’" class="headerlink" title="é£èˆ¹ä¸ufoç›¸ç¢°æ’"></a>é£èˆ¹ä¸ufoç›¸ç¢°æ’</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">_update_aliens</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;æ›´æ–°å¤–æ˜Ÿäººç¾¤ä¸­æ‰€æœ‰å¤–æ˜Ÿäººçš„ä½ç½®&#x27;&#x27;&#x27;</span></span><br><span class="line">        self._check_fleet_edges()</span><br><span class="line">        self.aliens.update()</span><br><span class="line">        <span class="keyword">if</span> pygame.sprite.spritecollideany(self.ship,self.aliens):</span><br><span class="line">            self._ship_hit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_ship_hit</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å“åº”é£èˆ¹è¢«å¤–æ˜Ÿäººç¢°æ’&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># å°†left-1</span></span><br><span class="line">    self.stats.ships_left -= <span class="number">1</span></span><br><span class="line">    <span class="comment"># æ¸…ç©ºä½™ä¸‹çš„å¤–æ˜Ÿäººå’Œå­å¼¹</span></span><br><span class="line">    self.aliens.empty()</span><br><span class="line">    self.bullets.empty()</span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€ç¾¤æ–°çš„å¤–æ˜Ÿäºº å¹¶å°†é£èˆ¹æ”¾åˆ°å±å¹•çš„åº•ç«¯</span></span><br><span class="line">    self._create_fleet()</span><br><span class="line">    self.ship.center_ship()</span><br><span class="line">    <span class="comment"># æš‚åœ</span></span><br><span class="line">    sleep(<span class="number">0.5</span>)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GameStats</span>:</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;è·Ÿè¸ªæ¸¸æˆç»Ÿè®¡ä¿¡æ¯&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,ai_game</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åˆå§‹åŒ–ç»Ÿè®¡ä¿¡æ¯&#x27;&#x27;&#x27;</span></span><br><span class="line">        self.settings = ai_game.settings</span><br><span class="line">        self.reset_stats()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reset_stats</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;åˆå§‹åŒ–åœ¨æ¸¸æˆè¿è¡ŒæœŸé—´å¯èƒ½å˜åŒ–çš„ç»Ÿè®¡ä¿¡æ¯&#x27;&#x27;&#x27;</span></span><br><span class="line">        self.ships_left = self.settings.ship_limit</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">center_ship</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;è®©é£èˆ¹åœ¨åº•ç«¯ä¸­å¤®&quot;&quot;&quot;</span></span><br><span class="line">    self.rect.midbottom = self.screen_rect.midbottom</span><br><span class="line">    self.x = <span class="built_in">float</span>(self.rect.x)</span><br></pre></td></tr></table></figure><p>ç¢°æ’åé£èˆ¹æ¶ˆå¤±</p><h3 id="æ£€æŸ¥å¤–æ˜Ÿäººåˆ°å±å¹•åº•ç«¯"><a href="#æ£€æŸ¥å¤–æ˜Ÿäººåˆ°å±å¹•åº•ç«¯" class="headerlink" title="æ£€æŸ¥å¤–æ˜Ÿäººåˆ°å±å¹•åº•ç«¯"></a>æ£€æŸ¥å¤–æ˜Ÿäººåˆ°å±å¹•åº•ç«¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_check_aliens_bottom</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="comment"># æ£€æŸ¥å¤–æ˜Ÿäººæ˜¯å¦åˆ°è¾¾åº•ç«¯</span></span><br><span class="line">    screen_rect = self.screen.get_rect()</span><br><span class="line">    <span class="keyword">for</span> alien <span class="keyword">in</span> self.aliens.sprites():</span><br><span class="line">        <span class="keyword">if</span> alien.rect.bottom &gt;= screen_rect.bottom:</span><br><span class="line">            <span class="comment"># åƒé£èˆ¹è¢«æ’åˆ°ä¸€æ ·å¤„ç†</span></span><br><span class="line">            self._ship_hit()</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_update_aliens</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;æ›´æ–°å¤–æ˜Ÿäººç¾¤ä¸­æ‰€æœ‰å¤–æ˜Ÿäººçš„ä½ç½®&#x27;&#x27;&#x27;</span></span><br><span class="line">    self._check_fleet_edges()</span><br><span class="line">    self.aliens.update()</span><br><span class="line">    <span class="keyword">if</span> pygame.sprite.spritecollideany(self.ship, self.aliens):</span><br><span class="line">        self._ship_hit()</span><br><span class="line">    self._check_aliens_bottom()</span><br></pre></td></tr></table></figure><h3 id="æ¸¸æˆç»“æŸ"><a href="#æ¸¸æˆç»“æŸ" class="headerlink" title="æ¸¸æˆç»“æŸ"></a>æ¸¸æˆç»“æŸ</h3><p>æ·»åŠ ä¸€ä¸ªæ ‡å¿—</p><p>å½“æ•°é‡å°äº0æ—¶è®¾ä¸ºFalse</p><p><img data-src="http://cdn.sekyoro.top/imgs/093709.png" alt="image-20210815201215794"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_ship_hit</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å“åº”é£èˆ¹è¢«å¤–æ˜Ÿäººç¢°æ’&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># å°†left-1</span></span><br><span class="line">    <span class="keyword">if</span> self.stats.ships_left&gt;<span class="number">0</span>:</span><br><span class="line">        self.stats.ships_left -= <span class="number">1</span></span><br><span class="line">        <span class="comment"># æ¸…ç©ºä½™ä¸‹çš„å¤–æ˜Ÿäººå’Œå­å¼¹</span></span><br><span class="line">        self.aliens.empty()</span><br><span class="line">        self.bullets.empty()</span><br><span class="line">        <span class="comment"># åˆ›å»ºä¸€ç¾¤æ–°çš„å¤–æ˜Ÿäºº å¹¶å°†é£èˆ¹æ”¾åˆ°å±å¹•çš„åº•ç«¯</span></span><br><span class="line">        self._create_fleet()</span><br><span class="line">        self.ship.center_ship()</span><br><span class="line">        <span class="comment"># æš‚åœ</span></span><br><span class="line">        sleep(<span class="number">0.5</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        self.stats.game_active = <span class="literal">False</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_game</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;å¼€å§‹æ¸¸æˆçš„ä¸»å¾ªç¯&#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="comment"># ç›‘è§†é”®ç›˜å’Œé¼ æ ‡äº‹ä»¶</span></span><br><span class="line">        self._check_events()</span><br><span class="line">        <span class="comment"># æ›´æ–°å±å¹•</span></span><br><span class="line">        <span class="keyword">if</span> self.stats.game_active:</span><br><span class="line">            self.ship.update()</span><br><span class="line">            <span class="comment"># self.bullets.update()</span></span><br><span class="line">            self._updata_bullets()</span><br><span class="line">            self._update_screen()</span><br><span class="line">            self._update_aliens()</span><br><span class="line">            <span class="comment"># for bullet in self.bullets.copy():</span></span><br><span class="line">            <span class="comment">#     if bullet.rect.bottom &lt;= 0:</span></span><br><span class="line">            <span class="comment">#         self.bullets.remove(bullet)</span></span><br></pre></td></tr></table></figure><p>å…ˆå†™åˆ°è¿™é‡Œ,åé¢å†è¡¥</p><p><a href="https://github.com/drowning-in-codes/pygame.git">https://github.com/drowning-in-codes/pygame.git</a></p><p>githubåœ°å€</p>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> pygame </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitå­¦ä¹ </title>
      <link href="2021/08/10/Git%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/08/10/Git%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Gitå­¦ä¹ "><a href="#Gitå­¦ä¹ " class="headerlink" title="Gitå­¦ä¹ "></a>Gitå­¦ä¹ </h1><p>æˆ‘çš„æ„Ÿè§‰å°±æ˜¯å¯ä»¥æŠŠä»£ç ä¿å­˜åˆ°ä¸€ä¸ªåœ°æ–¹,ä¾›è‡ªå·±å’Œå›¢é˜Ÿä¿®æ”¹</p><span id="more"></span><p>Git æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚</p><p>Git æ˜¯ Linus Torvalds ä¸ºäº†å¸®åŠ©ç®¡ç† Linux å†…æ ¸å¼€å‘è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚</p><p>Git ä¸å¸¸ç”¨çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…· CVS, Subversion ç­‰ä¸åŒï¼Œå®ƒé‡‡ç”¨äº†åˆ†å¸ƒå¼ç‰ˆæœ¬åº“çš„æ–¹å¼ï¼Œä¸å¿…æœåŠ¡å™¨ç«¯è½¯ä»¶æ”¯æŒã€‚</p><p>ä¸€èˆ¬å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>å…‹éš† Git èµ„æºä½œä¸ºå·¥ä½œç›®å½•ã€‚</li><li>åœ¨å…‹éš†çš„èµ„æºä¸Šæ·»åŠ æˆ–ä¿®æ”¹æ–‡ä»¶ã€‚</li><li>å¦‚æœå…¶ä»–äººä¿®æ”¹äº†ï¼Œä½ å¯ä»¥æ›´æ–°èµ„æºã€‚</li><li>åœ¨æäº¤å‰æŸ¥çœ‹ä¿®æ”¹ã€‚</li><li>æäº¤ä¿®æ”¹ã€‚</li><li>åœ¨ä¿®æ”¹å®Œæˆåï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œå¯ä»¥æ’¤å›æäº¤å¹¶å†æ¬¡ä¿®æ”¹å¹¶æäº¤ã€‚</li></ul><h2 id="1-åŸºæœ¬æ¦‚å¿µ"><a href="#1-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1.åŸºæœ¬æ¦‚å¿µ"></a>1.åŸºæœ¬æ¦‚å¿µ</h2><ul><li><strong>å·¥ä½œåŒºï¼š</strong>å°±æ˜¯ä½ åœ¨ç”µè„‘é‡Œèƒ½çœ‹åˆ°çš„ç›®å½•ã€‚</li><li><strong>æš‚å­˜åŒºï¼š</strong>è‹±æ–‡å« stage æˆ– indexã€‚ä¸€èˆ¬å­˜æ”¾åœ¨ <strong>.git</strong> ç›®å½•ä¸‹çš„ index æ–‡ä»¶ï¼ˆ.git/indexï¼‰ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠæš‚å­˜åŒºæœ‰æ—¶ä¹Ÿå«ä½œç´¢å¼•ï¼ˆindexï¼‰ã€‚</li><li><strong>ç‰ˆæœ¬åº“ï¼š</strong>å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½• <strong>.git</strong>ï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯ Git çš„ç‰ˆæœ¬åº“ã€‚</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/093538.png" alt="image-20210720214140606"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line"><span class="meta">#</span><span class="bash">ä½¿ç”¨å½“å‰ç›®å½•,åˆå§‹åŒ–ä¸€ä¸ªGitä»“åº“</span></span><br><span class="line">git init newrepo</span><br><span class="line"><span class="meta">#</span><span class="bash">æŒ‡å®šç›®å½•</span></span><br><span class="line">git clone &lt;repo&gt;#å…‹éš†ä¸€ä¸ªä»“åº“</span><br><span class="line">git clone &lt;repo&gt; &lt;directory&gt;#å°†ä»“åº“å…‹éš†åˆ°ä¸€ä¸ªæŒ‡å®šç›®å½•</span><br><span class="line">git config#gitè®¾ç½®ä¿¡æ¯</span><br><span class="line">git config--global user.name &quot;runoob&quot;</span><br><span class="line">git config --global user.email test@run</span><br></pre></td></tr></table></figure><p>HEAD æ€»æ˜¯æŒ‡å‘å½“å‰åˆ†æ”¯ä¸Šæœ€è¿‘ä¸€æ¬¡æäº¤è®°å½•ã€‚å¤§å¤šæ•°ä¿®æ”¹æäº¤æ ‘çš„ Git å‘½ä»¤éƒ½æ˜¯ä»æ”¹å˜ HEAD çš„æŒ‡å‘å¼€å§‹çš„ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/093539.png" alt="image-20210801131105094"></p><p>git statusæŸ¥çœ‹ä»“åº“çŠ¶æ€,æŸ¥çœ‹å·¥ä½œåŒºæœ‰æ— æ›´æ–°ä¸æœªè¢«è¿½è¸ªçš„æ–‡ä»¶</p><p><img data-src="http://cdn.sekyoro.top/imgs/093543.png" alt="image-20210801135729377"></p><p>ä¿®æ”¹åè¿˜æœªgit addæ›´æ–°åˆ°æš‚å­˜åŒº(stage)ä»¥åŠè¿˜æœªtrackçš„æ–‡ä»¶ä½¿ç”¨git addæ·»åŠ </p><p>git log æŸ¥çœ‹æäº¤æ—¥å¿— æŸ¥çœ‹æäº¤çš„ä¿¡æ¯ messageä¸æäº¤äººä»¥åŠæ—¶é—´ åœ¨åé¢åŠ ä¸ŠæŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•å¯ä»¥åªæ˜¾ç¤ºæ‰€è¦æ±‚çš„ä¿¡æ¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/093545.png" alt="image-20210801131231033"></p><p>commitæ—æ˜¯ä¸€ä¸²å“ˆå¸Œå€¼</p><p>git log -p æŸ¥çœ‹æäº¤å¸¦æ¥çš„å˜åŠ¨,æ–‡ä»¶å‰åçš„å·®åˆ«</p><p>git diff æŸ¥çœ‹å·¥ä½œæ ‘,æš‚å­˜åŒº,æœ€æ–°æäº¤ä¹‹é—´çš„å·®åˆ«</p><p><img data-src="http://cdn.sekyoro.top/imgs/093552.png" alt="image-20210801132603359"></p><p>+è¡¨ç¤ºå¢åŠ ä¸€è¡Œ  -è¡¨ç¤ºå‡å°‘ä¸€è¡Œ</p><p>æäº¤å,è¾“å…¥git diffæ²¡æœ‰è¾“å‡º å› ä¸ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºæ— å·®åˆ«</p><p>è‹¥è¦æŸ¥çœ‹ä¸æœ€æ–°æäº¤çš„å·®åˆ«,éœ€è¦git diff HEAD</p><p><img data-src="http://cdn.sekyoro.top/imgs/093554.png" alt="image-20210801134601328"></p><p>å¯ä»¥åœ¨git commitä¹‹å‰å…ˆæ‰§è¡Œgit diff HEADæŸ¥çœ‹å·¥ä½œåŒºä¸æœ€æ–°æäº¤çš„å·®åˆ«,ç­‰ç¡®è®¤ç©åˆ«å†è¿›è¡Œæäº¤</p><p>HEADæŒ‡å‘å½“å‰åˆ†æ”¯ä¸­æœ€æ–°ä¸€æ¬¡æäº¤çš„æŒ‡é’ˆ</p><h2 id="åˆ†æ”¯æ“ä½œ"><a href="#åˆ†æ”¯æ“ä½œ" class="headerlink" title="åˆ†æ”¯æ“ä½œ"></a>åˆ†æ”¯æ“ä½œ</h2><p>masteråˆ†æ”¯æ˜¯Gité»˜è®¤åˆ›å»ºçš„åˆ†æ”¯,æ‰€æœ‰åˆ†æ”¯éƒ½æ˜¯ä»¥è¿™ä¸ªåˆ†æ”¯ä¸ºä¸­å¿ƒè¿›è¡Œ</p><p>git branchæ˜¾ç¤ºåˆ†æ”¯</p><p><img data-src="http://cdn.sekyoro.top/imgs/093555.png" alt="image-20210801140430235"></p><p>*å·è¡¨ç¤ºå½“å‰åˆ†æ”¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b A åˆ›å»º,åˆ‡æ¢åˆ†æ”¯  #-bè¡¨ç¤ºåˆ›å»º</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šä¸è€…ä¸¤æ¡æŒ‡ä»¤ä½œç”¨ç›¸åŒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git branch A#chuangjian</span><br><span class="line"></span><br><span class="line">git checkout A #è½¬åˆ°A</span><br><span class="line"></span><br><span class="line">git checkout -  #åˆ‡æ¢åˆ°ä¸Šæ¬¡çš„åˆ†æ”¯</span><br></pre></td></tr></table></figure><p>ä»¥å½“å‰çš„masteråˆ†æ”¯ä¸ºåŸºç¡€åˆ›å»ºæ–°çš„åˆ†æ”¯</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m  <span class="string">&quot;feature-A&quot;</span> <span class="comment">#æäº¤</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œgit addå°±ä¼šå°†ä»£ç æäº¤åˆ°Aåˆ†æ”¯,è€Œmasteråˆ†æ”¯ä¸ä¼šå—å½±å“.è¿™æ ·å¯ä»¥åœ¨ä¸äº’ç›¸å½±å“çš„æƒ…å†µä¸‹åŒæ—¶è¿›è¡Œå¤šä¸ªåŠŸèƒ½çš„å¼€å‘</p><p><img data-src="http://cdn.sekyoro.top/imgs/093556.png" alt="image-20210801142740455"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge #    åˆå¹¶åˆ†æ”¯ </span><br></pre></td></tr></table></figure><p>å°†åˆ†æ”¯åˆå¹¶åˆ°ä¸»å¹²åˆ†æ”¯masterä¸­,é¦–å…ˆåˆ‡æ¢åˆ°masteråˆ†æ”¯.ä¸ºäº†åœ¨å†å²è®°å½•ä¸­æ˜ç¡®è®°å½•ä¸‹æœ¬æ¬¡åˆ†æ”¯åˆå¹¶,æˆ‘ä»¬éœ€è¦åˆ›å»ºåˆå¹¶æäº¤.åœ¨åˆå¹¶æ—¶åŠ ä¸Šâ€”no-ffå‚æ•°éšåå½•å…¥åˆå¹¶æäº¤çš„ä¿¡æ¯</p><p>é»˜è®¤ä¿¡æ¯ä¸­å·²ç»åŒ…å«äº†æ˜¯ä»feature-Aåˆ†æ”¯åˆå¹¶è¿‡æ¥çš„ç›¸å…³å†…å®¹,æ‰€ä»¥å¯ä¸åšä»»ä½•æ›´æ”¹</p><p>fast-forward</p><p>Git åˆå¹¶ä¸¤ä¸ªåˆ†æ”¯æ—¶ï¼Œå¦‚æœé¡ºç€ä¸€ä¸ªåˆ†æ”¯èµ°ä¸‹å»å¯ä»¥åˆ°è¾¾å¦ä¸€ä¸ªåˆ†æ”¯çš„è¯ï¼Œé‚£ä¹ˆ Git åœ¨åˆå¹¶ä¸¤è€…æ—¶ï¼Œåªä¼šç®€å•åœ°æŠŠæŒ‡é’ˆå³ç§»ï¼Œå«åšâ€œå¿«è¿›â€ï¼ˆfast-forwardï¼‰ä¸è¿‡è¿™ç§æƒ…å†µå¦‚æœåˆ é™¤åˆ†æ”¯ï¼Œåˆ™ä¼šä¸¢å¤±mergeåˆ†æ”¯ä¿¡æ¯ã€‚</p><p>â€“squash</p><p>æŠŠä¸€äº›ä¸å¿…è¦commitè¿›è¡Œå‹ç¼©ï¼Œæ¯”å¦‚è¯´ï¼Œä½ çš„featureåœ¨å¼€å‘çš„æ—¶å€™å†™çš„commitå¾ˆä¹±ï¼Œé‚£ä¹ˆæˆ‘ä»¬åˆå¹¶çš„æ—¶å€™ä¸å¸Œæœ›æŠŠè¿™äº›å†å²commitå¸¦è¿‡æ¥ï¼Œäºæ˜¯ä½¿ç”¨â€“squashè¿›è¡Œåˆå¹¶ï¼Œæ­¤æ—¶æ–‡ä»¶å·²ç»åŒåˆå¹¶åä¸€æ ·äº†ï¼Œä½†ä¸ç§»åŠ¨HEADï¼Œä¸æäº¤ã€‚éœ€è¦è¿›è¡Œä¸€æ¬¡é¢å¤–çš„commitæ¥â€œæ€»ç»“â€ä¸€ä¸‹ï¼Œç„¶åå®Œæˆæœ€ç»ˆçš„åˆå¹¶ã€‚</p><p>â€“no-ff</p><p>å…³é—­fast-forwardæ¨¡å¼ï¼Œåœ¨æäº¤çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªmergeçš„commitä¿¡æ¯ï¼Œç„¶ååˆå¹¶çš„å’Œmasteråˆ†æ”¯<br> mergeçš„ä¸åŒè¡Œä¸ºï¼Œå‘åçœ‹ï¼Œå…¶å®æœ€ç»ˆéƒ½ä¼šå°†ä»£ç åˆå¹¶åˆ°masteråˆ†æ”¯ï¼Œè€ŒåŒºåˆ«ä»…ä»…åªæ˜¯åˆ†æ”¯ä¸Šçš„ç®€æ´æ¸…æ™°çš„é—®é¢˜ï¼Œç„¶åï¼Œå‘å‰çœ‹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä½¿ç”¨<code>reset</code> çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç°ï¼Œä¸åŒçš„è¡Œä¸ºå°±å¸¦æ¥äº†ä¸åŒçš„å½±å“</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --graph  <span class="comment">#ä»¥å›¾è¡¨å½¢å¼æŸ¥çœ‹æäº¤</span></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093557.png" alt="image-20210801150741989"></p><h2 id="æ›´æ”¹æäº¤"><a href="#æ›´æ”¹æäº¤" class="headerlink" title="æ›´æ”¹æäº¤"></a>æ›´æ”¹æäº¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset #å›æº¯å†å²ç‰ˆæœ¬</span><br></pre></td></tr></table></figure><p>è¦è®©ä»“åº“çš„headï¼Œæš‚å­˜åŒºä¸å½“å‰å·¥ä½œæ ‘å›æº¯åˆ°ä¹‹å‰çŠ¶æ€,éœ€è¦ç”¨åˆ°git reset â€”hard æä¾›ç›®æ ‡æ—¶é—´ç‚¹çš„å“ˆå¸Œå€¼å°±å¯ä»¥å®Œå…¨æ¢å¤è‡³æ”¹æ—¶é—´ç‚¹çš„çŠ¶æ€</p><p>å›æº¯è‡³ä¹‹å‰çŠ¶æ€å,åˆ©ç”¨git reflogå¯ä»¥å‰æ¨</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend <span class="comment">#å¯ä»¥ä¿®æ”¹ä¸Šä¸€æ¡æäº¤ä¿¡æ¯</span></span><br><span class="line">git commit -am <span class="string">&quot;&quot;</span> <span class="comment">#ä¸ç”¨addç›´æ¥æäº¤</span></span><br><span class="line">git rebase -i HEAD~2 <span class="comment">#åˆå¹¶å†å²  é€‰å®šå½“å‰åˆ†æ”¯åŒ…å«HEADåœ¨å†…çš„ä¸¤ä¸ªæœ€æ–°å†å²è®°å½•</span></span><br></pre></td></tr></table></figure><p><a href="https://learngitbranching.js.org/?locale=zh_CN">Learn Git Branching</a></p><p>1)ã€åœ¨æœ¬åœ°åˆ›å»ºä¸€ä¸ªç‰ˆæœ¬åº“ï¼ˆå³æ–‡ä»¶å¤¹ï¼‰ï¼Œé€šè¿‡<code>git init</code>æŠŠå®ƒå˜æˆGitä»“åº“ï¼›</p><p>2)ã€æŠŠé¡¹ç›®å¤åˆ¶åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ï¼Œå†é€šè¿‡<code>git add .</code>æŠŠé¡¹ç›®æ·»åŠ åˆ°ä»“åº“ï¼›</p><p>3)ã€å†é€šè¿‡<code>git commit -m &quot;æ³¨é‡Šå†…å®¹&quot;</code>æŠŠé¡¹ç›®æäº¤åˆ°ä»“åº“ï¼›</p><p>4)ã€åœ¨Githubä¸Šè®¾ç½®å¥½SSHå¯†é’¥åï¼Œæ–°å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œé€šè¿‡<code>git remote add origin è¿œç¨‹ä»“åº“åœ°å€</code>å°†æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“è¿›è¡Œå…³è”ï¼›</p><p>5)ã€æœ€åé€šè¿‡<code>git push -u origin master</code>æŠŠæœ¬åœ°ä»“åº“çš„é¡¹ç›®æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼ˆä¹Ÿå°±æ˜¯Githubï¼‰ä¸Šã€‚</p><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><h3 id="å·¥ä½œæµ"><a href="#å·¥ä½œæµ" class="headerlink" title="å·¥ä½œæµ"></a>å·¥ä½œæµ</h3><p>1.git clone // åˆ°æœ¬åœ°<br>2.git checkout -b xxx åˆ‡æ¢è‡³æ–°åˆ†æ”¯xxx<br>ï¼ˆç›¸å½“äºå¤åˆ¶äº†remoteçš„ä»“åº“åˆ°æœ¬åœ°çš„xxxåˆ†æ”¯ä¸Š<br>3.ä¿®æ”¹æˆ–è€…æ·»åŠ æœ¬åœ°ä»£ç ï¼ˆéƒ¨ç½²åœ¨ç¡¬ç›˜çš„æºæ–‡ä»¶ä¸Šï¼‰<br>4.git diff æŸ¥çœ‹è‡ªå·±å¯¹ä»£ç åšå‡ºçš„æ”¹å˜<br>5.git add ä¸Šä¼ æ›´æ–°åçš„ä»£ç è‡³æš‚å­˜åŒº<br>6.git commit å¯ä»¥å°†æš‚å­˜åŒºé‡Œæ›´æ–°åçš„ä»£ç æ›´æ–°åˆ°æœ¬åœ°git<br>7.git push origin xxx å°†æœ¬åœ°çš„xxxgitåˆ†æ”¯ä¸Šä¼ è‡³githubä¸Šçš„git<br>ï¼ˆå¦‚æœåœ¨å†™è‡ªå·±çš„ä»£ç è¿‡ç¨‹ä¸­å‘ç°è¿œç«¯GitHubä¸Šä»£ç å‡ºç°æ”¹å˜ï¼‰<br>1.git checkout main åˆ‡æ¢å›mainåˆ†æ”¯<br>2.git pull origin master(main) å°†è¿œç«¯ä¿®æ”¹è¿‡çš„ä»£ç å†æ›´æ–°åˆ°æœ¬åœ°<br>3.git checkout xxx å›åˆ°xxxåˆ†æ”¯<br>4.git rebase main æˆ‘åœ¨xxxåˆ†æ”¯ä¸Šï¼Œå…ˆæŠŠmainç§»è¿‡æ¥ï¼Œç„¶åæ ¹æ®æˆ‘çš„commitæ¥ä¿®æ”¹æˆæ–°çš„å†…å®¹<br>ï¼ˆä¸­é€”å¯èƒ½ä¼šå‡ºç°ï¼Œrebase conflict æ‰‹åŠ¨é€‰æ‹©ä¿ç•™å“ªæ®µä»£ç ï¼‰<br>5.git push -f origin xxx æŠŠrebaseåå¹¶ä¸”æ›´æ–°è¿‡çš„ä»£ç å†pushåˆ°è¿œç«¯githubä¸Š<br>ï¼ˆ-f  å¼ºè¡Œï¼‰<br>6.åŸé¡¹ç›®ä¸»äººé‡‡ç”¨pull request ä¸­çš„ squash and merge åˆå¹¶æ‰€æœ‰ä¸åŒçš„commit<br>è¿œç«¯å®Œæˆæ›´æ–°å<br>1.git branch -d xxx åˆ é™¤æœ¬åœ°çš„gitåˆ†æ”¯<br>2.git pull origin master å†æŠŠè¿œç«¯çš„æœ€æ–°ä»£ç æ‹‰è‡³æœ¬åœ°</p><h3 id="gitçš„æ’¤é”€æ“ä½œ"><a href="#gitçš„æ’¤é”€æ“ä½œ" class="headerlink" title="gitçš„æ’¤é”€æ“ä½œ"></a>gitçš„æ’¤é”€æ“ä½œ</h3><p>gitåˆ†ä¸ºDisk,staging,local,remote.</p><p>git restore(git checkout),git reset(git restore â€”staged),git revert HEAD.</p><p>åœ¨ç£ç›˜ä¸Šæ–‡ä»¶ä¿®æ”¹å,git diffæŸ¥çœ‹å·®åˆ«,git statusæŸ¥çœ‹çŠ¶æ€.è¦æ’¤é”€ç£ç›˜ä¸Šçš„æ”¹åŠ¨,git restore <file_name>æ’¤é”€.</p><p>git addæäº¤åˆ°æš‚å­˜åŒº,git statusçŠ¶æ€æ”¹å˜,è¦æ’¤é”€git reset <file_name>æˆ–git restore â€”staged <file_name>.</p><p>è‹¥è¿˜è¦æ’¤é”€ç£ç›˜ä¸Šçš„ä¿®æ”¹ä»¥åŠæš‚å­˜åŒº,git checkout HEAD <file_name>.</p><p>git commitæäº¤åˆ°æœ¬åœ°git,git reset â€”soft HEAD~1 å›é€€ä¸€ä¸ªcommit. git reset HEAD~1å›é€€ä¸€ä¸ªcommitä»¥åŠæš‚å­˜åŒºå›é€€,åªä¿ç•™ç£ç›˜ä¿®æ”¹,git reset â€”hard HEAD~1ç£ç›˜ä¿®æ”¹ä¹Ÿä¼šé€€. git revert HEADå¢åŠ ä¸€ä¸ªcommitä¸ä¹‹å‰çš„commitç›¸å,ç”¨äºä¸»åˆ†æ”¯.</p><p>git pushæ¨é€åˆ°è¿œç¨‹</p><p><a href="http://www.ruanyifeng.com/blog/2015/08/git-use-process.html">Git ä½¿ç”¨è§„èŒƒæµç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— (ruanyifeng.com)</a></p><p><a href="http://www.ruanyifeng.com/blog/2015/12/git-workflow.html">Git å·¥ä½œæµç¨‹ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— (ruanyifeng.com)</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå¤šçº¿ç¨‹å­¦ä¹ </title>
      <link href="2021/07/31/Python%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%AD%A6%E4%B9%A0/"/>
      <url>2021/07/31/Python%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Pythonå¤šçº¿ç¨‹å­¦ä¹ "><a href="#Pythonå¤šçº¿ç¨‹å­¦ä¹ " class="headerlink" title="Pythonå¤šçº¿ç¨‹å­¦ä¹ "></a>Pythonå¤šçº¿ç¨‹å­¦ä¹ </h1><p>åœ¨ä½¿ç”¨tkinterè¿‡ç¨‹ä¸­,è°ƒç”¨ä¸€ä¸ªå‡½æ•°å‘ç°ä¸»ç•Œé¢é•¿æ—¶é—´æœªå“åº”,åŸå› æ˜¯è¿™ä¸ªå‡½æ•°å ç”¨å¤ªé•¿æ—¶é—´.ç•Œé¢å¡æ­»,è¿™é‡Œåº”è¯¥è¦ç”¨å¤šçº¿ç¨‹è§£å†³</p><span id="more"></span><ul><li>ä½¿ç”¨çº¿ç¨‹å¯ä»¥æŠŠå æ®é•¿æ—¶é—´çš„ç¨‹åºä¸­çš„ä»»åŠ¡æ”¾åˆ°åå°å»å¤„ç†ã€‚</li><li>ç”¨æˆ·ç•Œé¢å¯ä»¥æ›´åŠ å¸å¼•äººï¼Œæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»äº†ä¸€ä¸ªæŒ‰é’®å»è§¦å‘æŸäº›äº‹ä»¶çš„å¤„ç†ï¼Œå¯ä»¥å¼¹å‡ºä¸€ä¸ªè¿›åº¦æ¡æ¥æ˜¾ç¤ºå¤„ç†çš„è¿›åº¦ã€‚</li><li>ç¨‹åºçš„è¿è¡Œé€Ÿåº¦å¯èƒ½åŠ å¿«ã€‚</li><li>åœ¨ä¸€äº›ç­‰å¾…çš„ä»»åŠ¡å®ç°ä¸Šå¦‚ç”¨æˆ·è¾“å…¥ã€æ–‡ä»¶è¯»å†™å’Œç½‘ç»œæ”¶å‘æ•°æ®ç­‰ï¼Œçº¿ç¨‹å°±æ¯”è¾ƒæœ‰ç”¨äº†ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥é‡Šæ”¾ä¸€äº›çè´µçš„èµ„æºå¦‚å†…å­˜å ç”¨ç­‰ç­‰ã€‚</li></ul><p><img data-src="http://cdn.sekyoro.top/imgs/093007.png" alt="image-20210730190703000"></p><p>è¿™é‡Œä½¿ç”¨threadingæ¨¡å—è§£å†³</p><p><img data-src="http://cdn.sekyoro.top/imgs/093009.png" alt="image-20210730191254448"></p><p>åˆ›å»ºå­çº¿ç¨‹,éœ€è¦ä¸¤ä¸ªè¦ç´ </p><p>1.çº¿ç¨‹å¯¹è±¡:çº¿ç¨‹å¯¹è±¡æ˜¯threadingæ¨¡å—çš„çº¿ç¨‹ç±»Threadæˆ–å­ç±»</p><p>2.çº¿ç¨‹ä½“:çº¿ç¨‹ä½“æ˜¯å­çº¿ç¨‹è¦æ‰§è¡Œçš„ä»£ç ,è¿™äº›ä»£ç ä¼šè¢«å°è£…åˆ°ä¸€ä¸ªå‡½æ•°.å­çº¿ç¨‹åœ¨å¯åŠ¨åä¼šæ‰§è¡Œçº¿ç¨‹ä½“.å®ç°çº¿ç¨‹ä½“ä¸»è¦æœ‰:</p><ol><li>è‡ªå®šä¹‰å‡½æ•°å®ç°çº¿ç¨‹ä½“</li><li>è‡ªå®šä¹‰çº¿ç¨‹ç±»å®ç°çº¿ç¨‹ä½“</li></ol><h2 id="è‡ªå®šä¹‰å‡½æ•°å®ç°çº¿ç¨‹ä½“"><a href="#è‡ªå®šä¹‰å‡½æ•°å®ç°çº¿ç¨‹ä½“" class="headerlink" title="è‡ªå®šä¹‰å‡½æ•°å®ç°çº¿ç¨‹ä½“"></a>è‡ªå®šä¹‰å‡½æ•°å®ç°çº¿ç¨‹ä½“</h2><p>åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„æ„é€ æ–¹æ³•</p><p>Thread(target=None,name=None,args=())</p><p><img data-src="http://cdn.sekyoro.top/imgs/093010.png" alt="image-20210730193033951"></p><p>æ³¨æ„  Threadè¿˜æœ‰daemonå±æ€§,å®ˆæŠ¤è¿›ç¨‹,é»˜è®¤ä¸ºFalse</p><p>å³ä¸»çº¿ç¨‹è‹¥è¿è¡Œå®Œåå­çº¿ç¨‹è¿˜æœªè¿è¡Œå®Œ,åˆ™å­çº¿ç¨‹å°†ç»§ç»­è¿è¡Œ</p><p>è®¾ç½®ä¸ºTrueåä¸»çº¿ç¨‹è¿è¡Œå®Œ,å­çº¿ç¨‹ä¹Ÿå°†è¢«kill</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">thread = threading.Thread(target=test,name=<span class="string">&#x27;TestThread&#x27;</span>,daemon=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰çº¿ç¨‹ç±»å®ç°çº¿ç¨‹ä½“"><a href="#è‡ªå®šä¹‰çº¿ç¨‹ç±»å®ç°çº¿ç¨‹ä½“" class="headerlink" title="è‡ªå®šä¹‰çº¿ç¨‹ç±»å®ç°çº¿ç¨‹ä½“"></a>è‡ªå®šä¹‰çº¿ç¨‹ç±»å®ç°çº¿ç¨‹ä½“</h2><p>ç»§æ‰¿threading.Thread,å®ç°runæ–¹æ³•</p><p><img data-src="http://cdn.sekyoro.top/imgs/093012.png" alt="image-20210730194648097"></p><h2 id="çº¿ç¨‹ç®¡ç†"><a href="#çº¿ç¨‹ç®¡ç†" class="headerlink" title="çº¿ç¨‹ç®¡ç†"></a>çº¿ç¨‹ç®¡ç†</h2><h3 id="1-ç­‰å¾…çº¿ç¨‹ç»“æŸ"><a href="#1-ç­‰å¾…çº¿ç¨‹ç»“æŸ" class="headerlink" title="1.ç­‰å¾…çº¿ç¨‹ç»“æŸ"></a>1.ç­‰å¾…çº¿ç¨‹ç»“æŸ</h3><p><strong>join([time]):</strong> ç­‰å¾…è‡³çº¿ç¨‹ä¸­æ­¢ã€‚è¿™é˜»å¡è°ƒç”¨çº¿ç¨‹ç›´è‡³çº¿ç¨‹çš„join() æ–¹æ³•è¢«è°ƒç”¨ä¸­æ­¢-æ­£å¸¸é€€å‡ºæˆ–è€…æŠ›å‡ºæœªå¤„ç†çš„å¼‚å¸¸-æˆ–è€…æ˜¯å¯é€‰çš„è¶…æ—¶å‘ç”Ÿ</p><p>æœ‰æ—¶ä¸€ä¸ªçº¿ç¨‹éœ€è¦ç­‰å¾…å¦å¤–ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç»“æŸæ‰èƒ½ç»§ç»­æ‰§è¡Œ</p><p>join()</p><p><img data-src="http://cdn.sekyoro.top/imgs/093014.png" alt="image-20210730195311797"></p><h2 id="çº¿ç¨‹é—´è¿˜æœ‰é€šä¿¡"><a href="#çº¿ç¨‹é—´è¿˜æœ‰é€šä¿¡" class="headerlink" title="çº¿ç¨‹é—´è¿˜æœ‰é€šä¿¡"></a>çº¿ç¨‹é—´è¿˜æœ‰é€šä¿¡</h2><p>çº¿ç¨‹å¯ä»¥åˆ©ç”¨å…¨å±€å˜é‡,å› æ­¤å®¹æ˜“é€ æˆæ··ä¹±</p><p>äº’æ–¥é”</p><p>threadingæ¨¡å—æœ‰Lockç±»å¯ä»¥æ–¹ä¾¿å¤„ç†é”å®š</p><p>Lockç±»æœ‰acquire()é”å®šå’Œrelease()é‡Šæ”¾é”</p><p>åŒæ—¶è¿˜æœ‰Queueé˜Ÿåˆ—</p><p>è¿™é‡Œå°±ä¸ç»†è¯´äº†</p><p>ç›¸å…³èµ„æ–™:<a href="https://www.runoob.com/python3/python3-multithreading.html">Python3 å¤šçº¿ç¨‹</a></p><p>â€‹    <a href="https://guo-pu.blog.csdn.net/article/details/86707216?utm_medium=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-2.nonecase&amp;depth_1-utm_source=distribute.pc_relevant_bbs_down.none-task-blog-baidujs-2.nonecase">python tkinterç•Œé¢å¡æ­»çš„è§£å†³åŠæ³•</a></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> threading </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tkinter+requestsç»ƒä¹ </title>
      <link href="2021/07/31/tkinter-requests%E7%BB%83%E4%B9%A0/"/>
      <url>2021/07/31/tkinter-requests%E7%BB%83%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>æƒ³ç”¨tkinterå†™ä¸ªæ¡Œé¢ç¨‹åº</p><span id="more"></span><p>tkinterå‚è€ƒèµ„æ–™ä¸»è¦æœ‰å®˜æ–¹æ–‡æ¡£,è¿˜æœ‰ä¸€æœ¬å°æ¹¾äººå†™çš„ä¹¦tkinterèœé¸Ÿç¼–ç¨‹.æ­¤å¤–è¿˜æœ‰ä¸€å †æŠ„æ¥æŠ„å»çš„ä¹¦.æˆ‘è§‰å¾—åªè¦å¤šç»ƒå°±è¡Œäº†,çœ‹çœ‹å®˜æ–¹å†™çš„ä»£ç </p><p>ä¸»è¦è§£å†³é—®é¢˜:</p><ol><li>tkinterçš„æ§ä»¶å¸ƒå±€.æ•´æ´å¥½çœ‹,ä¸è¿‡è¿™å¹¶ä¸æ˜¯æœ€é‡è¦çš„</li><li>è°ƒç”¨ç¨‹åº,è§¦å‘ä¸€ä¸ªé€‰é¡¹åè¦æœ‰è°ƒç”¨çš„å‡½æ•°</li><li>å¤šçº¿ç¨‹.ä¸ç„¶ç•Œé¢ä¼šå‡ºç°æœªå“åº”</li></ol><p>ä¸€äº›å°é—®é¢˜  æ§ä»¶çš„å¤§å°,å­—ä½“é¢œè‰²ä¸å¤§å°   åˆ©ç”¨pythonæ‰“å¼€èµ„æºç®¡ç†å™¨<a href="https://my.oschina.net/famiover/blog/783289">Pythonè°ƒWindowsçš„èµ„æºç®¡ç†å™¨æ‰“å¼€æŒ‡å®šç›®å½• - famiover - OSCHINA - ä¸­æ–‡å¼€æºæŠ€æœ¯äº¤æµç¤¾åŒº</a></p><h2 id="1-å¸ƒå±€é—®é¢˜"><a href="#1-å¸ƒå±€é—®é¢˜" class="headerlink" title="1.å¸ƒå±€é—®é¢˜"></a>1.å¸ƒå±€é—®é¢˜</h2><p>tkinterå¸ƒå±€ä¸€èˆ¬,ä¸åƒPyQtæ‹–æ‹½å¼é‚£æ ·ç®€å•.</p><p>ä¸€èˆ¬ç”¨åˆ°çš„æ§ä»¶Label,Entry,Button,messagebox,menu,text,toplevel(æ‰“å¼€æ–°çª—å£)</p><p>åƒæŒ‰é’®å•¥çš„æš‚æ—¶ç”¨ä¸ä¸Š</p><p>åŒæ—¶è¿˜æœ‰æ·»åŠ å›¾åƒæ—¶æœ‰æ—¶å›¾ç‰‡å¤ªå¤§,å¯ä»¥åˆ©ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">photo = Image.<span class="built_in">open</span>(<span class="string">&quot;å°çŒ«.jpg&quot;</span>)  <span class="comment">#æ‹¬å·é‡Œä¸ºéœ€è¦æ˜¾ç¤ºåœ¨å›¾å½¢åŒ–ç•Œé¢é‡Œçš„å›¾ç‰‡</span></span><br><span class="line">   </span><br><span class="line">photo = photo.resize((<span class="number">400</span>,<span class="number">400</span>))  <span class="comment">#è§„å®šå›¾ç‰‡å¤§å°</span></span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/qq_45687410/article/details/109103338">python ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢tkinteræ˜¾ç¤ºå›¾ç‰‡ è§„å®šå¤§å°ï¼_åœ°ä¸­æµ·çš„åšå®¢-CSDNåšå®¢_tkinterè®¾ç½®å›¾ç‰‡å¤§å°</a></p><h2 id="2-è°ƒç”¨ç¨‹åº"><a href="#2-è°ƒç”¨ç¨‹åº" class="headerlink" title="2.è°ƒç”¨ç¨‹åº"></a>2.è°ƒç”¨ç¨‹åº</h2><p>tkinterä¸¤ç§æ–¹æ³•</p><p>commandè°ƒç”¨ä¸bindç»‘å®š</p><p>ä¸è¿‡æˆ‘å‘ç°</p><p>æ§ä»¶command=callbackä¼ å‚ä¸æ–¹ä¾¿,åªèƒ½åˆ©ç”¨     </p><ol><li><p>lambdaå‡½æ•° </p></li><li><p>IntVar() StringVar()ç­‰è¿™ç§å˜é‡è®¾ç½®</p></li></ol><p>è€Œbindä¼šä¼ ä¸€ä¸ªå‚æ•°event</p><p>å¯ä»¥å¾—åˆ°ç›¸å…³å‚æ•°(ä¾‹å¦‚é¼ æ ‡ç‚¹å‡»ä½ç½®å•¥çš„)</p><p>å»ºè®®ä¸€ä¸ªç©ºé—´ä¸è¦åŒæ—¶ç”¨è¿™ä¸¤ä¸ªè°ƒç”¨</p><h2 id="3-å¤šçº¿ç¨‹"><a href="#3-å¤šçº¿ç¨‹" class="headerlink" title="3.å¤šçº¿ç¨‹"></a>3.å¤šçº¿ç¨‹</h2><p>ä¸»è¦æ˜¯è¦å°†æ¡Œé¢ä¸»ç¨‹åºä¸çˆ¬è™«ç­‰ç¨‹åºåˆ†å¼€</p><p>ä¸Šæ¬¡è®²äº†pythonå¤šçº¿ç¨‹åˆ©ç”¨threadingæ¨¡å—çš„ä¸¤ç§å†™æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> thread</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mythread</span>(<span class="params">threading.Thread</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(name=name)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">            n = threading.currentThread()</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;ç°åœ¨æ˜¯&#123;0&#125;çš„ç¬¬&#123;1&#125;æ¬¡&quot;</span>.<span class="built_in">format</span>(n.name,i))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å­çº¿ç¨‹æ‰§è¡Œå®Œäº†&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    mythread = Mythread(<span class="string">&quot;å¼ ä¸‰&quot;</span>)</span><br><span class="line">    mythread.setDaemon(<span class="literal">True</span>) <span class="comment">#å®ˆæŠ¤çº¿ç¨‹,å½“ä¸»çº¿ç¨‹æ‰§è¡Œå®Œå,å­çº¿ç¨‹å¼ºåˆ¶å…³é—­</span></span><br><span class="line">    mythread.start()</span><br><span class="line">    mythread.join() <span class="comment">#å¿…é¡»å½“è¿™ä¸ªå­çº¿ç¨‹æ‰§è¡Œå®Œ,ä¸»çº¿ç¨‹æ‰å¼€å§‹æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        n = threading.currentThread()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç°åœ¨æ˜¯&#123;0&#125;çš„ç¬¬&#123;1&#125;æ¬¡&quot;</span>.<span class="built_in">format</span>(n.name, i))</span><br><span class="line">    </span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093017.png" alt="image-20210731230339270"></p><p>å¯ä»¥çœ‹å‡ºjoinä¹‹åå­çº¿ç¨‹å…ˆæ‰§è¡Œå®Œ,è‹¥å»æ‰join</p><p><img data-src="http://cdn.sekyoro.top/imgs/093019.png" alt="image-20210731230516420"></p><p>æ³¨æ„ä¸»çº¿ç¨‹ä¸å­çº¿ç¨‹åŒæ—¶æ‰§è¡Œå¹¶ä¸”å½“ä¸»çº¿ç¨‹æ‰§è¡Œå®Œ,å­çº¿ç¨‹å…³é—­</p><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><p>ç‰¹åˆ«æ³¨æ„çš„æ˜¯,æˆ‘æ·»åŠ å›¾ç‰‡æ—¶,å¦‚æœåœ¨å‡½æ•°é‡Œæ·»åŠ ,é‚£ä¹ˆå›¾ç‰‡å°±æ²¡äº†(ç¨‹åºæ²¡æœ‰æŠ¥é”™,ä½†å›¾ç‰‡æ˜¾ç¤ºç©ºç™½)</p><p>æˆ‘æŠŠé‚£æ®µä»£ç æ”¹åœ¨ä¸»å‡½æ•°é‡Œå°±è¡Œäº†,çŒœæµ‹å¯èƒ½æ˜¯å› ä¸ºGCæœºåˆ¶å›æ”¶äº†</p><h2 id="å®Œæ•´ä»£ç "><a href="#å®Œæ•´ä»£ç " class="headerlink" title="å®Œæ•´ä»£ç "></a>å®Œæ•´ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> tkinter.ttk <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> messagebox</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, ImageTk</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Application</span>(<span class="params">tk.Frame</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, master=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(master)</span><br><span class="line">        self.button = tk.Button(self, text=<span class="string">&quot;ç¡®å®š&quot;</span>, )  <span class="comment"># command=self.get_info)</span></span><br><span class="line">        self.entry = tk.Entry(self, font=<span class="string">&quot;times 15&quot;</span>)</span><br><span class="line">        self.endbtn = Button(self, text=<span class="string">&quot;ç»“æŸ&quot;</span>, command=stop)</span><br><span class="line">        self.label1 = tk.Label(self, text=<span class="string">&quot;è¯·è¾“å…¥çˆ¬å–çš„é¡µæ•°èŒƒå›´:\nä¾‹å­:1,2&quot;</span>, font=<span class="string">&quot;times 15&quot;</span>, relief=<span class="string">&quot;raised&quot;</span>)</span><br><span class="line">        self.create_widget()</span><br><span class="line">        self.pack()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create_widget</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.entry.insert(<span class="number">0</span>, <span class="string">&quot;1,2&quot;</span>)</span><br><span class="line">        self.label1.pack(side=LEFT, fill=BOTH)</span><br><span class="line">        self.entry.pack(fill=X)</span><br><span class="line">        self.button.pack(fill=BOTH)</span><br><span class="line">        self.button.bind(<span class="string">&quot;&lt;Button-1&gt;&quot;</span>, self.get_info)</span><br><span class="line">        self.entry.bind(<span class="string">&quot;&lt;Return&gt;&quot;</span>, self.get_info)</span><br><span class="line"></span><br><span class="line">        self.endbtn.pack(fill=X)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_info</span>(<span class="params">self, event</span>):</span></span><br><span class="line">        entry_info = self.entry.get()</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            fir_page = <span class="built_in">int</span>(entry_info.split(<span class="string">&quot;,&quot;</span>)[<span class="number">0</span>])</span><br><span class="line">            sec_page = <span class="built_in">int</span>(entry_info.split(<span class="string">&quot;,&quot;</span>)[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">except</span> IndexError <span class="keyword">as</span> e:</span><br><span class="line">            messagebox.showwarning(<span class="string">&quot;æç¤º&quot;</span>, <span class="string">&quot;è¾“å…¥æ ¼å¼é”™è¯¯\n%s&quot;</span> % e)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">            messagebox.showwarning(<span class="string">&quot;æç¤º&quot;</span>, <span class="string">&quot;è¾“å…¥æ ¼å¼é”™è¯¯\n%s&quot;</span> % e)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">            messagebox.showwarning(<span class="string">&quot;æç¤º&quot;</span>, <span class="string">&quot;è¾“å…¥æ ¼å¼é”™è¯¯\n%s&quot;</span> % e)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        spider = Spider(fir_page, sec_page)</span><br><span class="line">        spider.setDaemon(<span class="literal">True</span>)</span><br><span class="line">        var.<span class="built_in">set</span>(<span class="string">&quot;æ­£åœ¨çˆ¬å–...&quot;</span>)</span><br><span class="line">        spider.start()</span><br><span class="line">        <span class="comment"># spider.join()   è¿™é‡Œå¦‚æœjoinäº†è¿è¡Œçˆ¬è™«æ¡Œé¢ç¨‹åºå¤šåŠä¼šå¡</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Spider</span>(<span class="params">threading.Thread</span>):</span></span><br><span class="line">    <span class="comment"># global info</span></span><br><span class="line">    <span class="comment"># location = os.getcwd() + &#x27;/fake_useragent.json&#x27;</span></span><br><span class="line">    <span class="comment"># ua = UserAgent(path=location)</span></span><br><span class="line">    __headers = &#123;<span class="string">&#x27;user_agent&#x27;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) &quot;</span></span><br><span class="line">                               <span class="string">&quot;Chrome/92.0.4515.107 Safari/537.36 Edg/92.0.902.55&quot;</span>, <span class="string">&quot;Connection&quot;</span>: <span class="string">&quot;close&quot;</span>&#125;</span><br><span class="line">    <span class="comment"># __base_url = &quot;https://konachan.net/&quot;</span></span><br><span class="line">    <span class="comment"># __url = &quot;https://konachan.net/post?page=&#123;&#125;&quot;</span></span><br><span class="line">    __url = <span class="string">&quot;https://gelbooru.com/index.php?page=post&amp;s=list&amp;tags=all&amp;pid=&#123;&#125;&quot;</span></span><br><span class="line">    flag = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, fir_page, sec_page</span>):</span></span><br><span class="line">        Spider.flag = <span class="literal">False</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(<span class="literal">None</span>)</span><br><span class="line">        <span class="comment"># self.fir_page = fir_page</span></span><br><span class="line">        <span class="comment"># self.sec_page = sec_page</span></span><br><span class="line">        self.fir_page = (fir_page - <span class="number">1</span>) * <span class="number">42</span></span><br><span class="line">        self.sec_page = sec_page * <span class="number">42</span></span><br><span class="line">        self.tag = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>(<span class="params">self</span>):</span></span><br><span class="line">        pb.start()</span><br><span class="line">        self.parse()</span><br><span class="line">        pb.stop()</span><br><span class="line">        var.<span class="built_in">set</span>(<span class="string">&quot;çˆ¬å–å®Œæ¯•&quot;</span>)</span><br><span class="line">        messagebox.showinfo(<span class="string">&quot;æç¤ºæ¶ˆæ¯&quot;</span>, <span class="string">&quot;çˆ¬å–ç»“æŸäº†&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self</span>):</span></span><br><span class="line">        text.delete(<span class="string">&quot;1.0&quot;</span>, END)</span><br><span class="line">        requests.adapters.DEFAULT_RETRIES = <span class="number">5</span></span><br><span class="line">        text.insert(END, <span class="string">&quot;ä¸‹è½½è‡³&#123;&#125;\n&quot;</span>.<span class="built_in">format</span>(os.getcwd() + <span class="string">r&#x27;\imagesæˆ–\videos&#x27;</span>))</span><br><span class="line">        <span class="comment"># info += &quot;ä¸‹è½½è‡³&#123;&#125;\n&quot;.format(os.getcwd() + r&#x27;\imagesæˆ–\videos&#x27;)</span></span><br><span class="line">        <span class="comment"># msg_var.set(info)</span></span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(self.fir_page, self.sec_page + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> Spider.flag:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            time.sleep(<span class="number">1.5</span>)</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                res = requests.get(self.__url.<span class="built_in">format</span>(n), headers=self.__headers)</span><br><span class="line">            <span class="keyword">except</span> requests.exceptions.ConnectionError <span class="keyword">as</span> e:</span><br><span class="line">                messagebox.showinfo(<span class="string">&quot;å‡ºç°é—®é¢˜&quot;</span>, <span class="string">&quot;çˆ¬å–é¢‘ç¹,è¯·è¿æ¥ä»£ç†\n%s&quot;</span> % e)</span><br><span class="line">                pb.stop()</span><br><span class="line">                var.<span class="built_in">set</span>(<span class="string">&quot;çˆ¬å–å®Œæ¯•&quot;</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            selector = etree.HTML(res.text)</span><br><span class="line">            <span class="comment"># images_urls = selector.xpath(&quot;//ul[@id=&#x27;post-list-posts&#x27;]/li//a[@class=&#x27;thumb&#x27;]/@href&quot;)</span></span><br><span class="line">            images_urls = selector.xpath(<span class="string">&quot;//article//a/@href&quot;</span>)</span><br><span class="line">            <span class="keyword">for</span> image_url <span class="keyword">in</span> images_urls:</span><br><span class="line">                <span class="keyword">if</span> Spider.flag:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                self.parse_next(image_url)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse_next</span>(<span class="params">self, image_url</span>):</span></span><br><span class="line">        <span class="comment"># image_id = image_url.split(&quot;/&quot;)[3]</span></span><br><span class="line">        <span class="comment"># next_url = self.__base_url + image_url</span></span><br><span class="line">        image_id = image_url.split(<span class="string">&quot;=&quot;</span>)[-<span class="number">1</span>]</span><br><span class="line">        next_url = image_url</span><br><span class="line">        time.sleep(<span class="number">1.5</span>)</span><br><span class="line">        res = requests.get(next_url, headers=self.__headers)</span><br><span class="line">        selector = etree.HTML(res.text)</span><br><span class="line">        <span class="comment"># img = selector.xpath(&quot;//img[@id=&#x27;image&#x27;]/@src&quot;)[0]</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            img = selector.xpath(<span class="string">&quot;//img[@id=&#x27;image&#x27;]/@src&quot;</span>)[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">except</span> IndexError:</span><br><span class="line">            img = selector.xpath(<span class="string">&quot;//video/source[1]/@src&quot;</span>)[<span class="number">0</span>]  <span class="comment"># è¿™æ˜¯å›¾ç‰‡</span></span><br><span class="line">            self.tag = <span class="literal">False</span></span><br><span class="line">        self.download(img, image_id)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">download</span>(<span class="params">self, img, image_id</span>):</span></span><br><span class="line">        <span class="keyword">if</span> Spider.flag:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        time.sleep(<span class="number">0.5</span>)</span><br><span class="line">        suffix = img.split(<span class="string">&quot;.&quot;</span>)[-<span class="number">1</span>]</span><br><span class="line">        res = requests.get(img, headers=self.__headers)</span><br><span class="line">        text.insert(END, <span class="string">&quot;æ­£åœ¨ä¸‹è½½:%s\n&quot;</span> % img)</span><br><span class="line">        <span class="comment"># info += &quot;æ­£åœ¨ä¸‹è½½:%s\n&quot; % img</span></span><br><span class="line">        <span class="comment"># msg_var.set(info)</span></span><br><span class="line">        <span class="keyword">if</span> self.tag:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&quot;./images&quot;</span>):</span><br><span class="line">                os.mkdir(<span class="string">&quot;./images&quot;</span>)</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;images/&#123;0&#125;.&#123;1&#125;&#x27;</span>.<span class="built_in">format</span>(image_id, suffix), <span class="string">&#x27;wb+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(res.content)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&quot;./videos&quot;</span>):</span><br><span class="line">                os.mkdir(<span class="string">&quot;./videos&quot;</span>)</span><br><span class="line">                <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;videos/&#123;0&#125;.&#123;1&#125;&#x27;</span>.<span class="built_in">format</span>(image_id, suffix), <span class="string">&#x27;wb+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                    f.write(res.content)</span><br><span class="line">        text.insert(END, <span class="string">&quot;ä¸‹è½½æˆåŠŸ:%s\n&quot;</span> % img)</span><br><span class="line">        <span class="comment"># info += &quot;ä¸‹è½½æˆåŠŸ:%s\n&quot; % img</span></span><br><span class="line">        <span class="comment"># msg_var.set(info)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">stop</span>():</span></span><br><span class="line">    Spider.flag = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">open_current</span>():</span></span><br><span class="line">    base_path = os.getcwd()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">&quot;./images&quot;</span>):</span><br><span class="line">        is_cre = messagebox.askyesno(<span class="string">&quot;æç¤º&quot;</span>, <span class="string">&quot;ä¸å­˜åœ¨å›¾ç‰‡æ–‡ä»¶å¤¹ï¼Œæ˜¯å¦åˆ›å»º?&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> is_cre:</span><br><span class="line">            os.mkdir(<span class="string">&quot;./images&quot;</span>)</span><br><span class="line">            path = base_path + <span class="string">r&quot;\images&quot;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            path = base_path</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        path = base_path + <span class="string">r&quot;\images&quot;</span></span><br><span class="line">    os.system(<span class="string">&quot;explorer.exe %s&quot;</span> % path)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_myinfo</span>():</span></span><br><span class="line">    my_info = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        website:http://sekyoro.top/</span></span><br><span class="line"><span class="string">        github:https://github.com/drowning-in-codes</span></span><br><span class="line"><span class="string">        ä¸€èµ·å­¦ä¹ </span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    toplevel = Toplevel()</span><br><span class="line">    toplevel.title(<span class="string">&quot;å…³äºæˆ‘&quot;</span>)</span><br><span class="line">    toplevel.iconbitmap(<span class="string">&quot;th.ico&quot;</span>)</span><br><span class="line">    toplevel.geometry(<span class="string">&quot;400x350&quot;</span>)</span><br><span class="line">    info_label = Label(toplevel, font=<span class="string">&quot;times 15&quot;</span>, text=my_info, image=info_tk_image, compound=<span class="string">&quot;top&quot;</span>, justify=<span class="string">&quot;left&quot;</span>)</span><br><span class="line">    info_label.pack()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">set_window</span>():</span></span><br><span class="line">    root.title(<span class="string">&quot;æ¡Œé¢çˆ¬è™«&quot;</span>)</span><br><span class="line">    root.geometry(<span class="string">&quot;400x450&quot;</span>)</span><br><span class="line">    root.iconbitmap(<span class="string">&quot;th.ico&quot;</span>)</span><br><span class="line">    label.pack()</span><br><span class="line">    menubar = Menu(root)</span><br><span class="line">    filemenu = Menu(menubar, tearoff=<span class="number">0</span>)</span><br><span class="line">    menubar.add_cascade(label=<span class="string">&quot;File&quot;</span>, menu=filemenu)</span><br><span class="line">    filemenu.add_command(label=<span class="string">&quot;Open&quot;</span>, command=open_current)</span><br><span class="line">    filemenu.add_separator()</span><br><span class="line">    filemenu.add_command(label=<span class="string">&quot;Exit&quot;</span>, command=root.destroy)</span><br><span class="line">    helpmenu = Menu(menubar, tearoff=<span class="number">0</span>)</span><br><span class="line">    helpmenu.add_command(label=<span class="string">&quot;About me&quot;</span>, command=show_myinfo)</span><br><span class="line">    menubar.add_cascade(label=<span class="string">&quot;Help&quot;</span>, menu=helpmenu)</span><br><span class="line">    root.config(menu=menubar)</span><br><span class="line">    text_label = Label(root, textvariable=var).pack()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    root = tk.Tk()</span><br><span class="line">    image = Image.<span class="built_in">open</span>(<span class="string">&quot;OIP-C.gif&quot;</span>)</span><br><span class="line">    image = image.resize((<span class="number">200</span>, <span class="number">200</span>))</span><br><span class="line">    <span class="comment"># info = &quot;çˆ¬å–ä¿¡æ¯\n&quot;</span></span><br><span class="line">    image_tk = ImageTk.PhotoImage(image)</span><br><span class="line">    label = tk.Label(root, font=<span class="string">&quot;20&quot;</span>, fg=<span class="string">&quot;blue&quot;</span>, text=<span class="string">&quot;æ¬¢è¿ä½¿ç”¨&quot;</span>, image=image_tk, compound=<span class="string">&quot;top&quot;</span>)</span><br><span class="line">    var = StringVar()</span><br><span class="line">    set_window()</span><br><span class="line">    pb = Progressbar(root, mode=<span class="string">&quot;indeterminate&quot;</span>, length=<span class="number">200</span>, name=<span class="string">&quot;è¿›åº¦&quot;</span>)</span><br><span class="line">    pb[<span class="string">&quot;value&quot;</span>] = <span class="number">0</span></span><br><span class="line">    pb[<span class="string">&quot;maximum&quot;</span>] = <span class="number">100</span></span><br><span class="line">    pb.pack()</span><br><span class="line">    app = Application(root)</span><br><span class="line">    info_image = Image.<span class="built_in">open</span>(<span class="string">&quot;info.png&quot;</span>)</span><br><span class="line">    info_image = info_image.resize((<span class="number">200</span>, <span class="number">200</span>))</span><br><span class="line">    info_tk_image = ImageTk.PhotoImage(info_image)</span><br><span class="line">    <span class="comment"># msg_var = StringVar()</span></span><br><span class="line">    <span class="comment"># msg = Message(root, textvariable=msg_var, relief=&quot;raised&quot;)</span></span><br><span class="line">    <span class="comment"># msg.pack(padx=10, pady=10)</span></span><br><span class="line">    <span class="comment"># msg_var.set(info)</span></span><br><span class="line">    <span class="comment">#  å¾…æ»šè½®çš„text</span></span><br><span class="line">    yscrollbar = Scrollbar(root)</span><br><span class="line">    text = Text(root)</span><br><span class="line">    yscrollbar.pack(side=RIGHT, fill=Y)</span><br><span class="line">    text.pack()</span><br><span class="line">    yscrollbar.config(command=text.yview)</span><br><span class="line">    text.config(yscrollcommand=yscrollbar.<span class="built_in">set</span>)</span><br><span class="line">    app.mainloop()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/093022.png" alt="image-20210731231013251"></p><p>æœ€åpyinstaller  -w  -F name.pyæ‰“åŒ…å°±è¡Œäº†</p><p>å¤§æ¦‚é•¿è¿™æ ·,çœ‹æ¥è¦å¤šå¤šå°è¯•</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spider </tag>
            
            <tag> tkinter </tag>
            
            <tag> GUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“è®¤è¯†</title>
      <link href="2021/07/29/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%A4%E8%AF%86/"/>
      <url>2021/07/29/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%A4%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="æ•°æ®åº“è®¤è¯†"><a href="#æ•°æ®åº“è®¤è¯†" class="headerlink" title="æ•°æ®åº“è®¤è¯†"></a>æ•°æ®åº“è®¤è¯†</h1><p>åœ¨å­¦ä¹ è®¡ç®—æœºè¯¾ç¨‹æ—¶,æ•°æ®åº“æ˜¯å¿…ä¿®è¯¾.åœ¨å†™è½¯ä»¶æ—¶æ•°æ®åº“ä¹Ÿæ˜¯é‡è¦çš„ä¸€ç¯</p><span id="more"></span><h2 id="1-å®šä¹‰"><a href="#1-å®šä¹‰" class="headerlink" title="1.å®šä¹‰"></a>1.å®šä¹‰</h2><p>æ•°æ®åº“æ˜¯â€œæŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®çš„ä»“åº“â€ã€‚æ˜¯ä¸€ä¸ªé•¿æœŸå­˜å‚¨åœ¨è®¡ç®—æœºå†…çš„ã€æœ‰ç»„ç»‡çš„ã€å¯å…±äº«çš„ã€ç»Ÿä¸€ç®¡ç†çš„å¤§é‡æ•°æ®çš„é›†åˆã€‚</p><h2 id="RDBMS"><a href="#RDBMS" class="headerlink" title="RDBMS"></a>RDBMS</h2><p>RDBMS æŒ‡å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå…¨ç§° Relational Database Management Systemã€‚</p><p>RDBMS æ˜¯ SQL çš„åŸºç¡€ï¼ŒåŒæ ·ä¹Ÿæ˜¯æ‰€æœ‰ç°ä»£æ•°æ®åº“ç³»ç»Ÿçš„åŸºç¡€ï¼Œæ¯”å¦‚ MS SQL Serverã€IBM DB2ã€Oracleã€MySQL ä»¥åŠ Microsoft Accessã€‚</p><p>RDBMS ä¸­çš„æ•°æ®å­˜å‚¨åœ¨è¢«ç§°ä¸ºè¡¨çš„æ•°æ®åº“å¯¹è±¡ä¸­ã€‚</p><p>è¡¨æ˜¯ç›¸å…³çš„æ•°æ®é¡¹çš„é›†åˆï¼Œå®ƒç”±åˆ—å’Œè¡Œç»„æˆã€‚</p><p>SQLï¼ˆStructured Query Languageï¼‰ æ˜¯ç”¨äºè®¿é—®å’Œå¤„ç†æ•°æ®åº“çš„æ ‡å‡†çš„è®¡ç®—æœºè¯­è¨€ã€‚</p><p>SQL è®©æ‚¨å¯ä»¥è®¿é—®å’Œå¤„ç†æ•°æ®åº“ï¼ŒåŒ…æ‹¬æ•°æ®æ’å…¥ã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤ã€‚</p><p>ä¸€ä¸ªæ•°æ®åº“é€šå¸¸åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨(TABLE)ã€‚æ¯ä¸ªè¡¨æœ‰ä¸€ä¸ªåå­—æ ‡è¯†ï¼ˆä¾‹å¦‚:â€Websitesâ€ï¼‰,è¡¨åŒ…å«å¸¦æœ‰æ•°æ®çš„è®°å½•ï¼ˆè¡Œï¼‰</p><p>æ•°æ®è¡¨ï¼ˆ<code>table</code>ï¼‰ç®€ç§°è¡¨ï¼Œå®ƒæ˜¯æ•°æ®åº“æœ€é‡è¦çš„ç»„æˆéƒ¨åˆ†ä¹‹ä¸€ã€‚æ•°æ®åº“åªæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œè¡¨æ‰æ˜¯å®è´¨å†…å®¹ã€‚</p><p>è€Œä¸€ä¸ªæ•°æ®åº“ä¸­ä¸€èˆ¬ä¼šæœ‰å¤šå¼ è¡¨ï¼Œè¿™äº›å„è‡ªç‹¬ç«‹çš„è¡¨é€šè¿‡å»ºç«‹å…³ç³»è¢«è”æ¥èµ·æ¥ï¼Œæ‰æˆä¸ºå¯ä»¥äº¤å‰æŸ¥é˜…ã€ä¸€ç›®äº†ç„¶çš„æ•°æ®åº“ã€‚</p><p><strong>æ³¨æ„</strong></p><p>è™½ç„¶ SQL æ˜¯ä¸€é—¨ ANSIï¼ˆAmerican National Standards Institute ç¾å›½å›½å®¶æ ‡å‡†åŒ–ç»„ç»‡ï¼‰æ ‡å‡†çš„è®¡ç®—æœºè¯­è¨€ï¼Œä½†æ˜¯ä»ç„¶å­˜åœ¨ç€å¤šç§ä¸åŒç‰ˆæœ¬çš„ SQL è¯­è¨€ã€‚</p><p>ç„¶è€Œï¼Œä¸ºäº†ä¸ ANSI æ ‡å‡†ç›¸å…¼å®¹ï¼Œå®ƒä»¬å¿…é¡»ä»¥ç›¸ä¼¼çš„æ–¹å¼å…±åŒåœ°æ¥æ”¯æŒä¸€äº›ä¸»è¦çš„å‘½ä»¤ï¼ˆæ¯”å¦‚ SELECTã€UPDATEã€DELETEã€INSERTã€WHERE ç­‰ç­‰ï¼‰ã€‚</p><h2 id="2-ç›´æ¥ä¸Šæ‰‹"><a href="#2-ç›´æ¥ä¸Šæ‰‹" class="headerlink" title="2.ç›´æ¥ä¸Šæ‰‹"></a>2.ç›´æ¥ä¸Šæ‰‹</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;<span class="operator">/</span><span class="operator">/</span>æŸ¥çœ‹æ•°æ®åº“</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE name;  <span class="operator">/</span><span class="operator">/</span>åˆ›å»ºä¸€ä¸ªæ•°æ®åº“</span><br><span class="line">use name;<span class="operator">/</span><span class="operator">/</span>ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> name</span><br><span class="line">(</span><br><span class="line">    é¡¹å æ•°æ®ç±»å‹(æ•°æ®é•¿åº¦)</span><br><span class="line">)ï¼›<span class="operator">/</span><span class="operator">/</span>åˆ›å»ºä¸€ä¸ªè¡¨</span><br><span class="line"><span class="keyword">show</span> tables;<span class="operator">/</span><span class="operator">/</span>æŸ¥çœ‹è¡¨</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> name;<span class="operator">/</span><span class="operator">/</span>æŸ¥çœ‹è¡¨çš„å†…å®¹</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> name(é¡¹å,...)  <span class="keyword">VALUES</span>(å€¼,...) <span class="operator">/</span><span class="operator">/</span>å‘è¡¨ä¸­æ’å…¥æ•°æ®</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼ŒSQL è¯­å¥éƒ½æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„</p><p>ä½†æ˜¯ç”±äºæœ‰ä¿ç•™å­—,ä½¿ç”¨å¤§å†™å¯ä»¥è¡¨æ˜ä¿ç•™å­—</p><p>æ³¨æ„åˆ†å·,æœ‰äº›å¯èƒ½ä¸éœ€è¦</p><div class="table-container"><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>æ•°æ®ç±»å‹</td><td>å¤§å°(å­—èŠ‚)</td><td>ç”¨é€”</td><td>æ ¼å¼</td></tr><tr><td>INT</td><td>4</td><td>æ•´æ•°</td><td></td></tr><tr><td>FLOAT</td><td>4</td><td>å•ç²¾åº¦æµ®ç‚¹æ•°</td><td></td></tr><tr><td>DOUBLE</td><td>8</td><td>åŒç²¾åº¦æµ®ç‚¹æ•°</td><td></td></tr><tr><td>ENUM</td><td>â€”</td><td>å•é€‰,æ¯”å¦‚æ€§åˆ«</td><td>ENUM(â€˜aâ€™,â€™bâ€™,â€™câ€™)</td></tr><tr><td>SET</td><td>â€”</td><td>å¤šé€‰</td><td>SET(â€˜1â€™,â€™2â€™,â€™3â€™)</td></tr><tr><td>DATE</td><td>3</td><td>æ—¥æœŸ</td><td>YYYY-MM-DD</td></tr><tr><td>TIME</td><td>3</td><td>æ—¶é—´ç‚¹æˆ–æŒç»­æ—¶é—´</td><td>HH:MM:SS</td></tr><tr><td>YEAR</td><td>1</td><td>å¹´ä»½å€¼</td><td>YYYY</td></tr><tr><td>CHAR</td><td>0~255</td><td>å®šé•¿å­—ç¬¦ä¸²</td><td></td></tr><tr><td>VARCHAR</td><td>0~255</td><td>å˜é•¿å­—ç¬¦ä¸²</td><td></td></tr><tr><td>TEXT</td><td>0~65535</td><td>é•¿æ–‡æœ¬æ•°æ®</td></tr></tbody></table></div><h2 id="2-MySQLçš„çº¦æŸ"><a href="#2-MySQLçš„çº¦æŸ" class="headerlink" title="2.MySQLçš„çº¦æŸ"></a>2.MySQLçš„çº¦æŸ</h2><p>çº¦æŸæ˜¯ä¸€ç§é™åˆ¶ï¼Œå®ƒé€šè¿‡å¯¹è¡¨çš„è¡Œæˆ–åˆ—çš„æ•°æ®åšå‡ºé™åˆ¶ï¼Œæ¥ç¡®ä¿è¡¨çš„æ•°æ®çš„å®Œæ•´æ€§ã€å”¯ä¸€æ€§ã€‚</p><div class="table-container"><table><thead><tr><th>çº¦æŸç±»å‹ï¼š</th><th>ä¸»é”®</th><th>é»˜è®¤å€¼</th><th>å”¯ä¸€</th><th>å¤–é”®</th><th>éç©º</th></tr></thead><tbody><tr><td>å…³é”®å­—ï¼š</td><td>PRIMARY KEY</td><td>DEFAULT</td><td>UNIQUE</td><td>FOREIGN KEY</td><td>NOT NULL</td></tr></tbody></table></div><p>ä¸»é”®ï¼ˆPRIMARY KEYï¼‰ä½œä¸ºæ•°æ®è¡¨ä¸­ä¸€è¡Œæ•°æ®çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œåœ¨ä¸€å¼ è¡¨ä¸­é€šè¿‡ä¸»é”®å°±èƒ½å‡†ç¡®å®šä½åˆ°æŸä¸€è¡Œæ•°æ®ï¼Œå› æ­¤ä¸»é”®ååˆ†é‡è¦ï¼Œå®ƒä¸èƒ½æœ‰é‡å¤è®°å½•ä¸”ä¸èƒ½ä¸ºç©º</p><p>é»˜è®¤å€¼çº¦æŸ (DEFAULT) è§„å®šï¼Œå½“æœ‰ DEFAULT çº¦æŸçš„åˆ—ï¼Œæ’å…¥æ•°æ®ä¸ºç©ºæ—¶ï¼Œå°†ä½¿ç”¨é»˜è®¤å€¼ã€‚</p><p>å”¯ä¸€çº¦æŸ (UNIQUE) æ¯”è¾ƒç®€å•ï¼Œå®ƒè§„å®šä¸€å¼ è¡¨ä¸­æŒ‡å®šçš„ä¸€åˆ—çš„å€¼å¿…é¡»ä¸èƒ½æœ‰é‡å¤å€¼ï¼Œå³è¿™ä¸€åˆ—æ¯ä¸ªå€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚</p><p>å¤–é”® (FOREIGN KEY) æ—¢èƒ½ç¡®ä¿æ•°æ®å®Œæ•´æ€§ï¼Œä¹Ÿèƒ½è¡¨ç°è¡¨ä¹‹é—´çš„å…³ç³»ã€‚</p><p>ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªå¤–é”®ï¼Œæ¯ä¸ªå¤–é”®å¿…é¡» REFERENCES (å‚è€ƒ) å¦ä¸€ä¸ªè¡¨çš„ä¸»é”®ï¼Œè¢«å¤–é”®çº¦æŸçš„åˆ—ï¼Œå–å€¼å¿…é¡»åœ¨å®ƒå‚è€ƒçš„åˆ—ä¸­æœ‰å¯¹åº”å€¼ã€‚</p><p>éç©ºçº¦æŸ (NOT NULL),å¬åå­—å°±èƒ½ç†è§£ï¼Œè¢«éç©ºçº¦æŸçš„åˆ—ï¼Œåœ¨æ’å…¥å€¼æ—¶å¿…é¡»éç©ºã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> database </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scrapyä»£ç†è®¾ç½®</title>
      <link href="2021/07/29/Scrapy%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE/"/>
      <url>2021/07/29/Scrapy%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Scapyä»£ç†è®¾ç½®-çˆ¬å–ä»£ç†å®æˆ˜"><a href="#Scapyä»£ç†è®¾ç½®-çˆ¬å–ä»£ç†å®æˆ˜" class="headerlink" title="Scapyä»£ç†è®¾ç½®__çˆ¬å–ä»£ç†å®æˆ˜"></a>Scapyä»£ç†è®¾ç½®__çˆ¬å–ä»£ç†å®æˆ˜</h1><p>è®¾ç½®ä»£ç†å¯ä»¥é¿å…çˆ¬è™«é¢‘ç¹çˆ¬å–è¢«å°</p><p>ä»˜è´¹ä»£ç†å°±ä¸ç”¨è¯´äº†,æˆ‘è¿™é‡Œçˆ¬å–å…è´¹ä»£ç†</p><span id="more"></span><p>Scrapyä»£ç†ä½¿ç”¨HttpProxyMiddlewarä¸­é—´ä»¶ï¼ˆé»˜è®¤å¼€å¯ï¼‰</p><p><strong>åœ¨Scrapyä¸­è®¾ç½®ä»£ç†æœ¬è´¨æ˜¯å°†ä»£ç†æœåŠ¡å™¨çš„urlå†™å…¥request.meta[â€˜proxyâ€™]</strong></p><p>å¦‚æœä»£ç†éœ€è¦èº«ä»½éªŒè¯,éœ€è¦é€šè¿‡HTTPå¤´éƒ¨çš„Proxy-Authorizationå­—æ®µä¼ é€’ç”¨æˆ·è´¦å·å’Œå¯†ç çš„èº«ä»½éªŒè¯ä¿¡æ¯</p><h2 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h2><p>æ¥ä¸‹æ¥è¿›è¡Œå®æˆ˜</p><p>xicidailiè²Œä¼¼æ²¡äº†</p><p>æˆ‘ç”¨çš„ <a href="https://www.kuaidaili.com/free/">å›½å†…é«˜åŒ¿å…è´¹HTTPä»£ç†IP - å¿«ä»£ç† (kuaidaili.com)</a></p><p>ä¸€ä¸Šæ¥ä¸‰è¿é­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scrapy startproject proxy;</span><br><span class="line">cd proxy;</span><br><span class="line">scrapy genspider kuaidaili kuaidaili.com;</span><br></pre></td></tr></table></figure><p>ç„¶åç›´æ¥å¼€çˆ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">KuaidailiSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;kuaidaili&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;kuaidaili.com&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># start_urls = [&#x27;http://kuaidaili.com/free/inha&#x27;]</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_requests</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(<span class="string">&quot;https://www.kuaidaili.com/free/inha/%s/&quot;</span> % i)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        <span class="keyword">for</span> sel <span class="keyword">in</span> response.xpath(<span class="string">&quot;//tbody//tr&quot;</span>):</span><br><span class="line">            ip = sel.xpath(<span class="string">&quot;.//td[1]/text()&quot;</span>).extract_first()</span><br><span class="line">            port = sel.xpath(<span class="string">&quot;.//td[2]/text()&quot;</span>).extract_first()</span><br><span class="line">            scheme = sel.xpath(<span class="string">&quot;.//td[4]/text()&quot;</span>).extract_first().lower()</span><br><span class="line">            <span class="comment"># ä½¿ç”¨çˆ¬å–çš„ä»£ç†éªŒè¯</span></span><br><span class="line">            url = <span class="string">&quot;%s://httpbin.org/ip&quot;</span> % scheme</span><br><span class="line">            proxy = <span class="string">&quot;%s://%s:%s&quot;</span> % (scheme, ip, port)</span><br><span class="line">            meta = &#123;</span><br><span class="line">                <span class="string">&#x27;proxy&#x27;</span>: proxy,</span><br><span class="line">                <span class="string">&#x27;dont_retry&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line">                <span class="string">&#x27;download_timeout&#x27;</span>: <span class="number">10</span>,</span><br><span class="line">                <span class="comment"># ä»¥ä¸‹ä¸¤ä¸ªå­—æ®µç”¨äºæ£€éªŒ</span></span><br><span class="line">                <span class="string">&#x27;_proxy_scheme&#x27;</span>: scheme,</span><br><span class="line">                <span class="string">&#x27;_proxy_ip&#x27;</span>: ip</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url, callback=self.check_available, meta=meta, dont_filter=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">check_available</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        proxy_ip = response.meta[<span class="string">&#x27;_proxy_ip_&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> proxy_ip == json.loads(response.text)[<span class="string">&#x27;origin&#x27;</span>]:</span><br><span class="line">            <span class="keyword">yield</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&#x27;proxy_scheme&#x27;</span>: response.meta[<span class="string">&#x27;_proxy_scheme&#x27;</span>],</span><br><span class="line">                <span class="string">&#x27;proxy&#x27;</span>: response.meta[<span class="string">&#x27;proxy&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>settings.pyæ”¹ä¸€ä¸‹è®¾ç½®</p><p>æˆ‘å°è¯•åå‘ç°ç›´æ¥503</p><p>è¿˜æ²¡æœ‰å¾—åˆ°è§£å†³â€¦</p><h2 id="å†æ¬¡å°è¯•"><a href="#å†æ¬¡å°è¯•" class="headerlink" title="å†æ¬¡å°è¯•"></a>å†æ¬¡å°è¯•</h2><p>äºæ˜¯æˆ‘æ›´æ¢äº†ç½‘ç«™,æ¢äº†ä¸ªå¢™å¤–çš„</p><p><a href="http://proxy-list.org/english/index.php?p=1">1 minute ago checked proxy servers - Free proxy list service since 2004 year! Almost 10 years of proxy service (proxy-list.org)</a></p><p>è¿™ä¸ªå°è¯•äº†ä¸€ä¸‹  è²Œä¼¼æ˜¯åŠ¨æ€ç½‘ç«™ æˆ‘æ‡’</p><p>æ‰€ä»¥åˆæ¢äº†ä¸€ä¸ª</p><p><a href="https://free-proxy-list.net/">Free Proxy List - Just Checked Proxy List (free-proxy-list.net)</a></p><p>è¿™ä¸ªå¯ä»¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FreeScrapySpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;free_proxy&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;free-proxy-list.net&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    start_urls = [<span class="string">&quot;https://free-proxy-list.net/&quot;</span>]</span><br><span class="line">    <span class="comment"># def start_requests(self):</span></span><br><span class="line">    <span class="comment">#     for i in range(1, 4):</span></span><br><span class="line">    <span class="comment">#         yield scrapy.Request(&quot;http://proxy-list.org/english/index.php?p=%s&quot; % i)</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        <span class="keyword">for</span> sel <span class="keyword">in</span> response.xpath(<span class="string">&quot;//tbody//tr&quot;</span>):</span><br><span class="line">            ip = sel.xpath(<span class="string">&quot;./td[1]/text()&quot;</span>).extract_first()</span><br><span class="line">            port = sel.xpath(<span class="string">&quot;./td[2]/text()&quot;</span>).extract_first()</span><br><span class="line">            scheme = sel.xpath(<span class="string">&quot;./td[7]/text()&quot;</span>).extract_first()</span><br><span class="line">            <span class="keyword">if</span> scheme == <span class="string">&#x27;yes&#x27;</span>:</span><br><span class="line">                scheme = <span class="string">&#x27;https&#x27;</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                scheme = <span class="string">&#x27;http&#x27;</span></span><br><span class="line">            url = <span class="string">&quot;%s://httpbin.org/ip&quot;</span> % scheme</span><br><span class="line">            proxy = <span class="string">&quot;%s://%s:%s&quot;</span> % (scheme, ip,port)</span><br><span class="line">        <span class="comment"># ip = ip_port.split(&quot;:&quot;)[0]</span></span><br><span class="line">            meta = &#123;</span><br><span class="line">                <span class="string">&#x27;proxy&#x27;</span>: proxy,</span><br><span class="line">                <span class="string">&#x27;download_timeout&#x27;</span>: <span class="number">10</span>,</span><br><span class="line">                <span class="string">&#x27;dont_retry&#x27;</span>: <span class="literal">True</span>,</span><br><span class="line"></span><br><span class="line">                <span class="string">&#x27;_proxy_scheme&#x27;</span>: scheme,</span><br><span class="line">                <span class="string">&#x27;_proxy_ip&#x27;</span>: ip</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(url, callback=self.check_available, meta=meta, dont_filter=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">check_available</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        proxy_ip = response.meta[<span class="string">&#x27;_proxy_ip&#x27;</span>]</span><br><span class="line">        <span class="keyword">if</span> proxy_ip == json.loads(response.text)[<span class="string">&#x27;origin&#x27;</span>]:</span><br><span class="line">            <span class="keyword">yield</span> &#123;</span><br><span class="line">                <span class="string">&#x27;proxy_scheme&#x27;</span>: response.meta[<span class="string">&#x27;_proxy_scheme&#x27;</span>],</span><br><span class="line">                <span class="string">&#x27;proxy&#x27;</span>: response.meta[<span class="string">&#x27;proxy&#x27;</span>]</span><br><span class="line">            &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç„¶åå®ç°éšæœºä»£ç†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomHttpProxyMiddleware</span>(<span class="params">HttpProxyMiddleware</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,auth_encoding=<span class="string">&#x27;latin-1&#x27;</span>,proxy_list_file=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> proxy_list_file:</span><br><span class="line">            <span class="keyword">raise</span> scrapy.exceptions.NotConfigured</span><br><span class="line">        self.auth_encoding = auth_encoding</span><br><span class="line">        self.proxies = defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(proxy_list_file) <span class="keyword">as</span> f:</span><br><span class="line">            proxy_list = json.load(f)</span><br><span class="line">            <span class="keyword">for</span> proxy <span class="keyword">in</span> proxy_list:</span><br><span class="line">                scheme = proxy[<span class="string">&#x27;proxy_scheme&#x27;</span>]</span><br><span class="line">                url = proxy[<span class="string">&#x27;proxy&#x27;</span>]</span><br><span class="line">                self.proxies[scheme].append(self._get_proxy(url,scheme))</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">from_crawler</span>(<span class="params">cls, crawler</span>):</span></span><br><span class="line">        auth_encoding = crawler.settings.get(<span class="string">&#x27;HTTPPROXY_AUTH_ENCODING&#x27;</span>,<span class="string">&#x27;latin-1&#x27;</span>)</span><br><span class="line">        proxy_list_file = crawler.settings.get(<span class="string">&quot;HTTPPROXY_PROXY_LIST_FILE&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> cls(auth_encoding,proxy_list_file)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_set_proxy</span>(<span class="params">self, request, scheme</span>):</span></span><br><span class="line">        creds,proxy = random.choice(self.proxies[scheme])</span><br><span class="line">        request.meta[<span class="string">&#x27;proxy&#x27;</span>] = proxy</span><br><span class="line">        <span class="keyword">if</span> creds:</span><br><span class="line">            request.headers[<span class="string">&quot;Proxy-Authorization&quot;</span>]=<span class="string">b&#x27;Basic&#x27;</span>+creds</span><br></pre></td></tr></table></figure><p>å¹¶åœ¨settings.pyé‡Œæ›´æ”¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DOWNLOADER_MIDDLEWARES = &#123;</span><br><span class="line"><span class="comment">#    &#x27;free_proxy.middlewares.FreeProxyDownloaderMiddleware&#x27;: 543,</span></span><br><span class="line">    <span class="string">&#x27;free_proxy.middlewares.RandomHttpProxyMiddleware&#x27;</span>:<span class="number">745</span></span><br><span class="line">&#125;</span><br><span class="line">HTTPPROXY_PROXY_LIST_FILE = <span class="string">&#x27;proxy_list_json&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HubSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;test&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;httpbin.org&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># start_urls = [&#x27;http://httpbin.org/ip&#x27;]</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_requests</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(<span class="string">&#x27;http://httpbin.org/ip&#x27;</span>, dont_filter=<span class="literal">True</span>)</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(<span class="string">&#x27;https://httpbin.org/ip&#x27;</span>, dont_filter=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        <span class="built_in">print</span>(json.loads(response.text))</span><br><span class="line">        <span class="keyword">yield</span> &#123;</span><br><span class="line">            <span class="string">&#x27;proxy&#x27;</span>:json.loads(response.text)[<span class="string">&#x27;origin&#x27;</span>]</span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment"># å†™ä¸€ä¸ªæµ‹è¯•ç¨‹åº</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å¾—åˆ°çš„ä»£ç†æ˜¯è®¾ç½®çš„ä»£ç†</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spider </tag>
            
            <tag> Scrapy </tag>
            
            <tag> proxy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scapy_åŠ¨æ€ç½‘é¡µçˆ¬å–</title>
      <link href="2021/07/21/Scrapy-%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E7%88%AC%E5%8F%96/"/>
      <url>2021/07/21/Scrapy-%E5%8A%A8%E6%80%81%E7%BD%91%E9%A1%B5%E7%88%AC%E5%8F%96/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Scrapyä¹‹åŠ¨æ€ç½‘é¡µçˆ¬å–"><a href="#Scrapyä¹‹åŠ¨æ€ç½‘é¡µçˆ¬å–" class="headerlink" title="Scrapyä¹‹åŠ¨æ€ç½‘é¡µçˆ¬å–"></a>Scrapyä¹‹åŠ¨æ€ç½‘é¡µçˆ¬å–</h1><p>åŠ¨æ€ç½‘é¡µé€šè¿‡JavaScriptä¸htmläº¤äº’</p><p>å¯ä»¥é€šè¿‡Splashæ¸²æŸ“å¼•æ“çˆ¬å–</p><span id="more"></span><h2 id="1-ä¸‹è½½Splash"><a href="#1-ä¸‹è½½Splash" class="headerlink" title="1.ä¸‹è½½Splash"></a>1.ä¸‹è½½Splash</h2><p>ä½¿ç”¨Dockerå®‰è£…</p><p>æ³¨æ„,å¦‚æœä½ æ˜¯windowså®¶åº­ç‰ˆåˆ™å®‰è£…æ–¹å¼ä¸åŒ</p><p>å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/cherish152/article/details/103824034">Scrapy-Splashçš„å®‰è£…(windowsç¯‡)</a></p><p>ç”±äºæˆ‘æ˜¯æ•™è‚²ç‰ˆï¼Œç›´æ¥å®‰è£…docker for desktop å°±è¡Œ</p><p><a href="https://www.docker.com/products/docker-desktop">Docker Desktop for Mac and Windows | Docker</a></p><p><img data-src="http://cdn.sekyoro.top/imgs/065642.png" alt="image-20210721143756897"></p><p><a href="https://www.runoob.com/docker/docker-tutorial.html">Docker æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p><p>ç½‘ä¸Šæ•™ç¨‹æœ‰ç‚¹ä¹±,æˆ‘çœ‹è¿™ä¸ªè¿˜æŒºå¥½çš„</p><p>ä¸‹è½½Desktopé‡å¯åå¯èƒ½ä¼šæç¤ºWSL2æ›´æ–°,ç›´æ¥åœ¨ç›¸å…³ç½‘ç«™æ›´æ–°å°±è¡Œäº†</p><p><a href="https://docs.microsoft.com/zh-cn/windows/wsl/install-win10">åœ¨ Windows 10 ä¸Šå®‰è£… WSL | Microsoft Docs</a></p><p>å®‰è£…å¥½åå¯ä»¥åœ¨power shellé‡Œè¿è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p <span class="number">8050</span>:<span class="number">8050</span> scrapinghub/splash</span><br></pre></td></tr></table></figure><p>åº”è¯¥ä¼šè·³å‡ºä¸€ä¸ªé¡µé¢(å¯èƒ½æ—¶é—´æ¯”è¾ƒé•¿)</p><p><a href="https://www.cnblogs.com/pzk7788/p/10551338.html#:~:text=Splash è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æµè§ˆå™¨ï¼Œåˆ©ç”¨å®ƒï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å®ç°è·Ÿå…¶ä»–æµè§ˆå™¨ä¸€æ ·çš„æ“ä½œï¼Œæˆ‘ä»¬ä½¿ç”¨ Docker æ¥å®‰è£… Splashï¼š. [root%40localhost ~]%23 docker,å®‰è£…å¥½ä¹‹åï¼Œå¯ä»¥é€šè¿‡ http%3A%2F%2Flocalhost%3A8050 è®¿é—®å…¶ Web ç•Œé¢ï¼Œå¦‚ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥ https%3A%2F%2Fwww.baidu.com%2Fï¼Œç„¶åç‚¹å‡» Render meï¼.">Splash ç®€ä»‹ä¸å®‰è£… - å­”é›€ä¸œå—é£ - åšå®¢å›­ (cnblogs.com)</a></p><p>å¯ä»¥çœ‹çœ‹è¿™ç¯‡åšå®¢</p><p>ç„¶å ä¸‹è½½scrapy-splash ä¸€ä¸ªpythonåº“æ“ä½œsplashçš„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install scrapy-splash</span><br></pre></td></tr></table></figure><p><a href="https://splash.readthedocs.io/en/stable/">Splash - A javascript rendering service â€” Splash 3.5 documentation</a></p><p>splashçš„æ–‡æ¡£</p><p>æœåŠ¡ç«¯ç‚¹</p><p>render.html æä¾›JavaScripté¡µé¢æ¸²æŸ“æœåŠ¡</p><p>urlå‚æ•°ä¸ºè¦æ¸²æŸ“çš„ç½‘å€</p><p>execute  æ‰§è¡Œç”¨æˆ·è‡ªå®šä¹‰çš„æ¸²æŸ“è„šæœ¬(lua),åœ¨é¡µé¢ä¸­æ‰§è¡ŒJavaScriptä»£ç </p><p>è¯·æ±‚æ–¹å¼post lua_source ç”¨æˆ·è‡ªå®šä¹‰çš„è„šæœ¬</p><h2 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h2><p>ä¸‹è½½äº†scrapy-splashåé…ç½®settings.pyæ–‡ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy.downloadermiddlewares.httpcompression</span><br><span class="line"><span class="keyword">import</span> scrapy_splash</span><br><span class="line">BOT_NAME = <span class="string">&#x27;splash_example&#x27;</span></span><br><span class="line"></span><br><span class="line">SPIDER_MODULES = [<span class="string">&#x27;splash_example.spiders&#x27;</span>]</span><br><span class="line">NEWSPIDER_MODULE = <span class="string">&#x27;splash_example.spiders&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Crawl responsibly by identifying yourself (and your website) on the user-agent</span></span><br><span class="line">USER_AGENT = <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36 Edg/92.0.902.55&#x27;</span></span><br><span class="line">ROBOTSTXT_OBEY = <span class="literal">False</span></span><br><span class="line">DOWNLOAD_DELAY = <span class="number">0.5</span></span><br><span class="line">SPIDER_MIDDLEWARES = &#123;</span><br><span class="line"><span class="comment">#    &#x27;splash_example.middlewares.SplashExampleSpiderMiddleware&#x27;: 543,</span></span><br><span class="line">   <span class="string">&#x27;scrapy_splash.SplashDeduplicateArgsMiddleware&#x27;</span>:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DOWNLOADER_MIDDLEWARES = &#123;</span><br><span class="line"><span class="comment">#    &#x27;splash_example.middlewares.SplashExampleDownloaderMiddleware&#x27;: 543,</span></span><br><span class="line">    <span class="string">&#x27;scrapy_splash.SplashCookiesMiddleware&#x27;</span>:<span class="number">732</span>,</span><br><span class="line">    <span class="string">&#x27;scrapy_splash.SplashMiddleware&#x27;</span>:<span class="number">725</span>,</span><br><span class="line">    <span class="string">&#x27;scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware&#x27;</span>:<span class="number">810</span></span><br><span class="line">    &#125;</span><br><span class="line">DUPEFILTER_CLASS = <span class="string">&#x27;scrapy_splash.SplashAwareDupeFilter&#x27;</span></span><br><span class="line"></span><br><span class="line">SPLASH_URL = <span class="string">&quot;http://localhost:8050&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨splashRequest()è¯·æ±‚å³å¯</p><p>url,args,cache_args</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">import</span> scrapy_splash</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">QuotesSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;quotes&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;quotes.toscrape.com&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;http://quotes.toscrape.com/js/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_requests</span>(<span class="params">self</span>):</span></span><br><span class="line">        args = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> self.start_urls:</span><br><span class="line">            <span class="keyword">yield</span> scrapy_splash.SplashRequest(url)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        <span class="keyword">for</span> sel <span class="keyword">in</span> response.xpath(<span class="string">&quot;//div[@class=&#x27;quote&#x27;]&quot;</span>):</span><br><span class="line">            quote = sel.xpath(<span class="string">&quot;./span[1]/text()&quot;</span>).extract_first()</span><br><span class="line">            author = sel.xpath(<span class="string">&quot;string(./span[2])&quot;</span>).extract_first()</span><br><span class="line">            <span class="keyword">yield</span> &#123;</span><br><span class="line">                <span class="string">&#x27;quote&#x27;</span>:quote,</span><br><span class="line">                <span class="string">&#x27;author&#x27;</span>:author</span><br><span class="line">            &#125;</span><br><span class="line">        href = response.xpath(<span class="string">&quot;//li[@class=&#x27;next&#x27;]/a/@href&quot;</span>).extract_first()</span><br><span class="line">        <span class="keyword">if</span> href:</span><br><span class="line">            url = response.urljoin(href)</span><br><span class="line">            <span class="keyword">yield</span> scrapy_splash.SplashRequest(url)</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¦æ‰“å¼€dockerçš„splash</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spider </tag>
            
            <tag> Scrapy </tag>
            
            <tag> splash </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç–«æƒ…æ‰“å¡</title>
      <link href="2021/07/21/%E7%96%AB%E6%83%85%E6%89%93%E5%8D%A1/"/>
      <url>2021/07/21/%E7%96%AB%E6%83%85%E6%89%93%E5%8D%A1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Pythonçˆ¬è™«å®æˆ˜-ç–«æƒ…æ‰“å¡"><a href="#Pythonçˆ¬è™«å®æˆ˜-ç–«æƒ…æ‰“å¡" class="headerlink" title="Pythonçˆ¬è™«å®æˆ˜_ç–«æƒ…æ‰“å¡"></a>Pythonçˆ¬è™«å®æˆ˜_ç–«æƒ…æ‰“å¡</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>pythonè¿™ä¸ªè¯­è¨€æ˜“å­¦ç®€å•,ä¹Ÿå¯ä»¥åˆ©ç”¨å…¶ä¸°å¯Œçš„åº“å†™ç‚¹ä¸œè¥¿.</p><p>æ‰€ä»¥æˆ‘æ‰“ç®—å†™ä¸ªçˆ¬è™«æ‰“å¡(å…¶å®ä¹‹å‰æ—©å°±å†™è¿‡,ä¸è¿‡å·²ç»å¿˜å¹²å‡€äº†)</p><p>å¤§æ¦‚æµç¨‹æ˜¯ requests+seleniumå†åŠ ä¸ªå›¾å½¢ç•Œé¢tkinteræˆ–è€…pyqt</p><p>æœ¬æ¥æ‰“ç®—åªä½¿ç”¨requests getå’Œpostç›´æ¥æ‰“å¡çš„,è¯•äº†å¾ˆä¹…éƒ½å¡åœ¨åŸé¡µé¢.</p><p>å¸Œæœ›ä¼šçš„æœ‹å‹ç•™è¨€å¸®å¸®å¿™.å¦å¤–æˆ‘è¯•äº†è¯•seleniumçš„getcookieä¹Ÿæœªèƒ½æˆåŠŸ</p><span id="more"></span><h2 id="1-htmlè§£æ"><a href="#1-htmlè§£æ" class="headerlink" title="1.htmlè§£æ"></a>1.htmlè§£æ</h2><p>ä½¿ç”¨requests</p><p><a href="https://docs.python-requests.org/zh_CN/latest/index.html">Requestsä»‹ç»</a></p><h2 id="2-selenium"><a href="#2-selenium" class="headerlink" title="2.selenium"></a>2.selenium</h2><p><a href="https://python-selenium-zh.readthedocs.io/zh_CN/latest/">selenium-pythonä¸­æ–‡æ–‡æ¡£ (python-selenium-zh.readthedocs.io)</a></p><p>ä½¿ç”¨seleniumè‡ªåŠ¨åŒ–</p><p>ä¾‹å­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.keys <span class="keyword">import</span> Keys</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># option = Options()</span></span><br><span class="line"><span class="comment"># option.add_argument(&quot;--headless&quot;)</span></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line"></span><br><span class="line">login_url = <span class="string">&quot;http://yqtb.nwpu.edu.cn/wx/xg/yz-mobile/index.jsp&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–cookie</span></span><br><span class="line">driver.get(login_url)</span><br><span class="line"><span class="comment"># print(driver.get_cookies())</span></span><br><span class="line"><span class="comment"># print(driver.get_cookie(&#x27;domain&#x27;))</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;campus_Cookie.txt&#x27;</span>, <span class="string">&#x27;r+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        listCookies = json.loads(f.read())</span><br><span class="line">        <span class="keyword">for</span> cookie <span class="keyword">in</span> listCookies:</span><br><span class="line">            driver.add_cookie(&#123;</span><br><span class="line">               <span class="comment"># &quot;domain&quot;: cookie[&#x27;domain&#x27;],</span></span><br><span class="line">                <span class="string">&quot;httpOnly&quot;</span>: cookie[<span class="string">&quot;httpOnly&quot;</span>],</span><br><span class="line">                <span class="string">&quot;name&quot;</span>: cookie[<span class="string">&quot;name&quot;</span>],</span><br><span class="line">                <span class="string">&quot;path&quot;</span>: cookie[<span class="string">&#x27;path&#x27;</span>],</span><br><span class="line">                <span class="string">&quot;secure&quot;</span>: cookie[<span class="string">&#x27;secure&#x27;</span>],</span><br><span class="line">                <span class="string">&quot;value&quot;</span>: cookie[<span class="string">&quot;value&quot;</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            )</span><br><span class="line">    <span class="keyword">except</span> json.decoder.JSONDecodeError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;ç©ºçš„cookieæ–‡ä»¶&#x27;</span>)</span><br><span class="line">driver.get(login_url)</span><br><span class="line">driver.refresh()</span><br><span class="line"><span class="comment"># ç™»é™†</span></span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">2</span>)</span><br><span class="line">name = driver.find_element_by_id(<span class="string">&#x27;username&#x27;</span>)</span><br><span class="line">name.send_keys(<span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥å­¦å·:\n&quot;</span>))</span><br><span class="line">password = driver.find_element_by_id(<span class="string">&#x27;password&#x27;</span>)</span><br><span class="line">password.send_keys(<span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥å¯†ç :\n&quot;</span>))</span><br><span class="line">password.send_keys(Keys.RETURN)</span><br><span class="line"><span class="keyword">while</span> <span class="string">&#x27;è¥¿åŒ—å·¥ä¸šå¤§å­¦ | ç»Ÿä¸€èº«ä»½è®¤è¯ | ç™»å½•&#x27;</span> <span class="keyword">in</span> driver.page_source:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å¯†ç é”™è¯¯\nè¯·å†æ¬¡è¾“å…¥\n&quot;</span>)</span><br><span class="line">    name = driver.find_element_by_id(<span class="string">&#x27;username&#x27;</span>)</span><br><span class="line">    name.clear()</span><br><span class="line">    name.send_keys(<span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥å­¦å·:\n&quot;</span>))</span><br><span class="line">    password = driver.find_element_by_id(<span class="string">&#x27;password&#x27;</span>)</span><br><span class="line">    password.clear()</span><br><span class="line">    password.send_keys(<span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥å¯†ç :\n&quot;</span>))</span><br><span class="line">    password.send_keys(Keys.RETURN)</span><br><span class="line"><span class="comment"># ä¿å­˜cookie</span></span><br><span class="line">cookie = driver.get_cookies()</span><br><span class="line">jsonCookies = json.dumps(cookie)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;campus_Cookie.txt&#x27;</span>, <span class="string">&#x27;w+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(jsonCookies)</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¡«æŠ¥</span></span><br><span class="line">fill_form = driver.find_element_by_class_name(<span class="string">&#x27;icon-shangbao1&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="comment">#æäº¤</span></span><br><span class="line"></span><br><span class="line">submit = driver.find_element_by_link_text(<span class="string">&#x27;æäº¤å¡«æŠ¥ä¿¡æ¯&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line">submit = driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;qrxx_div&quot;]/div[2]/div[25]/label/div[1]/i&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿å­˜</span></span><br><span class="line">save = driver.find_element_by_id(<span class="string">&#x27;save_div&#x27;</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="comment">#ä¿å­˜cookie</span></span><br><span class="line">driver.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># driver.window_handles()</span></span><br><span class="line"><span class="comment"># def log_in():</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>cookieåŠŸèƒ½æ²¡æ³•ç”¨,æœ‰çŸ¥é“çš„æœ‹å‹éº»çƒ¦ç•™è¨€å‘Šè¯‰æˆ‘ä¸€ä¸‹</p><p>è¿™ä¸ªcookieæ€ä¹ˆæ·»åŠ ä¹‹åè¿›å…¥æ‰“å¡é¡µé¢</p><h2 id="3-å›¾å½¢ç•Œé¢-å…¶å®è¿™å¹¶ä¸é‡è¦"><a href="#3-å›¾å½¢ç•Œé¢-å…¶å®è¿™å¹¶ä¸é‡è¦" class="headerlink" title="3.å›¾å½¢ç•Œé¢(å…¶å®è¿™å¹¶ä¸é‡è¦)"></a>3.å›¾å½¢ç•Œé¢(å…¶å®è¿™å¹¶ä¸é‡è¦)</h2><p>é‰´äºPyQtçš„ä¸Šæ‰‹éš¾åº¦,æˆ‘ç”¨çš„tkinter(pythonè‡ªå¸¦çš„)</p><p>æ¨èä¸€æœ¬å­¦tkinterçš„ä¹¦,ã€ŠPython GUIè®¾è®¡:tkinterèœé¸Ÿç¼–ç¨‹ã€‹å°æ¹¾äººå†™çš„,å¤§æ¦‚ä¸€å‘¨èƒ½å¥½å¥½çœ‹å®Œ(æœ‰åŸºç¡€ä¸¤ä¸‰å¤©å°±è¡Œ)</p><h2 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h2><p>ä¹‹å‰å†™è¿‡ä¸€ä¸ªæ‰“å¡çš„ç¨‹åº </p><p>ä½†æ˜¯ç”¨çš„chromedriverç‰ˆæœ¬ä½äº†(ä¸»è¦æ˜¯æµè§ˆå™¨å‡çº§å¾—å¤ªå¿«),æˆ‘ä»¥ä¸ºå°±æ²¡æ³•ç”¨äº†</p><p>ä½†æ˜¯åªè¦æ–°ä¸‹è½½ä¸€ä¸ªç‰ˆæœ¬å¾—driverå°±è¡Œäº†</p><p>ç½‘ä¸Šè¿˜æœ‰è‡ªåŠ¨ä¸‹è½½çš„ä»£ç ã€‚ä¸è¿‡æˆ‘æ‡’å¾—åœ¨è¿™ä¸Šé¢èŠ±æ—¶é—´äº†</p>]]></content>
      
      
      
        <tags>
            
            <tag> spider </tag>
            
            <tag> python </tag>
            
            <tag> sign in </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scrapy ä¸‹è½½å›¾ç‰‡ æ–‡ä»¶</title>
      <link href="2021/07/20/Scrapy-%E4%B8%8B%E8%BD%BD%E5%9B%BE%E7%89%87-%E6%96%87%E4%BB%B6/"/>
      <url>2021/07/20/Scrapy-%E4%B8%8B%E8%BD%BD%E5%9B%BE%E7%89%87-%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Scrapy-ä¸‹è½½å›¾ç‰‡-æ–‡ä»¶"><a href="#Scrapy-ä¸‹è½½å›¾ç‰‡-æ–‡ä»¶" class="headerlink" title="Scrapy ä¸‹è½½å›¾ç‰‡ æ–‡ä»¶"></a>Scrapy ä¸‹è½½å›¾ç‰‡ æ–‡ä»¶</h1><h2 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1.å‰è¨€"></a>1.å‰è¨€</h2><p>Scrapyå¯ä»¥è¯´æ˜¯ä¸€è¾†å¤§è½¦,æˆ‘ä»¬å¹¶ä¸éœ€è¦æ³¨é‡ä¸ªåˆ«çš„é›¶ä»¶(ä»£ç ),è€Œæ˜¯æ³¨é‡éƒ¨ä»¶ä¹‹é—´çš„è”ç³»ã€‚å­¦ä¼šä½¿ç”¨è¿™ä¸ªæ¡†æ¶,å¯ä»¥è¯´æ–¹ä¾¿åˆå¿«æ·</p><span id="more"></span><p><img data-src="http://cdn.sekyoro.top/imgs/092919.png" alt="image-20210719172051258"></p><p><a href="https://www.runoob.com/w3cnote/scrapy-detail.html">Scrapy å…¥é—¨æ•™ç¨‹ </a></p><p>å…¥é—¨å¯ä»¥çœ‹çœ‹,ä¹Ÿæœ‰ç›¸å…³ä¹¦ç±å’Œå®˜æ–¹æ–‡æ¡£(ä¸è¿‡è²Œä¼¼ä¸­æ–‡æ–‡æ¡£å¾ˆä¹…æ²¡æ›´æ–°äº†)</p><p>çŸ¥é“äº†åŸºæœ¬çš„æ“ä½œ,å°±å¯ä»¥ç›´æ¥ä¸Šæ‰‹äº†</p><p>å¦‚æœæœ‰çˆ¬è™«ç»éªŒçš„è¯,ä¸€å¤©ä¸Šæ‰‹å®Œå…¨æ²¡é—®é¢˜</p><p><strong>ä¸€ä¸ªèŒƒä¾‹é¡¹ç›®</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"><span class="keyword">from</span> scrapy.linkextractors <span class="keyword">import</span> LinkExtractor</span><br><span class="line"><span class="keyword">from</span> ..items <span class="keyword">import</span> ToscrapeBookItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BooksSpider</span>(<span class="params">scrapy.Spider</span>):</span></span><br><span class="line">    name = <span class="string">&#x27;books&#x27;</span></span><br><span class="line">    allowed_domains = [<span class="string">&#x27;books.toscrape.com&#x27;</span>]</span><br><span class="line">    start_urls = [<span class="string">&#x27;http://books.toscrape.com/&#x27;</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¹¦ç±åˆ—è¡¨é¡µé¢è§£æ</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        <span class="comment"># æå–ä¹¦ç±åˆ—è¡¨é¡µé¢ä¸­æ¯æœ¬ä¹¦çš„é“¾æ¥</span></span><br><span class="line">        le = LinkExtractor(restrict_xpaths=<span class="string">&#x27;//div[@class=&quot;image_container&quot;]&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> link <span class="keyword">in</span> le.extract_links(response):</span><br><span class="line">            <span class="keyword">yield</span> scrapy.Request(link.url, callback=self.book_parse)</span><br><span class="line">        <span class="comment"># æå–ä¸‹ä¸€é¡µçš„é“¾æ¥</span></span><br><span class="line">        <span class="comment"># le = LinkExtractor(restrict_xpaths=&#x27;//li[@class=&quot;next&quot;]&#x27;)</span></span><br><span class="line">        <span class="comment"># links = le.extract_links(response)</span></span><br><span class="line">        <span class="comment"># if links:</span></span><br><span class="line">        <span class="comment">#     next_url = links[0].url</span></span><br><span class="line">        <span class="comment">#     yield scrapy.Request(next_url, callback=self.parse)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä¹¦ç±é¡µé¢ä¿¡æ¯çš„è§£æå‡½æ•°</span></span><br><span class="line">    <span class="comment"># review_rating = scrapy.Field()</span></span><br><span class="line">    <span class="comment"># review_num = scrapy.Field()</span></span><br><span class="line">    <span class="comment"># upc = scrapy.Field()  # ç¼–ç </span></span><br><span class="line">    <span class="comment"># stock = scrapy.Field()  # åº“å­˜</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">book_parse</span>(<span class="params">self, response</span>):</span></span><br><span class="line">        book = ToscrapeBookItem()</span><br><span class="line">        book[<span class="string">&#x27;name&#x27;</span>] = response.xpath(<span class="string">&quot;//div[contains(@class,&#x27;product_main&#x27;)]//h1/text()&quot;</span>).extract_first()</span><br><span class="line">        book[<span class="string">&#x27;price&#x27;</span>] = response.xpath(<span class="string">&quot;//div[contains(@class,&#x27;product_main&#x27;)]//p/text()&quot;</span>).extract_first()</span><br><span class="line">        book[<span class="string">&#x27;review_rating&#x27;</span>] = response.xpath(<span class="string">&quot;//p[contains(@class,&#x27;star-rating&#x27;)]/@class&quot;</span>).re_first(</span><br><span class="line">            <span class="string">&#x27;star-rating ([a-zA-Z]+)&#x27;</span>)</span><br><span class="line">        book[<span class="string">&#x27;review_num&#x27;</span>] = response.xpath(<span class="string">&quot;//table[contains(@class,&#x27;table&#x27;)]//tr[7]/td/text()&quot;</span>).extract_first()</span><br><span class="line">        book[<span class="string">&#x27;upc&#x27;</span>] = response.xpath(<span class="string">&quot;//table[contains(@class,&#x27;table&#x27;)]//tr[1]/td/text()&quot;</span>).extract_first()</span><br><span class="line">        book[<span class="string">&#x27;stock&#x27;</span>] = response.xpath(<span class="string">&quot;//table[contains(@class,&#x27;table&#x27;)]//tr[6]/td/text()&quot;</span>).re_first(</span><br><span class="line">            <span class="string">&#x27;\((\d+) available\)&#x27;</span>)</span><br><span class="line">        <span class="built_in">print</span>(book)</span><br><span class="line">        <span class="keyword">yield</span> book</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Define your item pipelines here</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Don&#x27;t forget to add your pipeline to the ITEM_PIPELINES setting</span></span><br><span class="line"><span class="comment"># See: https://docs.scrapy.org/en/latest/topics/item-pipeline.html</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># useful for handling different item types with a single interface</span></span><br><span class="line"><span class="keyword">import</span> itemadapter</span><br><span class="line"><span class="keyword">from</span> itemadapter <span class="keyword">import</span> ItemAdapter</span><br><span class="line"><span class="keyword">import</span> openpyxl</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ToscrapeBookPipeline</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.wb = openpyxl.Workbook()</span><br><span class="line">        self.ws = self.wb.active</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">process_item</span>(<span class="params">self, item, spider</span>):</span></span><br><span class="line">        line = [item[<span class="string">&#x27;name&#x27;</span>], item[<span class="string">&#x27;price&#x27;</span>], item[<span class="string">&#x27;review_rating&#x27;</span>], item[<span class="string">&#x27;review_num&#x27;</span>], item[<span class="string">&#x27;upc&#x27;</span>], item[<span class="string">&#x27;stock&#x27;</span>]]</span><br><span class="line">        self.ws.append(line)</span><br><span class="line">        <span class="keyword">return</span> item</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">close_spider</span>(<span class="params">self, spider</span>):</span></span><br><span class="line">        self.wb.save(<span class="string">&#x27;&#123;&#125;.csv&#x27;</span>.<span class="built_in">format</span>(spider.name))</span><br><span class="line">        self.wb.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Define here the models for your scraped items</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># See documentation in:</span></span><br><span class="line"><span class="comment"># https://docs.scrapy.org/en/latest/topics/items.html</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ToscrapeBookItem</span>(<span class="params">scrapy.Item</span>):</span></span><br><span class="line">    <span class="comment"># define the fields for your item here like:</span></span><br><span class="line">    <span class="comment"># name = scrapy.Field()</span></span><br><span class="line">    name = scrapy.Field()</span><br><span class="line">    price = scrapy.Field()</span><br><span class="line">    review_rating = scrapy.Field()</span><br><span class="line">    review_num = scrapy.Field()</span><br><span class="line">    upc = scrapy.Field()  <span class="comment">#ç¼–ç </span></span><br><span class="line">    stock = scrapy.Field()  <span class="comment">#åº“å­˜</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„åœ¨setting.pyä¸­æ‰“å¼€ç®¡é“ä»¥åŠæœ€å¥½æŠŠuser-agentå†™ä¸€ä¸‹</p><p>å¹¶æ”¹ä¸€ä¸‹å»¶è¿Ÿ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">&#x27;toscrape_book.pipelines.ToscrapeBookPipeline&#x27;</span>: <span class="number">300</span>,</span><br><span class="line">&#125;</span><br><span class="line">DOWNLOAD_DELAY = <span class="number">1</span></span><br><span class="line">ROBOTSTXT_OBEY = <span class="literal">False</span> <span class="comment">#è¿™ä¸ªè¦æ”¹ä¸ºFalse</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-ä¸‹è½½å›¾ç‰‡å’Œå›¾ç‰‡"><a href="#2-ä¸‹è½½å›¾ç‰‡å’Œå›¾ç‰‡" class="headerlink" title="2.ä¸‹è½½å›¾ç‰‡å’Œå›¾ç‰‡"></a>2.ä¸‹è½½å›¾ç‰‡å’Œå›¾ç‰‡</h2><p>æ¥ä¸‹æ¥å°±æ˜¯æ–‡ä»¶å’Œå›¾ç‰‡äº†</p><ol><li>FilePipeline</li><li>ImagePipeline</li></ol><p>åˆ©ç”¨è¿™ä¸¤ä¸ªä¸“é—¨çš„ä¸‹è½½å™¨,æˆ‘ä»¬åªç”¨ä¼ å‚å°±è¡Œäº†,æ–‡ä»¶ä¼šè‡ªåŠ¨ä¸‹è½½åˆ°æœ¬åœ°,å¹¶å°†ä¸‹è½½ä¿¡æ¯å­˜å…¥itemçš„ä¸€ä¸ªå­—æ®µ</p><p>æ­¥éª¤</p><ul><li><p>åœ¨é…ç½®æ–‡ä»¶(settings.py)ä¸­æ‰“å¼€ç®¡é“å¹¶è®¾ç½®ä¸‹è½½ç›®å½•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">   <span class="string">&#x27;scrapy.pipelines.files.FilesPipeline&#x27;</span>: <span class="number">1</span>,<span class="comment">#ä¼˜å…ˆåº¦æœ€é«˜</span></span><br><span class="line">&#125;</span><br><span class="line">FILES_STORE<span class="string">&#x27;./project&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>åœ¨Scrapyè§£æé¡µé¢æ—¶å°†æ–‡ä»¶ä¸‹è½½é“¾æ¥æ”¶é›†åˆ°ä¸€ä¸ªåˆ—è¡¨</p><p>èµ‹ç»™itemçš„file_urlså­—æ®µã€‚FilesPipelineåœ¨å¤„ç†itemæ—¶ä¼šè¯»å–è¯¥é¡¹å­—æ®µå¹¶è¿›è¡Œä¸‹è½½</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">spider</span>(<span class="params">scrapy.spider</span>):</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse</span>(<span class="params">response</span>):</span></span><br><span class="line">        item =&#123;&#125;</span><br><span class="line">        item[<span class="string">&#x27;file_urls&#x27;</span>]=[]</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> response.xpath(<span class="string">&#x27;&#x27;</span>).extract():</span><br><span class="line">            download_url = response.urljoin(url)</span><br><span class="line">            item[<span class="string">&#x27;file_urls&#x27;</span>].append(download_url)</span><br><span class="line">       <span class="keyword">yield</span> item</span><br></pre></td></tr></table></figure><p>å½“ä¸‹è½½å®Œæ–‡ä»¶å,ä¼šå°†ä¿¡æ¯æ”¶é›†åˆ°item[â€˜filesâ€™],ä¿¡æ¯åŒ…å«ï¼š1. path(ä¸‹è½½åˆ°æœ¬åœ°è·¯å¾„)2.Checksum(æ–‡ä»¶æ ¡éªŒå’Œ)3.url(æ–‡ä»¶çš„url)</p><p>ä»¥ä¸Šæ˜¯FilePipelineçš„ä½¿ç”¨</p><p>å›¾ç‰‡ç±»ä¼¼</p><p>å¯¼å…¥è·¯å¾„ scrapy.pipelines.images.ImagesPipeline</p><p>Item å­—æ®µ  image_urls images</p><p>ä¸‹è½½ç›®å½• IMAGES_STORE  </p></li></ul><p>ImagePipelineåœ¨Fileä¸Šå¢åŠ äº†å¯¹å›¾ç‰‡çš„å¤„ç†</p><ul><li>ç”Ÿæˆç¼©ç•¥å›¾  åœ¨settings.pyä¸­è®¾ç½®IMAGES_THUMBS(dict)  è®¾ç½®å­—å…¸çš„æ¯ä¸€é¡¹å€¼(ç¼©ç•¥å›¾çš„å°ºå¯¸)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">IMAGES_THUMBS = &#123;</span><br><span class="line">   <span class="string">&#x27;small&#x27;</span>:(<span class="number">50</span>,<span class="number">50</span>),</span><br><span class="line">   <span class="string">&#x27;big&#x27;</span>:(<span class="number">270</span>,<span class="number">270</span>),</span><br><span class="line">&#125;<span class="comment">#å¢åŠ ç¼©ç•¥å›¾</span></span><br></pre></td></tr></table></figure><p>å¼€å¯è¯¥åŠŸèƒ½,ä¸‹è½½ä¸€å¼ å›¾ç‰‡ä¼šæœ‰ä¸‰å¼ å›¾ç‰‡</p><ul><li><p>è¿‡æ»¤æ‰å°ºå¯¸è¿‡å°çš„å›¾ç‰‡</p><p>åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®IMAGES_MIN_WIDTH  IMAGES_MIN_HEIGHT </p><p>åˆ†åˆ«æŒ‡å®šå›¾ç‰‡æœ€å°çš„å®½å’Œé«˜</p><p>å¼€å¯è¯¥åŠŸèƒ½åå°äºè¿™ä¸ªå°ºå¯¸çš„ä¼šå¿½ç•¥</p></li></ul><p>ä»¥ä¸Šèµ„æ–™æ¥æºäºã€Šç²¾é€šScrapyç½‘ç»œçˆ¬è™«ã€‹(åˆ˜ç¡•)</p><h2 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h2><p>å†™ä¸€æ³¢å®æˆ˜ çˆ¬å–å›¾ç‰‡</p><p>ç½‘å€ <a href="https://gelbooru.com/index.php?page=post&amp;s=list&amp;tags=all">| Gelbooru </a></p><p>(æ„Ÿè§‰æœ‰ç‚¹å±é™©)</p><h3 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h3><p>åˆ›å»ºé¡¹ç›®</p><p><img data-src="http://cdn.sekyoro.top/imgs/092922.png" alt="image-20210720224648989"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scrapy startprojct name</span><br><span class="line"></span><br><span class="line">cd name</span><br><span class="line"></span><br><span class="line">scrapy genspider name name.com</span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h3><p>æ˜ç¡®ä»»åŠ¡   </p><p>çˆ¬å–æ¯ä¸€é¡µçš„å›¾ç‰‡æ‰€åœ¨åœ°å€ä»¥åŠä¸‹ä¸€é¡µåœ°å€(ä½¿ç”¨LinkExtractor) a href</p><p>çˆ¬å–å›¾ç‰‡,ä½¿ç”¨è‡ªå¸¦çš„ImagePipiline</p><p>æ ¹æ®ä¹‹å‰è¯´çš„</p><p>å¼€å¯Image.Pipelineç®¡é“   ä¸éµå®ˆrobotåè®®  è®¾ç½®ä¸‹è½½è·¯å¾„ </p><p><img data-src="http://cdn.sekyoro.top/imgs/092925.png" alt="image-20210720225237812"></p><p>å¹¶è®¾ç½®ä¸€ä¸‹user-agentä¸ä¸‹è½½å»¶æ—¶</p><p>å¤§æ¦‚è¿™æ ·</p><p>ç„¶åå¼€å†™</p><p><img data-src="http://cdn.sekyoro.top/imgs/092928.png" alt="image-20210720225423059"></p><p>æŸ¥çœ‹å…ƒç´ (æœ€å¥½ Scrapy shell),å¯ä»¥çœ‹åˆ°æ¯å¼ å›¾ç‰‡çš„é“¾æ¥åœ¨<div class='thumbnail-container'>ä¸‹  å¾ˆå¥½çˆ¬å–</p><p><img data-src="http://cdn.sekyoro.top/imgs/092929.png" alt="image-20210720225737447"></p><p>å†™å¥½item,ç¬¬ä¸€é¡¹æ˜¯è¦ä¼ é€’çš„å‚æ•°,å›¾åƒçš„é“¾æ¥ä¾›ä¸‹è½½</p><p>ç¬¬äºŒé¡¹ä¼šè¿”å›ç›¸å…³ä¿¡æ¯</p><p>æ ¹æ®è§‚å¯Ÿå‘ç°,å…¶å®pidå‚æ•°ä¸é¡µæ•°ç›¸å…³,æ¯ä¸€é¡µ42(å…¶å®å°±æ˜¯å›¾ç‰‡æ•°)</p><p>æ‰€ä»¥å¯ä»¥é€šè¿‡æ”¹å˜è¿™ä¸ªå‚æ•°å‘é€è¯·æ±‚çˆ¬å–æ¯ä¸€é¡µ</p><p>å¦‚æœé€šè¿‡è·å–æ¯ä¸€é¡µçš„ä¸‹ä¸€é¡µé“¾æ¥,æˆ‘å‘ç°å®ƒæ˜¯è¿™æ ·çš„,é€šè¿‡LinkExtractorå,å› ä¸ºä¸‹ä¸€é¡µçš„hrefæ€»ä¼šä¸å­˜åœ¨çš„æŸä¸€é¡µçš„hrefç›¸åŒ,è²Œä¼¼ä¼šè¦†ç›–æ‰.ä¹Ÿå°±æ˜¯æ— æ³•é€šè¿‡le.extract_links(response)[-1]å¾—åˆ°æœ€åä¸€é¡¹</p><p>æ‰€ä»¥æˆ‘æœ€åæ²¡æœ‰ç”¨LinkExtractor(å¦‚æœå“ªä½æœ‹å‹çŸ¥é“å¦‚ä½•å¤„ç†éº»çƒ¦å‘ŠçŸ¥)</p><p>ç›´æ¥ä½¿ç”¨response.xpathè·å–é“¾æ¥,éº»çƒ¦çš„åœ°æ–¹å°±æ˜¯è¦å°†ç›¸å¯¹åœ°å€å˜ä¸ºç»å¯¹åœ°å€</p><p><img data-src="http://cdn.sekyoro.top/imgs/092931.png" alt="image-20210720231310444"></p><p><img data-src="http://cdn.sekyoro.top/imgs/092934.png" alt="image-20210720231944580"></p><p>ä¸€ä¸ªæ˜¯parse ,ç”¨äºçˆ¬å–æ¯ä¸€å¼ å›¾ç‰‡çš„äºŒçº§é“¾æ¥(é¦–é¡µé“¾æ¥çš„å›¾ç‰‡æ˜æ˜¾åå°)ä¸ä¸‹ä¸€é¡µé“¾æ¥</p><p>å¦ä¸€ä¸ªæ˜¯pic_parse,ç”¨ä¸è·å–å›¾ç‰‡é“¾æ¥</p><p><img data-src="http://cdn.sekyoro.top/imgs/065121.png" alt="image-20210720232401831"></p><p>è§‚å¯Ÿå¯çŸ¥,å›¾ç‰‡é“¾æ¥åœ¨<picture>çš„srcä¸‹,å¯ä»¥ä½¿ç”¨xpath</p><p><img data-src="http://cdn.sekyoro.top/imgs/092937.png" alt="image-20210720233928786"></p><p>è¿™é‡Œç›´æ¥è·å–é“¾æ¥,æ³¨æ„ä¸€å®šè¦æ˜¯åˆ—è¡¨å½¢å¼</p><p>æˆ‘æœ‰å®šäº†ä¸¤ä¸ªå­—æ®µæƒ³ç”¨æ¥é‡å‘½åå›¾ç‰‡å  å¯ä»¥å¤å†™ImagesPipelineä½¿å›¾ç‰‡åå­—è‡ªå®šä¹‰.ä½†æˆ‘è¿™é‡Œæ²¡å†™ã€‚ç±»ä¼¼ä¸‹é¢è¿™æ ·</p><p><img data-src="http://cdn.sekyoro.top/imgs/092940.png" alt="image-20210720233546829"></p><p>æœ€å scrapy crawl name è¿è¡Œå³å¯</p><p>æ³¨æ„ æˆ‘è¿™é‡Œæ²¡æœ‰å†™åœæ­¢æ¡ä»¶,å³ä¼šä¸€ç›´çˆ¬åˆ°æœ€å</p><p>åªè¦å†™ä¸€ä¸ªæ§åˆ¶å°±è¡Œäº†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">51</span>):            url = <span class="string">&quot;https://gelbooru.com/index.php?page=post&amp;s=list&amp;tags=all&amp;pid=&#123;&#125;&quot;</span>.<span class="built_in">format</span>(i)            <span class="keyword">yield</span> scrapy.Request(url,callback=self.parse())        <span class="comment">#æ§åˆ¶çˆ¬å–çš„é¡µæ•°</span></span><br></pre></td></tr></table></figure><p>æœ€å å¦‚æœæœ‰é—®é¢˜è¯·å›å¤</p><p>æˆ‘ä¹Ÿæ˜¯æ‰å­¦</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spider </tag>
            
            <tag> Scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸Qtå¼€å‘å…¥é—¨_1.å®‰è£…ä¸ä¸‹è½½</title>
      <link href="2021/07/08/C++%E4%B8%8EQt%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8_1.%E5%AE%89%E8%A3%85%E4%B8%8E%E4%B8%8B%E8%BD%BD/"/>
      <url>2021/07/08/C++%E4%B8%8EQt%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8_1.%E5%AE%89%E8%A3%85%E4%B8%8E%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>é—²æ¥æ— äº‹,æˆ‘ç©ç©Qt.ä¸è¿‡æˆ‘çœ‹ç½‘ä¸Šè¯´è¿™ä¸œè¥¿æœ‰ç‚¹è¿‡æ—¶,è¿˜æåˆ°äº†Flutter</p><p>ä¸è¿‡æˆ‘å·²ç»æ— æ‰€è°“äº†</p><span id="more"></span><p>ä¸‹è½½é•œåƒç½‘å€</p><p><a href="https://links.jianshu.com/go?to=http%3A%2F%2Fdownload.qt.io%2Farchive%2Fqt%2F">http://download.qt.io/archive/qt/</a></p><p>å®‰è£…å¯ä»¥å‚ç…§<a href="https://links.jianshu.com/go?to=http%3A%2F%2Fdownload.qt.io%2Farchive%2Fqt%2F">http://download.qt.io/archive/qt/</a></p><p>æˆ‘æ˜¯vs2019+qt5.14</p><p>ä¸è¿‡æˆ‘åœ¨ä¸‹è½½æ—¶é‡åˆ°å‡ ä¸ªé—®é¢˜,åœ¨è¿™é‡Œæå‡ºæ¥</p><ol><li>æˆ‘ç”¨äº†visual studioæ­é…Qt,æ‰€ä»¥éœ€è¦vsaddinè¿™ä¸ªæ’ä»¶.æ—¢å¯ä»¥åœ¨é‚£ä¸ªé•œåƒç½‘å€é‡Œä¸‹è½½(é€Ÿåº¦è¾ƒå¿«),ä¹Ÿå¯ä»¥åœ¨vsé‡Œä¸‹è½½(æˆ‘è¯•äº†è¯•,ç¿»å¢™é€Ÿåº¦å¿«å¾ˆå¤š)</li><li>å¦‚æœç”¨vsçš„è¯éœ€è¦msvc,ä¸€èˆ¬æƒ…å†µç”¨MinGW.UWPæ˜¯windowså¹³å°,è¿™äº›æ®æƒ…å†µå®‰è£…</li><li>å¦‚æœvscodeæ˜¯2018æˆ–ä»¥ä¸Š,qt5.14åªæœ‰msvc2017,å¦‚æœæ²¡æœ‰è£…msvc2017çš„è¯,å¥—ä»¶ä¼šå‡ºç°è­¦å‘Š,ä¸è¿‡å½±å“ä¸å¤§</li></ol><p><img data-src="http://cdn.sekyoro.top/imgs/065124.png" alt="image-20210708205605907"></p><ol><li>å…³äºQt for desktop,æˆ‘ä¹‹å‰è®°å¾—åº”è¯¥æœ‰è¿™ä¸ªä¸œè¥¿çš„,ç°åœ¨è¿™ç‰ˆæœ¬æ²¡æ‰¾åˆ°äº†ã€‚</li></ol><p>å½“æˆ‘æƒ³æ‰“åŒ…ç¨‹åºæ—¶éœ€è¦ç”¨åˆ°windeployqt(<a href="https://blog.csdn.net/my1324/article/details/103270782">Qt5ç¨‹åºæ‰“åŒ…å‘å¸ƒï¼ˆWindowsç‰ˆï¼‰ï¼ˆä¸€ï¼‰_my1324çš„åšå®¢-CSDNåšå®¢_qtæ‰“åŒ…å‘å¸ƒwindows</a>),ç…§è¿™ä¸ªæ•™ç¨‹ä¸å¤ªè¡Œ</p><p>ä¸è¿‡åªè¦æŠŠç›¸åº”ç¼–è¯‘å™¨ä¸‹åŒ…å«windeployqtçš„æ–‡ä»¶å¤¹binè®¾ä¸ºç¯å¢ƒå˜é‡pathå°±è¡Œ</p><p><img data-src="http://cdn.sekyoro.top/imgs/092944.png" alt="image-20210708210707199"></p><p>è¿™æ ·å°±æ–¹ä¾¿ä»¥åæ‰“åŒ…å¯æ‰§è¡Œç¨‹åºäº†.</p><p>å…ˆå…¥é—¨å¤§æ¦‚å†™åˆ°è¿™,åé¢æ…¢æ…¢ç¢ç£¨</p><p><img data-src="https://i.loli.net/2021/07/08/ClI3Pztemyaxq9H.jpg" alt="5.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> fun </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Qt </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯¾ç¨‹èµ„æºåˆ†äº«</title>
      <link href="2021/07/08/%E8%AF%BE%E7%A8%8B%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/"/>
      <url>2021/07/08/%E8%AF%BE%E7%A8%8B%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>ä¸€äº›è¯¾ç¨‹èµ„æ–™<br>å½“ç„¶,è¦çœ‹å…·ä½“å­¦æ ¡äº†<br><span id="more"></span></p><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1Ex0OYxdR8Xd_RXza3UAzQA">https://pan.baidu.com/s/1Ex0OYxdR8Xd_RXza3UAzQA</a><br>æå–ç ï¼š0jdd </p><p><img data-src="http://cdn.sekyoro.top/imgs/092946.jpg" alt="å›¾ç‰‡"></p><p><img data-src="https://i.loli.net/2021/07/08/XZ36z4pGWadBr7k.jpg" alt="Konachan.com - 326372 aqua_eyes bell blue_hair blush breasts flowers ganyu__genshin_impact_ genshin_impact gloves horns leotard long_hair pantyhose piukute062 signed.jpg"></p>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> material </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„noj_3</title>
      <link href="2021/06/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84noj-3/"/>
      <url>2021/06/12/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84noj-3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="æ•°æ®ç»“æ„noj-3"><a href="#æ•°æ®ç»“æ„noj-3" class="headerlink" title="æ•°æ®ç»“æ„noj_3"></a>æ•°æ®ç»“æ„noj_3</h1><p>å·®ä¸å¤šçœ‹çœ‹å°±è¡Œäº†</p><span id="more"></span><h2 id="21"><a href="#21" class="headerlink" title="21."></a>21.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093903.png" alt="image-20210612110800240"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max 2000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Snode</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> tag;   <span class="comment">//æ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">char</span> elem;</span><br><span class="line">    <span class="keyword">int</span> prio;  <span class="comment">//ä¼˜å…ˆçº§</span></span><br><span class="line">&#125; Snode; <span class="comment">//å­—ç¬¦èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">MyString</span>&#123;</span></span><br><span class="line">    Snode data[max];</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">&#125;MyString;  <span class="comment">//å­˜å‚¨å­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TNode</span>&#123;</span></span><br><span class="line">    Snode data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">TNode</span> *<span class="title">lchild</span>,*<span class="title">rchild</span>;</span></span><br><span class="line">&#125;TNode,BiTree,*PTNode;   <span class="comment">//äºŒå‰æ ‘</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Clear</span><span class="params">(MyString *S)</span><span class="comment">//å»é™¤å¤–å±‚å¤šä½™çš„æ‹¬å·</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> level = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(S-&gt;data[<span class="number">0</span>].elem == <span class="string">&#x27;(&#x27;</span> &amp;&amp; S-&gt;data[S-&gt;length - <span class="number">1</span>].elem == <span class="string">&#x27;)&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; S-&gt;length<span class="number">-1</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(S-&gt;data[i].elem == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">            level++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(S-&gt;data[i].elem == <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">            level--;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(level == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; S-&gt;length<span class="number">-1</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            S-&gt;data[i<span class="number">-1</span>] = S-&gt;data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        S-&gt;length = S-&gt;length - <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InitString</span><span class="params">(MyString *S)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c[max];</span><br><span class="line">    <span class="keyword">int</span> len,baselevel = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,c);</span><br><span class="line">    len = <span class="built_in">strlen</span>(c);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        S-&gt;data[i].elem = c[i];</span><br><span class="line"><span class="keyword">if</span> (c[i] == <span class="string">&#x27;+&#x27;</span> || c[i] == <span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">S-&gt;data[i].tag = <span class="number">1</span>;</span><br><span class="line">S-&gt;data[i].prio = baselevel + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (c[i] == <span class="string">&#x27;*&#x27;</span> || c[i] == <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">S-&gt;data[i].tag = <span class="number">1</span>;</span><br><span class="line">S-&gt;data[i].prio = baselevel + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (c[i] == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">S-&gt;data[i].tag = <span class="number">0</span>;</span><br><span class="line">baselevel = baselevel + <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (c[i] == <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">&#123;</span><br><span class="line">S-&gt;data[i].tag = <span class="number">0</span>;</span><br><span class="line">baselevel = baselevel - <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">S-&gt;data[i].tag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    S-&gt;length = len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">FindMid</span><span class="params">(MyString *S)</span></span>&#123; <span class="comment">//è¿”å›levelæœ€å°ç¬¦å·çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>,min = max;<span class="comment">//min å½“å‰æœ€å°çš„levelï¼Œposè®°å½•ä¸‹æ ‡</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; S-&gt;length;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(S-&gt;data[i].prio &lt;= min &amp;&amp; S-&gt;data[i].tag == <span class="number">1</span>)<span class="comment">// ä¼˜å…ˆçº§ç›¸åŒæ—¶ï¼Œå…ˆç®—å‰é¢çš„ï¼Œæ‰€ä»¥å°†åé¢çš„ä½œä¸ºä¸­é—´å€¼åˆ’åˆ†ã€‚</span></span><br><span class="line">        &#123;</span><br><span class="line">            min = S-&gt;data[i].prio;</span><br><span class="line">            pos = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">PTNode <span class="title">CreatTree</span><span class="params">(MyString *S)</span></span>&#123;</span><br><span class="line">    MyString left,right;</span><br><span class="line">    PTNode T;</span><br><span class="line">    T = (PTNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TNode));</span><br><span class="line">    <span class="keyword">int</span> midpos,len;</span><br><span class="line">    len = S-&gt;length;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(len == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        T-&gt;data = S-&gt;data[len<span class="number">-1</span>];</span><br><span class="line">        T-&gt;lchild = <span class="literal">NULL</span>;</span><br><span class="line">        T-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(len &gt; <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        midpos = FindMid(S);</span><br><span class="line">        left.length = midpos;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; midpos;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            left.data[i] = S-&gt;data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        right.length = S-&gt;length - midpos - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; right.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            right.data[i] = S-&gt;data[i+midpos+<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        Clear(&amp;left);</span><br><span class="line">        Clear(&amp;right);</span><br><span class="line">        T-&gt;data = S-&gt;data[midpos];</span><br><span class="line">        T-&gt;lchild = (TNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TNode));</span><br><span class="line">        T-&gt;rchild = (TNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TNode));</span><br><span class="line"></span><br><span class="line">        T-&gt;lchild = CreatTree(&amp;left);</span><br><span class="line">        T-&gt;rchild = CreatTree(&amp;right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Last</span><span class="params">(BiTree* T)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(T-&gt;lchild == <span class="literal">NULL</span> &amp;&amp; T-&gt;rchild == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,T-&gt;data.elem);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Last(T-&gt;lchild);</span><br><span class="line">        Last(T-&gt;rchild);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,T-&gt;data.elem);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    MyString s;</span><br><span class="line">    s.length = <span class="number">0</span>;</span><br><span class="line">    PTNode T;</span><br><span class="line"></span><br><span class="line">    InitString(&amp;s);</span><br><span class="line">    Clear(&amp;s);</span><br><span class="line">    T = CreatTree(&amp;s);</span><br><span class="line">    Last(T);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="22"><a href="#22" class="headerlink" title="22."></a>22.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093906.png" alt="image-20210612110908312"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> YES 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NO 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_VERTEX_NUM 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Seqlist</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Seqlist</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; Seqlist, *pList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> adj; <span class="comment">//æƒå€¼æ•°æ®</span></span><br><span class="line"></span><br><span class="line">&#125; ArcNode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">AdjMatrix</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> vertex[MAX_VERTEX_NUM];                   <span class="comment">//é¡¶ç‚¹å‘é‡</span></span><br><span class="line">    ArcNode arcs[MAX_VERTEX_NUM][MAX_VERTEX_NUM]; <span class="comment">//é‚»æ¥çŸ©é˜µ,æƒå€¼</span></span><br><span class="line">    <span class="keyword">int</span> vexnum, arcnum;                           <span class="comment">//é¡¶ç‚¹æ•°ä¸å¼§æ•°</span></span><br><span class="line">&#125; AdjMatrix;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–æœ‰å‘å›¾æƒå€¼</span></span><br><span class="line"><span class="function">AdjMatrix <span class="title">initial</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(AdjMatrix, <span class="keyword">int</span>, <span class="keyword">int</span>[], pList *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–è·¯å¾„ ä»v0å¼€å§‹åˆ°viçš„æœ€çŸ­è·¯å¾„åºåˆ—</span></span><br><span class="line"><span class="comment">//åˆå€¼ä¸º è‹¥v0åˆ°viæœ‰å¼§,åˆ™ä¸ºv0,vi</span></span><br><span class="line"><span class="function">pList <span class="title">initial_path</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">member</span><span class="params">(<span class="keyword">int</span>, pList)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addtail</span><span class="params">(pList, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="comment">// pList addtail(pList,int);</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span>[], AdjMatrix)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AdjMatrix adj;</span><br><span class="line">    pList s;</span><br><span class="line">    <span class="comment">//distå­˜å‚¨ç›®å‰å·²ç»æ‰¾åˆ°çš„v0åˆ°viå½“å‰æœ€çŸ­è·¯å¾„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">int</span> dist[MAX_VERTEX_NUM];</span><br><span class="line">    <span class="comment">//path,è‹¥v0åˆ°viæœ‰è·¯å¾„åˆ™å­˜å‚¨,å¦åˆ™ä¸ºç©º</span></span><br><span class="line">    pList *path = (pList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(pList));</span><br><span class="line">    adj = initial();</span><br><span class="line">    dijkstra(adj, <span class="number">0</span>, dist, path);</span><br><span class="line">    output(dist,adj);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">AdjMatrix <span class="title">initial</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AdjMatrix adj;</span><br><span class="line">    <span class="keyword">int</span> vexnum, arcnum;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;vexnum, &amp;arcnum);</span><br><span class="line">    adj.vexnum = vexnum;</span><br><span class="line">    adj.arcnum = arcnum;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// for (int i = 0; i &lt; vexnum; i++)</span></span><br><span class="line">    <span class="comment">//     scanf(&quot;%d&quot;, &amp;adj.vertex[i]); //è¾“å…¥æ¯ä¸ªèŠ‚ç‚¹ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vexnum; i++)</span><br><span class="line">        adj.vertex[i] = i + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> i, j, weight;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> ix = <span class="number">0</span>; ix &lt; vexnum; ix++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> jx = <span class="number">0</span>; jx &lt; vexnum; jx++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ix != jx)</span><br><span class="line">                adj.arcs[ix][jx].adj = INT_MAX;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                adj.arcs[ix][jx].adj = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (arcnum--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;i, &amp;j, &amp;weight);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> ix = <span class="number">0</span>; ix &lt; vexnum; ix++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (adj.vertex[ix] == i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> jx = <span class="number">0</span>; jx &lt; vexnum; jx++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (adj.vertex[jx] == j)</span><br><span class="line">                    &#123;</span><br><span class="line">                        adj.arcs[ix][jx].adj = weight;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> adj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(AdjMatrix adj, <span class="keyword">int</span> v0, <span class="keyword">int</span> dist[], pList path[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pList s;</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ– dist ä¸ºé•¿åº¦æœ€çŸ­çš„ä¸€æ¡çš„æœ€çŸ­è·¯å¾„</span></span><br><span class="line">    <span class="comment">//pathä¸ºå­˜åœ¨è·¯å¾„çš„åºåˆ—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; adj.vexnum; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        path[i] = initial_path();</span><br><span class="line">        dist[i] = adj.arcs[v0][i].adj;</span><br><span class="line">        <span class="keyword">if</span> (dist[i] &lt; INT_MAX)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            addtail(path[i], adj.vertex[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    s = initial_path();</span><br><span class="line">    <span class="comment">// addtail(s, adj.vertex[v0]);</span></span><br><span class="line">    <span class="keyword">int</span> k ;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> t = <span class="number">1</span>; t &lt;= adj.vexnum - <span class="number">1</span>; t++) <span class="comment">//è®¡ç®—v0ä»ç¬¬äºŒä¸ªåˆ°æœ€åä¸€ä¸ªç»“ç‚¹æœ€çŸ­è·¯å¾„</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> min = INT_MAX;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; adj.vexnum; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!member(adj.vertex[j], s) &amp;&amp; dist[j] &lt; min) <span class="comment">//jä¸åœ¨sä¸­ä¸”å­˜åœ¨è·¯å¾„</span></span><br><span class="line">            &#123;</span><br><span class="line">                k = j;</span><br><span class="line">                min = dist[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// if(min == INT_MAX)</span></span><br><span class="line">        <span class="comment">// continue;</span></span><br><span class="line">        addtail(s, adj.vertex[k]);</span><br><span class="line">        <span class="comment">// if(dist[])</span></span><br><span class="line">        <span class="comment">// if ()</span></span><br><span class="line">        <span class="comment">//     printf(&quot;1 %d %d\n&quot;, k + 1, (dist[k] == INT_MAX) ? -1 : dist[k]);</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; adj.vexnum; i++) <span class="comment">//ä¿®æ­£dist[i]</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!member(adj.vertex[i], s) &amp;&amp; adj.arcs[k][i].adj &lt; INT_MAX &amp;&amp; (dist[k] + adj.arcs[k][i].adj &lt; dist[i]))</span><br><span class="line"></span><br><span class="line">            &#123;</span><br><span class="line">                dist[i] = dist[k] + adj.arcs[k][i].adj;</span><br><span class="line">                path[i] = path[k];</span><br><span class="line">                addtail(path[i], adj.vertex[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">pList <span class="title">initial_path</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pList l = (pList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Seqlist));</span><br><span class="line">    l-&gt;value = <span class="number">0</span>;</span><br><span class="line">    l-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> l;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addtail</span><span class="params">(pList path, <span class="keyword">int</span> vertex)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// if(path-&gt;value == 0)</span></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">//     path-&gt;value = vertex;</span></span><br><span class="line">    <span class="comment">//     path-&gt;next = NULL;</span></span><br><span class="line">    <span class="comment">//     return;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    pList c = (pList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Seqlist));</span><br><span class="line">    c-&gt;value = vertex;</span><br><span class="line">    c-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span> (path-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">        path = path-&gt;next;</span><br><span class="line">    path-&gt;next = c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// pList addtail(pList path,int vertex)</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     pList c = (pList)malloc(sizeof(Seqlist));</span></span><br><span class="line"><span class="comment">//     pList l = path;</span></span><br><span class="line"><span class="comment">//     c-&gt;value = vertex;</span></span><br><span class="line"><span class="comment">//     c-&gt;next = NULL;</span></span><br><span class="line"><span class="comment">//     while(l)</span></span><br><span class="line"><span class="comment">//     l = l-&gt;next;</span></span><br><span class="line"><span class="comment">//     l = c;</span></span><br><span class="line"><span class="comment">//     return path;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">member</span><span class="params">(<span class="keyword">int</span> vertex, pList path)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (path)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (vertex == path-&gt;value)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> YES;</span><br><span class="line">        &#125;</span><br><span class="line">        path = path-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> NO;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(<span class="keyword">int</span> dist[], AdjMatrix adj)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// int temp;</span></span><br><span class="line">    <span class="comment">// for(int i = 1;i&lt;adj.vexnum-1;i++)</span></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">//     for(int j = 1;j&lt;adj.vexnum - i -1;j++)</span></span><br><span class="line">    <span class="comment">//     &#123;</span></span><br><span class="line">    <span class="comment">//         if(dist[j]&gt;dist[j+1])</span></span><br><span class="line">    <span class="comment">//             &#123;</span></span><br><span class="line">    <span class="comment">//                     temp = dist[j];</span></span><br><span class="line">    <span class="comment">//                     dist[j] = dist[j+1];</span></span><br><span class="line">    <span class="comment">//                     dist[j+1] = temp;</span></span><br><span class="line">    <span class="comment">//             &#125;</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// for(int i = 1;i&lt;adj.vexnum;i++)</span></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">//     printf(&quot;1 %d %d\n&quot;,i+1,(dist[i]==INT_MAX)?(-1):dist[i]);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// int min = INT_MAX;</span></span><br><span class="line">    <span class="comment">// int max = INT_MAX;</span></span><br><span class="line">    <span class="comment">// int mark = 1;</span></span><br><span class="line">    <span class="comment">// for(int t = 1;t&lt;=adj.vexnum;t++)</span></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">// for(int i = 1;i&lt;adj.vexnum;i++)</span></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">//     min = INT_MAX;</span></span><br><span class="line">    <span class="comment">//     if(dist[i]&lt;min&amp;&amp;dist[i]!=0&amp;&amp;dist[i]&gt;=dist[mark])</span></span><br><span class="line">    <span class="comment">//     &#123;</span></span><br><span class="line">    <span class="comment">//         min = dist[i];</span></span><br><span class="line">    <span class="comment">//         mark = i;</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// if(min!=INT_MAX)</span></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">// printf(&quot;1 %d %d\n&quot;,adj.vertex[mark],min);</span></span><br><span class="line">    <span class="comment">// dist[mark] = 0;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// else</span></span><br><span class="line">    <span class="comment">// printf(&quot;1 %d %d\n&quot;,adj.vertex[mark],-1);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="keyword">int</span> min;</span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> t = <span class="number">1</span>; t &lt; adj.vexnum; t++)</span><br><span class="line">    &#123;</span><br><span class="line">        min = INT_MAX;</span><br><span class="line">        <span class="keyword">for</span> ( i = <span class="number">1</span>; i &lt; adj.vexnum; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (dist[i] &lt; min &amp;&amp; dist[i] != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                flag = i;</span><br><span class="line">                min = dist[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// if (dist[i] == INT_MAX)</span></span><br><span class="line">            <span class="comment">// &#123;</span></span><br><span class="line">            <span class="comment">//     flag = i;</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (min != INT_MAX)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;1 %d %d\n&quot;</span>, adj.vertex[flag], min);</span><br><span class="line">            dist[flag] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;1 %d %d\n&quot;</span>, adj.vertex[i<span class="number">-1</span>], <span class="number">-1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="23"><a href="#23" class="headerlink" title="23."></a>23.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093908.png" alt="image-20210612110943431"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 11</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">&#125;Recordtype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> Recordtype hashtable[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create</span><span class="params">(hashtable,<span class="keyword">int</span>[],<span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> data[<span class="number">8</span>] = &#123;<span class="number">22</span>,<span class="number">41</span>,<span class="number">53</span>,<span class="number">46</span>,<span class="number">30</span>,<span class="number">13</span>,<span class="number">1</span>,<span class="number">67</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">    hashtable ht;</span><br><span class="line">    create(ht,data,<span class="number">8</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">        s+=ht[i].flag;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,s/<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">3</span>*k)%<span class="number">11</span>;<span class="comment">//è¿”å›ä½ç½®</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">create</span><span class="params">(hashtable ht,<span class="keyword">int</span> data[],<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;N;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ht[i].key = <span class="number">0</span>;</span><br><span class="line">        ht[i].flag = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> h;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        h = hash(data[i]);</span><br><span class="line">        <span class="keyword">if</span>(ht[h].key==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ht[h].key = data[i];</span><br><span class="line">            ht[h].flag = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">while</span>(ht[h].key!=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                h++;</span><br><span class="line">                h = h%<span class="number">11</span>;</span><br><span class="line">                flag++;</span><br><span class="line">            &#125;</span><br><span class="line">            ht[h].key = data[i];</span><br><span class="line">            ht[h].flag = flag;</span><br><span class="line">            flag = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="24"><a href="#24" class="headerlink" title="24."></a>24.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093912.png" alt="image-20210612111013055"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//24.c</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">rchild</span>;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">&#125;Bstnode,*Bstree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_bstree</span><span class="params">(Bstree)</span></span>;</span><br><span class="line"><span class="function">Bstree <span class="title">create</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bstree t = (Bstree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Bstnode));</span><br><span class="line">    t = create();    </span><br><span class="line">    <span class="keyword">if</span>(is_bstree(t))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;yes\n&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;no\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Bstree <span class="title">create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> elem;</span><br><span class="line">    Bstree p;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;elem);</span><br><span class="line">    <span class="keyword">if</span>(elem!=<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">       p = (Bstree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Bstnode));</span><br><span class="line">       p-&gt;val = elem;</span><br><span class="line">        p-&gt;lchild = create();</span><br><span class="line">        p-&gt;rchild = create();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_bstree</span><span class="params">(Bstree t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(t-&gt;lchild&amp;&amp;t-&gt;rchild)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(t-&gt;val&lt;t-&gt;lchild-&gt;val||t-&gt;val&gt;t-&gt;rchild-&gt;val)</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> is_bstree(t-&gt;lchild)&amp;&amp;is_bstree(t-&gt;rchild);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">if</span>(t-&gt;lchild)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(t-&gt;val&lt;t-&gt;lchild-&gt;val)</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> is_bstree(t-&gt;lchild);</span><br><span class="line">            &#125;</span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">if</span>(t-&gt;rchild)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(t-&gt;val&gt;t-&gt;rchild-&gt;val)</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">return</span> is_bstree(t-&gt;rchild);</span><br><span class="line">            &#125; </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// #include &lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">// #include &lt;stdlib.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #define FALSE 0</span></span><br><span class="line"><span class="comment">// #define TRUE 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// typedef struct BinTreeNode&#123;</span></span><br><span class="line"><span class="comment">//     int data;</span></span><br><span class="line"><span class="comment">//     struct BinTreeNode *left;</span></span><br><span class="line"><span class="comment">//     struct BinTreeNode *right;</span></span><br><span class="line"><span class="comment">// &#125;BinTreeNode;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// BinTreeNode *CreatBinTree()&#123;//å…ˆåºé€’å½’è¾“å…¥</span></span><br><span class="line"><span class="comment">// int elem;</span></span><br><span class="line"><span class="comment">// BinTreeNode *p;</span></span><br><span class="line"><span class="comment">// scanf(&quot;%d&quot;,&amp;elem);</span></span><br><span class="line"><span class="comment">// if(elem==-1)&#123;</span></span><br><span class="line"><span class="comment">//         return NULL;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// else&#123;</span></span><br><span class="line"><span class="comment">// p = (BinTreeNode*)malloc(sizeof(BinTreeNode));</span></span><br><span class="line"><span class="comment">// p-&gt;data = elem;</span></span><br><span class="line"><span class="comment">// p-&gt;left = CreatBinTree();</span></span><br><span class="line"><span class="comment">// p-&gt;right = CreatBinTree();</span></span><br><span class="line"><span class="comment">// return p;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// int IsBinarySortTree(BinTreeNode *T)&#123;//åˆ¤æ–­æ˜¯å¦ä¸ºæ’åºæ ‘ï¼Œå³(T-&gt;left-&gt;data)&lt;(T-&gt;data)&lt;(T-&gt;right-&gt;data)</span></span><br><span class="line"><span class="comment">//     if(!T)&#123;</span></span><br><span class="line"><span class="comment">//         return TRUE;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     else if(T-&gt;left&amp;&amp;T-&gt;right)&#123;</span></span><br><span class="line"><span class="comment">//         if(T-&gt;data&lt;T-&gt;left-&gt;data||T-&gt;data&gt;T-&gt;right-&gt;data)&#123;</span></span><br><span class="line"><span class="comment">//             return FALSE;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//         else&#123;</span></span><br><span class="line"><span class="comment">//             return (IsBinarySortTree(T-&gt;left)&amp;&amp;IsBinarySortTree(T-&gt;right));</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     else if(T-&gt;left)&#123;</span></span><br><span class="line"><span class="comment">//         if(T-&gt;data&gt;T-&gt;left-&gt;data)&#123;</span></span><br><span class="line"><span class="comment">//             return FALSE;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//         else&#123;</span></span><br><span class="line"><span class="comment">//             return (IsBinarySortTree(T-&gt;left));</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     else if(T-&gt;right)&#123;</span></span><br><span class="line"><span class="comment">//         if(T-&gt;data&lt;T-&gt;right-&gt;data)&#123;</span></span><br><span class="line"><span class="comment">//             return FALSE;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//         else&#123;</span></span><br><span class="line"><span class="comment">//             return (IsBinarySortTree(T-&gt;right));</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     return TRUE;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// void Output(BinTreeNode *T)&#123;//ä¸­é€’å½’è¾“å‡º</span></span><br><span class="line"><span class="comment">//     if(T!=NULL)&#123;</span></span><br><span class="line"><span class="comment">//         Output(T-&gt;left);</span></span><br><span class="line"><span class="comment">//         printf(&quot;%d &quot;,T-&gt;data);</span></span><br><span class="line"><span class="comment">//         Output(T-&gt;right);</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// int main()&#123;</span></span><br><span class="line"><span class="comment">//     //å…¶å®æˆ‘ä¸€èˆ¬ä¹ æƒ¯æ˜¯å…ˆç»™å­˜å‚¨ç»“æ„ç”³è¯·ç©ºé—´ï¼Œç”¨voidå‡½æ•°å¯¹å­˜å‚¨ç»“æ„è¿›è¡Œæ“ä½œçš„ï¼Œä½†æ˜¯è¿™ä¸ªé¢˜åœ¨è¯»å–è¾“å…¥å­—ç¬¦å‰æ— æ³•ç¡®å®šæ˜¯å¦éœ€è¦ç”³è¯·ç©ºé—´ï¼Œäºæ˜¯æˆ‘é€‰æ‹©åœ¨å‡½æ•°å†…ç”³è¯·ç©ºé—´</span></span><br><span class="line"><span class="comment">//     //å› ä¸ºæˆ‘ä»¬æ— æ³•å°†æŒ‡é’ˆå˜é‡çš„æœ¬èº«ä¼ å…¥å‡½æ•°ï¼Œå› æ­¤ç›´æ¥å°†æŒ‡é’ˆä¼ å…¥å‡½æ•°å¯èƒ½ä¼šé€ æˆæ— æ•ˆçš„å¤„ç†</span></span><br><span class="line"><span class="comment">//     //å› ä¸ºåœ¨Cè¯­è¨€ä¸­ï¼Œæ‰€æœ‰éæ•°ç»„å½¢å¼çš„æ•°æ®å®å‚å‡ä»¥ä¼ å€¼å½¢å¼è°ƒç”¨ï¼ˆå¯¹å®å‚åšä¸€å¤‡ä»½å¹¶ä¼ é€’ç»™è°ƒç”¨çš„å‡½æ•°ï¼Œå‡½æ•°ä¸èƒ½ä¿®æ”¹ä½œä¸ºå®å‚å®é™…å˜é‡çš„å€¼ï¼Œè€Œåªèƒ½ä¿®æ”¹ä¼ é€’ç»™å®ƒçš„é‚£ä»½å¤‡ä»½ï¼‰</span></span><br><span class="line"><span class="comment">//     //æ­¤æ—¶æˆ‘ä»¬é€šå¸¸æœ‰å¦‚ä¸‹ä¸¤ç§åŠæ³•ï¼š</span></span><br><span class="line"><span class="comment">//     //1.é€šè¿‡returnè¿”å›ï¼Œä¾‹å¦‚ BT *T; T = creat(); ( BT *creat() )</span></span><br><span class="line"><span class="comment">//     //2.ä½¿ç”¨äºŒçº§æŒ‡é’ˆï¼Œä¾‹å¦‚ BT *T; creat(&amp;T); ( void creat(BT **T) )</span></span><br><span class="line"><span class="comment">//     BinTreeNode *T;</span></span><br><span class="line"><span class="comment">//     T = CreatBinTree();</span></span><br><span class="line"><span class="comment">//     if(IsBinarySortTree(T))&#123;</span></span><br><span class="line"><span class="comment">//         printf(&quot;yes&quot;);</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">//     else&#123;</span></span><br><span class="line"><span class="comment">//         printf(&quot;no&quot;);</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><h2 id="25"><a href="#25" class="headerlink" title="25."></a>25.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093915.png" alt="image-20210612111120529"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">rchild</span>;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">&#125;Bstnode,*Bstree;</span><br><span class="line"></span><br><span class="line"><span class="function">Bstree <span class="title">create</span><span class="params">()</span></span>;<span class="comment">//åˆ›å»º  å¯ä»¥åˆ©ç”¨æ’å…¥åˆ›å»º ä¹Ÿå¯ä»¥ç›´æ¥åˆ›å»º  </span></span><br><span class="line"><span class="comment">//è¿™é‡Œè¯´æ˜¯å…ˆåºè¾“å…¥ï¼Œæ‰€ä»¥ç›´æ¥åˆ›å»º</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(Bstree,<span class="keyword">int</span>,<span class="keyword">int</span>)</span></span>;<span class="comment">//æŸ¥æ‰¾</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Bstree*,<span class="keyword">int</span>)</span></span>;<span class="comment">//æ’å…¥</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delBst</span><span class="params">(Bstree*,<span class="keyword">int</span>)</span></span>;<span class="comment">//åˆ é™¤</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Bstree)</span></span>;<span class="comment">//è¾“å‡º  ä¸­åº</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bstree t = (Bstree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Bstnode));</span><br><span class="line">    t = create();</span><br><span class="line">    <span class="keyword">int</span> min,max;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;min,&amp;max);</span><br><span class="line">    search(t,min,max);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">int</span> insert_val;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;insert_val);</span><br><span class="line">    insert(&amp;t,insert_val);</span><br><span class="line">    output(t);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">int</span> del_val;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;del_val);</span><br><span class="line">    delBst(&amp;t,del_val);</span><br><span class="line">    output(t);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Bstree <span class="title">create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bstree p;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">if</span>(n!=<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p = (Bstree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Bstnode));</span><br><span class="line">        p-&gt;val = n;</span><br><span class="line">        p-&gt;lchild = create();</span><br><span class="line">        p-&gt;rchild = create();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(Bstree t,<span class="keyword">int</span> min,<span class="keyword">int</span> max)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t==<span class="literal">NULL</span>) </span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    search(t-&gt;lchild,min,max);</span><br><span class="line">    <span class="keyword">if</span>(t-&gt;val&gt;=min&amp;&amp;t-&gt;val&lt;=max)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,t-&gt;val);</span><br><span class="line">   search(t-&gt;rchild,min,max);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Bstree *t,<span class="keyword">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bstree s;</span><br><span class="line">    <span class="keyword">if</span>(!t)</span><br><span class="line">    &#123;</span><br><span class="line">        s = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Bstnode));</span><br><span class="line">        s-&gt;val = num;</span><br><span class="line">        s-&gt;lchild = s-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">        *t = s;<span class="comment">//æ³¨æ„è¿™é‡Œè¦æ”¹å˜å€¼,æ‰€ä»¥ç”¨äº†æŒ‡é’ˆ</span></span><br><span class="line">        <span class="comment">//é€šè¿‡åœ°å€æ”¹å˜å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span>(num&lt;(*t)-&gt;val)</span><br><span class="line">    &#123;</span><br><span class="line">        insert(&amp;(*t)-&gt;lchild,num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        insert(&amp;(*t)-&gt;rchild,num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delBst</span><span class="params">(Bstree *t,<span class="keyword">int</span> val)</span><span class="comment">//åˆ é™¤</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">                <span class="comment">//æ‰¾åˆ°èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span>((*t)-&gt;val==val)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="keyword">if</span>((*t)-&gt;lchild==<span class="literal">NULL</span>&amp;&amp;(*t)-&gt;rchild==<span class="literal">NULL</span>)<span class="comment">//å¶å­ç»“ç‚¹</span></span><br><span class="line">                &#123;</span><br><span class="line">                    (*t) = <span class="literal">NULL</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">               <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">if</span>((*t)-&gt;rchild==<span class="literal">NULL</span>)<span class="comment">//åªæœ‰å·¦å­æ ‘,å°†å·¦å­æ ‘ç½®ä¸ºçˆ¶èŠ‚ç‚¹çš„å·¦å­æ ‘</span></span><br><span class="line">                &#123;</span><br><span class="line">                    (*t) = (*t)-&gt;lchild;</span><br><span class="line">                &#125;</span><br><span class="line">               <span class="keyword">else</span></span><br><span class="line">                 <span class="keyword">if</span>((*t)-&gt;lchild==<span class="literal">NULL</span>)<span class="comment">//åªæœ‰å³å­æ ‘,å°†å³å­æ ‘ç½®ä¸ºçˆ¶èŠ‚ç‚¹çš„å³å­æ ‘</span></span><br><span class="line">                &#123;</span><br><span class="line">                    (*t) = (*t)-&gt;rchild;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span><span class="comment">//å¾…åˆ é™¤èŠ‚ç‚¹ å·¦å³å­æ ‘éƒ½æœ‰</span></span><br><span class="line">                <span class="comment">//æ‰¾åˆ°ä¸­åºéå†ä¸‹çš„ä¸Šä¸€ä¸ªç‚¹,å³å­æ ‘ç½®ä¸ºå…¶å³å­æ ‘</span></span><br><span class="line">                <span class="comment">//å·¦å­æ ‘ä¾æ—§ä¸ºçˆ¶èŠ‚ç‚¹å·¦å­æ ‘</span></span><br><span class="line">                &#123;</span><br><span class="line">                    Bstree s;</span><br><span class="line">                    s = (*t)-&gt;lchild;</span><br><span class="line">                    <span class="keyword">while</span>(s-&gt;rchild)</span><br><span class="line">                    &#123;</span><br><span class="line">                        s = s-&gt;rchild;<span class="comment">//æ‰¾åˆ°å·¦å­æ ‘çš„æœ€å³åˆ†æ”¯å¶å­èŠ‚ç‚¹ï¼Œå°†å…¶å³èŠ‚ç‚¹å­æ ‘ç½®ä¸ºå³å­æ ‘</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    s-&gt;rchild = (*t)-&gt;rchild;</span><br><span class="line">                    (*t) = (*t)-&gt;lchild;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span>(val&lt;(*t)-&gt;val)</span><br><span class="line">    &#123;</span><br><span class="line">        delBst(&amp;(*t)-&gt;lchild,val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        delBst(&amp;(*t)-&gt;lchild,val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Bstree t)</span><span class="comment">//è¾“å‡º  ä¸­åº</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// if(t-&gt;lchild)</span></span><br><span class="line">        output(t-&gt;lchild);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,t-&gt;val);</span><br><span class="line">        output(t-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// #include&lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">// #include&lt;stdlib.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// typedef struct BiTNode &#123;</span></span><br><span class="line"><span class="comment">// int data;</span></span><br><span class="line"><span class="comment">// struct BiTNode* left;</span></span><br><span class="line"><span class="comment">// struct BiTNode* right;</span></span><br><span class="line"><span class="comment">// &#125;BiTNode, * BiTree;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// BiTree CreateBiTree();   //åˆ›å»ºäºŒå‰æ ‘</span></span><br><span class="line"><span class="comment">// void SearchAndPrint(BiTree T, int a, int b);//è¦æ±‚1ï¼šè¾“å‡ºå¤§äºaã€å°äºbçš„å…³é”®å­—</span></span><br><span class="line"><span class="comment">// void InsertBi(BiTree* T, int insert);//æ’å…¥ä¸€ä¸ªå…³é”®å­—å¹¶è¾“å‡º</span></span><br><span class="line"><span class="comment">// void DeleteBi(BiTree* T, int dele);  //åˆ é™¤ç»“ç‚¹</span></span><br><span class="line"><span class="comment">// void MidPrint(BiTree T); //ä¸­åºè¾“å‡º</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// int main()</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">// BiTree T;</span></span><br><span class="line"><span class="comment">// T = CreateBiTree();</span></span><br><span class="line"><span class="comment">// int a, b, insert, dele;</span></span><br><span class="line"><span class="comment">// scanf(&quot;%d%d%d%d&quot;, &amp;a, &amp;b, &amp;insert, &amp;dele);</span></span><br><span class="line"><span class="comment">// SearchAndPrint(T, a, b);//è¦æ±‚1</span></span><br><span class="line"><span class="comment">// printf(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment">// InsertBi(&amp;T, insert);//æ’å…¥</span></span><br><span class="line"><span class="comment">// MidPrint(T);//ä¸­åºè¾“å‡º</span></span><br><span class="line"><span class="comment">// printf(&quot;\n&quot;);</span></span><br><span class="line"><span class="comment">// DeleteBi(&amp;T, insert);//åˆ é™¤insert</span></span><br><span class="line"><span class="comment">// DeleteBi(&amp;T, dele);//åˆ é™¤dele</span></span><br><span class="line"><span class="comment">// MidPrint(T);//ä¸­åºè¾“å‡º</span></span><br><span class="line"><span class="comment">// return 0;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// BiTree CreateBiTree()</span></span><br><span class="line"><span class="comment">// &#123;   //åˆ›å»ºäºŒå‰æ ‘</span></span><br><span class="line"><span class="comment">// int data;</span></span><br><span class="line"><span class="comment">// scanf(&quot;%d&quot;, &amp;data);</span></span><br><span class="line"><span class="comment">// if (data == -1) &#123;</span></span><br><span class="line"><span class="comment">// return NULL;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// BiTree tmp;</span></span><br><span class="line"><span class="comment">// tmp = (BiTree)malloc(sizeof(BiTNode));</span></span><br><span class="line"><span class="comment">// if (!tmp) &#123;</span></span><br><span class="line"><span class="comment">// return NULL;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// tmp-&gt;data = data;</span></span><br><span class="line"><span class="comment">// tmp-&gt;left = CreateBiTree();</span></span><br><span class="line"><span class="comment">// tmp-&gt;right = CreateBiTree();</span></span><br><span class="line"><span class="comment">// return tmp;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// void SearchAndPrint(BiTree T, int a, int b)</span></span><br><span class="line"><span class="comment">// &#123;   //è¦æ±‚1ï¼šè¾“å‡ºå¤§äºaã€å°äºbçš„å…³é”®å­—</span></span><br><span class="line"><span class="comment">// //ç”¨ä¸­åºè¾“å‡º</span></span><br><span class="line"><span class="comment">// if (!T) &#123;</span></span><br><span class="line"><span class="comment">// return;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// SearchAndPrint(T-&gt;left, a, b);</span></span><br><span class="line"><span class="comment">// if (T-&gt;data &gt; a &amp;&amp; T-&gt;data &lt; b) &#123;</span></span><br><span class="line"><span class="comment">// printf(&quot;%d &quot;, T-&gt;data);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// SearchAndPrint(T-&gt;right, a, b);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// void InsertBi(BiTree* T, int insert)</span></span><br><span class="line"><span class="comment">// &#123;   //æ’å…¥ç»“ç‚¹</span></span><br><span class="line"><span class="comment">// if (!(*T)) &#123;</span></span><br><span class="line"><span class="comment">// BiTree tmp;</span></span><br><span class="line"><span class="comment">// tmp = (BiTree)malloc(sizeof(BiTNode));</span></span><br><span class="line"><span class="comment">// tmp-&gt;data = insert;</span></span><br><span class="line"><span class="comment">// tmp-&gt;left = NULL;</span></span><br><span class="line"><span class="comment">// tmp-&gt;right = NULL;</span></span><br><span class="line"><span class="comment">// *T = tmp;</span></span><br><span class="line"><span class="comment">// return;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// if (insert &lt; (*T)-&gt;data) &#123;</span></span><br><span class="line"><span class="comment">// InsertBi(&amp;(*T)-&gt;left, insert);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// if (insert &gt; (*T)-&gt;data) &#123;</span></span><br><span class="line"><span class="comment">// InsertBi(&amp;(*T)-&gt;right, insert);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// void DeleteBi(BiTree* T, int dele)</span></span><br><span class="line"><span class="comment">// &#123;   //åˆ é™¤ç»“ç‚¹</span></span><br><span class="line"><span class="comment">// if (!(*T)) &#123;</span></span><br><span class="line"><span class="comment">// return;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// DeleteBi(&amp;(*T)-&gt;left, dele);</span></span><br><span class="line"><span class="comment">// if ((*T)-&gt;data == dele) &#123;</span></span><br><span class="line"><span class="comment">// if (!(*T)-&gt;left) &#123;</span></span><br><span class="line"><span class="comment">// //å·¦å­æ ‘ä¸ºç©º</span></span><br><span class="line"><span class="comment">// (*T) = (*T)-&gt;right;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// else &#123;//å·¦å­æ ‘éç©º</span></span><br><span class="line"><span class="comment">// BiTree tmp = (*T)-&gt;left;</span></span><br><span class="line"><span class="comment">// while (tmp-&gt;right) &#123;</span></span><br><span class="line"><span class="comment">// tmp = tmp-&gt;right;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// tmp-&gt;right = (*T)-&gt;right;</span></span><br><span class="line"><span class="comment">// (*T) = (*T)-&gt;left;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// return;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// DeleteBi(&amp;(*T)-&gt;right, dele);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// void MidPrint(BiTree T)</span></span><br><span class="line"><span class="comment">// &#123;   //ä¸­åºè¾“å‡º</span></span><br><span class="line"><span class="comment">// if (!T) &#123;</span></span><br><span class="line"><span class="comment">// return;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// MidPrint(T-&gt;left);</span></span><br><span class="line"><span class="comment">// printf(&quot;%d &quot;, T-&gt;data);</span></span><br><span class="line"><span class="comment">// MidPrint(T-&gt;right);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="26"><a href="#26" class="headerlink" title="26."></a>26.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093916.png" alt="image-20210612111201004"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//äºŒå‰æ ‘çš„åˆå¹¶</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">lchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">rchild</span>;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">&#125;Bstnode,*Bstree;</span><br><span class="line"></span><br><span class="line"><span class="function">Bstree <span class="title">create</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">combine_tree</span><span class="params">(Bstree*,Bstree*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Bstree*,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Bstree)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bstree t1,t2;</span><br><span class="line">    t1 = create();</span><br><span class="line">    t2 = create();</span><br><span class="line">    combine_tree(&amp;t1,&amp;t2);</span><br><span class="line">    output(t1);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Bstree <span class="title">create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bstree p;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">    <span class="keyword">if</span>(n!=<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p = (Bstree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Bstnode));</span><br><span class="line">        p-&gt;key = n;</span><br><span class="line">        p-&gt;lchild = create();</span><br><span class="line">        p-&gt;rchild = create();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸­åºéå†T2ï¼Œå°†T2å„ä¸ªå…ƒç´ æ’å…¥T1ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">combine_tree</span><span class="params">(Bstree* m,Bstree* n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(*n)</span><br><span class="line">    &#123;</span><br><span class="line">        combine_tree(&amp;(*m),&amp;(*n)-&gt;lchild);</span><br><span class="line">        insert(&amp;(*m),(*n)-&gt;key);</span><br><span class="line">        combine_tree(&amp;(*m),&amp;(*n)-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Bstree *t,<span class="keyword">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bstree s;</span><br><span class="line">    <span class="keyword">if</span>(!t)</span><br><span class="line">    &#123;</span><br><span class="line">        s = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Bstnode));</span><br><span class="line">        s-&gt;key = num;</span><br><span class="line">        s-&gt;lchild = s-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">        *t = s;<span class="comment">//æ³¨æ„è¿™é‡Œè¦æ”¹å˜å€¼,æ‰€ä»¥ç”¨äº†æŒ‡é’ˆ</span></span><br><span class="line">        <span class="comment">//é€šè¿‡åœ°å€æ”¹å˜å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span>(num&lt;(*t)-&gt;key)</span><br><span class="line">    &#123;</span><br><span class="line">        insert(&amp;(*t)-&gt;lchild,num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        insert(&amp;(*t)-&gt;rchild,num);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(Bstree t)</span><span class="comment">//è¾“å‡º  ä¸­åº</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// if(t-&gt;lchild)</span></span><br><span class="line">        output(t-&gt;lchild);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,t-&gt;key);</span><br><span class="line">        output(t-&gt;rchild);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// #include&lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">// #include&lt;stdlib.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// typedef struct BiTNode &#123;</span></span><br><span class="line"><span class="comment">// int data;</span></span><br><span class="line"><span class="comment">// struct BiTNode* left;</span></span><br><span class="line"><span class="comment">// struct BiTNode* right;</span></span><br><span class="line"><span class="comment">// &#125;BiTNode, * BiTree;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// BiTree CreateBiTree();   //åˆ›å»ºäºŒå‰æ ‘</span></span><br><span class="line"><span class="comment">// void InsertBi(BiTree* T, int insert);//æ’å…¥èŠ‚ç‚¹</span></span><br><span class="line"><span class="comment">// void CombineBi(BiTree T1, BiTree T2);//åˆå¹¶äºŒå‰æ ‘T1ï¼ŒT2</span></span><br><span class="line"><span class="comment">// void MidPrint(BiTree T); //ä¸­åºè¾“å‡º</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// int main()</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">// BiTree T1, T2;</span></span><br><span class="line"><span class="comment">// T1 = CreateBiTree();</span></span><br><span class="line"><span class="comment">// T2 = CreateBiTree();</span></span><br><span class="line"><span class="comment">// CombineBi(T1, T2);</span></span><br><span class="line"><span class="comment">// MidPrint(T1);</span></span><br><span class="line"><span class="comment">// return 0;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// BiTree CreateBiTree()</span></span><br><span class="line"><span class="comment">// &#123;   //åˆ›å»ºäºŒå‰æ ‘</span></span><br><span class="line"><span class="comment">// int data;</span></span><br><span class="line"><span class="comment">// scanf(&quot;%d&quot;, &amp;data);</span></span><br><span class="line"><span class="comment">// if (data == -1) &#123;</span></span><br><span class="line"><span class="comment">// return NULL;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// BiTree tmp;</span></span><br><span class="line"><span class="comment">// tmp = (BiTree)malloc(sizeof(BiTNode));</span></span><br><span class="line"><span class="comment">// if (!tmp) &#123;</span></span><br><span class="line"><span class="comment">// return NULL;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// tmp-&gt;data = data;</span></span><br><span class="line"><span class="comment">// tmp-&gt;left = CreateBiTree();</span></span><br><span class="line"><span class="comment">// tmp-&gt;right = CreateBiTree();</span></span><br><span class="line"><span class="comment">// return tmp;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// void InsertBi(BiTree* T, int insert)</span></span><br><span class="line"><span class="comment">// &#123;   //æ’å…¥ç»“ç‚¹</span></span><br><span class="line"><span class="comment">// if (!(*T)) &#123;</span></span><br><span class="line"><span class="comment">// BiTree tmp;</span></span><br><span class="line"><span class="comment">// tmp = (BiTree)malloc(sizeof(BiTNode));</span></span><br><span class="line"><span class="comment">// tmp-&gt;data = insert;</span></span><br><span class="line"><span class="comment">// tmp-&gt;left = NULL;</span></span><br><span class="line"><span class="comment">// tmp-&gt;right = NULL;</span></span><br><span class="line"><span class="comment">// *T = tmp;</span></span><br><span class="line"><span class="comment">// return;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// if (insert &lt; (*T)-&gt;data) &#123;</span></span><br><span class="line"><span class="comment">// InsertBi(&amp;(*T)-&gt;left, insert);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// if (insert &gt; (*T)-&gt;data) &#123;</span></span><br><span class="line"><span class="comment">// InsertBi(&amp;(*T)-&gt;right, insert);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// void CombineBi(BiTree T1, BiTree T2)</span></span><br><span class="line"><span class="comment">// &#123;   //åˆå¹¶äºŒå‰æ ‘T1ï¼ŒT2</span></span><br><span class="line"><span class="comment">// if (!T2) &#123;</span></span><br><span class="line"><span class="comment">// return;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// CombineBi(T1, T2-&gt;left);</span></span><br><span class="line"><span class="comment">// InsertBi(&amp;T1, T2-&gt;data);</span></span><br><span class="line"><span class="comment">// CombineBi(T1, T2-&gt;right);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// void MidPrint(BiTree T)</span></span><br><span class="line"><span class="comment">// &#123;   //ä¸­åºè¾“å‡º</span></span><br><span class="line"><span class="comment">// if (!T) &#123;</span></span><br><span class="line"><span class="comment">// return;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// MidPrint(T-&gt;left);</span></span><br><span class="line"><span class="comment">// printf(&quot;%d &quot;, T-&gt;data);</span></span><br><span class="line"><span class="comment">// MidPrint(T-&gt;right);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> data_structure </tag>
            
            <tag> noj </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„è¯•éªŒ</title>
      <link href="2021/05/30/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AF%95%E9%AA%8C/"/>
      <url>2021/05/30/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AF%95%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="æ•°æ®ç»“æ„å®éªŒ"><a href="#æ•°æ®ç»“æ„å®éªŒ" class="headerlink" title="æ•°æ®ç»“æ„å®éªŒ"></a>æ•°æ®ç»“æ„å®éªŒ</h1><p>æ•°æ®å®éªŒå†™äº†</p><p>ä¸è¿‡ä¹Ÿå¿˜å¾—å·®ä¸å¤šäº†</p><p>äººç”Ÿè‰°éš¾å•Š..</p><span id="more"></span><h2 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093433.png" alt="image-20210530155126345"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">**åˆå¹¶æœ‰åºæ•°ç»„</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinkedList</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">LinkedList</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; LinkedList, *pLinkedList;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateLinkedList</span><span class="params">(pLinkedList, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergeList</span><span class="params">(pLinkedList, pLinkedList)</span></span>;</span><br><span class="line"><span class="function">pLinkedList <span class="title">Initial</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    pLinkedList pa, pb;</span><br><span class="line">    pa = Initial();</span><br><span class="line">    pb = Initial();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter the size of first LinkedList:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;size);</span><br><span class="line">    CreateLinkedList(pa, size);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter the size of second LinkedList:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;size);</span><br><span class="line">    CreateLinkedList(pb, size);</span><br><span class="line">    MergeList(pa, pb);</span><br><span class="line">    pa = pa-&gt;next;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;the result is:\n&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (pa)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, pa-&gt;data);</span><br><span class="line">        pa = pa-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(pa);</span><br><span class="line">    <span class="built_in">free</span>(pb);</span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">pLinkedList <span class="title">Initial</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pLinkedList p = (pLinkedList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkedList));</span><br><span class="line">    p-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CreateLinkedList</span><span class="params">(pLinkedList p, <span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pLinkedList s, r;</span><br><span class="line">    r = p;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Enter the %d numbers:\n&quot;</span>,size);</span><br><span class="line">    <span class="keyword">while</span> (size--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line">        s = (pLinkedList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(LinkedList));</span><br><span class="line">        s-&gt;data = num;</span><br><span class="line">        r-&gt;next = s;</span><br><span class="line">        r = s;</span><br><span class="line">    &#125;</span><br><span class="line">    r-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergeList</span><span class="params">(pLinkedList p, pLinkedList q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pLinkedList s, r;</span><br><span class="line">    s = p;<span class="comment">//sæŒ‡é’ˆæ˜¯ä½œä¸ºæ•´ä¸ªå½’å¹¶çš„æ ¸å¿ƒï¼Œå®ƒä½¿å¾—å…ƒç´ ä»å°åˆ°å¤§æ’åº</span></span><br><span class="line">    r = s-&gt;next;<span class="comment">//qä¸ræŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªé“¾è¡¨ï¼Œéšç€æ’åºçš„è¿›è¡Œï¼Œåç§»</span></span><br><span class="line">    q = q-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (r &amp;&amp; q)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/**å½“ä¸€ä¸ªé“¾è¡¨ä¸­æ•°æ®å¤§äºå¦ä¸€ä¸ªé“¾è¡¨</span></span><br><span class="line"><span class="comment">        **åˆ™æŒ‡é’ˆsæŒ‡å‘å°å…ƒç´ å€¼çš„èŠ‚ç‚¹ï¼Œå¹¶ä½¿å…¶åç§»ï¼Œ</span></span><br><span class="line"><span class="comment">        **ç„¶åæŒ‡å‘è¾ƒå°å…ƒç´ å€¼çš„æŒ‡é’ˆåç§»*/</span></span><br><span class="line">        <span class="keyword">if</span> (r-&gt;data &gt; q-&gt;data)</span><br><span class="line">        &#123;</span><br><span class="line">            s-&gt;next = q;</span><br><span class="line">            s = s-&gt;next;</span><br><span class="line">            q = q-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/**å½“ä¸€ä¸ªé“¾è¡¨ä¸­æ•°æ®å°äºå¦ä¸€ä¸ªé“¾è¡¨</span></span><br><span class="line"><span class="comment">        **é“ç†ç±»ä¼¼ï¼ŒsæŒ‡é’ˆæŒ‡å‘å°å…ƒç´ èŠ‚ç‚¹ï¼Œå¹¶åç§»</span></span><br><span class="line"><span class="comment">        **ç„¶åæŒ‡å‘è¾ƒå°å…ƒç´ çš„æŒ‡é’ˆåç§»</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            s-&gt;next = r;</span><br><span class="line">            s = s-&gt;next;</span><br><span class="line">            r = r-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*é“¾è¡¨på…ƒç´ å·²å–å®Œï¼Œè¡¨æ˜qè¿˜æœ‰æœªå–å…ƒç´ </span></span><br><span class="line"><span class="comment">    **ä½¿sæŒ‡é’ˆæŒ‡å‘q</span></span><br><span class="line"><span class="comment">    */</span><span class="keyword">if</span> (!r)</span><br><span class="line">    &#123;</span><br><span class="line">        s-&gt;next = q;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¦‚æœé“¾è¡¨qå…ƒç´ å–å®Œ,åŒç†ï¼Œä½¿sæŒ‡é’ˆæŒ‡å‘è¿˜æœªå–å®Œå…ƒç´ çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (!q)</span><br><span class="line">    &#123;</span><br><span class="line">        s-&gt;next = r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093436.png" alt="image-20210530155212444"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DoubleNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DoubleNode</span> *<span class="title">next</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">DoubleNode</span> *<span class="title">pre</span>;</span></span><br><span class="line">&#125; DoubleNode, *pDoubleNode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">DLinkList</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    pDoubleNode head;</span><br><span class="line">    pDoubleNode tail;</span><br><span class="line">&#125; DLinkList, *pDLinkList;</span><br><span class="line"><span class="function">pDLinkList <span class="title">initial_node</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Multi</span><span class="params">(pDLinkList, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Div</span><span class="params">(pDLinkList, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Add</span><span class="params">(pDLinkList, pDLinkList)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">terms</span><span class="params">(<span class="keyword">double</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> prec;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%lf&quot;</span>, &amp;prec);</span><br><span class="line">    pDLinkList num ;</span><br><span class="line">    pDLinkList sum ;</span><br><span class="line">    num = initial_node();</span><br><span class="line">    sum = initial_node();</span><br><span class="line">    num-&gt;head-&gt;next-&gt;data = <span class="number">2</span>; <span class="comment">//æ ¹æ®è®¡ç®—å…¬å¼ï¼Œç¬¬ä¸€é¡¹æ˜¯2</span></span><br><span class="line">    sum-&gt;head-&gt;next-&gt;data = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> t = terms(prec);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; t; i++)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        Multi(num, i);</span><br><span class="line">        Div(num, i);</span><br><span class="line">        Add(num, sum);</span><br><span class="line">    &#125;</span><br><span class="line">    pDoubleNode temp = sum-&gt;head-&gt;next-&gt;next;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;3.&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (prec--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, temp-&gt;data);</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Multi</span><span class="params">(pDLinkList L, <span class="keyword">int</span> i)</span> <span class="comment">//ä¹˜æ³•ä»å°¾éƒ¨å¼€å§‹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pDoubleNode tail = L-&gt;tail;</span><br><span class="line">    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (L-&gt;head != tail)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = tail-&gt;data * i + ret;</span><br><span class="line">        tail-&gt;data = temp % <span class="number">10</span>;</span><br><span class="line">        ret = temp / <span class="number">10</span>;</span><br><span class="line">        tail = tail-&gt;pre;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Div</span><span class="params">(pDLinkList L, <span class="keyword">int</span> i)</span> <span class="comment">//é™¤æ³•ä»å¤´éƒ¨å¼€å§‹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pDoubleNode head = L-&gt;head-&gt;next;<span class="comment">//æŒ‡å‘ç¬¬ä¸€ä¸ªæœ‰å€¼çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (head != L-&gt;tail)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = head-&gt;data + ret * <span class="number">10</span>;</span><br><span class="line">        head-&gt;data = temp / (<span class="number">2</span> * i + <span class="number">1</span>);</span><br><span class="line">        ret = temp % (<span class="number">2</span> * i + <span class="number">1</span>);</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Add</span><span class="params">(pDLinkList num, pDLinkList sum)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    pDoubleNode p = num-&gt;tail;</span><br><span class="line">    pDoubleNode q = sum-&gt;tail;</span><br><span class="line">    <span class="keyword">while</span> (p != num-&gt;head)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = p-&gt;data + q-&gt;data + ret;</span><br><span class="line">        q-&gt;data = temp % <span class="number">10</span>;</span><br><span class="line">        ret = temp / <span class="number">10</span>;</span><br><span class="line">        p = p-&gt;pre;</span><br><span class="line">        q = q-&gt;pre;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">terms</span><span class="params">(<span class="keyword">double</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> temp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; sum &lt; n + <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = (<span class="number">2</span> * i + <span class="number">1</span>) / i;</span><br><span class="line">        temp = <span class="built_in">log10</span>(temp);</span><br><span class="line">        sum += temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">pDLinkList <span class="title">initial_node</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">1000</span>;</span><br><span class="line">    pDLinkList L = (pDLinkList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(DLinkList));</span><br><span class="line">    pDoubleNode s,r;</span><br><span class="line">    L-&gt;head = (pDoubleNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(DoubleNode));</span><br><span class="line">    r = L-&gt;head;</span><br><span class="line">    <span class="keyword">while</span> (num--)</span><br><span class="line">    &#123;</span><br><span class="line">        s = (pDoubleNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(DoubleNode));</span><br><span class="line">        s-&gt;data = <span class="number">0</span>;</span><br><span class="line">        r-&gt;next = s;</span><br><span class="line">        s-&gt;pre = r;</span><br><span class="line">        L-&gt;head-&gt;pre = s;</span><br><span class="line">        s-&gt;next = L-&gt;head;</span><br><span class="line">        r = s; <span class="comment">//rä¸ºå°¾æŒ‡é’ˆ    </span></span><br><span class="line">    &#125;</span><br><span class="line">    L-&gt;tail = r;</span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093445.png" alt="image-20210530155312387"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¿«é€Ÿè½¬ç½®</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 1000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Triple</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> elem;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">&#125; Triple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Triple data[maxsize];</span><br><span class="line">    <span class="keyword">int</span> row, col, len;</span><br><span class="line">&#125; TSMatrix;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(TSMatrix *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Transpose</span><span class="params">(TSMatrix *, TSMatrix *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(TSMatrix *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    TSMatrix *M = (TSMatrix *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSMatrix));</span><br><span class="line">    TSMatrix *N = (TSMatrix *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSMatrix));</span><br><span class="line">    initial(M);</span><br><span class="line">    Transpose(M, N);</span><br><span class="line">    print(N);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(TSMatrix *result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; result-&gt;len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, result-&gt;data[i].i, result-&gt;data[i].j, result-&gt;data[i].elem);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Transpose</span><span class="params">(TSMatrix *M, TSMatrix *N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    N-&gt;row = M-&gt;col;</span><br><span class="line">    N-&gt;col = M-&gt;row;</span><br><span class="line">    N-&gt;len = M-&gt;len;</span><br><span class="line">    <span class="keyword">if</span> (N-&gt;len)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> num[maxsize], cpos[maxsize];</span><br><span class="line">        <span class="comment">//num[col]è¡¨ç¤ºcolåˆ—éé›¶å…ƒä¸ªæ•°,</span></span><br><span class="line">        <span class="comment">//cpos[col]è¡¨ç¤ºcolåˆ—ç¬¬ä¸€ä¸ªéé›¶å…ƒåœ¨è½¬ç½®åä¸‰å…ƒç»„è¡¨ä½ç½®</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;M-&gt;col; i++)</span><br><span class="line">            num[i] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M-&gt;len; i++)</span><br><span class="line">            num[M-&gt;data[i].j]++;</span><br><span class="line"></span><br><span class="line">        cpos[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; M-&gt;col; i++)</span><br><span class="line">            cpos[i] = cpos[i - <span class="number">1</span>] + num[i - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> col, q;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M-&gt;len; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            col = M-&gt;data[i].j; <span class="comment">//Mçš„ä¸‰å…ƒç»„è¡¨ç¬¬iä¸ªå…ƒç´ å¯¹åº”çš„åˆ—,å³ä¸ºè½¬ç½®åçš„è¡Œ</span></span><br><span class="line">            q = cpos[col];      <span class="comment">//Mç¬¬colåˆ—ç¬¬ä¸€ä¸ªéé›¶å…ƒåœ¨è½¬ç½®åä¸‰å…ƒç»„è¡¨ä½ç½®</span></span><br><span class="line">            N-&gt;data[q].i = M-&gt;data[i].j;</span><br><span class="line">            N-&gt;data[q].j = M-&gt;data[i].i;</span><br><span class="line">            N-&gt;data[q].elem = M-&gt;data[i].elem;</span><br><span class="line">            ++cpos[col]; <span class="comment">//æŒ‡å‘ä¸‹ä¸ªéé›¶å…ƒ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(TSMatrix *M)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m, n;</span><br><span class="line">    <span class="keyword">int</span> r, c, element;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;m, &amp;n);</span><br><span class="line">    M-&gt;row = m;</span><br><span class="line">    M-&gt;col = n;</span><br><span class="line">    M-&gt;len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>,&amp;r,&amp;c,&amp;element)&amp;&amp;(r!=<span class="number">0</span>||c!=<span class="number">0</span>||element!=<span class="number">0</span>))</span><br><span class="line">    &#123;    </span><br><span class="line">        M-&gt;data[M-&gt;len].i = r;</span><br><span class="line">        M-&gt;data[M-&gt;len].j = c;</span><br><span class="line">        M-&gt;data[M-&gt;len].elem = element;</span><br><span class="line">        M-&gt;len++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="4"><a href="#4" class="headerlink" title="4."></a>4.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093448.png" alt="image-20210530155806685"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 101</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Tripe</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="keyword">int</span> row;</span><br><span class="line">    <span class="keyword">int</span> col;</span><br><span class="line">&#125; Tripe;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TSmatrix</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">int</span> row,col;</span><br><span class="line">    Tripe Element[maxsize];</span><br><span class="line">&#125; TSmatrix, *pTsmatrix;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pTsmatrix)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(pTsmatrix, pTsmatrix, pTsmatrix)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pTsmatrix)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pTsmatrix a = (pTsmatrix)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSmatrix));</span><br><span class="line">    pTsmatrix b = (pTsmatrix)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSmatrix));</span><br><span class="line">    pTsmatrix c = (pTsmatrix)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSmatrix));</span><br><span class="line">    <span class="keyword">int</span> r,col;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;r,&amp;col);</span><br><span class="line">    a-&gt;row = b-&gt;row = c-&gt;row = r;</span><br><span class="line">    a-&gt;col = b-&gt;col = c-&gt;col = col;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a-&gt;num, &amp;b-&gt;num);</span><br><span class="line">    initial(a);</span><br><span class="line">    initial(b);</span><br><span class="line">    add(a, b, c);</span><br><span class="line">    print(c);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pTsmatrix result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= result-&gt;num; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, result-&gt;Element[i].row, result-&gt;Element[i].col, result-&gt;Element[i].data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(pTsmatrix a, pTsmatrix b, pTsmatrix c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>, j = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> ((i &lt;= a-&gt;num) &amp;&amp; (j &lt;= b-&gt;num))</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((a-&gt;Element[i].row == b-&gt;Element[j].row) &amp;&amp; (a-&gt;Element[i].col == b-&gt;Element[j].col))</span><br><span class="line">        &#123;<span class="comment">//ä¸¤ä¸ªéé›¶å…ƒè¡Œç›¸åŒåˆ—ç›¸åŒï¼Œåˆ™è¿›è¡Œç›¸åŠ å¹¶åˆ¤æ–­å€¼æ˜¯å¦ä¸º0</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ((a-&gt;Element[i].data + b-&gt;Element[j].data) == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                i++;</span><br><span class="line">                j++;<span class="comment">//å€¼ä¸º0åˆ™ä¸ç®¡ï¼Œi,jé€’å¢</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                k++;</span><br><span class="line">                c-&gt;Element[k].data = a-&gt;Element[i].data + b-&gt;Element[j].data;</span><br><span class="line">                c-&gt;Element[k].row = a-&gt;Element[i].row;</span><br><span class="line">                c-&gt;Element[k].col = a-&gt;Element[i].col;</span><br><span class="line">                i++;</span><br><span class="line">                j++;<span class="comment">//å€¼ä¸ä¸º0,åˆ™èµ‹å€¼å¹¶é€’å¢i,j,k</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((a-&gt;Element[i].row &lt; b-&gt;Element[j].row) || (a-&gt;Element[i].row == b-&gt;Element[j].row &amp;&amp; (a-&gt;Element[i].col &lt; b-&gt;Element[j].col)))</span><br><span class="line">        &#123;<span class="comment">//è‹¥açš„éé›¶å…ƒè¡Œæ•°å°äºbçš„éé›¶å…ƒ,æ„å‘³ç€c = a+0 åˆ™ç›´æ¥å°†açš„å€¼èµ‹ç»™c</span></span><br><span class="line">        <span class="comment">//åé¢åŒç†ï¼Œå› ä¸ºaå…ƒç´ å¯¹åº”åœ¨bçŸ©é˜µå¤„å€¼ä¸º0</span></span><br><span class="line">        <span class="comment">//i,ké€’å¢</span></span><br><span class="line">            k++;</span><br><span class="line">            c-&gt;Element[k].row = a-&gt;Element[i].row;</span><br><span class="line">            c-&gt;Element[k].col = a-&gt;Element[i].col;</span><br><span class="line">            c-&gt;Element[k].data = a-&gt;Element[i].data;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;<span class="comment">//å‰©ä¸‹çš„æƒ…å†µå°±æ˜¯bçŸ©é˜µçš„å€¼çš„ä½ç½®å¯¹åº”åœ¨açŸ©é˜µä¸­çš„å€¼ä¸º0</span></span><br><span class="line">        <span class="comment">//å³ c = 0+b</span></span><br><span class="line">        <span class="comment">//j,ké€’å¢</span></span><br><span class="line">            k++;</span><br><span class="line">            c-&gt;Element[k].row = b-&gt;Element[j].row;</span><br><span class="line">            c-&gt;Element[k].col = b-&gt;Element[j].col;</span><br><span class="line">            c-&gt;Element[k].data = b-&gt;Element[j].data;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= a-&gt;num)</span><br><span class="line">    &#123;<span class="comment">//è‹¥açŸ©é˜µä¸­è¿˜æœ‰æœªå¤„ç†å®Œçš„éé›¶å…ƒï¼Œåˆ™ç›´æ¥åŠ ä¸Š</span></span><br><span class="line">        k++;</span><br><span class="line">        c-&gt;Element[k].row = a-&gt;Element[i].row;</span><br><span class="line">        c-&gt;Element[k].col = a-&gt;Element[i].col;</span><br><span class="line">        c-&gt;Element[k].data = a-&gt;Element[i].data;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= b-&gt;num)</span><br><span class="line">    &#123;<span class="comment">//é“ç†åŒä¸Š,bçŸ©é˜µçš„å€¼ç›´æ¥èµ‹ç»™c</span></span><br><span class="line">        k++;</span><br><span class="line">        c-&gt;Element[k].row = b-&gt;Element[j].row;</span><br><span class="line">        c-&gt;Element[k].col = b-&gt;Element[j].col;</span><br><span class="line">        c-&gt;Element[k].data = b-&gt;Element[j].data;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    c-&gt;num = k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pTsmatrix p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= p-&gt;num; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;p-&gt;Element[i].row, &amp;p-&gt;Element[i].col, &amp;p-&gt;Element[i].data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="5"><a href="#5" class="headerlink" title="5."></a>5.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065516.png" alt="image-20210530155750904"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> i, j, e;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span> *<span class="title">down</span>, *<span class="title">right</span>;</span></span><br><span class="line">&#125; OLNode, *OLlink;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    OLlink *rhead, *chead; <span class="comment">//æŒ‡å‘è¡Œæˆ–åˆ—ç¬¬ä¸€ä¸ªéé›¶å…ƒ(æŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆ),å¯ä»¥ç”¨æ•°ç»„rhead[row]è¡¨ç¤ºç¬¬rowè¡Œçš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">int</span> m, n, len;         <span class="comment">//è¡Œåˆ—æ•°,éé›¶å…ƒä¸ªæ•°</span></span><br><span class="line">&#125; CrossList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(CrossList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">plus</span><span class="params">(CrossList *, CrossList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(CrossList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(CrossList *, OLlink, OLlink, OLlink *, OLlink *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(CrossList *, OLlink, OLlink, OLlink *, OLlink *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CrossList *M = (CrossList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CrossList));</span><br><span class="line">    CrossList *N = (CrossList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CrossList));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;M-&gt;m, &amp;M-&gt;n);</span><br><span class="line">    N-&gt;m = M-&gt;m;</span><br><span class="line">    N-&gt;n = M-&gt;n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;M-&gt;len, &amp;N-&gt;len);</span><br><span class="line">    initial(M);</span><br><span class="line">    initial(N);</span><br><span class="line">    plus(M, N);</span><br><span class="line">    print(M);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(CrossList *M)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> row = <span class="number">1</span>; row &lt;= M-&gt;m; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        OLlink pa = M-&gt;rhead[row];</span><br><span class="line">        <span class="keyword">while</span> (pa)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, pa-&gt;i, pa-&gt;j, pa-&gt;e);</span><br><span class="line">            pa = pa-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">plus</span><span class="params">(CrossList *M, CrossList *N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    OLlink pa, pb;</span><br><span class="line">    OLlink pre; <span class="comment">//æŒ‡å‘å‰é¢ä¸€ä¸ªèŠ‚ç‚¹,æ–¹ä¾¿æ’å…¥</span></span><br><span class="line">    OLlink *hl = (OLlink *)<span class="built_in">malloc</span>((M-&gt;n + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLlink));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= M-&gt;n; j++)</span><br><span class="line">        hl[j] = M-&gt;chead[j]; <span class="comment">//hl[]è¡¨ç¤ºçš„æ˜¯æ¯åˆ—éé›¶å…ƒçš„preæŒ‡å‘å…ƒç´ ï¼Œä¸preç±»ä¼¼</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> row = <span class="number">1</span>; row &lt;= M-&gt;m; row++) <span class="comment">//è¡Œéå†</span></span><br><span class="line">    &#123;</span><br><span class="line">        pa = M-&gt;rhead[row];</span><br><span class="line">        pb = N-&gt;rhead[row];</span><br><span class="line">        pre = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">while</span> (pb) <span class="comment">//å½“pbæœ‰éé›¶å…ƒç´ æ—¶è¿›è¡Œå¤„ç†</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (pa == <span class="literal">NULL</span> || pa-&gt;j &gt; pb-&gt;j)</span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                Insert(M, pa, pb, &amp;pre, hl);</span><br><span class="line">                pb = pb-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (pa != <span class="literal">NULL</span> &amp;&amp; pa-&gt;j &lt; pb-&gt;j)</span><br><span class="line">            &#123;</span><br><span class="line">                pre = pa;</span><br><span class="line">                pa = pa-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (pa-&gt;j == pb-&gt;j)</span><br><span class="line">            &#123;</span><br><span class="line">                add(M, pa, pb, &amp;pre, hl);</span><br><span class="line">                pb = pb-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(CrossList *M, OLlink pa, OLlink pb, OLlink *pre, OLlink *hl)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> data = pa-&gt;e + pb-&gt;e;</span><br><span class="line">    <span class="keyword">if</span> (data)</span><br><span class="line">    &#123;</span><br><span class="line">        pa-&gt;e = data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        OLlink temp = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">        <span class="keyword">if</span> ((*pre) == <span class="literal">NULL</span>)</span><br><span class="line">            M-&gt;rhead[pa-&gt;i] = pa-&gt;right;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            (*pre)-&gt;right = pa-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = pa;</span><br><span class="line">        pa = pa-&gt;right;</span><br><span class="line">        <span class="keyword">if</span> (M-&gt;chead[temp-&gt;j] == temp)</span><br><span class="line">            M-&gt;chead[temp-&gt;j] = hl[temp-&gt;j] = temp-&gt;down;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            hl[temp-&gt;j]-&gt;down = temp-&gt;down;</span><br><span class="line">        <span class="built_in">free</span>(temp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(CrossList *M, OLlink pa, OLlink pb, OLlink *pre, OLlink *hl)</span> <span class="comment">//æ’å…¥æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯paè¯¥è¡Œæ— éé›¶å…ƒç´ ï¼Œå¦ä¸€ç§pbæ‰€åœ¨åˆ—å°äºpaæ‰€åœ¨åˆ—</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    OLlink p = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">    p-&gt;i = pb-&gt;i;</span><br><span class="line">    p-&gt;j = pb-&gt;j;</span><br><span class="line">    p-&gt;e = pb-&gt;e;</span><br><span class="line">    p-&gt;down = p-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> ((*pre) == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        M-&gt;rhead[p-&gt;i] = p;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        (*pre)-&gt;right = p;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;right = pa;</span><br><span class="line">    </span><br><span class="line">    (*pre) = p;</span><br><span class="line">   <span class="comment">// pa = (*pre)-&gt;right;//è¿™ä¸€å¥å¯ä»¥ä¸è¦</span></span><br><span class="line">    <span class="keyword">if</span> (!M-&gt;chead[p-&gt;j] || M-&gt;chead[p-&gt;j]-&gt;i &gt; p-&gt;i)</span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;down = M-&gt;chead[p-&gt;j];</span><br><span class="line">        M-&gt;chead[p-&gt;j] = p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;down = hl[p-&gt;j]-&gt;down;</span><br><span class="line">        hl[p-&gt;j]-&gt;down = p;</span><br><span class="line">    &#125;</span><br><span class="line">    hl[p-&gt;j] = p;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(CrossList *Clist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, e;</span><br><span class="line">    Clist-&gt;rhead = (OLlink *)<span class="built_in">malloc</span>((Clist-&gt;m + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLlink));</span><br><span class="line">    Clist-&gt;chead = (OLlink *)<span class="built_in">malloc</span>((Clist-&gt;n + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLlink));</span><br><span class="line">    <span class="comment">// if(rhead||chead)</span></span><br><span class="line">    <span class="comment">// exit(1);</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Clist-&gt;m; i++)</span><br><span class="line">        Clist-&gt;rhead[i] = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Clist-&gt;n; i++)</span><br><span class="line">        Clist-&gt;chead[i] = <span class="literal">NULL</span>;</span><br><span class="line">    OLlink s = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> count = <span class="number">0</span>; count &lt; Clist-&gt;len; count++)</span><br><span class="line">    &#123;</span><br><span class="line">        OLlink cur = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">        cur-&gt;down = <span class="literal">NULL</span>;</span><br><span class="line">        cur-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="comment">// if(cur==NULL)</span></span><br><span class="line">        <span class="comment">// exit(1);</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;i, &amp;j, &amp;e);</span><br><span class="line">        cur-&gt;i = i;</span><br><span class="line">        cur-&gt;j = j;</span><br><span class="line">        cur-&gt;e = e;</span><br><span class="line">        <span class="keyword">if</span> (Clist-&gt;rhead[i] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Clist-&gt;rhead[i] = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            s = Clist-&gt;rhead[i];</span><br><span class="line">            <span class="keyword">while</span> (s-&gt;right != <span class="literal">NULL</span> &amp;&amp; s-&gt;right-&gt;j &lt; j)</span><br><span class="line">                s = s-&gt;right;</span><br><span class="line">            cur-&gt;right = s-&gt;right;</span><br><span class="line">            s-&gt;right = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (Clist-&gt;chead[j] == <span class="literal">NULL</span>)</span><br><span class="line">            Clist-&gt;chead[j] = cur;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            s = Clist-&gt;chead[j];</span><br><span class="line">            <span class="keyword">while</span> (s-&gt;down != <span class="literal">NULL</span> &amp;&amp; s-&gt;down-&gt;i &lt; i)</span><br><span class="line">                s = s-&gt;down;</span><br><span class="line">            cur-&gt;down = s-&gt;down;</span><br><span class="line">            s-&gt;down = cur;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6"><a href="#6" class="headerlink" title="6."></a>6.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093450.png" alt="image-20210530155731455"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 1000 <span class="comment">//éé›¶å…ƒä¸ªæ•°</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXRs 500    <span class="comment">//çŸ©é˜µæœ€å¤§è¡Œæ•°</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Triple</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> row, col;</span><br><span class="line">    <span class="keyword">int</span> elem;</span><br><span class="line">&#125; Triple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">RLSMatrix</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Triple data[MAXSIZE];</span><br><span class="line">    <span class="keyword">int</span> rpos[MAXRs]; <span class="comment">//ç¬¬rowè¡Œç¬¬ä¸€ä¸ªéé›¶å…ƒåœ¨ç»“æœä¸‰å…ƒç»„ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">int</span> mu, nu, tu;  <span class="comment">//åˆ†åˆ«è¡¨ç¤ºè¡Œæ•°,åˆ—æ•°éé›¶å…ƒä¸ªæ•°</span></span><br><span class="line">&#125; RLSMatrix;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Multi</span><span class="params">(RLSMatrix *, RLSMatrix *, RLSMatrix *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(RLSMatrix *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(RLSMatrix *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    RLSMatrix *M = (RLSMatrix *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(RLSMatrix));</span><br><span class="line">    RLSMatrix *N = (RLSMatrix *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(RLSMatrix));</span><br><span class="line">    RLSMatrix *result = (RLSMatrix *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(RLSMatrix));</span><br><span class="line">    initial(M);</span><br><span class="line">    initial(N);</span><br><span class="line">    Multi(M, N, result);</span><br><span class="line">    print(result);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(RLSMatrix* result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;=result-&gt;tu;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>,result-&gt;data[i].row,result-&gt;data[i].col,result-&gt;data[i].elem);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Multi</span><span class="params">(RLSMatrix *M, RLSMatrix *N, RLSMatrix *Q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> arow, brow; <span class="comment">//M,NçŸ©é˜µçš„row</span></span><br><span class="line">    <span class="keyword">int</span> ccol;       <span class="comment">//Qç»“æœçŸ©é˜µçš„col</span></span><br><span class="line">    <span class="keyword">int</span> ctemp[MAXSIZE] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="comment">// if(M-&gt;mu!=N-&gt;nu)</span></span><br><span class="line">    <span class="comment">// exit(1);</span></span><br><span class="line">    Q-&gt;mu = M-&gt;mu;</span><br><span class="line">    Q-&gt;nu = N-&gt;nu;</span><br><span class="line">    Q-&gt;tu = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (M-&gt;tu &amp;&amp; N-&gt;tu)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (arow = <span class="number">1</span>; arow &lt;= M-&gt;mu; arow++)<span class="comment">//å¯¹äºMçš„æ¯ä¸€è¡Œ,æ ¹æ®è¡Œæ•°ç¡®å®šä¸‰å…ƒç»„è¡¨å–å€¼èŒƒå›´(p)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">memset</span>(ctemp,<span class="number">0</span>,(N-&gt;nu+<span class="number">1</span>)*(<span class="keyword">sizeof</span>(<span class="keyword">int</span>)));</span><br><span class="line">            Q-&gt;rpos[arow] = Q-&gt;tu+<span class="number">1</span>;<span class="comment">//æ¯ä¸€è¡Œç¬¬ä¸€ä¸ªéé›¶å…ƒåœ¨ä¸‰å…ƒç»„çš„ä½ç½®æ˜¯æ­¤æ—¶çš„éé›¶å…ƒä¸ªæ•°+1</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> p = M-&gt;rpos[arow]; p &lt; M-&gt;rpos[arow + <span class="number">1</span>]; p++)<span class="comment">//å¯¹äºæ¯ä¸€è¡Œçš„å„ä¸ªå…ƒç´ ,å–å…¶åˆ—</span></span><br><span class="line">            &#123;</span><br><span class="line">                brow = M-&gt;data[p].col;<span class="comment">//åˆ—ä¸ºNæ‰€å¯¹åº”çš„è¡Œæ•°</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> q = N-&gt;rpos[brow]; q &lt; N-&gt;rpos[brow + <span class="number">1</span>]; q++)</span><br><span class="line">                &#123;</span><br><span class="line">                    ccol = N-&gt;data[q].col;<span class="comment">//å–å¾—ccolä¸ºç»“æœçŸ©é˜µå…ƒç´ å¯¹åº”çš„åˆ—æ•°</span></span><br><span class="line">                    ctemp[ccol] += M-&gt;data[p].elem * N-&gt;data[q].elem;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (ccol = <span class="number">1</span>; ccol &lt;= Q-&gt;nu; ++ccol)<span class="comment">//å¯¹äºæ¯ä¸€åˆ—</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (ctemp[ccol])</span><br><span class="line">                &#123;</span><br><span class="line">                    Q-&gt;tu++;</span><br><span class="line">                    Q-&gt;data[Q-&gt;tu].row = arow;</span><br><span class="line">                    Q-&gt;data[Q-&gt;tu].col = ccol;</span><br><span class="line">                    Q-&gt;data[Q-&gt;tu].elem = ctemp[ccol];</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(RLSMatrix *M)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;M-&gt;mu, &amp;M-&gt;nu);</span><br><span class="line">    <span class="keyword">int</span> i, j, e;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;i, &amp;j, &amp;e) &amp;&amp; (i != <span class="number">0</span> || j != <span class="number">0</span> || e != <span class="number">0</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        M-&gt;data[count].row = i;</span><br><span class="line">        M-&gt;data[count].col = j;</span><br><span class="line">        M-&gt;data[count].elem = e;</span><br><span class="line">        count++;</span><br><span class="line">    &#125;</span><br><span class="line">    M-&gt;tu = count<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">int</span> num[MAXSIZE] = &#123;<span class="number">0</span>&#125;; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;=M-&gt;tu;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        num[M-&gt;data[i].row]++;</span><br><span class="line">    &#125;</span><br><span class="line">    M-&gt;rpos[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;i&lt;=M-&gt;mu;i++)</span><br><span class="line">    M-&gt;rpos[i] = M-&gt;rpos[i<span class="number">-1</span>]+num[i<span class="number">-1</span>];</span><br><span class="line">    M-&gt;rpos[M-&gt;mu+<span class="number">1</span>] = M-&gt;tu+<span class="number">1</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="7"><a href="#7" class="headerlink" title="7."></a>7.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093454.png" alt="image-20210530155715476"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M (2 * N - 1)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> *HuffmanCode[N + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> weight; <span class="comment">//æƒå€¼</span></span><br><span class="line">    <span class="keyword">int</span> parent; <span class="comment">//çˆ¶èŠ‚ç‚¹åœ¨htæ•°ç»„ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">int</span> Lchild; <span class="comment">//å·¦å­©å­åœ¨htæ•°ç»„ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">int</span> Rchild; <span class="comment">//å³å­©å­åœ¨htæ•°ç»„ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">char</span> c;     <span class="comment">//å­—ç¬¦</span></span><br><span class="line">&#125; HTNode, HuffmanTree[M + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanTree</span><span class="params">(HuffmanTree, <span class="keyword">int</span>)</span></span>;       <span class="comment">//æ„é€ å“ˆå¤«æ›¼æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">select</span><span class="params">(HuffmanTree, <span class="keyword">int</span>, <span class="keyword">int</span> *, <span class="keyword">int</span> *)</span></span>; <span class="comment">//ç”¨äºå¯»æ‰¾æœ€å°çš„ä¸¤ä¸ªå€¼</span></span><br><span class="line"><span class="comment">//hc[N+1]ä¸ºç›¸åº”èŠ‚ç‚¹çš„ç¼–ç </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanCode</span><span class="params">(HuffmanTree, HuffmanCode, <span class="keyword">int</span>)</span></span>; <span class="comment">//æ ¹æ®å“ˆå¤«æ›¼æ ‘å¾—åˆ°ç›¸åº”ç¼–ç </span></span><br><span class="line"><span class="comment">//è§£ç å¾—åˆ°æ˜æ–‡</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decode</span><span class="params">(HuffmanTree, HuffmanCode, <span class="keyword">int</span>, <span class="keyword">char</span> *)</span></span>;</span><br><span class="line"><span class="comment">//ç¼–ç å¾—åˆ°äºŒè¿›åˆ¶ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">encode</span><span class="params">(HuffmanTree, HuffmanCode, <span class="keyword">int</span>, <span class="keyword">char</span> *)</span></span>;</span><br><span class="line"><span class="comment">//æ ¹æ®HuffmanTreeå¾—åˆ°HuffmanCode</span></span><br><span class="line"><span class="comment">//HuffmanCodeå‚¨å­˜çš„æ˜¯æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„ç¼–ç </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(HuffmanTree ht, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> weight_[N + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;weight_[i]); <span class="comment">//è¾“å…¥nä¸ªå¶å­èŠ‚ç‚¹çš„æƒå€¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ht[i].weight = weight_[i];</span><br><span class="line">        ht[i].parent = ht[i].Rchild = ht[i].Lchild = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ht[i].weight);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;size);</span><br><span class="line">    getchar();</span><br><span class="line">    HuffmanTree ht;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>, &amp;ht[i].c); <span class="comment">//è¾“å…¥nä¸ªå¶å­èŠ‚ç‚¹çš„å­—ç¬¦</span></span><br><span class="line">        getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    CrtHuffmanTree(ht, size);</span><br><span class="line">    HuffmanCode hc;</span><br><span class="line">    CrtHuffmanCode(ht, hc, size);</span><br><span class="line">    <span class="comment">//  test(ht,size);</span></span><br><span class="line">    <span class="keyword">char</span> encoding_text[<span class="number">100</span>] = &#123;<span class="string">&#x27;\0&#x27;</span>&#125;;</span><br><span class="line">    encode(ht, hc, size, encoding_text);</span><br><span class="line">    decode(ht, hc, size, encoding_text);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanTree</span><span class="params">(HuffmanTree ht, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// int w[N + 1];</span></span><br><span class="line">    <span class="comment">// for (int i = 1; i &lt;= n; i++)</span></span><br><span class="line">    <span class="comment">//     scanf(&quot;%d&quot;, &amp;w[i]); //è¾“å…¥nä¸ªå¶å­èŠ‚ç‚¹çš„æƒå€¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;ht[i].weight); <span class="comment">//è¾“å…¥nä¸ªå¶å­èŠ‚ç‚¹çš„æƒå€¼</span></span><br><span class="line">        ht[i].parent = ht[i].Rchild = ht[i].Lchild = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">2</span> * n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n + <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ht[i].weight = <span class="number">0</span>;</span><br><span class="line">        ht[i].parent = ht[i].Rchild = ht[i].Lchild = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> s1, s2; <span class="comment">//s1,s2ä¸ºä¸¤ä¸ªå€¼æœ€å°çš„æ— çˆ¶ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n + <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        select(ht, i - <span class="number">1</span>, &amp;s1, &amp;s2);</span><br><span class="line">        ht[i].weight = ht[s1].weight + ht[s2].weight;</span><br><span class="line">        ht[s1].parent = ht[s2].parent = i;</span><br><span class="line">        ht[i].Lchild = s1;</span><br><span class="line">        ht[i].Rchild = s2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">select</span><span class="params">(HuffmanTree ht, <span class="keyword">int</span> n, <span class="keyword">int</span> *s1, <span class="keyword">int</span> *s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> min_1_w = <span class="number">10000</span>; <span class="comment">//ç”¨æ¥æ‰¾æœ€å°å€¼</span></span><br><span class="line">    <span class="keyword">int</span> min_2_w = <span class="number">10000</span>; <span class="comment">//ç”¨æ¥æ‰¾æœ€å°å€¼</span></span><br><span class="line">    <span class="keyword">int</span> min;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ht[i].parent == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ht[i].weight &lt; min_1_w)</span><br><span class="line">            &#123;</span><br><span class="line">                min_1_w = ht[i].weight;</span><br><span class="line">                min = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="comment">//æ‰¾åˆ°ç¬¬ä¸€ä¸ªæœ€å°å€¼</span></span><br><span class="line">    *s1 = min;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ht[j].parent == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (j != *s1 &amp;&amp; ht[j].weight &lt; min_2_w) <span class="comment">//å€’æ•°ç¬¬äºŒå°çš„å€¼å¤§äºç­‰äºæœ€å°çš„å€¼,å°äºå…¶ä½™å€¼</span></span><br><span class="line">            &#123;</span><br><span class="line">                min_2_w = ht[j].weight;</span><br><span class="line">                min = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="comment">//æœ€å°çš„ç¬¬äºŒä¸ªå€¼</span></span><br><span class="line">    *s2 = min;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanCode</span><span class="params">(HuffmanTree ht, HuffmanCode hc, <span class="keyword">int</span> n)</span> <span class="comment">//å»ºç«‹å¥½å“ˆå¤«æ›¼æ ‘å,å¾—åˆ°å“ˆå¤«æ›¼ç¼–ç </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *cd;                              <span class="comment">//cdæ˜¯æŒ‡å‘å­—ç¬¦çš„æŒ‡é’ˆ,ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²</span></span><br><span class="line">    cd = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>(n * <span class="keyword">sizeof</span>(<span class="keyword">char</span>)); <span class="comment">//å¼€è¾Ÿnä¸ªå•å…ƒ,å› ä¸ºå…±æœ‰nä¸ªç»“ç‚¹,æœ€å¤šåªæœ‰n-1ä¸ªç¼–ç ä½</span></span><br><span class="line">    cd[n - <span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;                      <span class="comment">//å› ä¸ºå­˜å‚¨å­—ç¬¦ä¸²,æœ€åä¸€ä½ä¸ºç©ºå­—ç¬¦</span></span><br><span class="line">    <span class="keyword">int</span> start, c;                          <span class="comment">//startä¸ºcdæ•°ç»„å¼€å§‹å­˜å‚¨çš„èµ·ç‚¹,cç”¨æ¥æ ‡è®°æ¯æ¬¡å¾€ä¸Šæ‰¾åˆ°çš„åŒäº²çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">int</span> p;                                 <span class="comment">//pä¸ºåŒäº²çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        start = n - <span class="number">1</span>;    <span class="comment">//è¿™æ˜¯cdæ•°ç»„çš„æœ€åä¸€ä½,æ˜¯&#x27;/0&#x27;ï¼Œå› ä¸ºå‚¨å­˜å­—ç¬¦ä¸²</span></span><br><span class="line">        c = i;            <span class="comment">//cä¸ºç¬¬ä¸€ä¸ªç»“ç‚¹,å¾—åˆ°ç¬¬ä¸€ä¸ªç»“ç‚¹çš„ç¼–ç </span></span><br><span class="line">        p = ht[i].parent; <span class="comment">//å¯»æ‰¾ç»“ç‚¹çˆ¶äº²</span></span><br><span class="line">        <span class="keyword">while</span> (p)         <span class="comment">//è‹¥æœ‰çˆ¶äº²ç»“ç‚¹</span></span><br><span class="line">        &#123;</span><br><span class="line">            --start;               <span class="comment">//æ¯æ¬¡é€’å‡,ä»åå‘å‰å¾—åˆ°ç¼–ç </span></span><br><span class="line">            <span class="keyword">if</span> (ht[p].Lchild == c) <span class="comment">//è‹¥å­èŠ‚ç‚¹ä¸ºå·¦å­©å­,åˆ™ä¸º0</span></span><br><span class="line">                cd[start] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cd[start] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">            c = p;</span><br><span class="line">            p = ht[p].parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        whileå¾ªç¯å¯æ”¹ä¸º</span></span><br><span class="line"><span class="comment">        for(c=i,p=ht[i].parent;p!=0;c=p,p=ht[p].parent)</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">             --start;</span></span><br><span class="line"><span class="comment">            if (ht[p].Lchild == c)</span></span><br><span class="line"><span class="comment">                cd[start] = &#x27;0&#x27;;</span></span><br><span class="line"><span class="comment">            else</span></span><br><span class="line"><span class="comment">                cd[start] = &#x27;1&#x27;;</span></span><br><span class="line"><span class="comment">            c = p;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        hc[i] = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>((n - start) * <span class="keyword">sizeof</span>(<span class="keyword">char</span>)); <span class="comment">//ä¸ºhc[i]åˆ†é…ç©ºé—´,ç©ºé—´å¤§å°ä¸ºç¼–ç çš„ä½æ•°+1,æœ€åä¸€ä½ä¸º&#x27;\0&#x27;</span></span><br><span class="line">        <span class="built_in">strcpy</span>(hc[i], &amp;cd[start]);                          <span class="comment">//æ³¨æ„è¿™é‡Œå–åœ°å€ç¬¦ä¸å¯ä»¥å»æ‰,å› ä¸ºæœ¬èº«cdæ˜¯ä¸€ä¸ªæ•°ç»„(æŒ‡é’ˆ),ä½†å¤åˆ¶æ—¶åº”è¯¥ä»startå¼€å§‹,æ‰€ä»¥å–æ•°ç»„startä½çš„å…ƒç´ åœ°å€</span></span><br><span class="line">                                                            <span class="comment">//   printf(&quot;%d:%s\n&quot;,i,hc[i]);//hc å­˜å‚¨çš„æ˜¯nä¸ªå­—ç¬¦åˆ†åˆ«çš„ç¼–ç </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(cd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decode</span><span class="params">(HuffmanTree ht, HuffmanCode hc, <span class="keyword">int</span> n, <span class="keyword">char</span> *encoding_text)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *text = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>(n * <span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">    <span class="built_in">memset</span>(text, <span class="string">&#x27;\0&#x27;</span>, <span class="keyword">sizeof</span>(text));</span><br><span class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> t_pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (encoding_text[pos] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        text[t_pos++] = encoding_text[pos++];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(text, hc[i])==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, ht[i].c);</span><br><span class="line">                <span class="built_in">memset</span>(text, <span class="string">&#x27;\0&#x27;</span>, n * <span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">                t_pos = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// else</span></span><br><span class="line">            <span class="comment">// &#123;</span></span><br><span class="line">            <span class="comment">//     text[t_pos++] = encoding_text[pos++];</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">// text[t_pos++] = encoding_text[pos++];</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">encode</span><span class="params">(HuffmanTree ht, HuffmanCode hc, <span class="keyword">int</span> n, <span class="keyword">char</span> *encoding_text)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å¾—åˆ°äº†å“ˆå¤«æ›¼ç¼–ç ,å› ä¸ºçŸ¥é“äº†æ¯ä¸ªå­—ç¬¦ç›¸åº”çš„ç¼–ç ,è§£ç å°±å¾ˆç®€å•äº†</span></span><br><span class="line">    <span class="comment">//è¿›è¡Œç¼–ç </span></span><br><span class="line">    getchar();</span><br><span class="line">    <span class="keyword">char</span> text[<span class="number">1000</span>]; <span class="comment">//è¿›è¡Œç¼–ç çš„æ–‡æœ¬</span></span><br><span class="line">    fgets(text, <span class="number">1000</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; text[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        c = text[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ht[j].c == c)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, hc[j]);</span><br><span class="line">                <span class="built_in">strcat</span>(encoding_text, hc[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="8"><a href="#8" class="headerlink" title="8."></a>8.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093500.png" alt="image-20210530155656921"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_Node 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> vex[MAX_Node];            <span class="comment">//é¡¶ç‚¹ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">int</span> arcs[MAX_Node][MAX_Node]; <span class="comment">//æƒå€¼  é‚»æ¥çŸ©é˜µä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">int</span> arccount, vexcount;       <span class="comment">//é¡¶ç‚¹ä¸ªæ•°,è¾¹çš„ä¸ªæ•°</span></span><br><span class="line">&#125; Graph, *PGraph;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(PGraph)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find_minpath</span><span class="params">(PGraph)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(PGraph)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    PGraph g = (PGraph)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Graph));</span><br><span class="line">    initial(g);</span><br><span class="line">    find_minpath(g);</span><br><span class="line">    output(g);</span><br><span class="line">    <span class="built_in">free</span>(g);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(PGraph g)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;g-&gt;vexcount;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,g-&gt;arcs[<span class="number">0</span>][i]);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find_minpath</span><span class="params">(PGraph g)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//è®°å½•èŠ‚ç‚¹æ˜¯å¦å·²ç»åˆ¤æ–­è¿‡</span></span><br><span class="line">    <span class="comment">//1è¡¨ç¤ºåˆ¤æ–­è¿‡</span></span><br><span class="line">    <span class="keyword">int</span> visited[MAX_Node];</span><br><span class="line">    <span class="comment">//è®°å½•0åˆ°å„èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„</span></span><br><span class="line">    <span class="keyword">int</span> dist[MAX_Node];</span><br><span class="line">    <span class="keyword">int</span> min;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> flag;<span class="comment">//æ ‡è®°</span></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        visited[i] = <span class="number">0</span>;          <span class="comment">//åˆå§‹åŒ–,æœªåˆ¤æ–­</span></span><br><span class="line">        dist[i] = g-&gt;arcs[<span class="number">0</span>][i]; <span class="comment">//åˆå§‹åŒ–è·ç¦»</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    visited[<span class="number">0</span>] = <span class="number">1</span>; <span class="comment">//åˆå§‹èŠ‚ç‚¹ç½®ä¸ºåˆ¤æ–­</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        min = <span class="number">10000</span>;<span class="comment">//æœ€å¤§å€¼</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)<span class="comment">//éå†æ¯ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[j] == <span class="number">0</span>)<span class="comment">//æœªåˆ¤æ–­,å³æ²¡æœ‰åœ¨é›†åˆä¸­ï¼Œå°šæœªå¤„ç†</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (dist[j] &lt; min)<span class="comment">//ä¸æ˜¯æœ€å¤§å€¼min</span></span><br><span class="line">                &#123;</span><br><span class="line">                    flag = j; <span class="comment">//å¦‚æœè·ç¦»æ¯”MINå°,åˆ™jä¸ºä¸­é—´è·¯å¾„,æ›´æ–°</span></span><br><span class="line">                    min = dist[j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">            visited[flag] = <span class="number">1</span>;<span class="comment">//ç½®ä¸ºåˆ¤æ–­</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//æ›´æ–°è·¯å¾„</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (visited[j] == <span class="number">0</span> &amp;&amp; (min + g-&gt;arcs[flag][j] &lt; dist[j]))</span><br><span class="line">                &#123;</span><br><span class="line">                    dist[j] = min + g-&gt;arcs[flag][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;g-&gt;vexcount;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        g-&gt;arcs[<span class="number">0</span>][i] = dist[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(PGraph g)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g-&gt;vexcount);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g-&gt;arcs[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="9"><a href="#9" class="headerlink" title="9."></a>9.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093501.png" alt="image-20210530155639357"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_Node 100</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> vex[MAX_Node];            <span class="comment">//é¡¶ç‚¹ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">int</span> arcs[MAX_Node][MAX_Node]; <span class="comment">//æƒå€¼  é‚»æ¥çŸ©é˜µä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">int</span> arccount, vexcount;       <span class="comment">//é¡¶ç‚¹ä¸ªæ•°,è¾¹çš„ä¸ªæ•°</span></span><br><span class="line">&#125; Graph, *PGraph;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(PGraph)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find_minpath</span><span class="params">(PGraph,<span class="keyword">int</span>[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(PGraph, <span class="keyword">int</span>[])</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> x, y;<span class="comment">//ä»xåˆ°yçš„æœ€çŸ­è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> way[MAX_Node];</span><br><span class="line">    PGraph g = (PGraph)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Graph));</span><br><span class="line">    initial(g);</span><br><span class="line">    find_minpath(g,way);</span><br><span class="line">    output(g,way);</span><br><span class="line">    <span class="built_in">free</span>(g);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(PGraph g, <span class="keyword">int</span> way[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> tmp, ans[MAX_Node], k = <span class="number">0</span>;</span><br><span class="line">    tmp = y;</span><br><span class="line">    <span class="keyword">while</span> (tmp != x)</span><br><span class="line">    &#123;</span><br><span class="line">        ans[k++] = tmp;</span><br><span class="line">        tmp = way[tmp];<span class="comment">//é€†æ¨,åˆ°è¾¾yç‚¹éœ€è¦ç»è¿‡å“ªä¸ªç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å½“tmp==xæ—¶è·³å‡º,åˆ°è¾¾xç‚¹éœ€è¦ç»è¿‡x</span></span><br><span class="line">    ans[k] = way[x];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ans[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find_minpath</span><span class="params">(PGraph g,<span class="keyword">int</span> way[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//è®°å½•èŠ‚ç‚¹æ˜¯å¦å·²ç»åˆ¤æ–­è¿‡</span></span><br><span class="line">    <span class="comment">//1è¡¨ç¤ºåˆ¤æ–­è¿‡</span></span><br><span class="line">    <span class="keyword">int</span> visited[MAX_Node];</span><br><span class="line">    <span class="comment">//è®°å½•0åˆ°å„èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„</span></span><br><span class="line">    <span class="keyword">int</span> dist[MAX_Node];</span><br><span class="line">    <span class="keyword">int</span> min;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> flag; <span class="comment">//æ ‡è®°</span></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y); <span class="comment">//è¾“å…¥è¦æ±‚è·¯å¾„çš„ä¸¤ä¸ªç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        visited[i] = <span class="number">0</span>;          <span class="comment">//åˆå§‹åŒ–,æœªåˆ¤æ–­</span></span><br><span class="line">        dist[i] = g-&gt;arcs[x][i]; <span class="comment">//åˆå§‹åŒ–è·ç¦»,ä»xåˆ°å„ç‚¹çš„è·ç¦»</span></span><br><span class="line">        way[i] = x;<span class="comment">//åˆå§‹åŒ–,åˆ°è¾¾ç¬¬iç‚¹ç»è¿‡x å³ ç»è¿‡xåˆ°è¾¾i</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    visited[x] = <span class="number">1</span>; <span class="comment">//åˆå§‹èŠ‚ç‚¹ç½®ä¸ºåˆ¤æ–­</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        min = <span class="number">10000</span>; <span class="comment">//æœ€å¤§å€¼</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++) <span class="comment">//éå†æ¯ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[j] == <span class="number">0</span>) <span class="comment">//æœªåˆ¤æ–­,å³æ²¡æœ‰åœ¨é›†åˆä¸­ï¼Œå°šæœªå¤„ç†</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (dist[j] &lt; min) <span class="comment">//ä¸æ˜¯æœ€å¤§å€¼min</span></span><br><span class="line">                &#123;</span><br><span class="line">                    flag = j; <span class="comment">//å¦‚æœè·ç¦»æ¯”MINå°,åˆ™jä¸ºä¸­é—´è·¯å¾„,æ›´æ–°</span></span><br><span class="line">                    min = dist[j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        visited[flag] = <span class="number">1</span>; <span class="comment">//ç½®ä¸ºåˆ¤æ–­</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ›´æ–°è·¯å¾„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[j] == <span class="number">0</span> &amp;&amp; (min + g-&gt;arcs[flag][j] &lt; dist[j]))</span><br><span class="line">            &#123;</span><br><span class="line">                dist[j] = min + g-&gt;arcs[flag][j];</span><br><span class="line">                way[j] = flag;<span class="comment">//åˆ°è¾¾jç‚¹ç»è¿‡flag</span></span><br><span class="line">                <span class="comment">//è¿™é‡ŒåŠ ä¸Šè·¯å¾„</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(PGraph g)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g-&gt;vexcount);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g-&gt;arcs[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="10"><a href="#10" class="headerlink" title="10."></a>10.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093503.png" alt="image-20210530155622500"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_Node 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 10000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> vex[MAX_Node];            <span class="comment">//é¡¶ç‚¹ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">int</span> arcs[MAX_Node][MAX_Node]; <span class="comment">//æƒå€¼  é‚»æ¥çŸ©é˜µä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">int</span> arccount, vexcount;       <span class="comment">//é¡¶ç‚¹ä¸ªæ•°,è¾¹çš„ä¸ªæ•°</span></span><br><span class="line">&#125; Graph, *PGraph;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ShortPath</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">/* çŸ©é˜µAï¼Œå­˜æ”¾æ¯å¯¹é¡¶ç‚¹é—´æœ€çŸ­è·¯å¾„é•¿åº¦ */</span></span><br><span class="line">    <span class="keyword">int</span> a[MAX_Node][MAX_Node];</span><br><span class="line">    <span class="comment">/* nextvex[i][j]å­˜æ”¾viåˆ°vjæœ€çŸ­è·¯å¾„ä¸Šviçš„åç»§é¡¶ç‚¹çš„ä¸‹æ ‡å€¼ */</span></span><br><span class="line">    <span class="keyword">int</span> nextvex[MAX_Node][MAX_Node];</span><br><span class="line">&#125; ShortPath, *path;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(PGraph)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find_minpath</span><span class="params">(PGraph, path)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(path,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count; </span><br><span class="line">    PGraph g = (PGraph)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Graph));</span><br><span class="line">    path p = (path)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ShortPath));</span><br><span class="line">    initial(g);  </span><br><span class="line">    find_minpath(g, p);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;count);</span><br><span class="line">    output(p,count);</span><br><span class="line">    <span class="built_in">free</span>(g);</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(path p,<span class="keyword">int</span> count)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">while</span>(count--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,p-&gt;a[x][y]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find_minpath</span><span class="params">(PGraph g, path p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, k;</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (g-&gt;arcs[i][j] &lt; MAX)  <span class="comment">//å¦‚æœä¸¤ç‚¹å­˜åœ¨è·¯å¾„</span></span><br><span class="line">                p-&gt;nextvex[i][j] = j; <span class="comment">//å…ˆæŠŠjåˆå§‹åŒ–ä¸ºiçš„ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                p-&gt;nextvex[i][j] = <span class="number">-1</span>; <span class="comment">//å¦‚æœä¸å­˜åœ¨è¯¥è·¯å¾„,åˆ™æ²¡æœ‰,ç½®ä¸º-1</span></span><br><span class="line">            &#125;</span><br><span class="line">            p-&gt;a[i][j] = g-&gt;arcs[i][j]; <span class="comment">//è·ç¦»åˆå§‹åŒ–</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; g-&gt;vexcount; k++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//kä½œä¸ºæ’å…¥ç‚¹,éå† i,j</span></span><br><span class="line">                <span class="comment">//å¦‚æœè·¯å¾„ä¸å­˜åœ¨,åˆ™ç»§ç»­</span></span><br><span class="line">                <span class="keyword">if</span> ((p-&gt;a[i][k] &gt;= MAX) || (p-&gt;a[k][j] &gt;= MAX))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å¦‚æœè·¯å¾„å­˜åœ¨ä¸”æ¯”ç›´æ¥è·¯å¾„çŸ­</span></span><br><span class="line">                <span class="keyword">if</span>(p-&gt;a[i][j]&gt;(p-&gt;a[i][k]+p-&gt;a[k][j]))</span><br><span class="line">                &#123;</span><br><span class="line">                       p-&gt;a[i][j]=p-&gt;a[i][k]+p-&gt;a[k][j];</span><br><span class="line">                       p-&gt;nextvex[i][j] = p-&gt;nextvex[k][j];<span class="comment">//å°†æ’å…¥çš„ç‚¹ä½œä¸ºiçš„ä¸‹ä¸€ä¸ªç‚¹</span></span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(PGraph g)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g-&gt;vexcount);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g-&gt;arcs[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="11"><a href="#11" class="headerlink" title="11."></a>11.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/093504.png" alt="image-20210530155607489"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_Node 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 10000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> vex[MAX_Node];            <span class="comment">//é¡¶ç‚¹ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">int</span> arcs[MAX_Node][MAX_Node]; <span class="comment">//æƒå€¼  é‚»æ¥çŸ©é˜µä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">int</span> arccount, vexcount;       <span class="comment">//é¡¶ç‚¹ä¸ªæ•°,è¾¹çš„ä¸ªæ•°</span></span><br><span class="line">&#125; Graph, *PGraph;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ShortPath</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">/* çŸ©é˜µAï¼Œå­˜æ”¾æ¯å¯¹é¡¶ç‚¹é—´æœ€çŸ­è·¯å¾„é•¿åº¦ */</span></span><br><span class="line">    <span class="keyword">int</span> a[MAX_Node][MAX_Node];</span><br><span class="line">    <span class="comment">/* nextvex[i][j]å­˜æ”¾viåˆ°vjæœ€çŸ­è·¯å¾„ä¸Šviçš„åç»§é¡¶ç‚¹çš„ä¸‹æ ‡å€¼ */</span></span><br><span class="line">    <span class="keyword">int</span> nextvex[MAX_Node][MAX_Node];</span><br><span class="line">&#125; ShortPath, *path;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(PGraph)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find_minpath</span><span class="params">(PGraph, path)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(path, <span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line"></span><br><span class="line">    PGraph g = (PGraph)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Graph));</span><br><span class="line">    path p = (path)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ShortPath));</span><br><span class="line">    initial(g);</span><br><span class="line">    find_minpath(g, p);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;count);</span><br><span class="line">    <span class="keyword">while</span> (count--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, x); <span class="comment">//å…ˆè¾“å‡ºé¦–èŠ‚ç‚¹</span></span><br><span class="line">        output(p, x, y);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, y); <span class="comment">//è‹¥ä¸å­˜åœ¨ä¸­é—´èŠ‚ç‚¹,åˆ™è¾“å‡ºå°¾ç»“ç‚¹</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(g);</span><br><span class="line">    <span class="built_in">free</span>(p);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(path p, <span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid; <span class="comment">//ä¸­é—´èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (p-&gt;nextvex[x][y] != y) <span class="comment">//å¦‚æœå­˜åœ¨ä¸­é—´èŠ‚ç‚¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        mid = p-&gt;nextvex[x][y];</span><br><span class="line">        <span class="keyword">if</span> (mid != <span class="number">-1</span>) <span class="comment">//å­˜åœ¨å¼§</span></span><br><span class="line">        &#123;</span><br><span class="line">            output(p, x, mid);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, p-&gt;nextvex[x][y]);</span><br><span class="line">            output(p, mid, y);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">find_minpath</span><span class="params">(PGraph g, path p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, k;</span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (g-&gt;arcs[i][j] &lt; MAX)  <span class="comment">//å¦‚æœä¸¤ç‚¹å­˜åœ¨è·¯å¾„</span></span><br><span class="line">                p-&gt;nextvex[i][j] = j; <span class="comment">//å…ˆæŠŠjåˆå§‹åŒ–ä¸ºiçš„ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                p-&gt;nextvex[i][j] = <span class="number">-1</span>; <span class="comment">//å¦‚æœä¸å­˜åœ¨è¯¥è·¯å¾„,åˆ™æ²¡æœ‰,ç½®ä¸º-1</span></span><br><span class="line">            &#125;</span><br><span class="line">            p-&gt;a[i][j] = g-&gt;arcs[i][j]; <span class="comment">//è·ç¦»åˆå§‹åŒ–</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; g-&gt;vexcount; k++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//kä½œä¸ºæ’å…¥ç‚¹,éå† i,j</span></span><br><span class="line">                <span class="comment">//å¦‚æœè·¯å¾„ä¸å­˜åœ¨,åˆ™ç»§ç»­</span></span><br><span class="line">                <span class="keyword">if</span> ((p-&gt;a[i][k] &gt;= MAX) || (p-&gt;a[k][j] &gt;= MAX))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å¦‚æœè·¯å¾„å­˜åœ¨ä¸”æ¯”ç›´æ¥è·¯å¾„çŸ­</span></span><br><span class="line">                <span class="keyword">if</span> (p-&gt;a[i][j] &gt; (p-&gt;a[i][k] + p-&gt;a[k][j]))</span><br><span class="line">                &#123;</span><br><span class="line">                    p-&gt;a[i][j] = p-&gt;a[i][k] + p-&gt;a[k][j];</span><br><span class="line">                    p-&gt;nextvex[i][j] = p-&gt;nextvex[i][k]; <span class="comment">//å°†æ’å…¥çš„ç‚¹ä½œä¸ºiçš„ä¸‹ä¸€ä¸ªç‚¹</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(PGraph g)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g-&gt;vexcount);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g-&gt;vexcount; i++)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; g-&gt;vexcount; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g-&gt;arcs[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=" "></a> </h2>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> data_structure </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„noj_2</title>
      <link href="2021/05/17/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84noj_2/"/>
      <url>2021/05/17/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84noj_2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="æ•°æ®ç»“æ„noj-2"><a href="#æ•°æ®ç»“æ„noj-2" class="headerlink" title="æ•°æ®ç»“æ„noj_2"></a>æ•°æ®ç»“æ„noj_2</h1><p>æ•°æ®ç»“æ„10-20</p><p>æˆ‘å¤ªèœäº†,æœ‰å‡ é“é¢˜åªæ˜¯èƒ½å‹‰å¼ºè¿‡ä¸€ä¸‹,ä½†æ²¡æŒ‰ç…§è¦æ±‚åš</p><p><del>åé¢æœ‰æ—¶é—´çœ‹èƒ½ä¸èƒ½æ”¹ä¸€ä¸‹</del></p><span id="more"></span><h2 id="11"><a href="#11" class="headerlink" title="11"></a>11</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065706.png" alt="QQæˆªå›¾20210517220735"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 101</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">queue</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data[maxsize];</span><br><span class="line">    <span class="comment">//int head;</span></span><br><span class="line">    <span class="keyword">int</span> rear;</span><br><span class="line">&#125;<span class="built_in">queue</span>,*pqueue;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(pqueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pqueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pqueue,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;n,&amp;k);</span><br><span class="line">    pqueue q = (pqueue)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="built_in">queue</span>));</span><br><span class="line">    <span class="keyword">if</span>(q==<span class="literal">NULL</span>) <span class="built_in">printf</span>(<span class="string">&quot;error&quot;</span>);</span><br><span class="line">    initial(q,n);</span><br><span class="line">    <span class="keyword">while</span>(k--)</span><br><span class="line">    move(q);</span><br><span class="line">    print(q);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pqueue q,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;q-&gt;data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    q-&gt;rear = n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(pqueue q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    temp = q-&gt;data[q-&gt;rear];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = q-&gt;rear;i&gt;=<span class="number">2</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        q-&gt;data[i] = q-&gt;data[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    q-&gt;data[<span class="number">1</span>] = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pqueue q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;=q-&gt;rear;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>,q-&gt;data[i],(i==q-&gt;rear)?<span class="string">&#x27;\n&#x27;</span>:<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="12"><a href="#12" class="headerlink" title="12"></a>12</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065709.png" alt="image-20210517221211318"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 101</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Tripe</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="keyword">int</span> row;</span><br><span class="line">    <span class="keyword">int</span> col;</span><br><span class="line">&#125; Tripe;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TSmatrix</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    Tripe Element[maxsize];</span><br><span class="line">&#125; TSmatrix, *pTsmatrix;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pTsmatrix)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(pTsmatrix, pTsmatrix, pTsmatrix)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pTsmatrix)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pTsmatrix a = (pTsmatrix)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSmatrix));</span><br><span class="line">    pTsmatrix b = (pTsmatrix)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSmatrix));</span><br><span class="line">    pTsmatrix c = (pTsmatrix)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSmatrix));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a-&gt;num, &amp;b-&gt;num);</span><br><span class="line">    initial(a);</span><br><span class="line">    initial(b);</span><br><span class="line">    add(a, b, c);</span><br><span class="line">    print(c);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pTsmatrix result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= result-&gt;num; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, result-&gt;Element[i].row, result-&gt;Element[i].col, result-&gt;Element[i].data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(pTsmatrix a, pTsmatrix b, pTsmatrix c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>, j = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> ((i &lt;= a-&gt;num) &amp;&amp; (j &lt;= b-&gt;num))</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((a-&gt;Element[i].row == b-&gt;Element[j].row) &amp;&amp; (a-&gt;Element[i].col == b-&gt;Element[j].col))</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ((a-&gt;Element[i].data + b-&gt;Element[j].data) == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                i++;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                k++;</span><br><span class="line">                c-&gt;Element[k].data = a-&gt;Element[i].data + b-&gt;Element[j].data;</span><br><span class="line">                c-&gt;Element[k].row = a-&gt;Element[i].row;</span><br><span class="line">                c-&gt;Element[k].col = a-&gt;Element[i].col;</span><br><span class="line">                i++;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((a-&gt;Element[i].row &lt; b-&gt;Element[j].row) || (a-&gt;Element[i].row == b-&gt;Element[j].row &amp;&amp; (a-&gt;Element[i].col &lt; b-&gt;Element[j].col)))</span><br><span class="line">        &#123;</span><br><span class="line">            k++;</span><br><span class="line">            c-&gt;Element[k].row = a-&gt;Element[i].row;</span><br><span class="line">            c-&gt;Element[k].col = a-&gt;Element[i].col;</span><br><span class="line">            c-&gt;Element[k].data = a-&gt;Element[i].data;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            k++;</span><br><span class="line">            c-&gt;Element[k].row = b-&gt;Element[j].row;</span><br><span class="line">            c-&gt;Element[k].col = b-&gt;Element[j].col;</span><br><span class="line">            c-&gt;Element[k].data = b-&gt;Element[j].data;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= a-&gt;num)</span><br><span class="line">    &#123;</span><br><span class="line">        k++;</span><br><span class="line">        c-&gt;Element[k].row = a-&gt;Element[i].row;</span><br><span class="line">        c-&gt;Element[k].col = a-&gt;Element[i].col;</span><br><span class="line">        c-&gt;Element[k].data = a-&gt;Element[i].data;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= b-&gt;num)</span><br><span class="line">    &#123;</span><br><span class="line">        k++;</span><br><span class="line">        c-&gt;Element[k].row = b-&gt;Element[j].row;</span><br><span class="line">        c-&gt;Element[k].col = b-&gt;Element[j].col;</span><br><span class="line">        c-&gt;Element[k].data = b-&gt;Element[j].data;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    c-&gt;num = k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pTsmatrix p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= p-&gt;num; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;p-&gt;Element[i].row, &amp;p-&gt;Element[i].col, &amp;p-&gt;Element[i].data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="13"><a href="#13" class="headerlink" title="13"></a>13</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065711.png" alt="image-20210517221236404"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> i, j, e;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span> *<span class="title">down</span>, *<span class="title">right</span>;</span></span><br><span class="line">&#125; OLNode, *OLlink;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    OLlink *rhead, *chead; <span class="comment">//æŒ‡å‘è¡Œæˆ–åˆ—ç¬¬ä¸€ä¸ªéé›¶å…ƒ(æŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆ),å¯ä»¥ç”¨æ•°ç»„rhead[row]è¡¨ç¤ºç¬¬rowè¡Œçš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">int</span> m, n, len;         <span class="comment">//è¡Œåˆ—æ•°,éé›¶å…ƒä¸ªæ•°</span></span><br><span class="line">&#125; CrossList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(CrossList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">plus</span><span class="params">(CrossList *, CrossList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(CrossList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(CrossList *, OLlink, OLlink, OLlink *, OLlink *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(CrossList *, OLlink, OLlink, OLlink *, OLlink *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CrossList *M = (CrossList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CrossList));</span><br><span class="line">    CrossList *N = (CrossList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CrossList));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;M-&gt;m, &amp;M-&gt;n);</span><br><span class="line">    N-&gt;m = M-&gt;m;</span><br><span class="line">    N-&gt;n = M-&gt;n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;M-&gt;len, &amp;N-&gt;len);</span><br><span class="line">    initial(M);</span><br><span class="line">    initial(N);</span><br><span class="line">    plus(M, N);</span><br><span class="line">    print(M);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(CrossList *M)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> row = <span class="number">1</span>; row &lt;= M-&gt;m; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        OLlink pa = M-&gt;rhead[row];</span><br><span class="line">        <span class="keyword">while</span> (pa)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, pa-&gt;i, pa-&gt;j, pa-&gt;e);</span><br><span class="line">            pa = pa-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">plus</span><span class="params">(CrossList *M, CrossList *N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    OLlink pa, pb;</span><br><span class="line">    OLlink pre; <span class="comment">//æŒ‡å‘å‰é¢ä¸€ä¸ªèŠ‚ç‚¹,æ–¹ä¾¿æ’å…¥</span></span><br><span class="line">    OLlink *hl = (OLlink *)<span class="built_in">malloc</span>((M-&gt;n + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLlink));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= M-&gt;n; j++)</span><br><span class="line">        hl[j] = M-&gt;chead[j]; <span class="comment">//hl[]è¡¨ç¤ºçš„æ˜¯æ¯åˆ—éé›¶å…ƒçš„preæŒ‡å‘å…ƒç´ ï¼Œä¸preç±»ä¼¼</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> row = <span class="number">1</span>; row &lt;= M-&gt;m; row++) <span class="comment">//è¡Œéå†</span></span><br><span class="line">    &#123;</span><br><span class="line">        pa = M-&gt;rhead[row];</span><br><span class="line">        pb = N-&gt;rhead[row];</span><br><span class="line">        pre = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">while</span> (pb) <span class="comment">//å½“pbæœ‰éé›¶å…ƒç´ æ—¶è¿›è¡Œå¤„ç†</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (pa == <span class="literal">NULL</span> || pa-&gt;j &gt; pb-&gt;j)</span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                Insert(M, pa, pb, &amp;pre, hl);</span><br><span class="line">                pb = pb-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (pa != <span class="literal">NULL</span> &amp;&amp; pa-&gt;j &lt; pb-&gt;j)</span><br><span class="line">            &#123;</span><br><span class="line">                pre = pa;</span><br><span class="line">                pa = pa-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (pa-&gt;j == pb-&gt;j)</span><br><span class="line">            &#123;</span><br><span class="line">                add(M, pa, pb, &amp;pre, hl);</span><br><span class="line">                pb = pb-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(CrossList *M, OLlink pa, OLlink pb, OLlink *pre, OLlink *hl)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> data = pa-&gt;e + pb-&gt;e;</span><br><span class="line">    <span class="keyword">if</span> (data)</span><br><span class="line">    &#123;</span><br><span class="line">        pa-&gt;e = data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        OLlink temp = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">        <span class="keyword">if</span> ((*pre) == <span class="literal">NULL</span>)</span><br><span class="line">            M-&gt;rhead[pa-&gt;i] = pa-&gt;right;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            (*pre)-&gt;right = pa-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = pa;</span><br><span class="line">        pa = pa-&gt;right;</span><br><span class="line">        <span class="keyword">if</span> (M-&gt;chead[temp-&gt;j] == temp)</span><br><span class="line">            M-&gt;chead[temp-&gt;j] = hl[temp-&gt;j] = temp-&gt;down;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            hl[temp-&gt;j]-&gt;down = temp-&gt;down;</span><br><span class="line">        <span class="built_in">free</span>(temp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(CrossList *M, OLlink pa, OLlink pb, OLlink *pre, OLlink *hl)</span> <span class="comment">//æ’å…¥æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯paè¯¥è¡Œæ— éé›¶å…ƒç´ ï¼Œå¦ä¸€ç§pbæ‰€åœ¨åˆ—å°äºpaæ‰€åœ¨åˆ—</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    OLlink p = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">    p-&gt;i = pb-&gt;i;</span><br><span class="line">    p-&gt;j = pb-&gt;j;</span><br><span class="line">    p-&gt;e = pb-&gt;e;</span><br><span class="line">    p-&gt;down = p-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> ((*pre) == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        M-&gt;rhead[p-&gt;i] = p;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        (*pre)-&gt;right = p;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;right = pa;</span><br><span class="line">    </span><br><span class="line">    (*pre) = p;</span><br><span class="line">    pa = (*pre)-&gt;right;<span class="comment">//è¿™ä¸€å¥å¯ä»¥ä¸è¦</span></span><br><span class="line">    <span class="keyword">if</span> (!M-&gt;chead[p-&gt;j] || M-&gt;chead[p-&gt;j]-&gt;i &gt; p-&gt;i)</span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;down = M-&gt;chead[p-&gt;j];</span><br><span class="line">        M-&gt;chead[p-&gt;j] = p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;down = hl[p-&gt;j]-&gt;down;</span><br><span class="line">        hl[p-&gt;j]-&gt;down = p;</span><br><span class="line">    &#125;</span><br><span class="line">    hl[p-&gt;j] = p;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(CrossList *Clist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, e;</span><br><span class="line">    Clist-&gt;rhead = (OLlink *)<span class="built_in">malloc</span>((Clist-&gt;m + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLlink));</span><br><span class="line">    Clist-&gt;chead = (OLlink *)<span class="built_in">malloc</span>((Clist-&gt;n + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLlink));</span><br><span class="line">    <span class="comment">// if(rhead||chead)</span></span><br><span class="line">    <span class="comment">// exit(1);</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Clist-&gt;m; i++)</span><br><span class="line">        Clist-&gt;rhead[i] = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Clist-&gt;n; i++)</span><br><span class="line">        Clist-&gt;chead[i] = <span class="literal">NULL</span>;</span><br><span class="line">    OLlink s = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> count = <span class="number">0</span>; count &lt; Clist-&gt;len; count++)</span><br><span class="line">    &#123;</span><br><span class="line">        OLlink cur = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">        cur-&gt;down = <span class="literal">NULL</span>;</span><br><span class="line">        cur-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="comment">// if(cur==NULL)</span></span><br><span class="line">        <span class="comment">// exit(1);</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;i, &amp;j, &amp;e);</span><br><span class="line">        cur-&gt;i = i;</span><br><span class="line">        cur-&gt;j = j;</span><br><span class="line">        cur-&gt;e = e;</span><br><span class="line">        <span class="keyword">if</span> (Clist-&gt;rhead[i] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Clist-&gt;rhead[i] = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            s = Clist-&gt;rhead[i];</span><br><span class="line">            <span class="keyword">while</span> (s-&gt;right != <span class="literal">NULL</span> &amp;&amp; s-&gt;right-&gt;j &lt; j)</span><br><span class="line">                s = s-&gt;right;</span><br><span class="line">            cur-&gt;right = s-&gt;right;</span><br><span class="line">            s-&gt;right = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (Clist-&gt;chead[j] == <span class="literal">NULL</span>)</span><br><span class="line">            Clist-&gt;chead[j] = cur;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            s = Clist-&gt;chead[j];</span><br><span class="line">            <span class="keyword">while</span> (s-&gt;down != <span class="literal">NULL</span> &amp;&amp; s-&gt;down-&gt;i &lt; i)</span><br><span class="line">                s = s-&gt;down;</span><br><span class="line">            cur-&gt;down = s-&gt;down;</span><br><span class="line">            s-&gt;down = cur;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="14"><a href="#14" class="headerlink" title="14"></a>14</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065713.png" alt="image-20210517221259788"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ATOM,</span><br><span class="line">    LIST</span><br><span class="line">&#125; ElemTag;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GLNode_1</span> //åŒå±‚èŠ‚ç‚¹</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemTag tag;</span><br><span class="line">    <span class="class"><span class="keyword">union</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">GLNode_1</span> *<span class="title">hp</span>;</span></span><br><span class="line">        <span class="keyword">char</span> data;</span><br><span class="line">    &#125; atom_hp;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">GLNode_1</span> *<span class="title">tp</span>;</span></span><br><span class="line">&#125; GLNode_1, *GList_1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GLNode_2</span> //å¤´å°¾èŠ‚ç‚¹</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemTag tag;</span><br><span class="line">    <span class="class"><span class="keyword">union</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">GLNode_2</span> *<span class="title">hp</span>, *<span class="title">tp</span>;</span></span><br><span class="line">        <span class="keyword">char</span> data;</span><br><span class="line">    &#125; atom_htp;</span><br><span class="line">&#125; GLNode_2, *GList_2;</span><br><span class="line"></span><br><span class="line"><span class="function">GList_1 <span class="title">create_1</span><span class="params">(<span class="keyword">char</span> *)</span></span>;</span><br><span class="line"><span class="function">GList_2 <span class="title">create_2</span><span class="params">(<span class="keyword">char</span> *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Depth_1</span><span class="params">(GList_1)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Depth_2</span><span class="params">(GList_2)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> GList[MAXSIZE];</span><br><span class="line">    fgets(GList,<span class="keyword">sizeof</span>(GList),<span class="built_in">stdin</span>);</span><br><span class="line">    <span class="keyword">char</span> *p = GList;</span><br><span class="line">    <span class="keyword">int</span> depth;</span><br><span class="line">    GList_1 s = create_1(p);</span><br><span class="line">    depth = Depth_1(s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n%d\n&quot;</span>,depth,depth);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// GList_2 create_2(char *s)</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     char ch = *s++;</span></span><br><span class="line"><span class="comment">//     GList_2 cur;</span></span><br><span class="line"><span class="comment">//     if(ch!=&#x27;\n&#x27;)</span></span><br><span class="line"><span class="comment">//     &#123;</span></span><br><span class="line"><span class="comment">//         cur = (GList_2)malloc(sizeof(GLNode_2));</span></span><br><span class="line"><span class="comment">//         if(ch == &#x27;(&#x27;)</span></span><br><span class="line"><span class="comment">//         &#123;</span></span><br><span class="line"><span class="comment">//             cur-&gt;tag = LIST;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Depth_1</span><span class="params">(GList_1 L)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> d, max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;tag == ATOM)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    GList_1 s;</span><br><span class="line">    s = L-&gt;atom_hp.hp;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (s != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s-&gt;tag == LIST)</span><br><span class="line">        &#123;</span><br><span class="line">            d = Depth_1(s);</span><br><span class="line">            <span class="keyword">if</span> (d &gt; max)</span><br><span class="line">                max = d;</span><br><span class="line">        &#125;</span><br><span class="line">        s = s-&gt;tp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (max + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">GList_1 <span class="title">create_1</span><span class="params">(<span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> ch = *s++;</span><br><span class="line">    GList_1 cur;</span><br><span class="line">    <span class="keyword">if</span> (ch != <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        cur = (GList_1)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(GLNode_1));</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;(&#x27;</span>) <span class="comment">//å­—ç¬¦ä¸º(æ—¶,åˆ›å»ºè¡¨å¤´</span></span><br><span class="line">        &#123;</span><br><span class="line">            cur-&gt;tag = LIST;</span><br><span class="line">            cur-&gt;atom_hp.hp = create_1(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (ch == <span class="string">&#x27;)&#x27;</span>) <span class="comment">//å­—ç¬¦å°¾)æ—¶,å­è¡¨ç»“æŸ</span></span><br><span class="line">            cur = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            cur-&gt;tag = ATOM;</span><br><span class="line">            cur-&gt;atom_hp.data = ch;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cur = <span class="literal">NULL</span>;</span><br><span class="line">    ch = *s++;</span><br><span class="line">    <span class="keyword">if</span> (cur != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cur-&gt;tp = create_1(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cur-&gt;tp = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="15"><a href="#15" class="headerlink" title="15"></a>15</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065719.png" alt="image-20210517221509727"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSIZE 100</span></span><br><span class="line"><span class="comment">//åœ¨æ ˆä¸­åˆ†é…å †ï¼ˆheapï¼‰ç©ºé—´æ—¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">rchild</span>;</span></span><br><span class="line">&#125; BiNode, *Bitree;</span><br><span class="line"></span><br><span class="line"><span class="function">Bitree <span class="title">create</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preNode</span><span class="params">(Bitree)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// char data[MAXSIZE];</span></span><br><span class="line">    <span class="comment">// fgets(data, sizeof(data), stdin);</span></span><br><span class="line">    Bitree r;</span><br><span class="line">    r = create();</span><br><span class="line">    preNode(r);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Bitree <span class="title">create</span><span class="params">()</span> <span class="comment">//å­—ç¬¦æ•°ç»„,å‚æ•°æ˜¯æŒ‡å‘å­—ç¬¦çš„æŒ‡é’ˆ</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">char</span> fir_data,sec_data;</span><br><span class="line">    Bitree root = (Bitree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiNode));</span><br><span class="line">    fir_data = getchar();</span><br><span class="line">    sec_data = getchar();</span><br><span class="line">    root-&gt;rchild = root-&gt;lchild = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span>(fir_data == <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        root-&gt;data = sec_data;</span><br><span class="line">        fir_data = getchar();</span><br><span class="line">        <span class="keyword">if</span>(fir_data == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            root-&gt;lchild = create();</span><br><span class="line">            root-&gt;rchild = create();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        root-&gt;data = fir_data;</span><br><span class="line">        <span class="keyword">if</span>(sec_data == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">             root-&gt;lchild = create();</span><br><span class="line">            root-&gt;rchild = create();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">preNode</span><span class="params">(Bitree root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,root-&gt;data);</span><br><span class="line">        preNode(root-&gt;lchild);</span><br><span class="line">        preNode(root-&gt;rchild);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="16"><a href="#16" class="headerlink" title="16"></a>16</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065721.png" alt="image-20210517221532633"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">rchild</span>;</span></span><br><span class="line">&#125;BiNode,*BiTree;</span><br><span class="line"></span><br><span class="line"><span class="function">BiTree <span class="title">create</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cal_node</span><span class="params">(BiTree)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    BiTree r;</span><br><span class="line">    r = create();</span><br><span class="line">    <span class="keyword">int</span> num = cal_node(r);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,num);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">BiTree <span class="title">create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> s;</span><br><span class="line">    s = getchar();</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    BiTree root = (BiTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiNode));</span><br><span class="line">    root-&gt;data = s;</span><br><span class="line">    root-&gt;lchild = root-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">    root-&gt;lchild = create();</span><br><span class="line">    root-&gt;rchild = create();</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cal_node</span><span class="params">(BiTree root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n1 = <span class="number">0</span>,n2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(root-&gt;lchild==<span class="literal">NULL</span>&amp;&amp;root-&gt;rchild==<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(root-&gt;lchild)</span><br><span class="line">    n1 = cal_node(root-&gt;lchild);</span><br><span class="line">    <span class="keyword">if</span>(root-&gt;rchild)</span><br><span class="line">    n2 = cal_node(root-&gt;rchild);</span><br><span class="line">    <span class="keyword">return</span> (n1+n2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="17"><a href="#17" class="headerlink" title="17"></a>17</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065723.png" alt="image-20210517221555933"></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">lchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">rchild</span>;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">&#125; BiNode, *Bitree;</span><br><span class="line"></span><br><span class="line"><span class="function">Bitree <span class="title">initial</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">midtree</span><span class="params">(Bitree)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Bitree root = <span class="built_in">initial</span>();</span><br><span class="line">    <span class="built_in">midtree</span>(root);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Bitree <span class="title">initial</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    data = <span class="built_in">getchar</span>();</span><br><span class="line">    Bitree root;</span><br><span class="line">    <span class="keyword">if</span> (data == <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="comment">//if(data != &#x27;\n&#x27;)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Bitree root = (Bitree)<span class="built_in">malloc</span>(<span class="built_in"><span class="keyword">sizeof</span></span>(BiNode));</span><br><span class="line">        root-&gt;data = data;</span><br><span class="line">        root-&gt;lchild = <span class="built_in">initial</span>();</span><br><span class="line">        root-&gt;rchild = <span class="built_in">initial</span>();</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">midtree</span><span class="params">(Bitree root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;lchild)</span><br><span class="line">        <span class="built_in">midtree</span>(root-&gt;lchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, root-&gt;data);</span><br><span class="line">    <span class="keyword">if</span> (root-&gt;rchild)</span><br><span class="line">        <span class="built_in">midtree</span>(root-&gt;rchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="18"><a href="#18" class="headerlink" title="18"></a>18</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065725.png" alt="image-20210517221619298"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span>  <span class="title">BiNode</span>* <span class="title">lchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BiNode</span>* <span class="title">rchild</span>;</span></span><br><span class="line">    <span class="keyword">int</span> data; </span><br><span class="line">&#125;BiNode,*BiTree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postNode</span><span class="params">(BiTree)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">PreFindMid</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*,<span class="keyword">int</span>,<span class="keyword">int</span>,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function">BiTree <span class="title">Create</span><span class="params">(<span class="keyword">char</span>*,<span class="keyword">char</span>*,<span class="keyword">int</span>*,<span class="keyword">int</span>,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">    <span class="keyword">char</span> pre[<span class="number">100</span>],mid[<span class="number">100</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>,pre,mid);</span><br><span class="line">    len = <span class="built_in">strlen</span>(pre);</span><br><span class="line">    BiTree root;</span><br><span class="line">    <span class="keyword">int</span> pos_p = <span class="number">0</span>;</span><br><span class="line">    root = Create(pre,mid,&amp;pos_p,<span class="number">0</span>,len<span class="number">-1</span>);</span><br><span class="line">    postNode(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">BiTree <span class="title">Create</span><span class="params">(<span class="keyword">char</span> *pre,<span class="keyword">char</span>* mid,<span class="keyword">int</span> *pos_p,<span class="keyword">int</span> pos_le,<span class="keyword">int</span> pos_ri)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    BiTree temp;</span><br><span class="line">    temp = (BiTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiNode));</span><br><span class="line">    temp-&gt;data = pre[*pos_p];</span><br><span class="line">    temp-&gt;lchild = temp-&gt;rchild = <span class="literal">NULL</span>;</span><br><span class="line">    (*pos_p)++;</span><br><span class="line">    <span class="keyword">int</span> pos_m;</span><br><span class="line">    pos_m = PreFindMid(pre,mid,*pos_p<span class="number">-1</span>,pos_le,pos_ri);</span><br><span class="line">    <span class="keyword">if</span>(pos_m&gt;pos_le)</span><br><span class="line">    temp-&gt;lchild = Create(pre,mid,pos_p,pos_le,pos_m<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">if</span>(pos_m&lt;pos_ri)</span><br><span class="line">    temp-&gt;rchild = Create(pre,mid,pos_p,pos_m+<span class="number">1</span>,pos_ri);</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">PreFindMid</span><span class="params">(<span class="keyword">char</span>* pre,<span class="keyword">char</span>* mid,<span class="keyword">int</span> pos_p,<span class="keyword">int</span> pos_le,<span class="keyword">int</span> pos_ri)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = pos_le;i&lt;=pos_ri;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(pre[pos_p] == mid[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        </span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">postNode</span><span class="params">(BiTree root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">    postNode(root-&gt;lchild);</span><br><span class="line">    postNode(root-&gt;rchild);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>,root-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="19"><a href="#19" class="headerlink" title="19"></a>19</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065727.png" alt="image-20210517221728217"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_NUM 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> adjvex;              <span class="comment">//é‚»æ¥ç‚¹çš„ä½ç½®</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> *<span class="title">nextarc</span>;</span> <span class="comment">//æŒ‡å‘ä¸é¡¶ç‚¹ç›¸é‚»çš„å…¶ä»–é‚»æ¥ç‚¹</span></span><br><span class="line">&#125; ArcNode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VertexNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> adjvex;        <span class="comment">//å‚¨å­˜é¡¶ç‚¹çš„ä½ç½®å€¼</span></span><br><span class="line">    ArcNode *firstarc; <span class="comment">//ç”¨äºæŒ‡å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªé¡¶ç‚¹</span></span><br><span class="line">&#125; VertexNode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    VertexNode vertex[MAX_NUM]; <span class="comment">//å¤´æ¥ç‚¹è¡¨</span></span><br><span class="line">    <span class="keyword">int</span> vexnum, arcnum;         <span class="comment">//èŠ‚ç‚¹ä¸ªæ•°ï¼Œè¿çº¿ä¸ªæ•°</span></span><br><span class="line">&#125; AdjList;</span><br><span class="line"></span><br><span class="line"><span class="function">AdjList <span class="title">initial_adjList</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(AdjList)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AdjList al;</span><br><span class="line">    al = initial_adjList();</span><br><span class="line">    test(al);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">AdjList <span class="title">initial_adjList</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AdjList adj_list;</span><br><span class="line">    ArcNode *node = (ArcNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcNode));</span><br><span class="line">    ArcNode *node_2 = (ArcNode*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcNode));</span><br><span class="line">    <span class="keyword">int</span> vex, arc;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;vex, &amp;arc);</span><br><span class="line">    adj_list.vexnum = vex;</span><br><span class="line">    adj_list.arcnum = arc;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= vex; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;adj_list.vertex[i].adjvex);</span><br><span class="line">        adj_list.vertex[i].firstarc = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;<span class="comment">//è¿›è¡Œåˆå§‹åŒ–ï¼Œå°†æ¯ä¸ªå¤´æ¥ç‚¹èµ‹å€¼ï¼Œå¹¶ç½®firstarcNULL</span></span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="keyword">while</span> (arc--)<span class="comment">//ä¸ºæ¯æ¡è¾¹ç»™ä¿¡æ¯</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;i, &amp;j);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> ix = <span class="number">1</span>; ix &lt;= vex; ix++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == adj_list.vertex[ix].adjvex)<span class="comment">//æ‰¾åˆ°å¤´æ¥ç‚¹</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (adj_list.vertex[ix].firstarc == <span class="literal">NULL</span>)<span class="comment">//å¦‚æœä¸ºç©º,å³æ²¡æœ‰è¿æ¥ç‚¹</span></span><br><span class="line">                &#123;</span><br><span class="line">                    node-&gt;adjvex = j;</span><br><span class="line">                    node-&gt;nextarc = <span class="literal">NULL</span>;</span><br><span class="line">                    adj_list.vertex[ix].firstarc = node;</span><br><span class="line">                    <span class="comment">// adj_list.vertex[ix].firstarc-&gt;adjvex = j;</span></span><br><span class="line">                    <span class="comment">// adj_list.vertex[ix].firstarc-&gt;nextarc = NULL;</span></span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// else</span></span><br><span class="line">                <span class="comment">// &#123;</span></span><br><span class="line">                <span class="comment">//     node.adjvex = j;</span></span><br><span class="line">                <span class="comment">//     node.nextarc = NULL;</span></span><br><span class="line">                <span class="comment">//     adj_list.vertex[ix].firstarc-&gt;nextarc = &amp;node;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment">// &#125;</span></span><br><span class="line">                node_2-&gt;adjvex = j;</span><br><span class="line">                node_2-&gt;nextarc = <span class="literal">NULL</span>;</span><br><span class="line">                node = adj_list.vertex[ix].firstarc;</span><br><span class="line">                <span class="keyword">while</span> (node-&gt;nextarc)</span><br><span class="line">                &#123;</span><br><span class="line">                    node = node-&gt;nextarc;</span><br><span class="line">                &#125;</span><br><span class="line">                node-&gt;nextarc = node_2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> adj_list;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">test</span><span class="params">(AdjList adj_list)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ix, jx;</span><br><span class="line">    ArcNode *node;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;ix, &amp;jx);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= adj_list.arcnum; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ix == adj_list.vertex[i].adjvex)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (node = adj_list.vertex[i].firstarc; node != <span class="literal">NULL</span>; node = node-&gt;nextarc)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (jx == node-&gt;adjvex)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;yes\n&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;no\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="20"><a href="#20" class="headerlink" title="20"></a>20</h2><p><img data-src="http://cdn.sekyoro.top/imgs/065728.png" alt="image-20210517221747666"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_SIZE 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//æ•°æ®</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="comment">///é‚»èŠ‚ç‚¹ </span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">ArcNode</span> *<span class="title">nextarc</span>;</span></span><br><span class="line">&#125; ArcNode;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤´æ¥ç‚¹</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">VertexNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="comment">//å¤´æ¥ç‚¹çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹åŸŸ</span></span><br><span class="line">    ArcNode *firstarc;</span><br><span class="line">&#125; VertexNode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    VertexNode vertex[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">int</span> vexnum, arcnum; <span class="comment">//èŠ‚ç‚¹æ•°ä¸å¼§æ•°</span></span><br><span class="line">&#125; AdjList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="function">AdjList <span class="title">initial</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾æœ‰æ— é‚»æ¥ç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(AdjList)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AdjList al;</span><br><span class="line">    al = initial();</span><br><span class="line">    search(al);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">AdjList <span class="title">initial</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AdjList adj_list;</span><br><span class="line">    <span class="keyword">int</span> vex, arc;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;vex, &amp;arc);</span><br><span class="line">    adj_list.vexnum = vex; <span class="comment">//è¾“å…¥é¡¶ç‚¹æ•°ä¸è¾¹æ•°</span></span><br><span class="line">    adj_list.arcnum = arc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–èŠ‚ç‚¹çš„å€¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vex; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;adj_list.vertex[i].data);</span><br><span class="line">        adj_list.vertex[i].firstarc = <span class="literal">NULL</span>;<span class="comment">//å¤´èŠ‚ç‚¹ç¬¬ä¸€ä¸ªè¿æ¥ç‚¹åˆå§‹åŒ–ä¸ºNULL</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    ArcNode *node = (ArcNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcNode));</span><br><span class="line">    ArcNode *node_2 = (ArcNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcNode));</span><br><span class="line">    <span class="keyword">while</span> (arc--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;i, &amp;j);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> ix = <span class="number">0</span>; ix &lt; vex; ix++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (adj_list.vertex[ix].data == i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (adj_list.vertex[ix].firstarc == <span class="literal">NULL</span>)<span class="comment">//æ£€æŸ¥å¤´èŠ‚ç‚¹ç¬¬ä¸€ä¸ªæ˜¯å¦ä¸ºç©º</span></span><br><span class="line">                <span class="comment">//è‹¥ä¸ºç©º,æ„å‘³ç€ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸ºç©º,åˆ™åŠ å…¥</span></span><br><span class="line">                &#123;</span><br><span class="line">                    node-&gt;data = j;</span><br><span class="line">                    node-&gt;nextarc = <span class="literal">NULL</span>;</span><br><span class="line">                    adj_list.vertex[ix].firstarc = node;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span><span class="comment">//å¦åˆ™åŠ åˆ°æœ€åé¢</span></span><br><span class="line">                &#123;</span><br><span class="line">                    node = adj_list.vertex[ix].firstarc;</span><br><span class="line">                    <span class="keyword">while</span> (node-&gt;nextarc)<span class="comment">//éå†èµ°åˆ°æœ€å</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        node = node-&gt;nextarc;</span><br><span class="line">                    &#125;</span><br><span class="line">                    node_2-&gt;data = j;</span><br><span class="line">                    node_2-&gt;nextarc = <span class="literal">NULL</span>;</span><br><span class="line">                    node-&gt;nextarc = node_2;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> adj_list;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(AdjList adj_list)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> src, dst;</span><br><span class="line">    ArcNode *node = (ArcNode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(ArcNode));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;src, &amp;dst);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> ix = <span class="number">0</span>; ix &lt; adj_list.vexnum; ix++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (src == adj_list.vertex[ix].data)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (node = adj_list.vertex[ix].firstarc;node!=<span class="literal">NULL</span>;node = node-&gt;nextarc)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(node-&gt;data == dst)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;yes\n&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;no\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> data_structure </tag>
            
            <tag> noj </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å“ˆå¤«æ›¼ç¼–/è¯‘ç </title>
      <link href="2021/05/10/%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96-%E8%AF%91%E7%A0%81/"/>
      <url>2021/05/10/%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96-%E8%AF%91%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="å“ˆå¤«æ›¼æ ‘"><a href="#å“ˆå¤«æ›¼æ ‘" class="headerlink" title="å“ˆå¤«æ›¼æ ‘"></a>å“ˆå¤«æ›¼æ ‘</h1><p>é¢„å¤‡çŸ¥è¯†</p><p><strong>1ã€è·¯å¾„å’Œè·¯å¾„é•¿åº¦</strong></p><p>ä»æ ‘ä¸­ä¸€ä¸ªç»“ç‚¹åˆ°å¦ä¸€ä¸ªç»“ç‚¹ä¹‹é—´çš„åˆ†æ”¯æ„æˆä¸¤ä¸ªç»“ç‚¹çš„è·¯å¾„ï¼Œè·¯å¾„ä¸Šçš„åˆ†æ”¯æ•°ç›®å«åšè·¯å¾„é•¿åº¦ã€‚æ ‘çš„è·¯å¾„é•¿åº¦æ˜¯ä»æ ‘æ ¹åˆ°æ¯ä¸€ä¸ªç»“ç‚¹çš„è·¯å¾„é•¿åº¦ä¹‹å’Œã€‚<br><span id="more"></span><br><strong>2ã€å¸¦æƒè·¯å¾„é•¿åº¦</strong></p><p>ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸ºä»è¯¥ç»“ç‚¹åˆ°æ ‘æ ¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ä¸ç»“ç‚¹ä¸Šæƒçš„ä¹˜ç§¯ã€‚æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸ºæ ‘ä¸­æ‰€æœ‰<strong>å¶å­ç»“ç‚¹</strong>çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œï¼Œé€šå¸¸è®°ä½œWPLã€‚</p><p>è‹¥æœ‰nä¸ªæƒå€¼ä¸ºw1,w2,â€¦,wnçš„ç»“ç‚¹æ„æˆä¸€æ£µæœ‰nä¸ªå¶å­ç»“ç‚¹çš„äºŒå‰æ ‘ï¼Œåˆ™æ ‘çš„å¸¦æƒè·¯å¾„æœ€å°çš„äºŒå‰æ ‘å«åšå“ˆå¤«æ›¼æ ‘æˆ–æœ€ä¼˜äºŒå‰æ ‘ã€‚</p><p>å“ˆå¤«æ›¼æ ‘æ˜¯ç”±nä¸ªå¸¦æƒå¶å­èŠ‚ç‚¹æ„æˆçš„æ‰€æœ‰äºŒå‰æ ‘ä¸­å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„äºŒå‰æ ‘.</p><p>æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦</p><script type="math/tex; mode=display">WPL = \sum_{i=1}^{n}w_i*l_i</script><p>å“ˆå¤«æ›¼æ ‘ï¼Œåˆç§°æœ€ä¼˜æ ‘ï¼Œæ˜¯ä¸€ç±»å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„æ ‘ã€‚é¦–å…ˆæœ‰å‡ ä¸ªæ¦‚å¿µéœ€è¦æ¸…æ¥šï¼š</p><h2 id="å­˜å‚¨ç»“æ„"><a href="#å­˜å‚¨ç»“æ„" class="headerlink" title="å­˜å‚¨ç»“æ„"></a>å­˜å‚¨ç»“æ„</h2><p>ä¸€é¢—æœ‰nä¸ªå¶å­çš„å“ˆå¤«æ›¼æ ‘å…±æœ‰2n-1ä¸ªç»“ç‚¹ï¼Œæ¯ä¸ªç»“ç‚¹åŒ…å«å…¶åŒäº²ä¿¡æ¯å’Œå­©å­ç»“ç‚¹çš„ä¿¡æ¯,æ„æˆä¸€ä¸ªé™æ€ä¸‰é“¾è¡¨</p><p><img data-src="http://cdn.sekyoro.top/imgs/065115.png" alt="2021-5-8"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M (2*(N)-1)</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">int</span> weight;<span class="comment">//æƒå€¼</span></span><br><span class="line"><span class="keyword">int</span> parent;<span class="comment">//åŒäº²ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">int</span> Lchild;<span class="comment">//å·¦å­©å­ç»“ç‚¹</span></span><br><span class="line"><span class="keyword">int</span> rchild;<span class="comment">//å³å­©å­ç»“ç‚¹</span></span><br><span class="line">&#125;HTNode,HuffmanTree[M+<span class="number">1</span>];</span><br></pre></td></tr></table></figure><p>å“ˆå¤«æ›¼æ ‘çš„å­˜å‚¨ç»“æ„</p><h2 id="åˆ›å»ºå“ˆå¤«æ›¼æ ‘"><a href="#åˆ›å»ºå“ˆå¤«æ›¼æ ‘" class="headerlink" title="åˆ›å»ºå“ˆå¤«æ›¼æ ‘"></a>åˆ›å»ºå“ˆå¤«æ›¼æ ‘</h2><p>1.æ ¹æ®ç»™å®šçš„nä¸ªæƒå€¼{w1,w2,â€¦,wn}æ„æˆäºŒå‰æ ‘é›†åˆF={T1,T2,â€¦,Tn},å…¶ä¸­æ¯æ£µäºŒå‰æ ‘Tiä¸­åªæœ‰ä¸€ä¸ªå¸¦æƒä¸ºwiçš„æ ¹ç»“ç‚¹,å…¶å·¦å³å­æ ‘ä¸ºç©º.</p><p>2.åœ¨Fä¸­é€‰å–ä¸¤æ£µæ ¹ç»“ç‚¹æƒå€¼æœ€å°çš„æ ‘ä½œä¸ºå·¦å³å­æ ‘æ„é€ ä¸€æ£µæ–°çš„äºŒå‰æ ‘,ä¸”ç½®æ–°çš„äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹çš„æƒå€¼ä¸ºå·¦å³å­æ ‘æ ¹ç»“ç‚¹çš„æƒå€¼ä¹‹å’Œ.</p><p>3.åœ¨Fä¸­åˆ é™¤è¿™ä¸¤æ£µæ ‘,åŒæ—¶å°†æ–°çš„äºŒå‰æ ‘åŠ å…¥Fä¸­.</p><p>4.é‡å¤2ã€3,ç›´åˆ°Fåªå«æœ‰ä¸€æ£µæ ‘ä¸ºæ­¢.(å¾—åˆ°å“ˆå¤«æ›¼æ ‘)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanTree</span><span class="params">(HufmanTree ht,<span class="keyword">int</span> w[],<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> = <span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">ht[i] = &#123;w[i],<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="comment">//å¶å­èŠ‚ç‚¹nä¸ª</span></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–æ¯ä¸ªå¶å­ç»“ç‚¹</span></span><br><span class="line">m = <span class="number">2</span>*n<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = n+<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">ht[i] = &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="comment">//åˆå§‹åŒ–n-1ä¸ªéå¶å­èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = n+<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">&#123;</span><br><span class="line">select(ht,i<span class="number">-1</span>,&amp;s1,&amp;s2);</span><br><span class="line"><span class="comment">//åœ¨å¶å­èŠ‚ç‚¹ä¸­é€‰å–ä¸¤ä¸ªparent=0ä¸”weightæœ€å°çš„ä¸¤ä¸ªç»“ç‚¹</span></span><br><span class="line">ht[i].weight = ht[s1].weight+ht[s2].weight;</span><br><span class="line">ht[s1].parent = ht[s2].parent = i;</span><br><span class="line">ht[i].lchild = s1;</span><br><span class="line">ht[i].rchild = s2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1ã€æ»¡äºŒå‰æ ‘ä¸ä¸€å®šæ˜¯å“ˆå¤«æ›¼æ ‘ </p><p>2ã€å“ˆå¤«æ›¼æ ‘ä¸­æƒè¶Šå¤§çš„å¶å­ç¦»æ ¹è¶Šè¿‘  ï¼ˆå¾ˆå¥½ç†è§£ï¼ŒWPLæœ€å°çš„äºŒå‰æ ‘ï¼‰</p><p>3ã€å…·æœ‰ç›¸åŒå¸¦æƒç»“ç‚¹çš„å“ˆå¤«æ›¼æ ‘ä¸æƒŸä¸€</p><p>4ã€å“ˆå¤«æ›¼æ ‘çš„ç»“ç‚¹çš„åº¦æ•°ä¸º 0 æˆ– 2ï¼Œ æ²¡æœ‰åº¦ä¸º 1 çš„ç»“ç‚¹ã€‚</p><p>5ã€åŒ…å« n ä¸ªå¶å­ç»“ç‚¹çš„å“ˆå¤«æ›¼æ ‘ä¸­å…±æœ‰ 2n â€“ 1 ä¸ªç»“ç‚¹ã€‚</p><p>6ã€åŒ…å« n æ£µæ ‘çš„æ£®æ—è¦ç»è¿‡ nâ€“1 æ¬¡åˆå¹¶æ‰èƒ½å½¢æˆå“ˆå¤«æ›¼æ ‘ï¼Œå…±äº§ç”Ÿ nâ€“1 ä¸ªæ–°ç»“ç‚¹</p><h2 id="å“ˆå¤«æ›¼ç¼–ç "><a href="#å“ˆå¤«æ›¼ç¼–ç " class="headerlink" title="å“ˆå¤«æ›¼ç¼–ç "></a>å“ˆå¤«æ›¼ç¼–ç </h2><p>å¯¹ä¸€é¢—å…·æœ‰nä¸ªå¶å­çš„å“ˆå¤«æ›¼æ ‘,è‹¥å¯¹æ ‘ä¸­çš„æ¯ä¸ªå·¦åˆ†æ”¯èµ‹äºˆ0,å³åˆ†æ”¯èµ‹äºˆ1,ä»æ ¹åˆ°æ¯ä¸ªå¶å­çš„é€šè·¯ä¸Š,å„åˆ†æ”¯çš„èµ‹å€¼åˆ†åˆ«æ„æˆä¸€ä¸ªäºŒè¿›åˆ¶ä¸²,è¯¥äºŒè¿›åˆ¶ä¸²å°±ç§°ä¸ºå“ˆå¤«æ›¼ç¼–ç .</p><p><img data-src="http://cdn.sekyoro.top/imgs/065116.png" alt="QQæˆªå›¾20210508155705"></p><p>å“ˆå¤«æ›¼ç¼–ç æ˜¯å‰ç¼€ç¼–ç ,ä»¥ä½¿ç”¨é¢‘åº¦ä½œä¸ºæƒå€¼æ„é€ å“ˆå¤«æ›¼æ ‘,è¿™æ ·ç¼–ç å¾—åˆ°çš„äºŒè¿›åˆ¶ä¸²å¹³å‡å€¼æœ€çŸ­.</p><p>ï¼ˆ1ï¼‰åˆ›å»ºé•¿åº¦ä¸º2n-1çš„å“ˆå¤«æ›¼æ ‘æ•°ç»„ï¼Œå«æœ‰nä¸ªå¶å­èŠ‚ç‚¹</p><p>ï¼ˆ2ï¼‰<strong>åˆ›å»ºé•¿åº¦ä¸ºnçš„stringæ•°ç»„ï¼Œç”¨äºå­˜æ”¾nä¸ªå¶å­èŠ‚ç‚¹çš„å“ˆå¤«æ›¼ç </strong></p><p>ï¼ˆ3ï¼‰ä»æŸå¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œä¸æ–­å¯»æ‰¾å…¶çˆ¶èŠ‚ç‚¹ï¼Œç›´åˆ°å¯»æ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼Œå¹¶å¯¹æ­¤è·¯å¾„ä¸Šæ¯ä¸ªåˆ†æ”¯è¿›è¡Œç¼–ç ï¼Œå·¦å­©å­ä¸º0ï¼Œå³å­©å­ä¸º1</p><p><strong>ç®—æ³•å®ç°</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span>* HuffmanCode[N+<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanCode</span><span class="params">(HuffmanTree ht,HuffmanCode hc,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">char</span> *cd;</span><br><span class="line">cd = (<span class="keyword">char</span>*)<span class="built_in">malloc</span>(n*<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">cd[n<span class="number">-1</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">&#123;</span><br><span class="line">start = n<span class="number">-1</span>;</span><br><span class="line">c = i;</span><br><span class="line">p = ht[i].parent;<span class="comment">//æ‰¾åˆ°å¶å­ç»“ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">while</span>(p)<span class="comment">//å¦‚æœå­˜åœ¨çˆ¶äº²èŠ‚ç‚¹.å³parentä¸ä¸º0</span></span><br><span class="line">&#123;</span><br><span class="line">--start;</span><br><span class="line"><span class="keyword">if</span>(ht[p].lchild==c)</span><br><span class="line">cd[start] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="keyword">else</span> cd[start] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">c = p;</span><br><span class="line">p = ht[p].parent;<span class="comment">//ç»§ç»­æœç´¢çˆ¶äº²èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br><span class="line">hc[i] = (<span class="keyword">char</span>*)<span class="built_in">malloc</span>((n-start)*<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line"><span class="built_in">strcpy</span>(hc[i],&amp;cd[start]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">free</span>(cd);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»ä»»æ„å¶å­XèŠ‚ç‚¹ï¼ˆæ•°ç»„å‰né¡¹ä¸­çš„æŸä¸€é¡¹ï¼‰å¼€å§‹ï¼Œæ ¹æ®Xçš„parentå€¼ï¼ˆå³Xçš„çˆ¶èŠ‚ç‚¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼‰æ‰¾åˆ°å…¶çˆ¶èŠ‚ç‚¹ã€‚</p><p><strong>æ‰¾åˆ°Xçš„çˆ¶èŠ‚ç‚¹åï¼Œæ ¹æ®çˆ¶èŠ‚ç‚¹çš„leftå’Œrightå€¼åˆ¤æ–­Xå’Œçˆ¶èŠ‚ç‚¹çš„å…³ç³»ã€‚å¦‚æœXæ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œåˆ™ç¼–ç ä¸º1ï¼›å¦‚æœXæ˜¯çˆ¶èŠ‚ç‚¹çš„å³å­æ ‘ï¼Œåˆ™ç¼–ç ä¸º0</strong>ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> M (2 * N - 1)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> *HuffmanCode[N + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> weight; <span class="comment">//æƒå€¼</span></span><br><span class="line">    <span class="keyword">int</span> parent; <span class="comment">//çˆ¶èŠ‚ç‚¹åœ¨htæ•°ç»„ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">int</span> Lchild; <span class="comment">//å·¦å­©å­åœ¨htæ•°ç»„ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">int</span> Rchild; <span class="comment">//å³å­©å­åœ¨htæ•°ç»„ä¸­çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">char</span> c;     <span class="comment">//å­—ç¬¦</span></span><br><span class="line">&#125; HTNode, HuffmanTree[M + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanTree</span><span class="params">(HuffmanTree, <span class="keyword">int</span>)</span></span>;       <span class="comment">//æ„é€ å“ˆå¤«æ›¼æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">select</span><span class="params">(HuffmanTree, <span class="keyword">int</span>, <span class="keyword">int</span> *, <span class="keyword">int</span> *)</span></span>; <span class="comment">//ç”¨äºå¯»æ‰¾æœ€å°çš„ä¸¤ä¸ªå€¼</span></span><br><span class="line"><span class="comment">//hc[N+1]ä¸ºç›¸åº”èŠ‚ç‚¹çš„ç¼–ç </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanCode</span><span class="params">(HuffmanTree, HuffmanCode, <span class="keyword">int</span>)</span></span>; <span class="comment">//æ ¹æ®å“ˆå¤«æ›¼æ ‘å¾—åˆ°ç›¸åº”ç¼–ç </span></span><br><span class="line"><span class="comment">//è§£ç å¾—åˆ°æ˜æ–‡</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decode</span><span class="params">(HuffmanTree, HuffmanCode, <span class="keyword">int</span>, <span class="keyword">char</span> *)</span></span>;</span><br><span class="line"><span class="comment">//ç¼–ç å¾—åˆ°äºŒè¿›åˆ¶ä¸²</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">encode</span><span class="params">(HuffmanTree, HuffmanCode, <span class="keyword">int</span>, <span class="keyword">char</span> *)</span></span>;</span><br><span class="line"><span class="comment">//æ ¹æ®HuffmanTreeå¾—åˆ°HuffmanCode</span></span><br><span class="line"><span class="comment">//HuffmanCodeå‚¨å­˜çš„æ˜¯æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„ç¼–ç </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;size);</span><br><span class="line">    getchar();</span><br><span class="line">    HuffmanTree ht;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>, &amp;ht[i].c); <span class="comment">//è¾“å…¥nä¸ªå¶å­èŠ‚ç‚¹çš„å­—ç¬¦</span></span><br><span class="line">        getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    CrtHuffmanTree(ht, size);</span><br><span class="line">    HuffmanCode hc;</span><br><span class="line">    CrtHuffmanCode(ht, hc, size);</span><br><span class="line">    <span class="keyword">char</span> encoding_text[<span class="number">100</span>] = &#123;<span class="string">&#x27;\0&#x27;</span>&#125;;</span><br><span class="line">    encode(ht, hc, size, encoding_text);</span><br><span class="line">    decode(ht, hc, size, encoding_text);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanTree</span><span class="params">(HuffmanTree ht, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// int w[N + 1];</span></span><br><span class="line">    <span class="comment">// for (int i = 1; i &lt;= n; i++)</span></span><br><span class="line">    <span class="comment">//     scanf(&quot;%d&quot;, &amp;w[i]); //è¾“å…¥nä¸ªå¶å­èŠ‚ç‚¹çš„æƒå€¼</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;ht[i].weight); <span class="comment">//è¾“å…¥nä¸ªå¶å­èŠ‚ç‚¹çš„æƒå€¼</span></span><br><span class="line">        ht[i].parent = ht[i].Rchild = ht[i].Lchild = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = <span class="number">2</span> * n - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n + <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ht[i].weight = <span class="number">0</span>;</span><br><span class="line">        ht[i].parent = ht[i].Rchild = ht[i].Lchild = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> s1, s2; <span class="comment">//s1,s2ä¸ºä¸¤ä¸ªå€¼æœ€å°çš„æ— çˆ¶ç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n + <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        select(ht, i - <span class="number">1</span>, &amp;s1, &amp;s2);</span><br><span class="line">        ht[i].weight = ht[s1].weight + ht[s2].weight;</span><br><span class="line">        ht[s1].parent = ht[s2].parent = i;</span><br><span class="line">        ht[i].Lchild = s1;</span><br><span class="line">        ht[i].Rchild = s2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">select</span><span class="params">(HuffmanTree ht, <span class="keyword">int</span> n, <span class="keyword">int</span> *s1, <span class="keyword">int</span> *s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> min_1_w = <span class="number">10000</span>; <span class="comment">//ç”¨æ¥æ‰¾æœ€å°å€¼</span></span><br><span class="line">    <span class="keyword">int</span> min_2_w = <span class="number">10000</span>; <span class="comment">//ç”¨æ¥æ‰¾æœ€å°å€¼</span></span><br><span class="line">    <span class="keyword">int</span> min;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ht[i].parent == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ht[i].weight &lt; min_1_w)</span><br><span class="line">            &#123;</span><br><span class="line">                min_1_w = ht[i].weight;</span><br><span class="line">                min = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="comment">//æ‰¾åˆ°ç¬¬ä¸€ä¸ªæœ€å°å€¼</span></span><br><span class="line">    *s1 = min;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ht[j].parent == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (j != *s1 &amp;&amp; ht[j].weight &lt; min_2_w) <span class="comment">//å€’æ•°ç¬¬äºŒå°çš„å€¼å¤§äºç­‰äºæœ€å°çš„å€¼,å°äºå…¶ä½™å€¼</span></span><br><span class="line">            &#123;</span><br><span class="line">                min_2_w = ht[j].weight;</span><br><span class="line">                min = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="comment">//æœ€å°çš„ç¬¬äºŒä¸ªå€¼</span></span><br><span class="line">    *s2 = min;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CrtHuffmanCode</span><span class="params">(HuffmanTree ht, HuffmanCode hc, <span class="keyword">int</span> n)</span> <span class="comment">//å»ºç«‹å¥½å“ˆå¤«æ›¼æ ‘å,å¾—åˆ°å“ˆå¤«æ›¼ç¼–ç </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *cd;                              <span class="comment">//cdæ˜¯æŒ‡å‘å­—ç¬¦çš„æŒ‡é’ˆ,ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸²</span></span><br><span class="line">    cd = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>(n * <span class="keyword">sizeof</span>(<span class="keyword">char</span>)); <span class="comment">//å¼€è¾Ÿnä¸ªå•å…ƒ,å› ä¸ºå…±æœ‰nä¸ªç»“ç‚¹,æœ€å¤šåªæœ‰n-1ä¸ªç¼–ç ä½</span></span><br><span class="line">    cd[n - <span class="number">1</span>] = <span class="string">&#x27;\0&#x27;</span>;                      <span class="comment">//å› ä¸ºå­˜å‚¨å­—ç¬¦ä¸²,æœ€åä¸€ä½ä¸ºç©ºå­—ç¬¦</span></span><br><span class="line">    <span class="keyword">int</span> start, c;                          <span class="comment">//startä¸ºcdæ•°ç»„å¼€å§‹å­˜å‚¨çš„èµ·ç‚¹,cç”¨æ¥æ ‡è®°æ¯æ¬¡å¾€ä¸Šæ‰¾åˆ°çš„åŒäº²çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">int</span> p;                                 <span class="comment">//pä¸ºåŒäº²çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        start = n - <span class="number">1</span>;    <span class="comment">//è¿™æ˜¯cdæ•°ç»„çš„æœ€åä¸€ä½,æ˜¯&#x27;/0&#x27;ï¼Œå› ä¸ºå‚¨å­˜å­—ç¬¦ä¸²</span></span><br><span class="line">        c = i;            <span class="comment">//cä¸ºç¬¬ä¸€ä¸ªç»“ç‚¹,å¾—åˆ°ç¬¬ä¸€ä¸ªç»“ç‚¹çš„ç¼–ç </span></span><br><span class="line">        p = ht[i].parent; <span class="comment">//å¯»æ‰¾ç»“ç‚¹çˆ¶äº²</span></span><br><span class="line">        <span class="keyword">while</span> (p)         <span class="comment">//è‹¥æœ‰çˆ¶äº²ç»“ç‚¹</span></span><br><span class="line">        &#123;</span><br><span class="line">            --start;               <span class="comment">//æ¯æ¬¡é€’å‡,ä»åå‘å‰å¾—åˆ°ç¼–ç </span></span><br><span class="line">            <span class="keyword">if</span> (ht[p].Lchild == c) <span class="comment">//è‹¥å­èŠ‚ç‚¹ä¸ºå·¦å­©å­,åˆ™ä¸º0</span></span><br><span class="line">                cd[start] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cd[start] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">            c = p;</span><br><span class="line">            p = ht[p].parent;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        whileå¾ªç¯å¯æ”¹ä¸º</span></span><br><span class="line"><span class="comment">        for(c=i,p=ht[i].parent;p!=0;c=p,p=ht[p].parent)</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">             --start;</span></span><br><span class="line"><span class="comment">            if (ht[p].Lchild == c)</span></span><br><span class="line"><span class="comment">                cd[start] = &#x27;0&#x27;;</span></span><br><span class="line"><span class="comment">            else</span></span><br><span class="line"><span class="comment">                cd[start] = &#x27;1&#x27;;</span></span><br><span class="line"><span class="comment">            c = p;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        hc[i] = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>((n - start) * <span class="keyword">sizeof</span>(<span class="keyword">char</span>)); <span class="comment">//ä¸ºhc[i]åˆ†é…ç©ºé—´,ç©ºé—´å¤§å°ä¸ºç¼–ç çš„ä½æ•°+1,æœ€åä¸€ä½ä¸º&#x27;\0&#x27;</span></span><br><span class="line">        <span class="built_in">strcpy</span>(hc[i], &amp;cd[start]);                          <span class="comment">//æ³¨æ„è¿™é‡Œå–åœ°å€ç¬¦ä¸å¯ä»¥å»æ‰,å› ä¸ºæœ¬èº«cdæ˜¯ä¸€ä¸ªæ•°ç»„(æŒ‡é’ˆ),ä½†å¤åˆ¶æ—¶åº”è¯¥ä»startå¼€å§‹,æ‰€ä»¥å–æ•°ç»„startä½çš„å…ƒç´ åœ°å€</span></span><br><span class="line">                                                            <span class="comment">//   printf(&quot;%d:%s\n&quot;,i,hc[i]);//hc å­˜å‚¨çš„æ˜¯nä¸ªå­—ç¬¦åˆ†åˆ«çš„ç¼–ç </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(cd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">decode</span><span class="params">(HuffmanTree ht, HuffmanCode hc, <span class="keyword">int</span> n, <span class="keyword">char</span> *encoding_text)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *text = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>(n * <span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">    <span class="built_in">memset</span>(text, <span class="string">&#x27;\0&#x27;</span>, <span class="keyword">sizeof</span>(text));</span><br><span class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> t_pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (encoding_text[pos] != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        text[t_pos++] = encoding_text[pos++];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(text, hc[i])==<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, ht[i].c);</span><br><span class="line">                <span class="built_in">memset</span>(text, <span class="string">&#x27;\0&#x27;</span>, n * <span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">                t_pos = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// else</span></span><br><span class="line">            <span class="comment">// &#123;</span></span><br><span class="line">            <span class="comment">//     text[t_pos++] = encoding_text[pos++];</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">       <span class="comment">// text[t_pos++] = encoding_text[pos++];</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">encode</span><span class="params">(HuffmanTree ht, HuffmanCode hc, <span class="keyword">int</span> n, <span class="keyword">char</span> *encoding_text)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å¾—åˆ°äº†å“ˆå¤«æ›¼ç¼–ç ,å› ä¸ºçŸ¥é“äº†æ¯ä¸ªå­—ç¬¦ç›¸åº”çš„ç¼–ç ,è§£ç å°±å¾ˆç®€å•äº†</span></span><br><span class="line">    <span class="comment">//è¿›è¡Œç¼–ç </span></span><br><span class="line">    getchar();<span class="comment">//è¿™é‡Œæ¥å—ä¸€ä¸ªç©ºæ ¼,é¿å…ä¸‹é¢fgetsç›´æ¥æ¥å—ä¸€ä¸ªç©ºæ ¼äº†</span></span><br><span class="line">    <span class="keyword">char</span> text[<span class="number">1000</span>]; <span class="comment">//è¿›è¡Œç¼–ç çš„æ–‡æœ¬</span></span><br><span class="line">    fgets(text, <span class="number">1000</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; text[i] != <span class="string">&#x27;\0&#x27;</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        c = text[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ht[j].c == c)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, hc[j]);</span><br><span class="line">                <span class="built_in">strcat</span>(encoding_text, hc[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/Young_IT/article/details/106730343">å“ˆå¤«æ›¼ç¼–ç è¯¦è§£â€”â€”å›¾è§£çœŸèƒ½çœ‹äº†ç§’æ‡‚_Young_ITçš„åšå®¢-CSDNåšå®¢</a></p><p><a href="http://data.biancheng.net/view/101.html">å“ˆå¤«æ›¼ï¼ˆèµ«å¤«æ›¼ï¼Œå“ˆå¼—æ›¼ï¼‰ç¼–ç ç®—æ³•ï¼ˆå¸¦æºç +è§£æï¼‰ (biancheng.net)</a></p><p><a href="https://www.cnblogs.com/kubixuesheng/p/4397798.html">å“ˆå¤«æ›¼ï¼ˆhuffmanï¼‰æ ‘å’Œå“ˆå¤«æ›¼ç¼–ç  - dashuaiçš„åšå®¢ - åšå®¢å›­ (cnblogs.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> data_structure </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºæŒ‡é’ˆå’Œå‡½æ•°</title>
      <link href="2021/04/29/%E5%85%B3%E4%BA%8E%E6%8C%87%E9%92%88%E5%92%8C%E5%87%BD%E6%95%B0/"/>
      <url>2021/04/29/%E5%85%B3%E4%BA%8E%E6%8C%87%E9%92%88%E5%92%8C%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="å…³äºå‡½æ•°å’ŒæŒ‡é’ˆ"><a href="#å…³äºå‡½æ•°å’ŒæŒ‡é’ˆ" class="headerlink" title="å…³äºå‡½æ•°å’ŒæŒ‡é’ˆ"></a>å…³äºå‡½æ•°å’ŒæŒ‡é’ˆ</h1><p>è¿™å‡ å¤©çå†™çš„æ—¶å€™å…³äºæŒ‡é’ˆä»¥åŠmallocäº§ç”Ÿäº†ä¸€äº›é—®é¢˜ã€‚</p><span id="more"></span><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">initial</span><span class="params">(<span class="keyword">int</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(<span class="keyword">int</span>*)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">int</span> *p = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">    p = <span class="literal">NULL</span>;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;%p %p\n&quot;</span>,p,&amp;p);</span><br><span class="line">    p = initial(p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p %p\n&quot;</span>,p,&amp;p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">initial</span><span class="params">(<span class="keyword">int</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    p = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));<span class="comment">//åœ¨å‡½æ•°ä¸­ï¼ŒæŒ‡é’ˆpçš„åœ°å€å˜äº†</span></span><br><span class="line">    *p = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p %p\n&quot;</span>,p,&amp;p);</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">void initial(int* p)</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">      p = (int*)malloc(sizeof(int));//åœ¨å‡½æ•°ä¸­ï¼ŒæŒ‡é’ˆpçš„åœ°å€å˜äº†</span></span><br><span class="line"><span class="comment">    //ä¸ºpåˆ†é…åœ°å€,ä½†é€€æ ˆåpçš„åœ°å€æ²¡äº†ï¼ˆæ‰¾ä¸åˆ°äº†ï¼‰</span></span><br><span class="line"><span class="comment">    *p = 5;</span></span><br><span class="line"><span class="comment">    printf(&quot;%p %p\n&quot;,p,&amp;p);</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œæˆªå›¾</p><p>å¦‚æœç”¨returnè¿”å›åœ¨å‡½æ•°ä¸­ç”¨mallocåˆ†é…å¾—åˆ°çš„æŒ‡é’ˆ</p><p><img data-src="http://cdn.sekyoro.top/imgs/094134.png" alt="QQæˆªå›¾20210429195130"></p><p>pæ˜¯ä¸€ä¸ªæŒ‡å‘intç±»å‹çš„æŒ‡é’ˆ,å…¶å€¼ä¸€å¼€å§‹è®¾ç½®ä¸ºNULL,æŒ‡é’ˆçš„åœ°å€æ˜¯61fe18,ä½†åœ¨å‡½æ•°ä¸­åˆ©ç”¨mallocåˆ†é…åå¾—åˆ°çš„æ–°å€¼ä¸º6b1640,å¹¶ä¸”æŒ‡é’ˆæœ¬èº«çš„åœ°å€ä¹Ÿä¸ä¸€æ ·ã€‚</p><p>è¿™æ˜¯å› ä¸ºè°ƒç”¨å‡½æ•°æ—¶,ç”Ÿæˆæ ˆ,å‚æ•°åªæ˜¯ä¸€å±‚æµ…æ‹·è´,å€¼ç›¸åŒ,ä½†åœ°å€ä¸åŒï¼Œè¿™å°±æ˜¯å‡½æ•°çš„æœºåˆ¶å§.</p><p>å†ä¸¾ä¸ªä¾‹å­,æ¯”å¦‚è¯´</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span>  num = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p&quot;</span>,&amp;n);</span><br><span class="line">func(num);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p&quot;</span>,&amp;n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/094136.png" alt="QQæˆªå›¾20210429200528"></p><p>å¯ä»¥å‘ç°åœ°å€å¹¶ä¸åŒ,è¿™ä¹Ÿè¯´æ˜äº†åœ°å€çš„å˜åŒ–.</p><p>å¦‚æœä¸ç”¨returnè¿”å›,è¿è¡Œæˆªå›¾æ‰€ç¤º,æ ¹æ®åˆšæ‰å‡½æ•°æœºåˆ¶å¯çŸ¥,æŒ‡é’ˆçš„å€¼(å³æ‰€æŒ‡å‘å€¼çš„åœ°å€)å¹¶ä¸ä¼šå˜åŒ–ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/094139.png" alt="QQæˆªå›¾20210429195214"></p><p>æ‰€ä»¥å¯ä»¥å¾—åˆ°ç¬¬ä¸€ä¸ªç»“è®ºäº†ã€‚</p><p><strong>æŒ‡é’ˆä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ï¼Œæˆ‘ä»¬å¦‚æœè¦æ”¹å˜å®ƒï¼Œå¿…é¡»æ‰¾åˆ°å®ƒåœ¨å†…å­˜ä¸­çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆçš„åœ°å€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå‡½æ•°ä¸­ï¼Œå¦‚æœå¯¹æŒ‡é’ˆçš„åœ°å€è¿›è¡Œèµ‹å€¼ï¼Œäº‹å®ä¸Šæ˜¯æ”¹å˜ä¸äº†åŸæŒ‡é’ˆçš„ï¼</strong></p><p>æ‰€ä»¥è§£å†³æ–¹æ³•ä¸»è¦ä¸¤ä¸ª,åœ¨cä¸­åˆ©ç”¨äºŒçº§æŒ‡é’ˆæ”¹å˜æŒ‡é’ˆçš„åœ°å€.</p><p>å¦‚æœåœ¨cppä¸­å³å¯åˆ©ç”¨å¼•ç”¨ç±»å‹&amp;æ¯”è¾ƒæ–¹ä¾¿</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">lchild</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">rchild</span>;</span></span><br><span class="line">&#125;BiNode,*Bitree;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(Bitree)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   Bitree t = (Bitree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiNode));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,t);</span><br><span class="line">    initial(t);</span><br><span class="line">    <span class="keyword">if</span>(t-&gt;lchild==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;å­å­©å­ç»“ç‚¹ä¸ºç©ºk\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,t-&gt;lchild);   </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,t-&gt;data);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,t-&gt;lchild-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(Bitree root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,root);</span><br><span class="line">    <span class="comment">// scanf(&quot;%c&quot;,&amp;root-&gt;data);</span></span><br><span class="line">    root-&gt;lchild = (Bitree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiNode));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,root-&gt;lchild);   <span class="comment">//this pointer&#x27;s value ,means pointed object addres</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/094141.jpg" alt="20214291"></p><p>å¯çŸ¥,æŒ‡é’ˆä¼ å…¥å‡½æ•°å,å…¶å€¼(å³æŒ‡å‘å€¼çš„åœ°å€)æœªå˜,åœ¨å‡½æ•°ä¸­ä¸ºå­èŠ‚ç‚¹ç”³è¯·äº†ç©ºé—´,åœ¨å‡½æ•°å¤–ä¹Ÿèƒ½é€šè¿‡å…¶è®¿é—®ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/094144.png" alt="QQæˆªå›¾20210429204704"></p><p>å†…å­˜åˆ†é…çš„çŸ¥è¯†ï¼š</p><p>1ã€å‚æ•°ã€å±€éƒ¨å˜é‡åˆ†é…åœ¨æ ˆåŒºä¸­ã€‚ç¼–è¯‘å™¨è‡ªåŠ¨å›æ”¶<br>2ã€mallocç”³è¯·çš„å†…å­˜åˆ†é…åœ¨å †ä¸Šï¼Œç”±ç¨‹åºç»“æŸOSå›æ”¶3ã€å…¨å±€ï¼ˆé™æ€åŒºï¼‰ï¼Œå…¨å±€å˜é‡å’Œé™æ€å˜é‡ï¼Œç”±ç¨‹åºç»“æŸOSå›æ”¶</p><p>åœ¨å‡½æ•°ä¸­åˆ©ç”¨mallocåˆ†é…ç©ºé—´æˆ–ä¸ºæŒ‡é’ˆèµ‹å€¼éœ€è¦æ³¨æ„ï¼š</p><ol><li>å‡½æ•°çš„å‚æ•°æ˜¯æµ…æ‹·è´,åœ°å€ä¸å®å‚ä¸åŒ,å¦‚æœè¦ç›¸åŒ,åœ¨cppä¸­ç”¨&amp;å¼•ç”¨å‚æ•°</li><li>åœ¨å‡½æ•°å†…ä¸ºæŒ‡é’ˆåˆ†é…åœ°å€æ—¶,æ ˆé€€åä¼šä½¿å¾—è¿™ä¸ªåˆ†é…å¾—åˆ°çš„åœ°å€æ— æ³•å¼•ç”¨,æŒ‡é’ˆçš„åœ°å€ä¾ç„¶æ˜¯è°ƒç”¨å‰,å€¼æ²¡æœ‰æ”¹å˜</li></ol>]]></content>
      
      
      <categories>
          
          <category> è¯¯åŒº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> æŒ‡é’ˆ </tag>
            
            <tag> å‡½æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¹¿ä¹‰è¡¨ç®€ä»‹</title>
      <link href="2021/04/23/%E5%B9%BF%E4%B9%89%E8%A1%A8%E7%AE%80%E4%BB%8B/"/>
      <url>2021/04/23/%E5%B9%BF%E4%B9%89%E8%A1%A8%E7%AE%80%E4%BB%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="å¹¿ä¹‰è¡¨ç®€ä»‹"><a href="#å¹¿ä¹‰è¡¨ç®€ä»‹" class="headerlink" title="å¹¿ä¹‰è¡¨ç®€ä»‹"></a>å¹¿ä¹‰è¡¨ç®€ä»‹</h1><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>å¹¿ä¹‰è¡¨æ˜¯nä¸ªæ•°æ®å…ƒç´ ç»„æˆçš„æœ‰é™åºåˆ—</p><script type="math/tex; mode=display">GL =  (d_1,d_2,d_3,...,d_n)</script><p>GLæ˜¯å¹¿ä¹‰è¡¨çš„åå­—,næ˜¯å¹¿ä¹‰è¡¨çš„é•¿åº¦.</p><span id="more"></span><p>å¹¿ä¹‰è¡¨ä¸­çš„å…ƒç´ æ—¢å¯ä»¥æ˜¯å•ä¸ªå…ƒç´ ,ä¹Ÿå¯ä»¥æ˜¯å¹¿ä¹‰è¡¨.</p><p>è‹¥d<sub>i</sub>ä¸ºå¹¿ä¹‰è¡¨,åˆ™å¯ç§°ä¸ºæ˜¯GLçš„å­è¡¨.<br>å¹¿ä¹‰è¡¨çš„è¡¨å¤´:d<sub>1</sub>æ˜¯å¹¿ä¹‰è¡¨çš„è¡¨å¤´,å³å¹¿ä¹‰è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ </p><p>é€šå¸¸ï¼Œå¹¿ä¹‰è¡¨ä¸­å­˜å‚¨çš„å•ä¸ªå…ƒç´ ç§°ä¸º â€œåŸå­â€ï¼Œè€Œå­˜å‚¨çš„å¹¿ä¹‰è¡¨ç§°ä¸º â€œå­è¡¨â€ã€‚</p><p>å¹¿ä¹‰è¡¨çš„è¡¨å°¾:å¹¿ä¹‰è¡¨çš„GLå…¶ä½™éƒ¨åˆ†ç»„æˆçš„è¡¨,å³(d<sub>2</sub>,d<sub>3</sub>,â€¦,d<sub>n</sub>)ä¸ºè¡¨å°¾</p><p><strong>é™¤éå¹¿ä¹‰è¡¨ä¸ºç©ºè¡¨ï¼Œå¦åˆ™å¹¿ä¹‰è¡¨ä¸€å®šå…·æœ‰è¡¨å¤´å’Œè¡¨å°¾ï¼Œä¸”å¹¿ä¹‰è¡¨çš„è¡¨å°¾ä¸€å®šæ˜¯ä¸€ä¸ªå¹¿ä¹‰è¡¨ã€‚</strong></p><p>å¹¿ä¹‰è¡¨æ˜¯é€’å½’å®šä¹‰çš„.</p><ul><li>A = ()ï¼šA è¡¨ç¤ºä¸€ä¸ªå¹¿ä¹‰è¡¨ï¼Œåªä¸è¿‡è¡¨æ˜¯ç©ºçš„ã€‚</li><li>B = (e)ï¼šå¹¿ä¹‰è¡¨ B ä¸­åªæœ‰ä¸€ä¸ªåŸå­ eã€‚</li><li>C = (a,(b,c,d)) ï¼šå¹¿ä¹‰è¡¨ C ä¸­æœ‰ä¸¤ä¸ªå…ƒç´ ï¼ŒåŸå­ a å’Œå­è¡¨ (b,c,d)ã€‚</li><li>D = (A,B,C)ï¼šå¹¿ä¹‰è¡¨ D ä¸­å­˜æœ‰ 3 ä¸ªå­è¡¨ï¼Œåˆ†åˆ«æ˜¯Aã€Bå’ŒCã€‚è¿™ç§è¡¨ç¤ºæ–¹å¼ç­‰åŒäº D = ((),(e),(b,c,d)) ã€‚</li><li>E = (a,E)ï¼šå¹¿ä¹‰è¡¨ E ä¸­æœ‰ä¸¤ä¸ªå…ƒç´ ï¼ŒåŸå­ a å’Œå®ƒæœ¬èº«ã€‚è¿™æ˜¯ä¸€ä¸ªé€’å½’å¹¿ä¹‰è¡¨ï¼Œç­‰åŒäºï¼šE = (a,(a,(a,â€¦)))ã€‚</li></ul><h2 id="å­˜å‚¨ç»“æ„"><a href="#å­˜å‚¨ç»“æ„" class="headerlink" title="å­˜å‚¨ç»“æ„"></a>å­˜å‚¨ç»“æ„</h2><p>ç”±äº<a href="http://data.biancheng.net/view/189.html">å¹¿ä¹‰è¡¨</a>ä¸­æ—¢å¯å­˜å‚¨åŸå­ï¼ˆä¸å¯å†åˆ†çš„æ•°æ®å…ƒç´ ï¼‰ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨å­è¡¨ï¼Œå› æ­¤å¾ˆéš¾ä½¿ç”¨é¡ºåºå­˜å‚¨ç»“æ„è¡¨ç¤ºï¼Œé€šå¸¸æƒ…å†µä¸‹å¹¿ä¹‰è¡¨ç»“æ„é‡‡ç”¨<a href="http://data.biancheng.net/view/160.html">é“¾è¡¨</a>å®ç°.</p><h3 id="å¤´å°¾é“¾è¡¨å­˜å‚¨ç»“æ„"><a href="#å¤´å°¾é“¾è¡¨å­˜å‚¨ç»“æ„" class="headerlink" title="å¤´å°¾é“¾è¡¨å­˜å‚¨ç»“æ„"></a>å¤´å°¾é“¾è¡¨å­˜å‚¨ç»“æ„</h3><p>è¡¨ä¸­æ¯ä¸ªå…ƒç´ ç”¨ä¸€ä¸ªç»“ç‚¹è¡¨ç¤º,è¡¨ä¸­æœ‰ä¸¤ç±»ç»“ç‚¹:</p><ol><li>å•ä¸ªå…ƒç´ ç»“ç‚¹ </li><li>å­è¡¨èŠ‚ç‚¹</li></ol><p>ä»»ä½•éç©ºçš„å­è¡¨éƒ½å¯ä»¥åˆ†æˆè¡¨å¤´å’Œè¡¨å°¾ä¸¤éƒ¨åˆ†</p><p>å…ƒç´ èŠ‚ç‚¹éœ€è¦å€¼åŸŸå’Œæ ‡å¿—åŸŸ,è¡¨ç»“ç‚¹ç”±æ ‡å¿—åŸŸå’ŒæŒ‡å‘è¡¨å¤´,è¡¨å°¾çš„æŒ‡é’ˆç»„æˆ</p><p><img data-src="http://cdn.sekyoro.top/imgs/065955.png" alt="4_23_å¹¿ä¹‰è¡¨"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span>&#123;</span>ATOM,LIST&#125; ElemTag;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span>&#123;</span></span><br><span class="line">    ElemTag tag;<span class="comment">//æ ‡å¿—åŸŸ</span></span><br><span class="line">    <span class="class"><span class="keyword">union</span>&#123;</span></span><br><span class="line">        AtomType atom;<span class="comment">//åŸå­ç»“ç‚¹çš„å€¼åŸŸ</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">            <span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span> * <span class="title">hp</span>,*<span class="title">tp</span>;</span><span class="comment">//è¡¨å¤´ç»“ç‚¹æŒ‡é’ˆä¸è¡¨å°¾ç»“ç‚¹</span></span><br><span class="line">        &#125;htp;<span class="comment">//å­è¡¨ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼ŒhpæŒ‡å‘è¡¨å¤´ï¼›tpæŒ‡å‘è¡¨å°¾</span></span><br><span class="line">    &#125;atom_htp;<span class="comment">//åŸå­å€¼åŸŸä¸è¡¨ç»“ç‚¹æŒ‡é’ˆåŸŸçš„è”åˆä½“</span></span><br><span class="line">&#125;GLNode,*Glist;</span><br></pre></td></tr></table></figure><h3 id="å¹¿ä¹‰è¡¨åŒå±‚èŠ‚ç‚¹é“¾å­˜å‚¨ç»“æ„"><a href="#å¹¿ä¹‰è¡¨åŒå±‚èŠ‚ç‚¹é“¾å­˜å‚¨ç»“æ„" class="headerlink" title="å¹¿ä¹‰è¡¨åŒå±‚èŠ‚ç‚¹é“¾å­˜å‚¨ç»“æ„"></a>å¹¿ä¹‰è¡¨åŒå±‚èŠ‚ç‚¹é“¾å­˜å‚¨ç»“æ„</h3><p>åœ¨è¿™ç§ç»“æ„ä¸­,æ— è®ºæ˜¯åŸå­ç»“ç‚¹è¿˜æ˜¯è¡¨ç»“ç‚¹éƒ½ç”±ä¸‰ä¸ªåŸŸæ„æˆ</p><p><img data-src="https://gitee.com/the-helpless-beggar/mypics/raw/master/4_12_%E5%B9%BF%E4%B9%89%E8%A1%A8(2" alt="4_12_å¹¿ä¹‰è¡¨(2)">.png)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span>&#123;</span>ATOM,LIST&#125; ElemTag;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span>&#123;</span></span><br><span class="line">    ElemTag tag;<span class="comment">//æ ‡å¿—åŸŸ</span></span><br><span class="line">    <span class="class"><span class="keyword">union</span>&#123;</span></span><br><span class="line">        AtomType atom;<span class="comment">//åŸå­ç»“ç‚¹çš„å€¼åŸŸ</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span> *<span class="title">hp</span>;</span><span class="comment">//å­è¡¨ç»“ç‚¹çš„æŒ‡é’ˆåŸŸï¼ŒhpæŒ‡å‘è¡¨å¤´</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span> * <span class="title">tp</span>;</span><span class="comment">//åŒå±‚ä¸‹ä¸€ä¸ªç»“ç‚¹çš„æŒ‡é’ˆåŸŸ</span></span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„tpç›¸å½“äºé“¾è¡¨çš„nextæŒ‡é’ˆï¼Œç”¨äºæŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®å…ƒç´ </span></span><br><span class="line">&#125;GLNode,*Glist;</span><br></pre></td></tr></table></figure><h2 id="ç›¸å…³æ“ä½œ"><a href="#ç›¸å…³æ“ä½œ" class="headerlink" title="ç›¸å…³æ“ä½œ"></a>ç›¸å…³æ“ä½œ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GLNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> tag;</span><br><span class="line">    <span class="comment">//tag = 0ä¸ºåŸå­</span></span><br><span class="line">    <span class="comment">//tag =1 ä¸ºå­è¡¨</span></span><br><span class="line">    <span class="class"><span class="keyword">union</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">        &#123;</span></span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">hp</span>,*<span class="title">tp</span>;</span></span><br><span class="line">        &#125;htp;</span><br><span class="line">        <span class="keyword">int</span> data;</span><br><span class="line">    &#125;atom_htp;</span><br><span class="line">&#125;GLNode,*GList;</span><br><span class="line"></span><br><span class="line"><span class="function">GList <span class="title">Head</span><span class="params">(GList L)</span></span>;</span><br><span class="line"><span class="function">GList <span class="title">Tail</span><span class="params">(GList L)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Length</span><span class="params">(GList L)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Depth</span><span class="params">(GList L)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CountAtom</span><span class="params">(GList L)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CopyGList</span><span class="params">(GList,GList*)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">GList <span class="title">Head</span><span class="params">(GList L)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!L)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span>(L-&gt;tag == <span class="number">0</span>)</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> Head(L-&gt;atom_htp.htp.hp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">GList <span class="title">Tail</span><span class="params">(GList L)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!L)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span>(L-&gt;tag == <span class="number">0</span>)</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> Tail(L-&gt;atom_htp.htp.tp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Length</span><span class="params">(GList L)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    GList s;</span><br><span class="line">    <span class="keyword">if</span>(L==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L-&gt;tag == <span class="number">0</span>)</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    s = L;</span><br><span class="line">    <span class="keyword">while</span>(s!=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        k++;</span><br><span class="line">        s = s-&gt;atom_htp.htp.tp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> k;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Depth</span><span class="params">(GList L)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> d,max;</span><br><span class="line">    GList s;</span><br><span class="line">    <span class="keyword">if</span>(L==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(L-&gt;tag ==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    s = L;</span><br><span class="line">    <span class="keyword">while</span>(s!=<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        d = Depth(s-&gt;atom_htp.htp.hp);</span><br><span class="line">        <span class="keyword">if</span>(d&gt;max)</span><br><span class="line">        max =d;</span><br><span class="line">        s = s-&gt;atom_htp.htp.tp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CountAtom</span><span class="params">(GList L)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n1,n2;</span><br><span class="line">    <span class="keyword">if</span>(L==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L-&gt;tag == <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    n1 = CountAtom(L-&gt;atom_htp.htp.hp);</span><br><span class="line">    n2 = CountAtom(L-&gt;atom_htp.htp.tp);</span><br><span class="line">    <span class="keyword">return</span> (n1+n2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">CopyGList</span><span class="params">(GList S,GList *T)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(S==<span class="literal">NULL</span>)</span><br><span class="line">    &#123;*T == <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="keyword">if</span>(S-&gt;tag == <span class="number">0</span>)</span><br><span class="line">    (*T)-&gt;atom_htp.data = S-&gt;atom_htp.data;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        CopyGList(S-&gt;atom_htp.htp.hp,&amp;((*T)-&gt;atom_htp.htp.hp));</span><br><span class="line">        CopyGList(S-&gt;atom_htp.htp.tp,&amp;((*T)-&gt;atom_htp.htp.tp));</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> data_structure </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¨€ç–çŸ©é˜µ</title>
      <link href="2021/04/20/%E7%A8%80%E7%96%8F%E7%9F%A9%E9%98%B5/"/>
      <url>2021/04/20/%E7%A8%80%E7%96%8F%E7%9F%A9%E9%98%B5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="ç¨€ç–çŸ©é˜µ"><a href="#ç¨€ç–çŸ©é˜µ" class="headerlink" title="ç¨€ç–çŸ©é˜µ"></a>ç¨€ç–çŸ©é˜µ</h1><h2 id="1-ä»‹ç»"><a href="#1-ä»‹ç»" class="headerlink" title="1.ä»‹ç»"></a>1.ä»‹ç»</h2><p>æ¦‚å¿µï¼šçŸ©é˜µä¸­å¤§å¤šæ•°å…ƒç´ ä¸º0ã€‚</p><p>ç›´è§‚ä¸Šè®²éé›¶å…ƒç´ ä½äº5%ã€‚</p><p>é›¶å…ƒç´ ä»£è¡¨ç€æ²¡æœ‰æ„ä¹‰çš„å€¼ï¼Œæ‰€ä»¥é›¶å…ƒç´ è¾ƒå¤šæƒ…å†µä¸‹ï¼Œç”¨é“¾è¡¨ä»£æ›¿å­˜å‚¨æ¯”äºŒç»´æ•°ç»„è¦å¥½å¾ˆå¤šã€‚</p><p>ä¸‹é¢ä»‹ç»ä¸‰ç§è¡¨ç¤ºæ–¹æ³•</p><span id="more"></span><h2 id="2-ä¸‰å…ƒç»„è¡¨ç¤º"><a href="#2-ä¸‰å…ƒç»„è¡¨ç¤º" class="headerlink" title="2.ä¸‰å…ƒç»„è¡¨ç¤º"></a>2.ä¸‰å…ƒç»„è¡¨ç¤º</h2><p>åªå­˜å‚¨éé›¶å…ƒç´ ï¼Œç”±äºéé›¶å…ƒç´ ä½ç½®ä¸å­˜åœ¨æ¦‚ç‡ï¼Œåˆ™åˆ©ç”¨è¡Œï¼Œåˆ—ï¼Œå€¼çš„ä¿¡æ¯è¿›è¡Œå­˜å‚¨ï¼Œè¿™æ˜¯å®¹æ˜“æƒ³åˆ°çš„ã€‚</p><script type="math/tex; mode=display">\left\{\begin{matrix}0 & 4 & 0 \\1 & 2 & 0 \\0 & 0 & 6 \end{matrix}\right\}\tag{1}</script><p>éšä¾¿å†™ä¸ªä¾‹å­(è™½ç„¶ä¸æ»¡è¶³ç¨€ç–çŸ©é˜µå®šä¹‰)</p><p>ä¸‰å…ƒç»„è¡¨ç¤ºæ³•å¯ä»¥å†™ä¸ºï¼ˆå‡è®¾èµ·å§‹è¡Œä¸åˆ—ä¸º1ï¼‰ä¸€ç»´æ•°ç»„ã€‚</p><p>TSMatrix[0],TSMatrix[1],TSMatrix[2]</p><p>æ•°ç»„å…ƒç´ ä¸ºç»“æ„ä½“Triple,ç»“æ„ä½“åŒ…å«è¡Œåˆ—ä¸å€¼çš„ä¿¡æ¯</p><p>ä¸‰å…ƒç»„è¡¨ä¸­çš„å…ƒç´ æ˜¯æœ‰åºæ’åˆ—çš„ã€‚(æŒ‰ç…§è¡Œä¼˜å…ˆã€è¡Œç›¸åŒåˆ—å¤§å°æ–¹å¼)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxSize 20000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">int</span>  i, j;<span class="comment">/* è¡Œå·å’Œåˆ—å· */</span></span><br><span class="line">        ElemType  elem;<span class="comment">/* å…ƒç´ å€¼ */</span></span><br><span class="line">&#125;Triple;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        Triple  data[MaxSize];</span><br><span class="line">        <span class="keyword">int</span>  mu, nu, tu;<span class="comment">/* è¡Œæ•°ã€åˆ—æ•°å’Œéé›¶å…ƒä¸ªæ•°*/</span></span><br><span class="line">&#125;TSMatrix;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ç§è¡¨ç¤ºæ³•èŠ‚çœäº†ç©ºé—´</p><h3 id="1-ä¸‰å…ƒç»„è¡¨ç¤ºæ³•è½¬ç½®"><a href="#1-ä¸‰å…ƒç»„è¡¨ç¤ºæ³•è½¬ç½®" class="headerlink" title="1.ä¸‰å…ƒç»„è¡¨ç¤ºæ³•è½¬ç½®"></a>1.ä¸‰å…ƒç»„è¡¨ç¤ºæ³•è½¬ç½®</h3><p>çŸ©é˜µè½¬ç½®æ˜¯å°†è¡Œ(åˆ—)ä¸Šçš„å…ƒç´ æ¢åˆ°åˆ—(è¡Œ)ä¸Š</p><p>ä¸ç”¨ä¸‰å…ƒç»„è¡¨ç¤ºçš„è¯ï¼Œåˆ©ç”¨ä¸¤å±‚forå¾ªç¯ï¼Œæ•ˆç‡O(m*n)</p><p><strong>åˆ—åºé€’å¢è½¬ç½®æ³•</strong></p><p>é‡‡ç”¨è¢«è½¬ç½®çŸ©é˜µä¸‰å…ƒç»„è¡¨Açš„åˆ—åºé€’å¢è¿›è¡Œè½¬ç½®ï¼Œè¿™æ ·è½¬ç½®åçš„çŸ©é˜µä¸‰å…ƒç»„è¡¨æ˜¯ä»¥è¡Œåºé€’å¢çš„ã€‚</p><p>æ‰€ä»¥ï¼Œå…ˆä»¥è¢«è½¬ç½®çŸ©é˜µAçš„åˆ—ä¸ºä¸»åº,å†…å±‚ä¸ºæ¯ä¸ªAçŸ©é˜µçš„éé›¶å…ƒç´ </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Status <span class="title">TransposeSMatrix</span> <span class="params">(TSMatrix M, TSMatrix *T)</span></span></span><br><span class="line"><span class="function"></span>&#123;<span class="comment">//Mä¸ºè¢«è½¬ç½®çŸ©é˜µï¼ŒTä¸ºè½¬ç½®åçš„çŸ©é˜µ</span></span><br><span class="line">    <span class="keyword">int</span>  p, q, col;</span><br><span class="line">    T-&gt;mu = M.nu;  T-&gt;nu = M.mu;  T-&gt;tu = M.tu;<span class="comment">//Tçš„è¡Œæ•°ä¸ºMçš„åˆ—æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (T-&gt;tu)&#123;</span><br><span class="line">        q = <span class="number">0</span>;<span class="comment">//qå¯ä»¥è®¡æ•°,å½“è½¬ç½®ä¸€ä¸ªåq+1</span></span><br><span class="line">        <span class="keyword">for</span> (col = <span class="number">0</span>; col&lt; M.nu; ++col)</span><br><span class="line">            <span class="keyword">for</span> (p = <span class="number">0</span>; p&lt; M.tu; ++p)<span class="comment">//pä¸ºä¸‰å…ƒç»„è¡¨å…ƒç´ çš„ä½ç½®ï¼Œforå¾ªç¯ä¸æ–­æ‰«æä¸‰å…ƒç»„è¡¨,æŸ¥çœ‹æ˜¯å¦æœ‰å…ƒç´ çš„åˆ—æ•°ä¸ºcolï¼Œè‹¥æœ‰åˆ™è½¬ç½®</span></span><br><span class="line">                <span class="keyword">if</span> (M.data[p].j == col) &#123;</span><br><span class="line">                    T-&gt;data[q].i = M.data[p].j;</span><br><span class="line">                    T-&gt;data[q].j = M.data[p].i;</span><br><span class="line">                    T-&gt;data[q].elem = M.data[p].elem;</span><br><span class="line">                    q++;</span><br><span class="line">                &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç®—æ³•æ—¶é—´æ•ˆç‡O(M.nuÃ—M.tu),forä¸¤å±‚å¾ªç¯</p><p>å½“çŸ©é˜µä¸­éé›¶å…ƒä¸ªæ•°tuå’Œmu<em>nuåŒæ•°é‡çº§æ—¶ï¼Œåˆ™è¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(M.mu</em>M.nu2ï¼‰ã€‚å› æ­¤è¯¥ç®—æ³•åªé€‚ç”¨äºM.tu &lt;&lt; M.mu*M.nuçš„æƒ…å†µã€‚</p><p><strong>ä¸€æ¬¡å®šä½å¿«é€Ÿè½¬ç½®æ³•</strong></p><p>åˆšæ‰çš„ç®—æ³•æ•ˆç‡å¹¶ä¸æ˜¯å¾ˆé«˜ï¼Œæƒ³è¦æé«˜å¯ä»¥é€šè¿‡å‡å°‘forå¾ªç¯</p><p>å¦‚æœèƒ½é¢„å…ˆç¡®å®šçŸ©é˜µMä¸­æ¯ä¸€åˆ—ï¼ˆå³Tä¸­çš„æ¯ä¸€è¡Œï¼‰çš„ç¬¬ä¸€ä¸ªéé›¶å…ƒç´ åœ¨Tä¸­çš„åˆé€‚ä½ç½®ï¼Œé‚£ä¹ˆåœ¨å¯¹Mè¿›è¡Œè½¬ç½®æ—¶å°±å¯ä»¥ç›´æ¥æ”¾åˆ°Tä¸­çš„æ°å½“ä½ç½®ä¸Šå»ã€‚ä¸ºäº†ç¡®å®šè¿™äº›ä½ç½®ï¼Œåº”å…ˆæ±‚å¾—Mçš„æ¯ä¸€åˆ—ä¸­éé›¶å…ƒçš„ä¸ªæ•°ï¼Œè¿›è€Œæ±‚å¾—æ¯ä¸€åˆ—çš„ç¬¬ä¸€ä¸ªéé›¶å…ƒåœ¨Tä¸­çš„ä½ç½®ã€‚(Mä¸ºè¢«è½¬ç½®çŸ©é˜µï¼ŒTä¸ºè½¬ç½®åçš„çŸ©é˜µ)</p><p>ä¸ºäº†â€ä¸€æ¬¡å®šä½â€ï¼Œéœ€è¦çŸ¥é“</p><ol><li>å¾…è½¬ç½®çŸ©é˜µAä¸­çš„æ¯ä¸€åˆ—éé›¶å…ƒç´ æ€»æ•°</li><li>Aä¸­çš„æ¯ä¸€åˆ—ç¬¬ä¸€ä¸ªéé›¶å…ƒç´ åœ¨ä¸‰å…ƒç»„è¡¨ä¸­ä½ç½®</li></ol><p>å¯¹äºç¬¬ä¸€ä¸ª,å°±æ˜¯è½¬åˆ¶åçŸ©é˜µBæ¯ä¸€è¡Œçš„éé›¶å…ƒä¸ªæ•°ï¼Œè®¾æ•°ç»„num[],åˆ™num[col]è¡¨ç¤ºAçš„ç¬¬colåˆ—éé›¶å…ƒç´ ä¸ªæ•°;å¯¹äºç¬¬äºŒç‚¹,è®¾pos[]ï¼Œpos[col]è¡¨ç¤ºAçš„ç¬¬colåˆ—ç¬¬ä¸€ä¸ªéé›¶å…ƒåœ¨<strong>Bä¸‰å…ƒç»„è¡¨</strong>çš„ä½ç½®ã€‚</p><p>num[]æ¯”è¾ƒå¥½ç®—ï¼Œæ‰«ä¸€éä¸‰å…ƒç»„è¡¨ï¼Œé‡åˆ°colå€¼ä¾¿+1(æ•°ç»„ä¸‹æ ‡æ³•)</p><p>pos[]è¦éº»çƒ¦ä¸€ç‚¹ï¼Œå®ƒæ˜¯ä¸‰å…ƒç»„è¡¨ä¸­å…ƒç´ çš„ä½ç½®,å¯ä»¥é€šè¿‡è¿­åŠ è®¡ç®—</p><p>pos[1] = 1ï¼ˆå‡è®¾,è¿™é‡Œä¹Ÿå¯ä»¥æ˜¯0ï¼Œéšæ„äº†ï¼‰</p><p>pos[col] = pos[col-1] + num[col-1]</p><p>å…·ä½“åšæ³•æ˜¯pos[col]æ˜¯ç¬¬colåˆ—ç¬¬ä¸€ä¸ªéé›¶å…ƒåœ¨ä¸‰å…ƒç»„è¡¨çš„é¡ºåºï¼Œå½“æœ‰ä¸€ä¸ªå…ƒç´ åŠ å…¥åˆ°Bæ—¶ï¼Œåˆ™pos[col] = pos[col]+1,ä½¿pos[col]å§‹ç»ˆæŒ‡å‘Aä¸­ç¬¬colåˆ—ä¸­ä¸‹ä¸€ä¸ªéé›¶å…ƒåœ¨Bçš„æ­£ç¡®å­˜æ”¾ä½ç½®ã€‚</p><p><img data-src="http://cdn.sekyoro.top/imgs/092912.png" alt="image-20210418161823660"></p><p><img data-src="http://cdn.sekyoro.top/imgs/092913.png" alt="image-20210418161944713"></p><p>å¦‚ä¸Šå›¾</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Status <span class="title">FastTransposeSMatrix</span> <span class="params">(TSMatrix M, TSMatrix *T)</span></span></span><br><span class="line"><span class="function"></span>&#123;    <span class="keyword">int</span>   col, p, q, t;</span><br><span class="line">      T-&gt;mu = M.nu; T-&gt;nu = M.mu; T-&gt;tu = M.tu;</span><br><span class="line">      <span class="keyword">if</span> (T-&gt;tu) &#123;</span><br><span class="line">            <span class="keyword">for</span> (col=<span class="number">0</span>; col&lt; M.nu; ++col)  num[col] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (t = <span class="number">0</span>; t &lt; M.tu; ++t) <span class="comment">/*ç»Ÿè®¡æ¯åˆ—çš„éé›¶å…ƒä¸ªæ•°*/</span></span><br><span class="line">                  ++num[M.data[t].j];</span><br><span class="line">            cpot[<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">/*è®¡ç®—æ¯åˆ—ç¬¬ä¸€ä¸ªéé›¶å…ƒè½¬ç½®åçš„ä½ç½®*/</span></span><br><span class="line">          <span class="keyword">for</span> (col = <span class="number">1</span>; col &lt; M.nu; ++col)</span><br><span class="line">     cpot[col] = cpot[col<span class="number">-1</span>] +num[col<span class="number">-1</span>];</span><br><span class="line">            <span class="keyword">for</span> (p = <span class="number">0</span>; p &lt; M.tu; ++p)&#123;</span><br><span class="line">                  col = M.data[p].j; q = cpot[col];</span><br><span class="line">           T-&gt;data[q].i =M.data[p].j; </span><br><span class="line">          T-&gt;data[q].j = M.data[p].i;</span><br><span class="line">          T-&gt;data[q].elem =M.data[p].elem;</span><br><span class="line">              ++cpot[col];<span class="comment">//å½“ä¸€åˆ—æœ‰ä¸€ä¸ªå…ƒç´ è½¬ç½®åï¼Œä½ç½®+1æŒ‡å‘ä¸‹ä¸€ä¸ªè¯¥åˆ—éé›¶å…ƒç´ </span></span><br><span class="line">            &#125;  <span class="comment">/* for */</span></span><br><span class="line">      &#125;  <span class="comment">/* if */</span></span><br><span class="line">      <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>O(M.nu+M.tu)ã€‚<br>å³ä½¿éé›¶å…ƒä¸ªæ•°ä¸mu<em>nuåŒæ•°é‡çº§ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(M.mu </em> M.nu)ï¼Œä¸ç»å…¸ç®—æ³•æ—¶é—´å¤æ‚åº¦ç›¸åŒ</p><p><strong>æ€»ç»“</strong></p><p>ä¸‰å…ƒç»„é¡ºåºè¡¨ï¼ˆæœ‰åºçš„åŒä¸‹æ ‡æ³•ï¼‰çš„ç‰¹ç‚¹ï¼š<br>ï¼ˆ1ï¼‰ä¾¿äºè¿›è¡Œä»¥è¡Œé¡ºåºå¤„ç†çš„çŸ©é˜µè¿ç®—ã€‚<br>ï¼ˆ2ï¼‰è‹¥éœ€æŒ‰è¡Œå·å­˜å–æŸä¸€è¡Œçš„éé›¶å…ƒï¼Œéœ€ä»å¼€å§‹è¿›è¡ŒæŸ¥æ‰¾ã€‚</p><h3 id="2-ä¸‰å…ƒç»„è¡¨ç¤ºæ³•åŠ æ³•"><a href="#2-ä¸‰å…ƒç»„è¡¨ç¤ºæ³•åŠ æ³•" class="headerlink" title="2.ä¸‰å…ƒç»„è¡¨ç¤ºæ³•åŠ æ³•"></a>2.ä¸‰å…ƒç»„è¡¨ç¤ºæ³•åŠ æ³•</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 101</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Tripe</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="keyword">int</span> row;</span><br><span class="line">    <span class="keyword">int</span> col;</span><br><span class="line">&#125; Tripe;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TSmatrix</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">int</span> row,col;</span><br><span class="line">    Tripe Element[maxsize];</span><br><span class="line">&#125; TSmatrix, *pTsmatrix;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pTsmatrix)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(pTsmatrix, pTsmatrix, pTsmatrix)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pTsmatrix)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pTsmatrix a = (pTsmatrix)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSmatrix));</span><br><span class="line">    pTsmatrix b = (pTsmatrix)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSmatrix));</span><br><span class="line">    pTsmatrix c = (pTsmatrix)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(TSmatrix));</span><br><span class="line">    <span class="keyword">int</span> r,col;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;r,&amp;col);</span><br><span class="line">    a-&gt;row = b-&gt;row = c-&gt;row = r;</span><br><span class="line">    a-&gt;col = b-&gt;col = c-&gt;col = col;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a-&gt;num, &amp;b-&gt;num);</span><br><span class="line">    initial(a);</span><br><span class="line">    initial(b);</span><br><span class="line">    add(a, b, c);</span><br><span class="line">    print(c);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pTsmatrix result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= result-&gt;num; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, result-&gt;Element[i].row, result-&gt;Element[i].col, result-&gt;Element[i].data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(pTsmatrix a, pTsmatrix b, pTsmatrix c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>, j = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> ((i &lt;= a-&gt;num) &amp;&amp; (j &lt;= b-&gt;num))</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> ((a-&gt;Element[i].row == b-&gt;Element[j].row) &amp;&amp; (a-&gt;Element[i].col == b-&gt;Element[j].col))</span><br><span class="line">        &#123;<span class="comment">//ä¸¤ä¸ªéé›¶å…ƒè¡Œç›¸åŒåˆ—ç›¸åŒï¼Œåˆ™è¿›è¡Œç›¸åŠ å¹¶åˆ¤æ–­å€¼æ˜¯å¦ä¸º0</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> ((a-&gt;Element[i].data + b-&gt;Element[j].data) == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                i++;</span><br><span class="line">                j++;<span class="comment">//å€¼ä¸º0åˆ™ä¸ç®¡ï¼Œi,jé€’å¢</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                k++;</span><br><span class="line">                c-&gt;Element[k].data = a-&gt;Element[i].data + b-&gt;Element[j].data;</span><br><span class="line">                c-&gt;Element[k].row = a-&gt;Element[i].row;</span><br><span class="line">                c-&gt;Element[k].col = a-&gt;Element[i].col;</span><br><span class="line">                i++;</span><br><span class="line">                j++;<span class="comment">//å€¼ä¸ä¸º0,åˆ™èµ‹å€¼å¹¶é€’å¢i,j,k</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((a-&gt;Element[i].row &lt; b-&gt;Element[j].row) || (a-&gt;Element[i].row == b-&gt;Element[j].row &amp;&amp; (a-&gt;Element[i].col &lt; b-&gt;Element[j].col)))</span><br><span class="line">        &#123;<span class="comment">//è‹¥açš„éé›¶å…ƒè¡Œæ•°å°äºbçš„éé›¶å…ƒ,æ„å‘³ç€c = a+0 åˆ™ç›´æ¥å°†açš„å€¼èµ‹ç»™c</span></span><br><span class="line">        <span class="comment">//åé¢åŒç†ï¼Œå› ä¸ºaå…ƒç´ å¯¹åº”åœ¨bçŸ©é˜µå¤„å€¼ä¸º0</span></span><br><span class="line">        <span class="comment">//i,ké€’å¢</span></span><br><span class="line">            k++;</span><br><span class="line">            c-&gt;Element[k].row = a-&gt;Element[i].row;</span><br><span class="line">            c-&gt;Element[k].col = a-&gt;Element[i].col;</span><br><span class="line">            c-&gt;Element[k].data = a-&gt;Element[i].data;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;<span class="comment">//å‰©ä¸‹çš„æƒ…å†µå°±æ˜¯bçŸ©é˜µçš„å€¼çš„ä½ç½®å¯¹åº”åœ¨açŸ©é˜µä¸­çš„å€¼ä¸º0</span></span><br><span class="line">        <span class="comment">//å³ c = 0+b</span></span><br><span class="line">        <span class="comment">//j,ké€’å¢</span></span><br><span class="line">            k++;</span><br><span class="line">            c-&gt;Element[k].row = b-&gt;Element[j].row;</span><br><span class="line">            c-&gt;Element[k].col = b-&gt;Element[j].col;</span><br><span class="line">            c-&gt;Element[k].data = b-&gt;Element[j].data;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= a-&gt;num)</span><br><span class="line">    &#123;<span class="comment">//è‹¥açŸ©é˜µä¸­è¿˜æœ‰æœªå¤„ç†å®Œçš„éé›¶å…ƒï¼Œåˆ™ç›´æ¥åŠ ä¸Š</span></span><br><span class="line">        k++;</span><br><span class="line">        c-&gt;Element[k].row = a-&gt;Element[i].row;</span><br><span class="line">        c-&gt;Element[k].col = a-&gt;Element[i].col;</span><br><span class="line">        c-&gt;Element[k].data = a-&gt;Element[i].data;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= b-&gt;num)</span><br><span class="line">    &#123;<span class="comment">//é“ç†åŒä¸Š,bçŸ©é˜µçš„å€¼ç›´æ¥èµ‹ç»™c</span></span><br><span class="line">        k++;</span><br><span class="line">        c-&gt;Element[k].row = b-&gt;Element[j].row;</span><br><span class="line">        c-&gt;Element[k].col = b-&gt;Element[j].col;</span><br><span class="line">        c-&gt;Element[k].data = b-&gt;Element[j].data;</span><br><span class="line">        j++;</span><br><span class="line">    &#125;</span><br><span class="line">    c-&gt;num = k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pTsmatrix p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= p-&gt;num; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;p-&gt;Element[i].row, &amp;p-&gt;Element[i].col, &amp;p-&gt;Element[i].data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-è¡Œé€»è¾‘è¿æ¥çš„é¡ºåºè¡¨"><a href="#3-è¡Œé€»è¾‘è¿æ¥çš„é¡ºåºè¡¨" class="headerlink" title="3.è¡Œé€»è¾‘è¿æ¥çš„é¡ºåºè¡¨"></a>3.è¡Œé€»è¾‘è¿æ¥çš„é¡ºåºè¡¨</h2><p>ç”±ä¸Šé¢˜å¿«é€Ÿè½¬ç½®ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°å°†pos[]æ•°ç»„æ”¾åœ¨ç»“æ„ä½“é‡Œï¼Œå¾—åˆ°è¡Œé€»è¾‘è¿æ¥é¡ºåºè¡¨</p><p>æ¦‚å¿µ:ä¸ºäº†ä¾¿äºéšæœºå­˜å–ä»»æ„ä¸€è¡Œçš„éé›¶å…ƒï¼Œåˆ™éœ€çŸ¥é“æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªéé›¶å…ƒåœ¨ä¸‰å…ƒç»„è¡¨ä¸­çš„ä½ç½®ã€‚ä¸ºæ­¤ï¼Œå¯å°†å¿«é€Ÿè½¬ç½®çŸ©é˜µçš„ç®—æ³•ä¸­åˆ›å»ºçš„è¾…åŠ©æ•°ç»„cpotï¼Œrposå›ºå®šåœ¨ç¨€ç–çŸ©é˜µçš„å­˜å‚¨ç»“æ„ä¸­ã€‚è¿™ç§å¸¦â€œè¡Œé“¾æ¥ä¿¡æ¯â€çš„ä¸‰å…ƒç»„è¡¨ç§°ä¸ºè¡Œé€»è¾‘é“¾æ¥çš„é¡ºåºè¡¨ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">        Triple  data[MaxSize];</span><br><span class="line">        <span class="keyword">int</span>  rpos[MaxRC+<span class="number">1</span>];<span class="comment">//æ•°ç»„èµ·å§‹ä¸‹æ ‡ä¸º1</span></span><br><span class="line">        <span class="keyword">int</span>  mu, nu, tu;<span class="comment">//åˆ†åˆ«ä¸ºè¡Œæ•°ï¼Œåˆ—æ•°ï¼Œéé›¶å…ƒä¸ªæ•°</span></span><br><span class="line">&#125;RLSMatrix;</span><br></pre></td></tr></table></figure><h4 id="çŸ©é˜µä¹˜æ³•"><a href="#çŸ©é˜µä¹˜æ³•" class="headerlink" title="çŸ©é˜µä¹˜æ³•"></a>çŸ©é˜µä¹˜æ³•</h4><p>ä»¥ä¸Šè¿°ç»“æ„è¿›è¡ŒçŸ©é˜µä¹˜æ³•ï¼Œå¯ä»¥ä½“ç°å‡ºå…¶ä¼˜è¶Šæ€§</p><p><img data-src="http://cdn.sekyoro.top/imgs/065117.png" alt="image-20210418163820144"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">C=AxB</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;m; i++) </span><br><span class="line">    <span class="keyword">for</span> (j=<span class="number">0</span>; j&lt;l; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        C[i][j]=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (k=<span class="number">0</span>; k&lt;n; k++)</span><br><span class="line">            C[i][j] += A[i][k]*B[k][j]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>çŸ©é˜µçš„ä¹˜æ³•ï¼Œå½“ä¸¤ä¸ªå€¼å…¶ä¸­ä¸€ä¸ªä¸º0ï¼Œåˆ™ä¹˜ç§¯ä¸º0ï¼Œå› æ­¤ï¼Œåº”å…å»è¿™ç§æ— æ•ˆæ“ä½œã€‚</p><p>ä¾‹å¦‚çŸ©é˜µå…ƒç´ (1,2,4)ä¸(2,3,6)åˆ™å¯ä»¥ç®—å‡º(1,3,24)</p><p>ä½†æ˜¯è‹¥æ²¡æœ‰ç›¸å¯¹åº”çš„å…ƒç´ (å³å·¦ä¹˜æ•°çš„åˆ—==å³ä¹˜æ•°çš„è¡Œ),åˆ™ä¹˜ç§¯ä¸º0.</p><p>å› æ­¤,åªéœ€åœ¨å³ä¹˜æ•°ä¸­å¯»æ‰¾ç¬¦åˆçš„éé›¶å€¼ï¼Œåˆ©ç”¨ä¸Šè¿°æ•°æ®ç»“æ„ç‰¹ç‚¹ã€‚</p><p>rpos[row]ä¸ºç¬¬rowè¡Œç¬¬ä¸€ä¸ªéé›¶å…ƒç´ åœ¨ä¸‰å…ƒç»„è¡¨ä¸­çš„ä½ç½®</p><p><strong>åŸºæœ¬æ“ä½œ</strong></p><p>MÃ—N</p><p>å¯¹äºMä¸­æ¯ä¸ªå…ƒç´ ï¼Œæ‰¾åˆ°Nä¸­æ»¡è¶³æ¡ä»¶çš„å€¼ï¼Œæ±‚çš„ä¹˜ç§¯ã€‚</p><p>çŸ©é˜µç›¸åº”ä½ç½®çš„å€¼ä¸ºå‡ ä¸ªä¹˜ç§¯çš„å’Œï¼Œæ‰€ä»¥è®¾ç½®ä¸€ä¸ªç´¯è®¡å’Œçš„å˜é‡ï¼Œåˆå€¼ä¸º0.</p><p><strong>æ˜“å¿½ç•¥ç‚¹</strong></p><p>ä¸¤ä¸ªç¨€ç–çŸ©é˜µç›¸ä¹˜çš„å€¼ä¸ä¸€å®šæ˜¯ç¨€ç–çŸ©é˜µã€‚</p><p>å› ä¸ºå‡ ä¸ªä¹˜ç§¯çš„å’Œä¸ä¸€å®šéé›¶ï¼Œæ‰€ä»¥ç®—å‡ºå€¼åéœ€è¦æ£€éªŒã€‚</p><p>è‹¥ä¸º0åˆ™è·³è¿‡</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Status <span class="title">MultiSMatrix</span><span class="params">(RLSMatrix M, RLSMatrix N, RLSMatrix *Q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> arow, brow, ccol, p, q, t;</span><br><span class="line">    <span class="keyword">float</span> ctemp[];</span><br><span class="line">    <span class="keyword">if</span> (M.mu != N.nu)</span><br><span class="line">        <span class="keyword">return</span> ERROR;</span><br><span class="line">    Q-&gt;mu = M.mu;</span><br><span class="line">    Q-&gt;nu = N.nu;</span><br><span class="line">    Q-&gt;tu = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (M.tu * N.tu != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (arow = <span class="number">0</span>; arow &lt; M.mu; ++arow)</span><br><span class="line">        &#123;</span><br><span class="line">            ctemp[] = <span class="number">0</span>; <span class="comment">//memset(ctemp,0,n*sizeof(float));</span></span><br><span class="line">            Q-&gt;rpos[arow] = Q-&gt;tu;</span><br><span class="line">            <span class="keyword">for</span> (p = M.rpos[arow]; p &lt; M.rpos[arow + <span class="number">1</span>]; ++p)</span><br><span class="line">            &#123;</span><br><span class="line">                brow = M.data[p].j;</span><br><span class="line">                <span class="keyword">for</span> (q = N.rpos[brow]; q &lt; N.rpos[brow + <span class="number">1</span>]; ++q)</span><br><span class="line">                &#123;</span><br><span class="line">                    ccol = N.data[q].j;</span><br><span class="line">                    ctemp[ccol] += M.data[p].elem * N.data[q].elem;</span><br><span class="line">                &#125; <span class="comment">//for q</span></span><br><span class="line">            &#125;     <span class="comment">// for p</span></span><br><span class="line"> <span class="keyword">for</span> (ccol = <span class="number">0</span>; ccol &lt; Q.nu; ++ccol)</span><br><span class="line">            &#123;</span><br><span class="line">       <span class="keyword">if</span> (ctemp[ccol] &#123;</span><br><span class="line">          <span class="keyword">if</span> (++Q-&gt;tu &gt; MAXSIZE)</span><br><span class="line">                     <span class="keyword">return</span> ERROR;</span><br><span class="line">              <span class="keyword">else</span></span><br><span class="line">                  &#123;</span><br><span class="line">                 Q-&gt;data[Q-&gt;tu].i = arow;</span><br><span class="line">                 Q-&gt;data[Q-&gt;tu].j =ccol;</span><br><span class="line">          Q-&gt;data[Q-&gt;tu].elem=ctemp[ccol];</span><br><span class="line">                    &#125; <span class="comment">//else</span></span><br><span class="line">                   &#125; <span class="comment">//if</span></span><br><span class="line">            &#125;  <span class="comment">//for ccol</span></span><br><span class="line">      &#125; <span class="comment">//for arrow</span></span><br><span class="line">   &#125;  <span class="comment">//if</span></span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦    O(M.muÃ—N.nu+M.tuÃ—N.tu/N.mu)</p><p><img data-src="http://cdn.sekyoro.top/imgs/092914.png" alt="image-20210418181608401"></p><h2 id="4-åå­—é“¾è¡¨"><a href="#4-åå­—é“¾è¡¨" class="headerlink" title="4.åå­—é“¾è¡¨"></a>4.åå­—é“¾è¡¨</h2><p>å½“éœ€è¦è¿›è¡ŒçŸ©é˜µåŠ æ³•,å‡æ³•,ä¹˜æ³•æ—¶ï¼ŒçŸ©é˜µä¸­éé›¶å…ƒç´ ä¸ªæ•°å’Œä½ç½®ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè‹¥ç”¨ä¸‰å…ƒç»„è¡¨è¡¨ç¤ºä¼šç§»åŠ¨å¤§é‡å…ƒç´ ,ç›¸å¯¹è¾ƒéº»çƒ¦.</p><p>åå­—é“¾è¡¨èƒ½å¤Ÿçµæ´»æ’å…¥å› è¿ç®—äº§ç”Ÿçš„æ–°çš„éé›¶å…ƒç´ ,åˆ é™¤å› è¿ç®—äº§ç”Ÿçš„æ–°çš„é›¶å…ƒç´ .</p><p>ç”±äºçŸ©é˜µæœ‰è¡Œå’Œåˆ—ï¼Œæ‰€ä»¥ä¸€ä¸ªç»“ç‚¹é™¤äº†æ•°æ®åŸŸ(i, j, elem)ä¹‹å¤–ï¼Œè¿˜åº”è¯¥ç”¨ä¸¤ä¸ªæ–¹å‘çš„æŒ‡é’ˆ(right, down)ï¼Œåˆ†åˆ«æŒ‡å‘è¡Œå’Œåˆ—ã€‚è¿™æ ·æ•´ä¸ªçŸ©é˜µæ„æˆäº†ä¸€ä¸ªåå­—äº¤å‰çš„é“¾è¡¨ï¼Œå› æ­¤ç§°åå­—é“¾è¡¨ã€‚æ¯ä¸€è¡Œæˆ–æ¯ä¸€åˆ—çš„å¤´æŒ‡é’ˆï¼Œå¯ä»¥ç”¨ä¸¤ä¸ªä¸€ç»´æŒ‡é’ˆæ•°ç»„æ¥å­˜æ”¾ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        <span class="keyword">int</span>  i, j;</span><br><span class="line">        ElemType  elem;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span> *<span class="title">right</span>, *<span class="title">down</span>;</span></span><br><span class="line">&#125;OLNode, *OLink;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">        OLink  *rHead, *cHead;</span><br><span class="line">        <span class="keyword">int</span>  mu, nu, tu;<span class="comment">//è¡Œæ•°ï¼Œåˆ—æ•°ï¼Œéé›¶å…ƒä¸ªæ•°</span></span><br><span class="line">&#125;CrossList;</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–åå­—é“¾è¡¨</p><p><strong>ç®—æ³•å®ç°</strong></p><ol><li>è¯»å…¥ç¨€ç–çŸ©é˜µè¡Œæ•°åˆ—æ•°ï¼Œéé›¶å…ƒä¸ªæ•°</li><li>åŠ¨æ€ç”³è¯·è¡Œé“¾è¡¨,åˆ—é“¾è¡¨å¤´æŒ‡é’ˆå‘é‡</li><li>é€ä¸ªè¯»å…¥éé›¶å…ƒï¼Œåˆ†åˆ«æ’å…¥è¡Œé“¾è¡¨,åˆ—é“¾è¡¨</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Status <span class="title">CreateOLSMatrix</span> <span class="params">(CrossList *M)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (M) <span class="built_in">free</span>(M); <span class="built_in">scanf</span>(&amp;m, &amp;n, &amp;t);</span><br><span class="line">    M.mu=m; M.nu=n; M.tu=t;</span><br><span class="line">    <span class="keyword">if</span> (!(M.rhead=(OLink *) <span class="built_in">malloc</span> ((m+<span class="number">1</span>)*<span class="keyword">sizeof</span>(OLink)))) </span><br><span class="line">        <span class="built_in">exit</span> (OVERFLOW);</span><br><span class="line">    <span class="keyword">if</span> (!(M.chead=(OLink *) <span class="built_in">malloc</span> ((n+<span class="number">1</span>)*<span class="keyword">sizeof</span>(OLink)))) </span><br><span class="line">        <span class="built_in">exit</span> (OVERFLOW);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">scanf</span>(&amp;i, &amp;j, &amp;e); i!=<span class="number">0</span>; <span class="built_in">scanf</span>(&amp;i, &amp;j, &amp;e))  &#123;</span><br><span class="line">        <span class="keyword">if</span> (!(p=(OLink*) <span class="built_in">malloc</span> (<span class="keyword">sizeof</span>(OLNode))) <span class="built_in">exit</span> (OVERFLOW);</span><br><span class="line">        p-&gt;i=i; p-&gt;j=j; p-&gt;elem=e;</span><br><span class="line">        <span class="keyword">if</span> (M.rhead[i]==<span class="literal">NULL</span> || M.rhead[i]-&gt;j &gt; j)  &#123;</span><br><span class="line">            p-&gt;right=M.rhead[i]; M.rhead[i]=p; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (q=M.rhead[i]; (q-&gt;right) &amp;&amp; q-&gt;right-&gt;j &lt; j; q=q-&gt;right);</span><br><span class="line">            p-&gt;right=q-&gt;right; q-&gt;right=p;</span><br><span class="line">        &#125;  <span class="comment">//å®Œæˆè¡Œæ’å…¥</span></span><br><span class="line"><span class="keyword">if</span> (M.chead[j]==<span class="literal">NULL</span> || M.chead[j]-&gt;i &gt; i)  &#123;</span><br><span class="line">            p-&gt;down=M.chead[j]; M.chead[j]=p; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (q=M.chead[j]; (q-&gt;down) &amp;&amp; q-&gt;down-&gt;i &lt; i; q=q-&gt;down);</span><br><span class="line">            p-&gt;down=q-&gt;down; q-&gt;down=p;</span><br><span class="line">        &#125;  <span class="comment">//å®Œæˆåˆ—æ’å…¥</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> OK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çŸ©é˜µåŠ æ³•"><a href="#çŸ©é˜µåŠ æ³•" class="headerlink" title="çŸ©é˜µåŠ æ³•"></a>çŸ©é˜µåŠ æ³•</h3><p><strong>ç®—æ³•åŸç†</strong></p><p>â€‹       å¯¹æ¯ä¸€è¡Œéƒ½ç”¨è¡Œè¡¨å¤´å‡ºå‘åˆ†åˆ«æ‰¾åˆ°Aå’ŒBåœ¨è¯¥è¡Œä¸­çš„ç¬¬ä¸€ä¸ªéé›¶å…ƒï¼Œå‡è®¾éç©ºæŒ‡é’ˆpaå’Œpbåˆ†åˆ«æŒ‡å‘çŸ©é˜µAå’ŒBä¸­è¡Œå€¼ç›¸åŒçš„ä¸¤ä¸ªç»“ç‚¹ï¼Œ</p><p>å°†BåŠ åˆ°Aä¸Šå»æ—¶ï¼Œå¯¹AçŸ©é˜µçš„åå­—é“¾è¡¨æ¥è¯´,è¦ä¹ˆæ”¹å˜å€¼(!=0),æˆ–è€…ä¸å˜(b=0),æˆ–è€…æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹(a=0),æˆ–è€…ç›¸åŠ å’Œä¸º0ï¼Œæ“ä½œæ—¶åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹.</p><p>æ•´ä¸ªè¿ç®—ä»ä»çŸ©é˜µç¬¬ä¸€è¡Œé€è¡Œè¿›è¡Œ,å¯¹æ¯ä¸€è¡Œéƒ½ä»è¡Œè¡¨å¤´å‡ºå‘åˆ†åˆ«æ‰¾åˆ°Aå’ŒBåœ¨è¯¥è¡Œçš„ç¬¬ä¸€ä¸ªéé›¶å…ƒèŠ‚ç‚¹åå¼€å§‹æ¯”è¾ƒ</p><p>ï¼ˆ1ï¼‰è‹¥pa==NULLæˆ–pa-&gt;j&gt;pb-&gt;jï¼Œåˆ™éœ€è¦åœ¨Aä¸­æ’å…¥Bç»“ç‚¹ï¼›<br>ï¼ˆ2ï¼‰è‹¥pa-&gt;j==pb-&gt;jï¼Œä¸”pa-&gt;elem+pb-&gt;elem!=0ï¼Œåˆ™Aç»“ç‚¹æ”¹å€¼ï¼›<br>ï¼ˆ3ï¼‰è‹¥pa-&gt;j==pb-&gt;jï¼Œä¸”pa-&gt;elem+pb-&gt;elem==0ï¼Œåˆ™éœ€è¦åˆ é™¤Aç»“ç‚¹ï¼›<br>ï¼ˆ4ï¼‰è‹¥pa-&gt;j<pb->jï¼Œåˆ™åªè¦å°†paæŒ‡é’ˆå¾€å³æ¨è¿›ã€‚<br>        ä¸ºäº†ä¾¿äºæ’å…¥å’Œåˆ é™¤ç»“ç‚¹ï¼Œéœ€è¦è®¾ç«‹ä¸€äº›è¾…åŠ©æŒ‡é’ˆï¼Œæ¯”å¦‚preæŒ‡é’ˆæŒ‡ç¤ºpaæ‰€æŒ‡ç»“ç‚¹çš„å‰é©±ç»“ç‚¹ï¼Œæ¯ä¸€åˆ—ä¹Ÿè¦è®¾ç«‹ä¸€ä¸ªæŒ‡é’ˆhl[j]ï¼Œåˆå§‹å€¼å’Œåˆ—é“¾è¡¨çš„å¤´æŒ‡é’ˆç›¸åŒchead[j]ã€‚</p><ol><li>è‹¥pa ==NULLæˆ–pa-&gt;j&gt;pb-&gt;j,è¡¨æ˜å½“å‰è¡Œå…ƒç´ å·²å¤„ç†å®Œ,éœ€è¦åœ¨AçŸ©é˜µçš„é“¾è¡¨ä¸­æ’å…¥ä¸€ä¸ªBçš„èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¦æ”¹å˜paå‰ä¸€ä¸ªèŠ‚ç‚¹çš„rightåŸŸåŒæ—¶æ”¹å˜æ·»åŠ èŠ‚ç‚¹æ‰€åœ¨åˆ—ä¸Šä¸€èŠ‚ç‚¹çš„downåŸŸ</li><li>è‹¥pa-&gt;j<pb->j,ä½¿paèŠ‚ç‚¹åç§»å³å¯ï¼Œæ³¨æ„æ”¹å˜pre</li><li>è‹¥pa-&gt;j == pb-&gt;jï¼Œä¸¤å€¼ç›¸åŠ ï¼Œæ³¨æ„å€¼æ˜¯å¦ä¸º0ï¼Œè‹¥ä¸º0åˆ é™¤è¯¥èŠ‚ç‚¹ï¼Œä¸ä¸º0æ”¹å˜å€¼å³å¯</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> i, j, e;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">OLNode</span> *<span class="title">down</span>, *<span class="title">right</span>;</span></span><br><span class="line">&#125; OLNode, *OLlink;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    OLlink *rhead, *chead; <span class="comment">//æŒ‡å‘è¡Œæˆ–åˆ—ç¬¬ä¸€ä¸ªéé›¶å…ƒ(æŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆ),å¯ä»¥ç”¨æ•°ç»„rhead[row]è¡¨ç¤ºç¬¬rowè¡Œçš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">int</span> m, n, len;         <span class="comment">//è¡Œåˆ—æ•°,éé›¶å…ƒä¸ªæ•°</span></span><br><span class="line">&#125; CrossList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(CrossList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">plus</span><span class="params">(CrossList *, CrossList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(CrossList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(CrossList *, OLlink, OLlink, OLlink *, OLlink *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(CrossList *, OLlink, OLlink, OLlink *, OLlink *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    CrossList *M = (CrossList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CrossList));</span><br><span class="line">    CrossList *N = (CrossList *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(CrossList));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;M-&gt;m, &amp;M-&gt;n);</span><br><span class="line">    N-&gt;m = M-&gt;m;</span><br><span class="line">    N-&gt;n = M-&gt;n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;M-&gt;len, &amp;N-&gt;len);</span><br><span class="line">    initial(M);</span><br><span class="line">    initial(N);</span><br><span class="line">    plus(M, N);</span><br><span class="line">    print(M);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(CrossList *M)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> row = <span class="number">1</span>; row &lt;= M-&gt;m; row++)</span><br><span class="line">    &#123;</span><br><span class="line">        OLlink pa = M-&gt;rhead[row];</span><br><span class="line">        <span class="keyword">while</span> (pa)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, pa-&gt;i, pa-&gt;j, pa-&gt;e);</span><br><span class="line">            pa = pa-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">plus</span><span class="params">(CrossList *M, CrossList *N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    OLlink pa, pb;</span><br><span class="line">    OLlink pre; <span class="comment">//æŒ‡å‘å‰é¢ä¸€ä¸ªèŠ‚ç‚¹,æ–¹ä¾¿æ’å…¥</span></span><br><span class="line">    OLlink *hl = (OLlink *)<span class="built_in">malloc</span>((M-&gt;n + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLlink));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= M-&gt;n; j++)</span><br><span class="line">        hl[j] = M-&gt;chead[j]; <span class="comment">//hl[]è¡¨ç¤ºçš„æ˜¯æ¯åˆ—éé›¶å…ƒçš„preæŒ‡å‘å…ƒç´ ï¼Œä¸preç±»ä¼¼</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> row = <span class="number">1</span>; row &lt;= M-&gt;m; row++) <span class="comment">//è¡Œéå†</span></span><br><span class="line">    &#123;</span><br><span class="line">        pa = M-&gt;rhead[row];</span><br><span class="line">        pb = N-&gt;rhead[row];</span><br><span class="line">        pre = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">while</span> (pb) <span class="comment">//å½“pbæœ‰éé›¶å…ƒç´ æ—¶è¿›è¡Œå¤„ç†</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (pa == <span class="literal">NULL</span> || pa-&gt;j &gt; pb-&gt;j)</span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                Insert(M, pa, pb, &amp;pre, hl);</span><br><span class="line">                pb = pb-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (pa != <span class="literal">NULL</span> &amp;&amp; pa-&gt;j &lt; pb-&gt;j)</span><br><span class="line">            &#123;</span><br><span class="line">                pre = pa;</span><br><span class="line">                pa = pa-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (pa-&gt;j == pb-&gt;j)</span><br><span class="line">            &#123;</span><br><span class="line">                add(M, pa, pb, &amp;pre, hl);</span><br><span class="line">                pb = pb-&gt;right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(CrossList *M, OLlink pa, OLlink pb, OLlink *pre, OLlink *hl)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> data = pa-&gt;e + pb-&gt;e;</span><br><span class="line">    <span class="keyword">if</span> (data)</span><br><span class="line">    &#123;</span><br><span class="line">        pa-&gt;e = data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        OLlink temp = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">        <span class="keyword">if</span> ((*pre) == <span class="literal">NULL</span>)</span><br><span class="line">            M-&gt;rhead[pa-&gt;i] = pa-&gt;right;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            (*pre)-&gt;right = pa-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = pa;</span><br><span class="line">        pa = pa-&gt;right;</span><br><span class="line">        <span class="keyword">if</span> (M-&gt;chead[temp-&gt;j] == temp)</span><br><span class="line">            M-&gt;chead[temp-&gt;j] = hl[temp-&gt;j] = temp-&gt;down;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            hl[temp-&gt;j]-&gt;down = temp-&gt;down;</span><br><span class="line">        <span class="built_in">free</span>(temp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(CrossList *M, OLlink pa, OLlink pb, OLlink *pre, OLlink *hl)</span> <span class="comment">//æ’å…¥æœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯paè¯¥è¡Œæ— éé›¶å…ƒç´ ï¼Œå¦ä¸€ç§pbæ‰€åœ¨åˆ—å°äºpaæ‰€åœ¨åˆ—</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    OLlink p = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">    p-&gt;i = pb-&gt;i;</span><br><span class="line">    p-&gt;j = pb-&gt;j;</span><br><span class="line">    p-&gt;e = pb-&gt;e;</span><br><span class="line">    p-&gt;down = p-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> ((*pre) == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        M-&gt;rhead[p-&gt;i] = p;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        (*pre)-&gt;right = p;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;right = pa;</span><br><span class="line">    </span><br><span class="line">    (*pre) = p;</span><br><span class="line">    pa = (*pre)-&gt;right;<span class="comment">//è¿™ä¸€å¥å¯ä»¥ä¸è¦</span></span><br><span class="line">    <span class="keyword">if</span> (!M-&gt;chead[p-&gt;j] || M-&gt;chead[p-&gt;j]-&gt;i &gt; p-&gt;i)</span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;down = M-&gt;chead[p-&gt;j];</span><br><span class="line">        M-&gt;chead[p-&gt;j] = p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;down = hl[p-&gt;j]-&gt;down;</span><br><span class="line">        hl[p-&gt;j]-&gt;down = p;</span><br><span class="line">    &#125;</span><br><span class="line">    hl[p-&gt;j] = p;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(CrossList *Clist)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, e;</span><br><span class="line">    Clist-&gt;rhead = (OLlink *)<span class="built_in">malloc</span>((Clist-&gt;m + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLlink));</span><br><span class="line">    Clist-&gt;chead = (OLlink *)<span class="built_in">malloc</span>((Clist-&gt;n + <span class="number">1</span>) * <span class="keyword">sizeof</span>(OLlink));</span><br><span class="line">    <span class="comment">// if(rhead||chead)</span></span><br><span class="line">    <span class="comment">// exit(1);</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Clist-&gt;m; i++)</span><br><span class="line">        Clist-&gt;rhead[i] = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= Clist-&gt;n; i++)</span><br><span class="line">        Clist-&gt;chead[i] = <span class="literal">NULL</span>;</span><br><span class="line">    OLlink s = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> count = <span class="number">0</span>; count &lt; Clist-&gt;len; count++)</span><br><span class="line">    &#123;</span><br><span class="line">        OLlink cur = (OLlink)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(OLNode));</span><br><span class="line">        cur-&gt;down = <span class="literal">NULL</span>;</span><br><span class="line">        cur-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="comment">// if(cur==NULL)</span></span><br><span class="line">        <span class="comment">// exit(1);</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;i, &amp;j, &amp;e);</span><br><span class="line">        cur-&gt;i = i;</span><br><span class="line">        cur-&gt;j = j;</span><br><span class="line">        cur-&gt;e = e;</span><br><span class="line">        <span class="keyword">if</span> (Clist-&gt;rhead[i] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Clist-&gt;rhead[i] = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            s = Clist-&gt;rhead[i];</span><br><span class="line">            <span class="keyword">while</span> (s-&gt;right != <span class="literal">NULL</span> &amp;&amp; s-&gt;right-&gt;j &lt; j)</span><br><span class="line">                s = s-&gt;right;</span><br><span class="line">            cur-&gt;right = s-&gt;right;</span><br><span class="line">            s-&gt;right = cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (Clist-&gt;chead[j] == <span class="literal">NULL</span>)</span><br><span class="line">            Clist-&gt;chead[j] = cur;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            s = Clist-&gt;chead[j];</span><br><span class="line">            <span class="keyword">while</span> (s-&gt;down != <span class="literal">NULL</span> &amp;&amp; s-&gt;down-&gt;i &lt; i)</span><br><span class="line">                s = s-&gt;down;</span><br><span class="line">            cur-&gt;down = s-&gt;down;</span><br><span class="line">            s-&gt;down = cur;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> data_structure </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„noj_1</title>
      <link href="2021/04/15/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84noj_1/"/>
      <url>2021/04/15/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84noj_1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="æ•°æ®ç»“æ„noj-1"><a href="#æ•°æ®ç»“æ„noj-1" class="headerlink" title="æ•°æ®ç»“æ„noj_1"></a>æ•°æ®ç»“æ„noj_1</h1><p>ä¸ªäººåšçš„ï¼Œä¸å½“ä¹‹å¤„æ¬¢è¿æå‡ºï¼Œå¸Œæœ›ä¸€èµ·æ”¹è¿›ã€‚</p><p>å…ˆå‘å‰10é¢˜  <del>å› ä¸ºåé¢æˆ‘ä¹Ÿæ²¡åš</del></p><span id="more"></span><h2 id="1"><a href="#1" class="headerlink" title="1."></a>1.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094027.png" alt="image-20210416000331032"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 1000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">list</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> elenum;</span><br><span class="line">    <span class="keyword">int</span> element[maxsize];</span><br><span class="line">&#125;<span class="built_in">list</span>,* plist;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">int</span> insert_num;</span><br><span class="line">    <span class="keyword">int</span> i,j;  </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;size);</span><br><span class="line">    plist l = (plist)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="built_in">list</span>));</span><br><span class="line"> </span><br><span class="line">        l-&gt;elenum=size;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>; i&lt;l-&gt;elenum ;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">            l-&gt;element[i] = num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;insert_num);      </span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;l-&gt;elenum;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(l-&gt;element[i]&gt;=insert_num)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>( j = size;j&gt;i;j--)</span><br><span class="line">                &#123;</span><br><span class="line">                l-&gt;element[j] = l-&gt;element[j<span class="number">-1</span>];      </span><br><span class="line">                &#125;</span><br><span class="line">                l-&gt;element[j] = insert_num;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i==l-&gt;elenum)</span><br><span class="line">        l-&gt;element[i] = insert_num;</span><br><span class="line">        l-&gt;elenum++;   </span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;l-&gt;elenum;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>,l-&gt;element[i],(i==l-&gt;elenum<span class="number">-1</span>)?<span class="string">&#x27;\n&#x27;</span>:<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2"><a href="#2" class="headerlink" title="2."></a>2.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094034.png" alt="image-20210416000434268"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 1000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Sequence_List</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> element[maxsize];</span><br><span class="line">    <span class="keyword">int</span> elenum;</span><br><span class="line">&#125; List, *pList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">LinkList</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">LinkList</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; Node, *pLinkList;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pList pa = (pList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">    pLinkList pb, s, r;</span><br><span class="line">    <span class="keyword">int</span> size, i, num;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;size);</span><br><span class="line">    pa-&gt;elenum = size;</span><br><span class="line">    pb = (pLinkList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    pb-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    s = pb;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line">        pa-&gt;element[i] = num;</span><br><span class="line">        r = (pLinkList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        r-&gt;num = num;</span><br><span class="line">        s-&gt;next = r;</span><br><span class="line">        s = r;</span><br><span class="line">    &#125;</span><br><span class="line">    s-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= (size - <span class="number">1</span>) / <span class="number">2</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = pa-&gt;element[i];</span><br><span class="line">        pa-&gt;element[i] = pa-&gt;element[size - <span class="number">1</span> - i];</span><br><span class="line">        pa-&gt;element[size - i - <span class="number">1</span>] = temp;</span><br><span class="line">    &#125; <span class="comment">//é¡ºåºè¡¨é€†åº</span></span><br><span class="line">    s = pb-&gt;next;</span><br><span class="line">    pb-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    Node *p;</span><br><span class="line">    <span class="keyword">while</span> (s)</span><br><span class="line">    &#123;</span><br><span class="line">        p = s;</span><br><span class="line">        s = s-&gt;next;</span><br><span class="line">        p-&gt;next = pb-&gt;next;</span><br><span class="line">        pb-&gt;next = p;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, pa-&gt;element[i], (i == size - <span class="number">1</span>) ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, p-&gt;num, (p-&gt;next == <span class="literal">NULL</span>) ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(pa);</span><br><span class="line">    <span class="built_in">free</span>(pb);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3"><a href="#3" class="headerlink" title="3."></a>3.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094045.png" alt="image-20210416000510643"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 1000</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">List</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    <span class="keyword">int</span> data[maxsize];</span><br><span class="line">&#125; List, *pList;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">give_value</span><span class="params">(pList)</span></span>;</span><br><span class="line"><span class="function">pList <span class="title">cross_list</span><span class="params">(pList, pList)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_list</span><span class="params">(pList, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_num</span><span class="params">(pList, pList)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i ;</span><br><span class="line">    pList pa ;</span><br><span class="line">    pa = (pList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">    pList pb = (pList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">    pList pc = (pList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;pa-&gt;length, &amp;pb-&gt;length, &amp;pc-&gt;length);</span><br><span class="line">    give_value(pa);</span><br><span class="line">    give_value(pb);</span><br><span class="line">    give_value(pc);</span><br><span class="line">    pb = cross_list(pb, pc);</span><br><span class="line">    delete_num(pa, pb);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; pa-&gt;length; i++)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, pa-&gt;data[i], (i == pa-&gt;length - <span class="number">1</span>) ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    <span class="built_in">free</span>(pa);</span><br><span class="line">    <span class="built_in">free</span>(pb);</span><br><span class="line">    <span class="built_in">free</span>(pc);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">give_value</span><span class="params">(pList p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> num ;</span><br><span class="line">    <span class="keyword">int</span> i ;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; p-&gt;length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line">        p-&gt;data[i] = num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">pList <span class="title">cross_list</span><span class="params">(pList p, pList q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pList result = (pList)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(List));</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="keyword">int</span> t ;</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">    j = <span class="number">0</span>;</span><br><span class="line">    t =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; p-&gt;length &amp;&amp; j &lt; q-&gt;length)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;data[i] &gt; q-&gt;data[j])</span><br><span class="line">        &#123;</span><br><span class="line">            j++;   </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data[i] &lt; q-&gt;data[j])</span><br><span class="line">        &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            result-&gt;data[t] = p-&gt;data[i];</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">            t++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    result-&gt;length = t+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_num</span><span class="params">(pList pa, pList pb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i ;</span><br><span class="line">    <span class="keyword">int</span> j ;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; pb-&gt;length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; pa-&gt;length;)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (pb-&gt;data[i] &lt; pa-&gt;data[j])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (pb-&gt;data[i] &gt; pa-&gt;data[j])</span><br><span class="line">            &#123;</span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                delete_list (pa, j);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_list</span><span class="params">(pList p, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i ;</span><br><span class="line">    <span class="keyword">for</span> (i = n; i &lt; p-&gt;length - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        p-&gt;data[i] = p-&gt;data[i + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;length--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="4"><a href="#4" class="headerlink" title="4."></a>4.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094053.png" alt="image-20210416000602232"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;Node,*Linklist;</span><br><span class="line"><span class="function">Linklist <span class="title">initial_list</span><span class="params">(Linklist,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(Linklist,Linklist)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Linklist L,M;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">0</span>,m=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>,&amp;n,&amp;m);</span><br><span class="line">    L = initial_list(L,n);</span><br><span class="line">    M = initial_list(M,m);</span><br><span class="line">    merge(L,M);</span><br><span class="line">    L = L-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(L)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>,L-&gt;data,(L-&gt;next==<span class="literal">NULL</span>)?<span class="string">&#x27;\n&#x27;</span>:<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        L = L-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(Linklist pa,Linklist pb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Linklist p=pa-&gt;next,q=pb-&gt;next;</span><br><span class="line">    pb-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(p&amp;&amp;q)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;data&gt;q-&gt;data)</span><br><span class="line">        &#123;</span><br><span class="line">            pa-&gt;next = p;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            pa = pa-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                pa-&gt;next = q;</span><br><span class="line">                q = q-&gt;next;</span><br><span class="line">                pa = pa-&gt;next;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (p<span class="comment">/* condition */</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        pa-&gt;next = p;</span><br><span class="line">        pa = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        <span class="comment">/* code */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(q)</span><br><span class="line">    &#123;</span><br><span class="line">        pa-&gt;next = q;</span><br><span class="line">        pa = q;</span><br><span class="line">        q = q-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    pa-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Linklist <span class="title">initial_list</span><span class="params">(Linklist L,<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    L = (Linklist)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> num=<span class="number">0</span>;</span><br><span class="line">    Linklist s = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(n--)</span><br><span class="line">    &#123;</span><br><span class="line">        s = (Linklist)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">        s-&gt;data = num;</span><br><span class="line">        s-&gt;next = L-&gt;next;</span><br><span class="line">        L-&gt;next = s;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> L;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5"><a href="#5" class="headerlink" title="5."></a>5.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094100.png" alt="image-20210416000639344"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; Node, *Linklist;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">give_value</span><span class="params">(Linklist, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cross_list</span><span class="params">(Linklist, Linklist)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_list</span><span class="params">(Linklist, Linklist)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Linklist pa = (Linklist)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    Linklist pb = (Linklist)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    Linklist pc = (Linklist)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">int</span> num_1, num_2, num_3;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d %d&quot;</span>, &amp;num_1, &amp;num_2, &amp;num_3);</span><br><span class="line">    give_value(pa, num_1);</span><br><span class="line">    give_value(pb, num_2);</span><br><span class="line">    give_value(pc, num_3);</span><br><span class="line">    cross_list(pb, pc);</span><br><span class="line">    delete_list(pa, pb);</span><br><span class="line">    <span class="keyword">while</span> (pa-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, pa-&gt;next-&gt;data,(pa-&gt;next==<span class="literal">NULL</span>)?<span class="string">&#x27;\n&#x27;</span>:<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        pa = pa-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_list</span><span class="params">(Linklist pa, Linklist pb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Linklist tail = pa;</span><br><span class="line">    Linklist p = tail-&gt;next;</span><br><span class="line">    Linklist q;</span><br><span class="line">    <span class="keyword">while</span> (p)</span><br><span class="line">    &#123;</span><br><span class="line">        q = pb-&gt;next;</span><br><span class="line">        <span class="keyword">while</span> (q)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;data == q-&gt;data)</span><br><span class="line">            &#123;</span><br><span class="line">                p = p-&gt;next;</span><br><span class="line">                <span class="built_in">free</span>(tail-&gt;next);</span><br><span class="line">                tail-&gt;next = p;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                q = q-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (q == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            tail = tail-&gt;next;</span><br><span class="line">            p = tail-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">give_value</span><span class="params">(Linklist p, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Linklist s, r;</span><br><span class="line">    s = p;</span><br><span class="line">    <span class="keyword">while</span> (n--)</span><br><span class="line">    &#123;</span><br><span class="line">        r = (Linklist)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;r-&gt;data);</span><br><span class="line">        s-&gt;next = r;</span><br><span class="line">        s = s-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    s-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cross_list</span><span class="params">(Linklist p, Linklist q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Linklist s, r, tail;</span><br><span class="line">    tail = p;</span><br><span class="line">    s = tail-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (s)</span><br><span class="line">    &#123;</span><br><span class="line">        r = q-&gt;next;</span><br><span class="line">        <span class="keyword">while</span> (r)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s-&gt;data == r-&gt;data)</span><br><span class="line">            &#123;</span><br><span class="line">                tail = tail-&gt;next;</span><br><span class="line">                s = tail-&gt;next;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                r = r-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (r == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            s = s-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(tail-&gt;next);</span><br><span class="line">            tail-&gt;next = s;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6"><a href="#6" class="headerlink" title="6."></a>6.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094109.png" alt="image-20210416000713105"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">pre</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span></span><br><span class="line">    <span class="keyword">int</span> freq;</span><br><span class="line">&#125; Node, *pNode;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">const</span> pNode,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(<span class="keyword">const</span> pNode, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Locate_</span><span class="params">(<span class="keyword">const</span> pNode, <span class="keyword">char</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_List</span><span class="params">(<span class="keyword">const</span> pNode)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pNode pa = (pNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">int</span> size, l_size;</span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;size, &amp;l_size);</span><br><span class="line">    initial(pa, size);</span><br><span class="line">    <span class="keyword">while</span>(l_size--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>,&amp;ch);</span><br><span class="line">        <span class="keyword">while</span>(ch&lt;=<span class="string">&#x27;A&#x27;</span>||ch&gt;=<span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>,&amp;ch);</span><br><span class="line">        &#125;</span><br><span class="line">        Locate_(pa,ch);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(pa,size);</span><br><span class="line">    print_List(pa);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print_List</span><span class="params">(pNode p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pNode r;</span><br><span class="line">    r = p-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(r != p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c%c&quot;</span>,r-&gt;data,(r-&gt;next==<span class="literal">NULL</span>)?<span class="string">&#x27;\n&#x27;</span>:<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        r = r-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">const</span> pNode p,<span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  pNode head,pa,pb;</span><br><span class="line">  <span class="keyword">int</span> i,j;</span><br><span class="line">  <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;size<span class="number">-1</span>;i++)</span><br><span class="line">  &#123;</span><br><span class="line">      head = p;</span><br><span class="line">      pa = head-&gt;next;</span><br><span class="line">      pb = pa-&gt;next;</span><br><span class="line">      j = size-i<span class="number">-1</span>;</span><br><span class="line">      <span class="keyword">while</span>(j--)</span><br><span class="line">      &#123;</span><br><span class="line">          <span class="keyword">if</span>(pa-&gt;freq&lt;pb-&gt;freq)</span><br><span class="line">          &#123;</span><br><span class="line">              pa-&gt;next = pb-&gt;next;</span><br><span class="line">              pb-&gt;next = pa;</span><br><span class="line">              head-&gt;next = pb;</span><br><span class="line">          &#125;</span><br><span class="line">          head = head-&gt;next;</span><br><span class="line">          pa = head-&gt;next;</span><br><span class="line">          pb = pa-&gt;next;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Locate_</span><span class="params">(<span class="keyword">const</span> pNode p, <span class="keyword">char</span> ch)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pNode r = p-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (r != p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (r-&gt;data == ch)</span><br><span class="line">        &#123;</span><br><span class="line">            (r-&gt;freq)++;</span><br><span class="line">            <span class="comment">// printf(&quot;%c++\n&quot;,r-&gt;data);</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            r = r-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(<span class="keyword">const</span> pNode p, <span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pNode s, r;</span><br><span class="line">    r = p;</span><br><span class="line">    <span class="keyword">int</span> ch;</span><br><span class="line">    <span class="keyword">while</span> (size--)</span><br><span class="line">    &#123;</span><br><span class="line">        s = (pNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>,&amp;ch);</span><br><span class="line">        <span class="keyword">while</span>(ch&lt;=<span class="string">&#x27;A&#x27;</span>||ch&gt;=<span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>,&amp;ch);</span><br><span class="line">        &#125;</span><br><span class="line">        s-&gt;data = ch;</span><br><span class="line">        s-&gt;freq = <span class="number">0</span>;</span><br><span class="line">        s-&gt;pre = r;</span><br><span class="line">        r-&gt;next = s;</span><br><span class="line">        p-&gt;pre = s;</span><br><span class="line">        s-&gt;next = p;</span><br><span class="line">        r = s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7"><a href="#7" class="headerlink" title="7."></a>7.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094112.png" alt="image-20210416000746427"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stack</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> op;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Stack</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;<span class="built_in">stack</span>,*pStack;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">match</span><span class="params">(<span class="keyword">int</span>,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_</span><span class="params">(pStack,<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(pStack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_Pop</span><span class="params">(pStack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ch;</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="number">1</span>;</span><br><span class="line">    pStack op_stack = (pStack)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="built_in">stack</span>));</span><br><span class="line">    op_stack-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>((ch=getchar())!=EOF&amp;&amp;ch!=<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span>(ch)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;&#123;&#x27;</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;[&#x27;</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">            push_(op_stack,ch);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;]&#x27;</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;&#125;&#x27;</span>:</span><br><span class="line">            <span class="keyword">if</span>(match(get_Pop(op_stack),ch))</span><br><span class="line">            &#123;</span><br><span class="line">                pop(op_stack);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                flag=<span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:<span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;yes\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;no\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_</span><span class="params">(pStack top,<span class="keyword">int</span> ch)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pStack s = (pStack)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="built_in">stack</span>));</span><br><span class="line">    s-&gt;op = ch;</span><br><span class="line">    s-&gt;next = top-&gt;next;</span><br><span class="line">    top-&gt;next = s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pop</span><span class="params">(pStack top)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret;</span><br><span class="line">    pStack r = top-&gt;next;</span><br><span class="line">    <span class="keyword">if</span>(r==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ret = r-&gt;op;</span><br><span class="line">    top-&gt;next = r-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(r);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_Pop</span><span class="params">(pStack top)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret;</span><br><span class="line">    pStack r = top-&gt;next;</span><br><span class="line">    <span class="keyword">if</span>(r==<span class="literal">NULL</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    ret = r-&gt;op;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">match</span><span class="params">(<span class="keyword">int</span> src,<span class="keyword">int</span> dst)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(src==<span class="string">&#x27;&#123;&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(dst==<span class="string">&#x27;&#125;&#x27;</span>)</span><br><span class="line">        flag=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span>(src==<span class="string">&#x27;[&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(dst==<span class="string">&#x27;]&#x27;</span>)</span><br><span class="line">        flag=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span>(src==<span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(dst==<span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">        flag=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="8"><a href="#8" class="headerlink" title="8."></a>8.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094118.png" alt="image-20210416000817929"></p><h2 id="9"><a href="#9" class="headerlink" title="9."></a>9.</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Stack_</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Stack_</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; Stack_, *pStack;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_</span><span class="params">(pStack, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop_</span><span class="params">(pStack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_top</span><span class="params">(pStack)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_alpha</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_op</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compare_</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Bolan</span><span class="params">(pStack, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_empty</span><span class="params">(pStack)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pStack opr = (pStack)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Stack_));</span><br><span class="line">    <span class="keyword">int</span> ch;</span><br><span class="line">    opr-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span> ((ch = getchar()) != <span class="string">&#x27;\n&#x27;</span> &amp;&amp; ch != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (ch == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">            push_(opr, ch);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (is_alpha(ch))</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, ch);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            Bolan(opr, ch);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!is_empty(opr))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, opr-&gt;next-&gt;data);</span><br><span class="line">        pop_(opr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(opr);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_empty</span><span class="params">(pStack pa)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pa-&gt;next)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_op</span><span class="params">(<span class="keyword">int</span> ch)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (ch == <span class="string">&#x27;+&#x27;</span> || ch == <span class="string">&#x27;-&#x27;</span> || ch == <span class="string">&#x27;*&#x27;</span> || ch == <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop_</span><span class="params">(pStack head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pStack pop_s = head-&gt;next;</span><br><span class="line">    head-&gt;next = pop_s-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(pop_s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">compare_</span><span class="params">(<span class="keyword">int</span> op_1, <span class="keyword">int</span> op_2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (op_1 == <span class="string">&#x27;*&#x27;</span> || op_1 == <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (op_2 == <span class="string">&#x27;+&#x27;</span> || op_2 == <span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (op_2 == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (op_2 == <span class="number">0</span>)<span class="comment">//æ— å…ƒç´ ï¼Œä¸ºç©ºæ ˆ</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_top</span><span class="params">(pStack head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (is_empty(head))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> head-&gt;next-&gt;data;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">push_</span><span class="params">(pStack head, <span class="keyword">int</span> ch)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pStack r = (pStack)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Stack_));</span><br><span class="line">    r-&gt;data = ch;</span><br><span class="line">    r-&gt;next = head-&gt;next;</span><br><span class="line">    head-&gt;next = r;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">is_alpha</span><span class="params">(<span class="keyword">int</span> ch)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((ch &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; ch &lt;= <span class="string">&#x27;z&#x27;</span>) || (ch &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; ch &lt;= <span class="string">&#x27;Z&#x27;</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Bolan</span><span class="params">(pStack opr, <span class="keyword">int</span> ch)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> top_ch;</span><br><span class="line">    <span class="keyword">if</span> (ch == <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> ((top_ch = get_top(opr)) != <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, top_ch);</span><br><span class="line">            pop_(opr);</span><br><span class="line">        &#125;</span><br><span class="line">        pop_(opr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        top_ch = get_top(opr);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (compare_(ch, top_ch)) <span class="comment">//æ¯”è¾ƒ</span></span><br><span class="line">        &#123;</span><br><span class="line">            push_(opr, ch);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            pop_(opr);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, top_ch);</span><br><span class="line">            push_(opr, ch);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="10"><a href="#10" class="headerlink" title="10."></a>10.</h2><p><img data-src="http://cdn.sekyoro.top/imgs/094127.png" alt="image-20210416001130594"></p><p><strong>è¿™ä¸ªé¢˜ç³»ç»Ÿè®¾ç½®æœ‰é—®é¢˜ï¼Œä¸ç”¨å¤ªæ³¨æ„</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxsize 1000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Queue</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> Element[maxsize];</span><br><span class="line">    <span class="keyword">int</span> rear;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    <span class="keyword">int</span> head;</span><br><span class="line">&#125; Queue, *pQueue;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pQueue)</span></span>;</span><br><span class="line"><span class="comment">// void push(pQueue, int);</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_top</span><span class="params">(pQueue)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pQueue)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    pQueue <span class="built_in">queue</span> = (pQueue)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Queue));</span><br><span class="line">    <span class="keyword">if</span> (!<span class="built_in">queue</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;malloc fail&quot;</span>);</span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    initial(<span class="built_in">queue</span>);</span><br><span class="line">    <span class="comment">// fflush(stdin);</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">queue</span>-&gt;rear&lt;=<span class="built_in">queue</span>-&gt;length)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> temp[<span class="number">100</span>];</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,temp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> pop_date;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;pop_date);</span><br><span class="line">    <span class="keyword">while</span>(get_top(<span class="built_in">queue</span>)!=pop_date)</span><br><span class="line">    &#123;</span><br><span class="line">        pop(<span class="built_in">queue</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    pop(<span class="built_in">queue</span>);</span><br><span class="line">    print(<span class="built_in">queue</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pQueue q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> date;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;q-&gt;length);</span><br><span class="line">    q-&gt;head = q-&gt;rear = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;date);</span><br><span class="line">        q-&gt;Element[q-&gt;rear] = date;</span><br><span class="line">        (q-&gt;rear)++;</span><br><span class="line">    &#125;<span class="keyword">while</span>((q-&gt;rear&lt;q-&gt;length)&amp;&amp;getchar()!=<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pQueue q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = (q-&gt;head)%q-&gt;length;i&lt;q-&gt;rear;i++)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>,q-&gt;Element[i],(i==q-&gt;rear<span class="number">-1</span>)?<span class="string">&#x27;\n&#x27;</span>:<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span>(q-&gt;head!=q-&gt;rear)</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,get_top(q));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// void push(pQueue q, int x)</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     // if ((q-&gt;rear+1)%q-&gt;length==q-&gt;head)</span></span><br><span class="line"><span class="comment">//     // return false;</span></span><br><span class="line"><span class="comment">//     q-&gt;Element[q-&gt;rear] = x;</span></span><br><span class="line"><span class="comment">//     q-&gt;rear = (q-&gt;rear+1)%(q-&gt;length);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get_top</span><span class="params">(pQueue q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    x = q-&gt;Element[q-&gt;head];</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">(pQueue q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// if(q-&gt;head==q-&gt;rear)</span></span><br><span class="line">    <span class="comment">// return false;</span></span><br><span class="line">    q-&gt;Element[q-&gt;head] = <span class="number">0</span>;</span><br><span class="line">    q-&gt;head = (q-&gt;head+<span class="number">1</span>)%q-&gt;length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img data-src="http://cdn.sekyoro.top/imgs/094132.png" alt="image-20210416001238359"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Maxsize 10000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Queue</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data[Maxsize];</span><br><span class="line">    <span class="keyword">int</span> rear;</span><br><span class="line">    <span class="keyword">int</span> head;</span><br><span class="line">&#125; Queue, *pQueue;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pQueue, <span class="keyword">int</span>)</span></span>;        <span class="comment">//åˆå§‹åŒ–é˜Ÿåˆ—ï¼Œå°†å‰ké¡¹èµ‹å€¼ï¼Œå‰k-1é¡¹ä¸º0ï¼Œké¡¹ä¸º1</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fibonacci</span><span class="params">(pQueue, <span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>; <span class="comment">//å åŠ ï¼Œæ±‚å¾—kçš„å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pQueue, <span class="keyword">int</span>)</span></span>;          <span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(pQueue, <span class="keyword">int</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> max, k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;max, &amp;k);</span><br><span class="line">    pQueue q = (pQueue)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Queue));</span><br><span class="line">    initial(q, k);</span><br><span class="line">    fibonacci(q, max, k);</span><br><span class="line">    print(q, k);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(pQueue q, <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = q-&gt;head; i &lt;= q-&gt;rear; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d%c&quot;</span>, q-&gt;data[i], (i == q-&gt;rear) ? <span class="string">&#x27;\n&#x27;</span> : <span class="string">&#x27; &#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initial</span><span class="params">(pQueue q, <span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= k - <span class="number">1</span>; i++)</span><br><span class="line">        q-&gt;data[i] = <span class="number">0</span>;</span><br><span class="line">    q-&gt;head = <span class="number">1</span>;</span><br><span class="line">    q-&gt;data[k] = <span class="number">1</span>;</span><br><span class="line">    q-&gt;rear = (q-&gt;head) + k - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fibonacci</span><span class="params">(pQueue q, <span class="keyword">int</span> max, <span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!((q-&gt;data[q-&gt;rear] &lt;= max) &amp;&amp; (q-&gt;data[(q-&gt;rear) + <span class="number">1</span>] &gt; max)))</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        add(q, k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(pQueue q, <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    q-&gt;head += <span class="number">1</span>;</span><br><span class="line">    q-&gt;rear = q-&gt;head + t - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = q-&gt;head; k &lt;= (q-&gt;rear) + <span class="number">1</span>; k++)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (k &lt; t)</span><br><span class="line">        &#123;</span><br><span class="line">            q-&gt;data[k] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (k == t)</span><br><span class="line">        &#123;</span><br><span class="line">            q-&gt;data[k] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            q-&gt;data[k] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = k - t; i &lt; k; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                q-&gt;data[k] += q-&gt;data[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> study </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c </tag>
            
            <tag> data_structure </tag>
            
            <tag> noj </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
