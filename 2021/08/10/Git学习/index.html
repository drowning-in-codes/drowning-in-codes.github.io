<!doctypehtml><html lang=zh-CN><script defer src=/live2d-widget/autoload.js></script><meta charset=UTF-8><meta content=width=device-width,initial-scale=1,maximum-scale=2 name=viewport><meta content=#222 name=theme-color><meta content="Hexo 5.4.0" name=generator><link href=/images/blog_32px.png rel=apple-touch-icon sizes=180x180><link href=/images/blog_32px.png rel=icon sizes=32x32 type=image/png><link href=/images/blog_16px.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><meta content=EPrJAp11bJwHULpQUaSNSZ8_3RcvTsPDAEGOME4pl1w name=google-site-verification><!-- Google tag (gtag.js) --><!-- 
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VB21D8MKKW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VB21D8MKKW');
</script> --><!-- google adsense in head.swig --><script async crossorigin=anonymous src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4034523802263123></script><meta content=7226864CE87CE9DE8C008385273846FF name=msvalidate.01><meta content=code-fjFXVtiL7j name=baidu-site-verification><link href=/css/main.css rel=stylesheet><link as=style href=https://fonts.googleapis.com/css?family=Roboto%20Mono,Roboto:300,300italic,400,400italic,700,700italic|Roboto:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext onload=this.rel='stylesheet' rel=preload><link as=style href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css onload=this.rel='stylesheet' rel=preload><link href=https://fonts.googleapis.com/css?family=Noto+Serif+SC|Roboto&display=swap rel=stylesheet><link href=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/pace-js@1/pace.min.js></script><script id=hexo-configurations>var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.sekyoro.top","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":240,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"appID":"3G9PZZIKCH","apiKey":"8eb71f5ca3167e9ef3487882f10cfaad","indexName":"SekyoroSearch","hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"manual","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};</script><link href=//cdn.bootcss.com/animate.css/3.5.0/animate.min.css rel=stylesheet><meta content=Git学习我的感觉就是可以把代码保存到一个地方,供自己和团队修改 name=description><meta content=article property=og:type><meta content=Git学习 property=og:title><meta content=https://www.sekyoro.top/2021/08/10/Git%E5%AD%A6%E4%B9%A0/index.html property=og:url><meta content=Sekyoro的博客小屋 property=og:site_name><meta content=Git学习我的感觉就是可以把代码保存到一个地方,供自己和团队修改 property=og:description><meta content=zh_CN property=og:locale><meta content=http://cdn.sekyoro.top/imgs/093538.png property=og:image><meta content=http://cdn.sekyoro.top/imgs/093539.png property=og:image><meta content=http://cdn.sekyoro.top/imgs/093543.png property=og:image><meta content=http://cdn.sekyoro.top/imgs/093545.png property=og:image><meta content=http://cdn.sekyoro.top/imgs/093552.png property=og:image><meta content=http://cdn.sekyoro.top/imgs/093554.png property=og:image><meta content=http://cdn.sekyoro.top/imgs/093555.png property=og:image><meta content=http://cdn.sekyoro.top/imgs/093556.png property=og:image><meta content=http://cdn.sekyoro.top/imgs/093557.png property=og:image><meta content=https://i.imgur.com/1HA1dsb.png property=og:image><meta content=https://i.imgur.com/y7MR1XA.png property=og:image><meta content=https://wac-cdn.atlassian.com/dam/jcr:f5fcef58-5b93-4ff4-b9a1-3f721d29ead8/BeforeAfterGitSubtreeDiagram.png?cdnVersion=2022 property=og:image><meta content=2021-08-10T09:30:34.000Z property=article:published_time><meta content=2022-10-19T04:30:34.000Z property=article:modified_time><meta content=Sekyoro property=article:author><meta content=Git property=article:tag><meta content=summary name=twitter:card><meta content=http://cdn.sekyoro.top/imgs/093538.png name=twitter:image><link href=https://www.sekyoro.top/2021/08/10/Git%E5%AD%A6%E4%B9%A0/ rel=canonical><script id=page-configurations>// https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };</script><title>Git学习 | Sekyoro的博客小屋</title><noscript><style>.use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }</style></noscript><link href=/atom.xml rel=alternate title=Sekyoro的博客小屋 type=application/atom+xml><body itemscope itemtype=http://schema.org/WebPage><canvas style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" class=fireworks></canvas><script defer src=https://cdn.bootcss.com/animejs/2.2.0/anime.min.js></script><script defer src=/js/src/fireworks.js></script><div class="container use-motion"><div class=headband></div><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <span class=logo-line-before><i></i></span> <h1 class=site-title>Sekyoro的博客小屋</h1> <span class=logo-line-after><i></i></span> </a></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu" id=menu><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>关于</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-bangumis"><a href=/bangumis/ rel=section><i class="fa fa-film fa-fw"></i>追番</a><li class="menu-item menu-item-resume"><a href=/resume/ rel=section><i class="fa fa-file-pdf fa-fw"></i>简历</a><li class="menu-item menu-item-materials"><a href=/materials/ rel=section><i class="fa fa-book fa-fw"></i>学习资料</a><li class="menu-item menu-item-sitemap"><a href=/sitemap.xml rel=section><i class="fa fa-sitemap fa-fw"></i>站点地图</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container></div><span class=popup-btn-close> <i class="fa fa-times-circle"></i> </span></div><div class=algolia-results><div id=algolia-stats></div><div id=algolia-hits></div><div class=algolia-pagination id=algolia-pagination></div></div></div></div></div></header><a class="book-mark-link book-mark-link-fixed" role=button></a><main class=main><div class=main-inner><div class=content-wrap><div class="content post posts-expand"><article class=post-block itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=https://www.sekyoro.top/2021/08/10/Git%E5%AD%A6%E4%B9%A0/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=https://i.loli.net/2021/05/17/YqoavnXdGTpPO9R.jpg itemprop=image> <meta content=Sekyoro itemprop=name> <meta content=什么也无法舍弃的人，什么也做不了. itemprop=description> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content=Sekyoro的博客小屋 itemprop=name> </span><header class=post-header><h1 itemprop="name headline" class=post-title>Git学习</h1><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2021-08-10 17:30:34" datetime=2021-08-10T17:30:34+08:00>2021-08-10</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2022-10-19 12:30:34" datetime=2022-10-19T12:30:34+08:00 itemprop=dateModified>2022-10-19</time> </span><span style="display: none;" class=post-meta-item id=busuanzi_container_page_pv title=阅读次数> <span class=post-meta-item-icon> <i class="fa fa-eye"></i> </span> <span class=post-meta-item-text>阅读次数：</span> <span id=busuanzi_value_page_pv></span> </span><br><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>10k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>9 分钟</span> </span></div></header><div class=post-body itemprop=articleBody><h1 id=Git学习><a class=headerlink href=#Git学习 title=Git学习></a>Git学习</h1><p>我的感觉就是可以把代码保存到一个地方,供自己和团队修改</p><span id=more></span><p>Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。<p>Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。<p>Git 与常用的版本控制工具 CVS, Subversion 等不同，它采用了分布式版本库的方式，不必服务器端软件支持。<p>一般工作流程如下：<ul><li>克隆 Git 资源作为工作目录。<li>在克隆的资源上添加或修改文件。<li>如果其他人修改了，你可以更新资源。<li>在提交前查看修改。<li>提交修改。<li>在修改完成后，如果发现错误，可以撤回提交并再次修改并提交。</ul><h2 id=基础配置><a class=headerlink href=#基础配置 title=基础配置></a>基础配置</h2><p>Git的配置设计system,global以及local.分别对于所有用户,当前用户的所有仓库以及当前仓库<figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line>git config --global user.name</span><br><span class=line>git config --global user.email</span><br><span class=line>git config --global core.editor</span><br><span class=line>git config --global -e</span><br><span class=line>git config --global core.autocrlf = <span class=literal>true</span> <span class=comment>#替换由于不同OS导致的换行符 win</span></span><br><span class=line>git config --global core.autocrlf = input <span class=comment>#替换由于不同OS导致的换行符 mac</span></span><br><span class=line>git <span class=built_in>log</span> --oneline --reverse <span class=comment>#查看历史</span></span><br></pre></table></figure><p>创建<code>.gitignore</code>忽略文件暂存,github上有文件模板<h2 id=基本概念><a class=headerlink href=#基本概念 title=基本概念></a>基本概念</h2><ul><li><strong>工作区：</strong>就是你在电脑里能看到的目录。<li><strong>暂存区：</strong>英文叫 stage 或 index。一般存放在 <strong>.git</strong> 目录下的 index 文件（.git/index）中，所以我们把暂存区有时也叫作索引（index）。<li><strong>版本库：</strong>工作区有一个隐藏目录 <strong>.git</strong>，这个不算工作区，而是 Git 的版本库。</ul><p><img alt=image-20210720214140606 data-src=http://cdn.sekyoro.top/imgs/093538.png><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line>git init</span><br><span class=line><span class=meta>#</span><span class=bash>使用当前目录,初始化一个Git仓库</span></span><br><span class=line>git init newrepo</span><br><span class=line><span class=meta>#</span><span class=bash>指定目录</span></span><br><span class=line>git clone &LTrepo>#克隆一个仓库</span><br><span class=line>git clone &LTrepo> &LTdirectory>#将仓库克隆到一个指定目录</span><br><span class=line>git config#git设置信息</span><br><span class=line>git config--global user.name "runoob"</span><br><span class=line>git config --global user.email test@run</span><br></pre></table></figure><p>HEAD 总是指向当前分支上最近一次提交记录。大多数修改提交树的 Git 命令都是从改变 HEAD 的指向开始的。<p><img alt=image-20210801131105094 data-src=http://cdn.sekyoro.top/imgs/093539.png><p>git status查看仓库状态,查看工作区有无更新与未被追踪的文件<p><img alt=image-20210801135729377 data-src=http://cdn.sekyoro.top/imgs/093543.png><p>修改后还未git add更新到暂存区(stage)以及还未track的文件使用git add添加<p>git log 查看提交日志 查看提交的信息 message与提交人以及时间 在后面加上指定的文件或目录可以只显示所要求的信息<p><img alt=image-20210801131231033 data-src=http://cdn.sekyoro.top/imgs/093545.png><p>commit旁是一串哈希值<p>git log -p 查看提交带来的变动,文件前后的差别<p>git diff 查看工作树,暂存区,最新提交之间的差别<p><img alt=image-20210801132603359 data-src=http://cdn.sekyoro.top/imgs/093552.png><p>+表示增加一行 -表示减少一行<p>提交后,输入git diff没有输出 因为工作区和暂存区无差别<p>若要查看与最新提交的差别,需要git diff HEAD<p><img alt=image-20210801134601328 data-src=http://cdn.sekyoro.top/imgs/093554.png><p>可以在git commit之前先执行git diff HEAD查看工作区与最新提交的差别,等确认玩别再进行提交<p>HEAD指向当前分支中最新一次提交的指针<h2 id=分支操作><a class=headerlink href=#分支操作 title=分支操作></a>分支操作</h2><p>master分支是Git默认创建的分支,所有分支都是以这个分支为中心进行<p>git branch显示分支<p><img alt=image-20210801140430235 data-src=http://cdn.sekyoro.top/imgs/093555.png><p>*号表示当前分支<figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git checkout -b A 创建,切换分支  #-b表示创建</span><br></pre></table></figure><p>实际上与者两条指令作用相同<figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>git branch A#chuangjian</span><br><span class=line></span><br><span class=line>git checkout A #转到A</span><br><span class=line></span><br><span class=line>git checkout -  #切换到上次的分支</span><br></pre></table></figure><p>以当前的master分支为基础创建新的分支<figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git commit -m  <span class=string>"feature-A"</span> <span class=comment>#提交</span></span><br></pre></table></figure><p>执行git add就会将代码提交到A分支,而master分支不会受影响.这样可以在不互相影响的情况下同时进行多个功能的开发<p><img alt=image-20210801142740455 data-src=http://cdn.sekyoro.top/imgs/093556.png><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git merge #    合并分支 </span><br></pre></table></figure><p>将分支合并到主干分支master中,首先切换到master分支.为了在历史记录中明确记录下本次分支合并,我们需要创建合并提交.在合并时加上—no-ff参数随后录入合并提交的信息<p>默认信息中已经包含了是从feature-A分支合并过来的相关内容,所以可不做任何更改<p>fast-forward<p>Git 合并两个分支时，如果顺着一个分支走下去可以到达另一个分支的话，那么 Git 在合并两者时，只会简单地把指针右移，叫做“快进”（fast-forward）不过这种情况如果删除分支，则会丢失merge分支信息。<p>–squash<p>把一些不必要commit进行压缩，比如说，你的feature在开发的时候写的commit很乱，那么我们合并的时候不希望把这些历史commit带过来，于是使用–squash进行合并，此时文件已经同合并后一样了，但不移动HEAD，不提交。需要进行一次额外的commit来“总结”一下，然后完成最终的合并。<p>–no-ff<p>关闭fast-forward模式，在提交的时候，会创建一个merge的commit信息，然后合并的和master分支<br> merge的不同行为，向后看，其实最终都会将代码合并到master分支，而区别仅仅只是分支上的简洁清晰的问题，然后，向前看，也就是我们使用<code>reset</code> 的时候，就会发现，不同的行为就带来了不同的影响<figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git <span class=built_in>log</span> --graph  <span class=comment>#以图表形式查看提交</span></span><br></pre></table></figure><p><img alt=image-20210801150741989 data-src=http://cdn.sekyoro.top/imgs/093557.png><h2 id=更改提交><a class=headerlink href=#更改提交 title=更改提交></a>更改提交</h2><figure class="highlight shell"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git reset #回溯历史版本</span><br></pre></table></figure><p>要让仓库的head，暂存区与当前工作树回溯到之前状态,需要用到git reset —hard 提供目标时间点的哈希值就可以完全恢复至改时间点的状态<p>回溯至之前状态后,利用git reflog可以前推<figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>git commit --amend <span class=comment>#可以修改上一条提交信息</span></span><br><span class=line>git commit -am <span class=string>""</span> <span class=comment>#不用add直接提交</span></span><br><span class=line>git rebase -i HEAD~2 <span class=comment>#合并历史  选定当前分支包含HEAD在内的两个最新历史记录</span></span><br></pre></table></figure><p><a href=https://learngitbranching.js.org/?locale=zh_CN rel=noopener target=_blank>Learn Git Branching</a><p>1)、在本地创建一个版本库（即文件夹），通过<code>git init</code>把它变成Git仓库；<p>2)、把项目复制到这个文件夹里面，再通过<code>git add .</code>把项目添加到仓库；<p>3)、再通过<code>git commit -m "注释内容"</code>把项目提交到仓库；<p>4)、在Github上设置好SSH密钥后，新建一个远程仓库，通过<code>git remote add origin 远程仓库地址</code>将本地仓库和远程仓库进行关联；<p>5)、最后通过<code>git push -u origin master</code>把本地仓库的项目推送到远程仓库（也就是Github）上。<h2 id=更新><a class=headerlink href=#更新 title=更新></a>更新</h2><h3 id=工作流><a class=headerlink href=#工作流 title=工作流></a>工作流</h3><p>1.git clone // 到本地<br>2.git checkout -b xxx 切换至新分支xxx<br>（相当于复制了remote的仓库到本地的xxx分支上<br>3.修改或者添加本地代码（部署在硬盘的源文件上）<br>4.git diff 查看自己对代码做出的改变<br>5.git add 上传更新后的代码至暂存区<br>6.git commit 可以将暂存区里更新后的代码更新到本地git<br>7.git push origin xxx 将本地的xxxgit分支上传至github上的git<br>（如果在写自己的代码过程中发现远端GitHub上代码出现改变）<br>1.git checkout main 切换回main分支<br>2.git pull origin master(main) 将远端修改过的代码再更新到本地<br>3.git checkout xxx 回到xxx分支<br>4.git rebase main 我在xxx分支上，先把main移过来，然后根据我的commit来修改成新的内容<br>（中途可能会出现，rebase conflict 手动选择保留哪段代码）<br>5.git push -f origin xxx 把rebase后并且更新过的代码再push到远端github上<br>（-f 强行）<br>6.原项目主人采用pull request 中的 squash and merge 合并所有不同的commit<br>远端完成更新后<br>1.git branch -d xxx 删除本地的git分支 git push <remote \> —delete <branch \><br>2.git pull origin master 再把远端的最新代码拉至本地 <h3 id=git的撤销操作><a class=headerlink href=#git的撤销操作 title=git的撤销操作></a>git的撤销操作</h3><p>git分为Disk,staging,local,remote.</p> <p>git restore(git checkout),git reset(git restore —staged),git revert HEAD.</p> <p>在磁盘上文件修改后,git diff查看差别,git status查看状态.要撤销磁盘上的改动,git restore <file _name>撤销. <p>git add提交到暂存区,git status状态改变,要撤销git reset <file _name>或git restore —staged <file _name>. <p>若还要撤销磁盘上的修改以及暂存区,git checkout HEAD <file _name>. <p>git commit提交到本地git,git reset —soft HEAD~1 回退一个commit. git reset HEAD~1回退一个commit以及暂存区回退,只保留磁盘修改,git reset —hard HEAD~1磁盘修改也会退. git revert HEAD增加一个commit与之前的commit相反,用于主分支.</p> <p>git push推送到远程</p> <p><a href=http://www.ruanyifeng.com/blog/2015/08/git-use-process.html rel=noopener target=_blank>Git 使用规范流程 - 阮一峰的网络日志 (ruanyifeng.com)</a></p> <p><a href=http://www.ruanyifeng.com/blog/2015/12/git-workflow.html rel=noopener target=_blank>Git 工作流程 - 阮一峰的网络日志 (ruanyifeng.com)</a></p> <h4 id=git-checkout><a title="git checkout" class=headerlink href=#git-checkout></a>git checkout</h4><p>切换分支或者到某个commit历史,后者会出现detach head状态</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line>git checkout  &LTfile_name> <span class=comment>#丢弃工作区的修改，并用最近一次的commit内容还原到当前工作区（对文件中内容的操作，无法对添加文件、删除文件起作用）</span></span><br><span class=line></span><br><span class=line>git checkout HEAD^  &LTfile_name> <span class=comment>#将指定commit提交的内容(HEAD^表示上一个版本)还原到当前工作区</span></span><br><span class=line></span><br><span class=line>git checkout &LTbranch_name>  &LTfile_name> <span class=comment>#将指定分支的指定提交内容还原到当前分支工作区</span></span><br></pre></table></figure> <h4 id=git-restore><a title="git restore" class=headerlink href=#git-restore></a>git restore</h4><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>git restore --staged &LTfile_name> <span class=comment>#将暂存区的修改重新放回工作区（包括对文件自身的操作，如添加文件、删除文件）</span></span><br><span class=line></span><br><span class=line>git restore &LTfile_name> <span class=comment>#丢弃工作区的修改（不包括对文件自身的操作，如添加文件、删除文件</span></span><br></pre></table></figure> <p>也就是说<code>git restore</code>主要针对工作区内容</p> <h4 id=git-reset><a title="git reset" class=headerlink href=#git-reset></a>git reset</h4><p>移动HEAD指针与分支指向,同时有—soft,—mixed,—hard选项.</p> <h4 id=—hard><a class=headerlink href=#—hard title=—hard></a>—hard</h4><blockquote><p><strong>清空暂存区，将已提交的内容的版本恢复到本地，本地的文件也将被恢复的版本替换</strong>（恢复到上一次commit后的状态，上一次commit后的修改也丢弃）<br><strong>清空上一次的commit记录，本地文件也会恢复到之前的记录状态</strong></blockquote> <h4 id=git-revert><a title="git revert" class=headerlink href=#git-revert></a>git revert</h4><h4 id=git-rm><a title="git rm" class=headerlink href=#git-rm></a>git rm</h4><p>除了与原本rm命令有相同作用外,还可以删除已经存到暂存区的文件.</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git rm --cached</span><br></pre></table></figure> <h3 id=查看分支图><a class=headerlink href=#查看分支图 title=查看分支图></a>查看分支图</h3><figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git <span class=built_in>log</span>  --graph   --oneline --decorate --all</span><br></pre></table></figure> <p><img alt=image-20231110121408874 data-src=https://i.imgur.com/1HA1dsb.png></p> <p>—oneline 日志单行显示<br>—graph 分支图显示<br>—decorate 可显示分支名称<br>—all 显示所有分支</p> <h4 id=查看stage-index区><a class=headerlink href=#查看stage-index区 title=查看stage/index区></a>查看stage/index区</h4><figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git ls-files -s</span><br></pre></table></figure> <p>这里再写一点关于Github的,Github对我来说最新以及最有用的东西就是projects和action了.</p> <p>前者是用于tack repos的,适合团队协作.</p> <p><img alt=image-20231122181504731 data-src=https://i.imgur.com/y7MR1XA.png></p> <p>后者就不用我多说了,但是有些action不太好写(或者说我没懂).还是要看文档多练</p> <h3 id=新增><a class=headerlink href=#新增 title=新增></a>新增</h3><p><a href=https://www.bookstack.cn/read/git-recipes/README.md rel=noopener target=_blank>🥡Git 菜单 - 《Git 菜单》 - 书栈网 · BookStack</a>看到的比较好的教程,比较实用,这里简单说一些重点.</p> <h4 id=1-查看之前提交的文件><a title="1. 查看之前提交的文件" class=headerlink href=#1-查看之前提交的文件></a>1. 查看之前提交的文件</h4><p>如果要看之前提交过的文件而不是整个commit</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git checkout &LTcommit> &LTfile></span><br></pre></table></figure> <blockquote><p>你可以用它来查看项目之前的状态，而不改变当前的状态。检出文件使你能够查看某个特定文件的旧版本，而工作目录中剩下的文件不变。</blockquote> <p>缓存区也被替换为相应的文件</p> <h4 id=2-git-submodule><a title="2.git submodule" class=headerlink href=#2-git-submodule></a>2.git submodule</h4><p>git中包含git的大项目.</p> <p>添加子module</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>git <span class=built_in>clone</span> &LTrepository> --recursive</span><br><span class=line>git submodule add &LTsubmodule_url></span><br></pre></table></figure> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>git submodule init <span class=comment># 初始化子模块</span></span><br><span class=line>git submodule update <span class=comment># 更新子模块</span></span><br><span class=line><span class=comment># 或者</span></span><br><span class=line>git submodule update --init --recursive</span><br></pre></table></figure> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git submodule <span class=comment># 查看所有子模块</span></span><br></pre></table></figure> <h4 id=3-git-stash><a title="3.git stash" class=headerlink href=#3-git-stash></a>3.git stash</h4><p>临时存储,可以在<code>git checkout</code>等这种命令时使用</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>git stash </span><br><span class=line>git stash list</span><br><span class=line>git stash apply</span><br><span class=line>git stash pop</span><br></pre></table></figure> <h3 id=git-revert-vs-git-reset-vs-git-check-out><a title="git revert vs. git reset vs. git check out" class=headerlink href=#git-revert-vs-git-reset-vs-git-check-out></a>git revert vs. git reset vs. git check out</h3><p><code>git revert</code>用来撤销一个已经提交的快照。但是，它是通过搞清楚如何撤销这个提交引入的更改，然后在最后加上一个撤销了更改的 <em>新</em> 提交，而不是从项目历史中移除这个提交。这避免了Git丢失项目历史</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=comment># 编辑一些跟踪的文件</span></span><br><span class=line><span class=comment># 提交一份快照</span></span><br><span class=line>git commit -m <span class=string>"Make some changes that will be undone"</span></span><br><span class=line><span class=comment># 撤销刚刚的提交</span></span><br><span class=line>git revert HEAD</span><br></pre></table></figure> <blockquote><p><code>git reset</code> 看做一个 <em>危险</em> 的方式。当你用 <code>git reset</code> 来重设更改时(提交不再被任何引用或引用日志所引用)，我们无法获得原来的样子——这个撤销是永远的。使用这个工具的时候务必要小心，因为这是少数几个可能会造成工作丢失的命令之一。</blockquote> <p>reset包括soft(<strong>缓存区和工作目录都不会被改变</strong>),mixed( 默认选项。缓存区和你指定的提交同步，但<strong>工作目录不受影响</strong>),hard(将<strong>缓存区和工作目录都重设到这个提交</strong>。它不仅清除了未提交的更改，同时还清除了 <code>&LTcommit></code> 之后的所有提交。)以及</p> <blockquote><p>当有 <code>&LTcommit></code> 之后的提交被推送到公共仓库后，你绝不应该使用 <code>git reset</code>。发布一个提交之后，你必须假设其他开发者会依赖于它.<p>重点是，<strong>确保你只对本地的修改使用 <code>git reset</code>，而不是公共更改</strong>。如果你需要修复一个公共提交，<code>git revert</code> 命令正是被设计来做这个的。</blockquote> <h4 id=岁月史书><a class=headerlink href=#岁月史书 title=岁月史书></a>岁月史书</h4><p>我们知道<code>git reset</code>可以修改历史,此外还有<code>git rebase</code>,也是常用在本地仓库的命令.</p> <blockquote><p>Git 是通过在选定的基上创建新提交来完成这件事的——它事实上重写了你的项目历史。理解这一点很重要，尽管分支看上去是一样的，但它包含了全新的提交。</blockquote> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git rebase &LTbase></span><br></pre></table></figure> <p>将当前分支 rebase 到 <code>&LTbase></code></p> <h5 id=git-rebase-i><a title="git rebase -i" class=headerlink href=#git-rebase-i></a>git rebase -i</h5><p>用 <code>-i</code> 标记运行 <code>git rebase</code> 开始交互式 rebase。交互式 rebase 给你在过程中修改单个提交的机会，而不是盲目地将所有提交都移到新的基上。你可以移除、分割提交，更改提交的顺序</p> <ul><li><p>p, pick <commit> = use commit <li><p>r, reword <commit> = use commit, but edit the commit message <li><p>e, edit <commit> = use commit, but stop for amending <li><p>s, squash <commit> = use commit, but meld into previous commit <li><p>f, fixup [-C | -c] <commit> = like “squash” but keep only the previous <p>commit’s log message, unless -C is used, in which case keep only this commit’s message; -c is same as -C but opens the editor</p> <li><p>“合并(squash)”适用于需要简化提交历史和提高代码可读性的场景。通常在将代码推送到共享仓库之前使用。</p></li> <li>“修复(fixup)”适用于修复之前提交中的错误或问题的场景。通常在意识到错误或问题后使用。</li> <p><code>squash</code> 会将多个提交合并成一个提交。它会把所有被合并提交的修改合并到一起，并且会弹出一个对话框让你重新编辑合并后的提交信息。</p> <p><code>fixup</code> 会将多个提交合并成一个提交，但是它不会弹出对话框让你重新编辑提交信息。它只会用被合并提交的第一条提交信息</p> <h4 id=pipeline><a class=headerlink href=#pipeline title=pipeline></a>pipeline</h4><p>第一步是在任何和 <code>git rebase</code> 有关的工作流中为每一个 feature 专门创建一个分支。它会给你带来安全使用 rebase 的分支结构</p> <p>在你工作流中使用 rebase 最好的用法之一就是清理本地正在开发的分支。隔一段时间执行一次交互式 rebase，你可以保证你 feature 分支中的每一个提交都是专注和有意义的。你在写代码时不用担心造成孤立的提交</p> <p><code>git merge-base</code> 命令非常方便地找出 feature 分支开始分叉的基</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git merge-base feature master</span><br></pre></table></figure> <p>你可以选择将这个分支 rebase 到 master 分支之后，或是使用 <code>git merge</code> 来将这个功能并入主代码库中。</p> <p>这和将上游改动并入 feature 分支很相似，但是你不可以在 master 分支重写提交，你最后需要用 <code>git merge</code> 来并入这个 feature。但是，在 merge 之前执行一次 rebase，你可以确保 merge 是一直向前的，最后生成的是一个完全线性的提交历史。这样你还可以加入 Pull Request 之后的提交。</p> <blockquote><p>简单来说,可以在本地分支上使用rebase将feature分支移到main上,然后使用merge将代码并入远程代码库中.</blockquote> <h4 id=git钩子><a class=headerlink href=#git钩子 title=git钩子></a>git钩子</h4><p><a href=https://www.bookstack.cn/read/git-recipes/sources-5.4.md rel=noopener target=_blank>Git钩子</a></p> <p>钩子存在于每个 Git 仓库的 <code>.git/hooks</code> 目录中。当你初始化仓库时，Git 自动生成这个目录和一些示例脚本。</p> <p>只需添加一个文件名和上述匹配的新文件,去掉 <code>.sample</code> 拓展名</p> <p>内置的脚本大多是 shell和 PERL 语言的，但可以使用任何脚本语言，只要它们最后能编译到可执行文件。</p> <p>每次脚本中的 <code>#!/bin/sh</code> 定义了你的文件将被如何解释。比如，使用其他语言时你只需要将 path 改为你的解释器的路径。</p> <p>比如说，可以在 <code>prepare-commit-msg</code> 中写一个可执行的 Python 脚本。下面这个钩子和上一节的 shell 脚本做的事完全一样。</p> <figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br></pre><td class=code><pre><span class=line><span class=comment>#!/usr/bin/env python</span></span><br><span class=line><span class=keyword>import</span> sys, os</span><br><span class=line>commit_msg_filepath = sys.argv[<span class=number>1</span>]</span><br><span class=line><span class=keyword>with</span> <span class=built_in>open</span>(commit_msg_filepath, <span class=string>'w'</span>) <span class=keyword>as</span> f:</span><br><span class=line>    f.write(<span class=string>"# Please include a useful commit message!"</span>)</span><br></pre></table></figure> <p>还是建议用python这种来写,bash脚本语言对我这种还是有点麻烦了.</p> <h4 id=高级git-log><a title="高级git log" class=headerlink href=#高级git-log></a>高级git log</h4><p><code>--oneline</code> 标记把每一个提交压缩到了一行中。它默认只显示提交ID和提交信息的第一行</p> <p><code>--decorate</code> 标记让 <code>git log</code> 显示<strong>指向这个提交的所有引用</strong>（比如说分支、标签等）。</p> <p><code>--stat</code> 选项显示每次提交的文件增删数量,如果你想知道每次提交删改的绝对数量，你可以将 <code>-p</code> 选项传入<code>git log</code>。这样提交所有的删改都会被输出</p> <p><code>--graph</code> 选项绘制一个 ASCII 图像来展示提交历史的分支结构</p> <p><code>git shortlog</code> 是一种特殊的 <code>git log</code>，它是为创建发布声明设计的。它把每个提交按作者分类，显示提交信息的第一行。这样可以容易地看到谁做了什么</p> <h4 id=杂鱼><a class=headerlink href=#杂鱼 title=杂鱼></a>杂鱼</h4><p>删除分支</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line>// 删除本地分支</span><br><span class=line>git branch -d localBranchName</span><br><span class=line>// 删除远程分支</span><br><span class=line>git push origin --delete remoteBranchName</span><br></pre></table></figure> <figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git merge --no-ff &LTbranch></span><br></pre></table></figure> <p>将指定分支并入当前分支，但 <strong><em>总是</em> 生成一个合并提交</strong>（即使是快速向前合并）。这可以用来记录仓库中发生的所有合并。</p> <p><code>git cherry-pick</code> 命令「复制」一个提交节点并在当前分支做一次完全一样的新提交。</p> <p><code>git fetch &LTremote> &LTbranch></code></p> <p><code>git commit --amend</code>不只是修改了最新的提交——它进行了一次替换。对于 Git 来说，这看上去像一个全新的提交,<strong>永远不要修复一个已经推送到公共仓库中的提交</strong>。</p> <p><code>git clean</code> 命令将未跟踪的文件从你的工作目录中移除</p> <p>Git 用引用日志这种机制来记录分支顶端的更新。它允许你回到那些不被任何分支或标签引用的更改。在重写历史后，引用日志包含了分支旧状态的信息，有需要的话你可以回到这个状态,<strong>每次当前的 HEAD 更新时（如切换分支、拉取新更改、重写历史或只是添加新的提交），引用日志都会添加一个新条目</strong></p> <h3 id=git-submodule><a title="git submodule" class=headerlink href=#git-submodule></a>git submodule</h3><p>Git 子模块允许你<strong>将一个 Git 仓库作为另一个 Git 仓库的子目录来保存</strong>. Git 子模块只是在特定时间快照下对另一个仓库的引用.通过 Git 子模块,Git 仓库可以整合并跟踪外部代码的版本历史.</p> <p><a href=https://www.slingacademy.com/article/working-with-git-submodules-a-practical-guide-with-examples/ rel=noopener target=_blank>Working with Git submodules: A practical guide (with examples) - Sling Academy</a></p> <figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git submodule add </span><br></pre></table></figure> <p>这会在指定路径下创建一个新目录，其中包含所添加子模块的内容. 此外,Git 还会在仓库中添加一个 <code>.gitmodules</code> 文件,其中存储了项目 URL 与本地子目录之间的映射关系.</p> <figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git submodule init</span><br></pre></table></figure> <p>这将初始化本地配置文件，而 Git 现在也会意识到有需要签出的子模块。</p> <figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git submodule update</span><br></pre></table></figure> <p>这将获取并更新子模块中的文件，使其与主版本库中描述的版本一致。</p> <p>管理子模块涉及各种任务，例如更新到子模块主分支的最新提交：</p> <figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>git checkout master </span><br><span class=line>git pull</span><br></pre></table></figure> <p>然后在主版本库中提交这一变更,以跟踪子模块的最新提交</p> <figure class="highlight sh"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br></pre><td class=code><pre><span class=line>git submodule deinit  </span><br><span class=line>git rm  </span><br><span class=line>rm -rf .git/modules/</span><br></pre></table></figure> <p>执行完这些命令后，可以提交更改，以便从项目中完全删除子模块引用。</p> <ul><li>使用子模块时：在将子模块的变更推送到主项目之前，一定要先推送子模块的变更。<li>避免在子模块内部添加子模块。 将子模块保留在特定的标记或提交中，以确保稳定性。</ul> <h3 id=git-subtree><a title="git subtree" class=headerlink href=#git-subtree></a>git subtree</h3><p><img alt="Before/After Git subtree diagram" data-src=https://wac-cdn.atlassian.com/dam/jcr:f5fcef58-5b93-4ff4-b9a1-3f721d29ead8/BeforeAfterGitSubtreeDiagram.png?cdnVersion=2022></p> <p>git subtree可以让你把一个仓库嵌套在另一个仓库的子目录中.</p> <p>Git Subtree 是一种将一个 Git 仓库作为另一个仓库的子目录的方法。它允许你将一个项目嵌入到另一个项目中，同时保持两者的独立性。这在多个项目需要共享代码或者需要管理依赖关系时非常有用。</p> <p>使用 Git Subtree 的基本步骤如下：</p> <ol><li><p><strong>添加子树仓库</strong>：首先，你需要将子树仓库添加到你的主仓库中。这可以通过 <code>git subtree add</code> 命令来完成。</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git subtree add --prefix=&LTsubdirectory> &LTrepository-url> &LTbranch>:&LTsubdirectory></span><br></pre></table></figure> <p>其中 <code>&LTsubdirectory></code> 是子目录的路径，<code>&LTrepository-url></code> 是子树仓库的 URL，<code>&LTbranch></code> 是子树仓库的分支名。</p><li><p><strong>拉取子树更新</strong>：如果子树仓库有更新，你可以使用 <code>git subtree pull</code> 命令来更新你的主仓库中的子目录。</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git subtree pull --prefix=&LTsubdirectory> &LTrepository-url> &LTbranch></span><br></pre></table></figure><li><p><strong>推送子树更改</strong>：如果你对子目录做了更改，并且想要将这些更改推送回子树仓库，可以使用 <code>git subtree push</code> 命令。</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git subtree push --prefix=&LTsubdirectory> &LTrepository-url> &LTbranch></span><br></pre></table></figure><li><p><strong>删除子树</strong>：如果不再需要子树，可以使用 <code>git subtree delete</code> 命令来删除它。</p> <figure class="highlight bash"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>git subtree delete --prefix=&LTsubdirectory></span><br></pre></table></figure></ol> <h3 id=参考资料><a class=headerlink href=#参考资料 title=参考资料></a>参考资料</h3><ol><li><a href=https://www.youtube.com/watch?v=8JJ101D3knE&ab_channel=ProgrammingwithMosh rel=noopener target=_blank>Git Tutorial for Beginners: Learn Git in 1 Hour - YouTube</a><li><a href=https://zhuanlan.zhihu.com/p/665536372 rel=noopener target=_blank>https://zhuanlan.zhihu.com/p/665536372</a><li><a href=https://www.linkedin.com/learning/practical-github-project-management-and-collaboration/projects-vs-classic-projects?autoSkip=true&resume=false rel=noopener target=_blank>Projects vs. classic projects (linkedin.com)</a><li><a href=https://www.linkedin.com/learning/practical-github-actions/creating-a-marketplace-github-action rel=noopener target=_blank>Creating a MarketPlace GitHub action (linkedin.com)</a><li><a href=https://docs.github.com/zh/get-started rel=noopener target=_blank>GitHub 入门文档 - GitHub 文档</a><li><a href=https://www.bookstack.cn/read/git-recipes/README.md rel=noopener target=_blank>🥡Git 菜单 - 《Git 菜单》 - 书栈网 · BookStack</a></ol> <link href=/css/spoiler.css rel=stylesheet><script async src=/js/spoiler.js></script> <div><div><div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div></div> <div class=reward-container><div>感谢阅读.</div><button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">打赏</button><div style="display: none;" id=qr><div style="display: inline-block;"><img alt="Sekyoro 微信支付" src=/images/wechatpay.png><p>微信支付</div></div></div> <div><ul class=post-copyright><li class=post-copyright-author><strong>本文作者： </strong>Sekyoro<li class=post-copyright-link><strong>本文链接：</strong> <a href=https://www.sekyoro.top/2021/08/10/Git%E5%AD%A6%E4%B9%A0/ title=Git学习>https://www.sekyoro.top/2021/08/10/Git学习/</a><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ rel=noopener target=_blank><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</ul></div> <div class=followme><p>欢迎关注我的其它发布渠道<div class=social-list><div class=social-item><a class=social-link href=/images/wxqrcode.png target=_blank> <span class=icon> <i class="fab fa-weixin"></i> </span> <span class=label>WeChat</span> </a></div><div class=social-item><a class=social-link href=/images/website.png target=_blank> <span class=icon> <i class="fa fa-user"></i> </span> <span class=label>PersonalWebsite</span> </a></div><div class=social-item><a class=social-link href=https://my-astro-git-main-drowning-in-codes.vercel.app target=_blank> <span class=icon> <i class="fas fa-share"></i> </span> <span class=label>杂鱼分享</span> </a></div><div class=social-item><a class=social-link href=/atom.xml target=_blank> <span class=icon> <i class="fa fa-rss"></i> </span> <span class=label>RSS</span> </a></div></div></div> <footer class=post-footer><div class=post-tags><a href=/tags/Git/ rel=tag><i class="fa fa-tag"></i> Git</a></div><div class=post-nav><div class=post-nav-item><a href=/2021/07/31/Python%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%AD%A6%E4%B9%A0/ rel=prev title=Python多线程学习> <i class="fa fa-chevron-left"></i> Python多线程学习 </a></div><div class=post-nav-item><a href=/2021/08/15/pygame%E5%AE%9E%E8%B7%B5-1/ rel=next title=pygame实践_1> pygame实践_1 <i class="fa fa-chevron-right"></i> </a></div></div></footer> <!-- 评论区 --> <div class=comments><div data-id=city data-uid=MTAyMC81MzE5Ny8yOTY3Mg== id=lv-container></div></div> <script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script> <div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div> <aside class=sidebar><div class=sidebar-inner><!-- canvas粒子时钟 --><div><canvas id=canvas style=width:60%;>当前浏览器不支持canvas，请更换浏览器后再试</canvas></div><script>(function(){

   var digit=
    [
        [
            [0,0,1,1,1,0,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,0,1,1,0],
            [0,0,1,1,1,0,0]
        ],//0
        [
            [0,0,0,1,1,0,0],
            [0,1,1,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [1,1,1,1,1,1,1]
        ],//1
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,1,1],
            [1,1,1,1,1,1,1]
        ],//2
        [
            [1,1,1,1,1,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//3
        [
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,0],
            [0,0,1,1,1,1,0],
            [0,1,1,0,1,1,0],
            [1,1,0,0,1,1,0],
            [1,1,1,1,1,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,1,1]
        ],//4
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,1,1,1,1,0],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//5
        [
            [0,0,0,0,1,1,0],
            [0,0,1,1,0,0,0],
            [0,1,1,0,0,0,0],
            [1,1,0,0,0,0,0],
            [1,1,0,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//6
        [
            [1,1,1,1,1,1,1],
            [1,1,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,0,0,1,1,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0],
            [0,0,1,1,0,0,0]
        ],//7
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,1,1,0]
        ],//8
        [
            [0,1,1,1,1,1,0],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [1,1,0,0,0,1,1],
            [0,1,1,1,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,0,1,1],
            [0,0,0,0,1,1,0],
            [0,0,0,1,1,0,0],
            [0,1,1,0,0,0,0]
        ],//9
        [
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,1,1,1,0,0],
            [0,0,0,0,0,0,0]
        ]//:
    ];

var canvas = document.getElementById('canvas');

if(canvas.getContext){
    var cxt = canvas.getContext('2d');
    //声明canvas的宽高
    var H = 100,W = 700;
    canvas.height = H;
    canvas.width = W;
    cxt.fillStyle = '#f00';
    cxt.fillRect(10,10,50,50);

    //存储时间数据
    var data = [];
    //存储运动的小球
    var balls = [];
    //设置粒子半径
    var R = canvas.height/20-1;
    (function(){
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        //存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这7个数字组成
        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
    })();

    /*生成点阵数字*/
    function renderDigit(index,num){
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    cxt.beginPath();
                    cxt.arc(14*(R+2)*index + j*2*(R+1)+(R+1),i*2*(R+1)+(R+1),R,0,2*Math.PI);
                    cxt.closePath();
                    cxt.fill();
                }
            }
        }
    }

    /*更新时钟*/
    function updateDigitTime(){
        var changeNumArray = [];
        var temp = /(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date());
        var NewData = [];
        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);
        for(var i = data.length-1; i >=0 ; i--){
            //时间发生变化
            if(NewData[i] !== data[i]){
                //将变化的数字值和在data数组中的索引存储在changeNumArray数组中
                changeNumArray.push(i+'_'+(Number(data[i])+1)%10);
            }
        }
        //增加小球
        for(var i = 0; i< changeNumArray.length; i++){
            addBalls.apply(this,changeNumArray[i].split('_'));
        }
        data = NewData.concat();
    }

    /*更新小球状态*/
    function updateBalls(){
        for(var i = 0; i < balls.length; i++){
            balls[i].stepY += balls[i].disY;
            balls[i].x += balls[i].stepX;
            balls[i].y += balls[i].stepY;
            if(balls[i].x > W + R || balls[i].y > H + R){
                balls.splice(i,1);
                i--;
            }
        }
    }

    /*增加要运动的小球*/
    function addBalls(index,num){
        var numArray = [1,2,3];
        var colorArray =  ["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"];
        for(var i = 0; i < digit[num].length; i++){
            for(var j = 0; j < digit[num][i].length; j++){
                if(digit[num][i][j] == 1){
                    var ball = {
                        x:14*(R+2)*index + j*2*(R+1)+(R+1),
                        y:i*2*(R+1)+(R+1),
                        stepX:Math.floor(Math.random() * 4 -2),
                        stepY:-2*numArray[Math.floor(Math.random()*numArray.length)],
                        color:colorArray[Math.floor(Math.random()*colorArray.length)],
                        disY:1
                    };
                    balls.push(ball);
                }
            }
        }
    }

    /*渲染*/
    function render(){
        //重置画布宽度，达到清空画布的效果
        canvas.height = 100;
        //渲染时钟
        for(var i = 0; i < data.length; i++){
            renderDigit(i,data[i]);
        }
        //渲染小球
        for(var i = 0; i < balls.length; i++){
            cxt.beginPath();
            cxt.arc(balls[i].x,balls[i].y,R,0,2*Math.PI);
            cxt.fillStyle = balls[i].color;
            cxt.closePath();
            cxt.fill();
        }
    }

    clearInterval(oTimer);
    var oTimer = setInterval(function(){
        //更新时钟
        updateDigitTime();
        //更新小球状态
        updateBalls();
        //渲染
        render();
    },50);
}

})();</script><!-- require APlayer --><link href=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js></script><!-- require MetingJS --><script src=/js/meting-js.js></script><ul class="sidebar-nav motion-element"><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#Git%E5%AD%A6%E4%B9%A0><span class=nav-number>1.</span> <span class=nav-text>Git学习</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE><span class=nav-number>1.1.</span> <span class=nav-text>基础配置</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5><span class=nav-number>1.2.</span> <span class=nav-text>基本概念</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C><span class=nav-number>1.3.</span> <span class=nav-text>分支操作</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9B%B4%E6%94%B9%E6%8F%90%E4%BA%A4><span class=nav-number>1.4.</span> <span class=nav-text>更改提交</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9B%B4%E6%96%B0><span class=nav-number>1.5.</span> <span class=nav-text>更新</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%B7%A5%E4%BD%9C%E6%B5%81><span class=nav-number>1.5.1.</span> <span class=nav-text>工作流</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#git%E7%9A%84%E6%92%A4%E9%94%80%E6%93%8D%E4%BD%9C><span class=nav-number>1.5.2.</span> <span class=nav-text>git的撤销操作</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#git-checkout><span class=nav-number>1.5.2.1.</span> <span class=nav-text>git checkout</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#git-restore><span class=nav-number>1.5.2.2.</span> <span class=nav-text>git restore</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#git-reset><span class=nav-number>1.5.2.3.</span> <span class=nav-text>git reset</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E2%80%94hard><span class=nav-number>1.5.2.4.</span> <span class=nav-text>—hard</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#git-revert><span class=nav-number>1.5.2.5.</span> <span class=nav-text>git revert</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#git-rm><span class=nav-number>1.5.2.6.</span> <span class=nav-text>git rm</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF%E5%9B%BE><span class=nav-number>1.5.3.</span> <span class=nav-text>查看分支图</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%9F%A5%E7%9C%8Bstage-index%E5%8C%BA><span class=nav-number>1.5.3.1.</span> <span class=nav-text>查看stage/index区</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%96%B0%E5%A2%9E><span class=nav-number>1.5.4.</span> <span class=nav-text>新增</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#1-%E6%9F%A5%E7%9C%8B%E4%B9%8B%E5%89%8D%E6%8F%90%E4%BA%A4%E7%9A%84%E6%96%87%E4%BB%B6><span class=nav-number>1.5.4.1.</span> <span class=nav-text>1. 查看之前提交的文件</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#2-git-submodule><span class=nav-number>1.5.4.2.</span> <span class=nav-text>2.git submodule</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#3-git-stash><span class=nav-number>1.5.4.3.</span> <span class=nav-text>3.git stash</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#git-revert-vs-git-reset-vs-git-check-out><span class=nav-number>1.5.5.</span> <span class=nav-text>git revert vs. git reset vs. git check out</span></a><ol class=nav-child><li class="nav-item nav-level-4"><a class=nav-link href=#%E5%B2%81%E6%9C%88%E5%8F%B2%E4%B9%A6><span class=nav-number>1.5.5.1.</span> <span class=nav-text>岁月史书</span></a><ol class=nav-child><li class="nav-item nav-level-5"><a class=nav-link href=#git-rebase-i><span class=nav-number>1.5.5.1.1.</span> <span class=nav-text>git rebase -i</span></a></ol><li class="nav-item nav-level-4"><a class=nav-link href=#pipeline><span class=nav-number>1.5.5.2.</span> <span class=nav-text>pipeline</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#git%E9%92%A9%E5%AD%90><span class=nav-number>1.5.5.3.</span> <span class=nav-text>git钩子</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E9%AB%98%E7%BA%A7git-log><span class=nav-number>1.5.5.4.</span> <span class=nav-text>高级git log</span></a><li class="nav-item nav-level-4"><a class=nav-link href=#%E6%9D%82%E9%B1%BC><span class=nav-number>1.5.5.5.</span> <span class=nav-text>杂鱼</span></a></ol><li class="nav-item nav-level-3"><a class=nav-link href=#git-submodule><span class=nav-number>1.5.6.</span> <span class=nav-text>git submodule</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#git-subtree><span class=nav-number>1.5.7.</span> <span class=nav-text>git subtree</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99><span class=nav-number>1.5.8.</span> <span class=nav-text>参考资料</span></a></ol></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop=author itemscope itemtype=http://schema.org/Person><img alt=Sekyoro class=site-author-image itemprop=image src=https://i.loli.net/2021/05/17/YqoavnXdGTpPO9R.jpg><p class=site-author-name itemprop=name>Sekyoro<div class=site-description itemprop=description>什么也无法舍弃的人，什么也做不了.</div></div><div class="site-state-wrap motion-element"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>211</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>17</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>200</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class=links-of-author-item> <a title="Personal Website → http://proanimer.com" href=http://proanimer.com/ rel=noopener target=_blank><i class="fab fa-internet-explorer fa-fw"></i>Personal Website</a> </span><span class=links-of-author-item> <a title="GitHub → https://github.com/drowning-in-codes" href=https://github.com/drowning-in-codes rel=noopener target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a title="E-Mail → mailto:bukalala174@gmail.com" href=mailto:bukalala174@gmail.com rel=noopener target=_blank><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class=links-of-author-item> <a title="wxPublicAccount → https://mp.weixin.qq.com/s?__biz=Mzg3ODY1MDkzMg==&mid=2247483770&idx=1&sn=fdf88faab01d5c219ac609570a21c9d6&chksm=cf113221f866bb373938cfca03cf095ff4fe1e4dc37d68ef5de4cd4876ee1260fca0c015a4d6&token=1096259873&lang=zh_CN#rd" href=https://mp.weixin.qq.com/s?__biz=Mzg3ODY1MDkzMg==&mid=2247483770&idx=1&sn=fdf88faab01d5c219ac609570a21c9d6&chksm=cf113221f866bb373938cfca03cf095ff4fe1e4dc37d68ef5de4cd4876ee1260fca0c015a4d6&token=1096259873&lang=zh_CN#rd rel=noopener target=_blank><i class="fab fa-weixin fa-fw"></i>wxPublicAccount</a> </span><span class=links-of-author-item> <a title="RSS → /atom.xml" href=/atom.xml><i class="fa fa-rss fa-fw"></i>RSS</a> </span><span class=links-of-author-item> <a title="CSDN → https://blog.csdn.net/aqwca" href=https://blog.csdn.net/aqwca rel=noopener target=_blank><i class="fa fa-handshake fa-fw"></i>CSDN</a> </span><span class=links-of-author-item> <a title="杂鱼分享 → https://my-astro-git-main-drowning-in-codes.vercel.app" href=https://my-astro-git-main-drowning-in-codes.vercel.app/ rel=noopener target=_blank><i class="fas fa-share fa-fw"></i>杂鱼分享</a> </span></div><div class="links-of-blogroll motion-element"><div class=links-of-blogroll-title><i class="fa fa-link fa-fw"></i> 友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=http://myqhs.top/ rel=noopener target=_blank title=http://myqhs.top/>myqhs</a><li class=links-of-blogroll-item><a href=https://www.lllomh.com/ rel=noopener target=_blank title=https://www.lllomh.com/>芈渡</a><li class=links-of-blogroll-item><a href=https://protool-ten.vercel.app/ rel=noopener target=_blank title=https://protool-ten.vercel.app/>protools</a></ul></div><div class="motion-element announcement"><div class=title></div><p class=content><p class=date></div></div><meting-js id=6856787487 order=random server=netease type=playlist> </meting-js><div class=widget-wrap><h3 class=widget-title style=margin:0>文章词云</h3><div class="widget tagcloud" id=myCanvasContainer><canvas height=250 id=resCanvas style=width:100% width=250><ul class=tag-list itemprop=keywords><li class=tag-list-item><a class=tag-list-link href=/tags/Git/ rel=tag>Git</a><span class=tag-list-count>1</span></ul></canvas></div></div><script id=clustrmaps src=https://clustrmaps.com/map_v2.js?d=xQdGTxqARTBiNIwX2aUban-ixkj2s6VaZQWo-aVCgY8&cl=ffffff&w=a></script><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i><span>0%</span></div><!-- 边栏 --></div></aside> <div id=sidebar-dimmer></div> <footer class=footer><div class=footer-inner><div class=copyright>© Wed Apr 08 2020 08:00:00 GMT+0800 (中国标准时间) – <span itemprop=copyrightYear>2024</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Sekyoro</span><span class=post-meta-divider>|</span><span class=post-meta-item-icon> <i class="fa fa-chart-area"></i> </span><span title=站点总字数>1.8m</span><span class=post-meta-divider>|</span><span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span><span title=站点阅读时长>26:48</span></div><script async src=https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js></script><span id=busuanzi_container_site_pv>总访问量<span id=busuanzi_value_site_pv></span>次</span><span class=post-meta-divider>|</span><span id=busuanzi_container_site_uv>总访客数<span id=busuanzi_value_site_uv></span>人</span><span class=post-meta-divider>|</span><!-- 不蒜子计数初始值纠正 --><script>$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 20000;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});</script><div><span id=timeDate>载入天数...</span><span id=times>载入时分秒...</span><script>var now = new Date();
    function createtime() {
        var grt= new Date("04/08/2021 20:00:00");
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "本站已安全运行 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
    }
setInterval("createtime()",250);</script></div><div class=busuanzi-count><script async data-pjax src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><span style="display: none;" class=post-meta-item id=busuanzi_container_site_uv> <span class=post-meta-item-icon> <i class="fa fa-user"></i> </span> <span class=site-uv title=总访客量> <span id=busuanzi_value_site_uv></span> </span> </span><span class=post-meta-divider>|</span><span style="display: none;" class=post-meta-item id=busuanzi_container_site_pv> <span class=post-meta-item-icon> <i class="fa fa-eye"></i> </span> <span class=site-pv title=总访问量> <span id=busuanzi_value_site_pv></span> </span> </span></div></div></footer> <script color=0,0,255 count=99 opacity=0.5 src=/lib/canvas-nest/canvas-nest.min.js zindex=-1></script> <script src=/lib/anime.min.js></script> <script src=https://cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js></script> <script src=https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js></script> <script src=https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js></script> <script src=https://cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js></script> <script src=https://cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js></script> <script src=https://cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js></script> <script src=/js/utils.js></script> <script src=/js/motion.js></script> <script src=/js/schemes/pisces.js></script> <script src=/js/next-boot.js></script> <script src=/js/bookmark.js></script> <script>var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax',
	'.widget-wrap'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
 
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});</script> <script data-pjax>(function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();</script> <script src=https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js></script> <script src=https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js></script> <script src=/js/algolia-search.js></script> <script data-pjax>document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});</script> <div id=pjax><script charset=utf-8 defer src=/js/outdate.js></script></div> <script charset=utf-8 defer src=/js/tagcanvas.js></script> <script charset=utf-8 defer src=/js/tagcloud.js></script> <script>NexT.utils.loadComments(document.querySelector('#lv-container'), () => {
  window.livereOptions = {
    refer: location.pathname.replace(CONFIG.root, '').replace('index.html', '')
  };
  (function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
  })(document, 'script');
});</script> <script>var OriginTitile = document.title;
  var titleTime;
  document.addEventListener("visibilitychange", function() {
    if (document.hidden) {
      document.title = "(つェ⊂)我藏好了哦~" + OriginTitile;
      clearTimeout(titleTime);
    } else {
      document.title = "(*´∇｀*) 被你发现啦~" + OriginTitile;
      titleTime = setTimeout(function() {
        document.title = OriginTitile;
      }, 2000);
    }
  });</script> <script src=/js/src/activate-power-mode.min.js></script> <script>POWERMODE.colorful = true;
    POWERMODE.shake = false;
    document.body.addEventListener('input', POWERMODE);</script> 